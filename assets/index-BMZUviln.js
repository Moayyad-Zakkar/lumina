function OE(e,t){for(var n=0;n<t.length;n++){const s=t[n];if(typeof s!="string"&&!Array.isArray(s)){for(const l in s)if(l!=="default"&&!(l in e)){const o=Object.getOwnPropertyDescriptor(s,l);o&&Object.defineProperty(e,l,o.get?o:{enumerable:!0,get:()=>s[l]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))s(l);new MutationObserver(l=>{for(const o of l)if(o.type==="childList")for(const d of o.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&s(d)}).observe(document,{childList:!0,subtree:!0});function n(l){const o={};return l.integrity&&(o.integrity=l.integrity),l.referrerPolicy&&(o.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?o.credentials="include":l.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function s(l){if(l.ep)return;l.ep=!0;const o=n(l);fetch(l.href,o)}})();function Rg(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function LE(e){if(Object.prototype.hasOwnProperty.call(e,"__esModule"))return e;var t=e.default;if(typeof t=="function"){var n=function s(){var l=!1;try{l=this instanceof s}catch{}return l?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(s){var l=Object.getOwnPropertyDescriptor(e,s);Object.defineProperty(n,s,l.get?l:{enumerable:!0,get:function(){return e[s]}})}),n}var Qm={exports:{}},zo={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cy;function UE(){if(cy)return zo;cy=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(s,l,o){var d=null;if(o!==void 0&&(d=""+o),l.key!==void 0&&(d=""+l.key),"key"in l){o={};for(var f in l)f!=="key"&&(o[f]=l[f])}else o=l;return l=o.ref,{$$typeof:e,type:s,key:d,ref:l!==void 0?l:null,props:o}}return zo.Fragment=t,zo.jsx=n,zo.jsxs=n,zo}var dy;function $E(){return dy||(dy=1,Qm.exports=UE()),Qm.exports}var a=$E(),ep={exports:{}},nt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var uy;function FE(){if(uy)return nt;uy=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),d=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),b=Symbol.iterator;function y(D){return D===null||typeof D!="object"?null:(D=b&&D[b]||D["@@iterator"],typeof D=="function"?D:null)}var w={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},j=Object.assign,S={};function _(D,V,J){this.props=D,this.context=V,this.refs=S,this.updater=J||w}_.prototype.isReactComponent={},_.prototype.setState=function(D,V){if(typeof D!="object"&&typeof D!="function"&&D!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,D,V,"setState")},_.prototype.forceUpdate=function(D){this.updater.enqueueForceUpdate(this,D,"forceUpdate")};function R(){}R.prototype=_.prototype;function k(D,V,J){this.props=D,this.context=V,this.refs=S,this.updater=J||w}var N=k.prototype=new R;N.constructor=k,j(N,_.prototype),N.isPureReactComponent=!0;var A=Array.isArray,P={H:null,A:null,T:null,S:null,V:null},E=Object.prototype.hasOwnProperty;function T(D,V,J,ne,X,ce){return J=ce.ref,{$$typeof:e,type:D,key:V,ref:J!==void 0?J:null,props:ce}}function I(D,V){return T(D.type,V,void 0,void 0,void 0,D.props)}function U(D){return typeof D=="object"&&D!==null&&D.$$typeof===e}function Z(D){var V={"=":"=0",":":"=2"};return"$"+D.replace(/[=:]/g,function(J){return V[J]})}var se=/\/+/g;function F(D,V){return typeof D=="object"&&D!==null&&D.key!=null?Z(""+D.key):V.toString(36)}function L(){}function $(D){switch(D.status){case"fulfilled":return D.value;case"rejected":throw D.reason;default:switch(typeof D.status=="string"?D.then(L,L):(D.status="pending",D.then(function(V){D.status==="pending"&&(D.status="fulfilled",D.value=V)},function(V){D.status==="pending"&&(D.status="rejected",D.reason=V)})),D.status){case"fulfilled":return D.value;case"rejected":throw D.reason}}throw D}function W(D,V,J,ne,X){var ce=typeof D;(ce==="undefined"||ce==="boolean")&&(D=null);var fe=!1;if(D===null)fe=!0;else switch(ce){case"bigint":case"string":case"number":fe=!0;break;case"object":switch(D.$$typeof){case e:case t:fe=!0;break;case g:return fe=D._init,W(fe(D._payload),V,J,ne,X)}}if(fe)return X=X(D),fe=ne===""?"."+F(D,0):ne,A(X)?(J="",fe!=null&&(J=fe.replace(se,"$&/")+"/"),W(X,V,J,"",function(ge){return ge})):X!=null&&(U(X)&&(X=I(X,J+(X.key==null||D&&D.key===X.key?"":(""+X.key).replace(se,"$&/")+"/")+fe)),V.push(X)),1;fe=0;var Se=ne===""?".":ne+":";if(A(D))for(var _e=0;_e<D.length;_e++)ne=D[_e],ce=Se+F(ne,_e),fe+=W(ne,V,J,ce,X);else if(_e=y(D),typeof _e=="function")for(D=_e.call(D),_e=0;!(ne=D.next()).done;)ne=ne.value,ce=Se+F(ne,_e++),fe+=W(ne,V,J,ce,X);else if(ce==="object"){if(typeof D.then=="function")return W($(D),V,J,ne,X);throw V=String(D),Error("Objects are not valid as a React child (found: "+(V==="[object Object]"?"object with keys {"+Object.keys(D).join(", ")+"}":V)+"). If you meant to render a collection of children, use an array instead.")}return fe}function O(D,V,J){if(D==null)return D;var ne=[],X=0;return W(D,ne,"","",function(ce){return V.call(J,ce,X++)}),ne}function q(D){if(D._status===-1){var V=D._result;V=V(),V.then(function(J){(D._status===0||D._status===-1)&&(D._status=1,D._result=J)},function(J){(D._status===0||D._status===-1)&&(D._status=2,D._result=J)}),D._status===-1&&(D._status=0,D._result=V)}if(D._status===1)return D._result.default;throw D._result}var B=typeof reportError=="function"?reportError:function(D){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var V=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof D=="object"&&D!==null&&typeof D.message=="string"?String(D.message):String(D),error:D});if(!window.dispatchEvent(V))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",D);return}console.error(D)};function Y(){}return nt.Children={map:O,forEach:function(D,V,J){O(D,function(){V.apply(this,arguments)},J)},count:function(D){var V=0;return O(D,function(){V++}),V},toArray:function(D){return O(D,function(V){return V})||[]},only:function(D){if(!U(D))throw Error("React.Children.only expected to receive a single React element child.");return D}},nt.Component=_,nt.Fragment=n,nt.Profiler=l,nt.PureComponent=k,nt.StrictMode=s,nt.Suspense=m,nt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=P,nt.__COMPILER_RUNTIME={__proto__:null,c:function(D){return P.H.useMemoCache(D)}},nt.cache=function(D){return function(){return D.apply(null,arguments)}},nt.cloneElement=function(D,V,J){if(D==null)throw Error("The argument must be a React element, but you passed "+D+".");var ne=j({},D.props),X=D.key,ce=void 0;if(V!=null)for(fe in V.ref!==void 0&&(ce=void 0),V.key!==void 0&&(X=""+V.key),V)!E.call(V,fe)||fe==="key"||fe==="__self"||fe==="__source"||fe==="ref"&&V.ref===void 0||(ne[fe]=V[fe]);var fe=arguments.length-2;if(fe===1)ne.children=J;else if(1<fe){for(var Se=Array(fe),_e=0;_e<fe;_e++)Se[_e]=arguments[_e+2];ne.children=Se}return T(D.type,X,void 0,void 0,ce,ne)},nt.createContext=function(D){return D={$$typeof:d,_currentValue:D,_currentValue2:D,_threadCount:0,Provider:null,Consumer:null},D.Provider=D,D.Consumer={$$typeof:o,_context:D},D},nt.createElement=function(D,V,J){var ne,X={},ce=null;if(V!=null)for(ne in V.key!==void 0&&(ce=""+V.key),V)E.call(V,ne)&&ne!=="key"&&ne!=="__self"&&ne!=="__source"&&(X[ne]=V[ne]);var fe=arguments.length-2;if(fe===1)X.children=J;else if(1<fe){for(var Se=Array(fe),_e=0;_e<fe;_e++)Se[_e]=arguments[_e+2];X.children=Se}if(D&&D.defaultProps)for(ne in fe=D.defaultProps,fe)X[ne]===void 0&&(X[ne]=fe[ne]);return T(D,ce,void 0,void 0,null,X)},nt.createRef=function(){return{current:null}},nt.forwardRef=function(D){return{$$typeof:f,render:D}},nt.isValidElement=U,nt.lazy=function(D){return{$$typeof:g,_payload:{_status:-1,_result:D},_init:q}},nt.memo=function(D,V){return{$$typeof:p,type:D,compare:V===void 0?null:V}},nt.startTransition=function(D){var V=P.T,J={};P.T=J;try{var ne=D(),X=P.S;X!==null&&X(J,ne),typeof ne=="object"&&ne!==null&&typeof ne.then=="function"&&ne.then(Y,B)}catch(ce){B(ce)}finally{P.T=V}},nt.unstable_useCacheRefresh=function(){return P.H.useCacheRefresh()},nt.use=function(D){return P.H.use(D)},nt.useActionState=function(D,V,J){return P.H.useActionState(D,V,J)},nt.useCallback=function(D,V){return P.H.useCallback(D,V)},nt.useContext=function(D){return P.H.useContext(D)},nt.useDebugValue=function(){},nt.useDeferredValue=function(D,V){return P.H.useDeferredValue(D,V)},nt.useEffect=function(D,V,J){var ne=P.H;if(typeof J=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return ne.useEffect(D,V)},nt.useId=function(){return P.H.useId()},nt.useImperativeHandle=function(D,V,J){return P.H.useImperativeHandle(D,V,J)},nt.useInsertionEffect=function(D,V){return P.H.useInsertionEffect(D,V)},nt.useLayoutEffect=function(D,V){return P.H.useLayoutEffect(D,V)},nt.useMemo=function(D,V){return P.H.useMemo(D,V)},nt.useOptimistic=function(D,V){return P.H.useOptimistic(D,V)},nt.useReducer=function(D,V,J){return P.H.useReducer(D,V,J)},nt.useRef=function(D){return P.H.useRef(D)},nt.useState=function(D){return P.H.useState(D)},nt.useSyncExternalStore=function(D,V,J){return P.H.useSyncExternalStore(D,V,J)},nt.useTransition=function(){return P.H.useTransition()},nt.version="19.1.0",nt}var fy;function Rc(){return fy||(fy=1,ep.exports=FE()),ep.exports}var h=Rc();const Me=Rg(h),Ll=OE({__proto__:null,default:Me},[h]);var tp={exports:{}},qo={},np={exports:{}},ap={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hy;function IE(){return hy||(hy=1,function(e){function t(O,q){var B=O.length;O.push(q);e:for(;0<B;){var Y=B-1>>>1,D=O[Y];if(0<l(D,q))O[Y]=q,O[B]=D,B=Y;else break e}}function n(O){return O.length===0?null:O[0]}function s(O){if(O.length===0)return null;var q=O[0],B=O.pop();if(B!==q){O[0]=B;e:for(var Y=0,D=O.length,V=D>>>1;Y<V;){var J=2*(Y+1)-1,ne=O[J],X=J+1,ce=O[X];if(0>l(ne,B))X<D&&0>l(ce,ne)?(O[Y]=ce,O[X]=B,Y=X):(O[Y]=ne,O[J]=B,Y=J);else if(X<D&&0>l(ce,B))O[Y]=ce,O[X]=B,Y=X;else break e}}return q}function l(O,q){var B=O.sortIndex-q.sortIndex;return B!==0?B:O.id-q.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var d=Date,f=d.now();e.unstable_now=function(){return d.now()-f}}var m=[],p=[],g=1,b=null,y=3,w=!1,j=!1,S=!1,_=!1,R=typeof setTimeout=="function"?setTimeout:null,k=typeof clearTimeout=="function"?clearTimeout:null,N=typeof setImmediate<"u"?setImmediate:null;function A(O){for(var q=n(p);q!==null;){if(q.callback===null)s(p);else if(q.startTime<=O)s(p),q.sortIndex=q.expirationTime,t(m,q);else break;q=n(p)}}function P(O){if(S=!1,A(O),!j)if(n(m)!==null)j=!0,E||(E=!0,F());else{var q=n(p);q!==null&&W(P,q.startTime-O)}}var E=!1,T=-1,I=5,U=-1;function Z(){return _?!0:!(e.unstable_now()-U<I)}function se(){if(_=!1,E){var O=e.unstable_now();U=O;var q=!0;try{e:{j=!1,S&&(S=!1,k(T),T=-1),w=!0;var B=y;try{t:{for(A(O),b=n(m);b!==null&&!(b.expirationTime>O&&Z());){var Y=b.callback;if(typeof Y=="function"){b.callback=null,y=b.priorityLevel;var D=Y(b.expirationTime<=O);if(O=e.unstable_now(),typeof D=="function"){b.callback=D,A(O),q=!0;break t}b===n(m)&&s(m),A(O)}else s(m);b=n(m)}if(b!==null)q=!0;else{var V=n(p);V!==null&&W(P,V.startTime-O),q=!1}}break e}finally{b=null,y=B,w=!1}q=void 0}}finally{q?F():E=!1}}}var F;if(typeof N=="function")F=function(){N(se)};else if(typeof MessageChannel<"u"){var L=new MessageChannel,$=L.port2;L.port1.onmessage=se,F=function(){$.postMessage(null)}}else F=function(){R(se,0)};function W(O,q){T=R(function(){O(e.unstable_now())},q)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(O){O.callback=null},e.unstable_forceFrameRate=function(O){0>O||125<O?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<O?Math.floor(1e3/O):5},e.unstable_getCurrentPriorityLevel=function(){return y},e.unstable_next=function(O){switch(y){case 1:case 2:case 3:var q=3;break;default:q=y}var B=y;y=q;try{return O()}finally{y=B}},e.unstable_requestPaint=function(){_=!0},e.unstable_runWithPriority=function(O,q){switch(O){case 1:case 2:case 3:case 4:case 5:break;default:O=3}var B=y;y=O;try{return q()}finally{y=B}},e.unstable_scheduleCallback=function(O,q,B){var Y=e.unstable_now();switch(typeof B=="object"&&B!==null?(B=B.delay,B=typeof B=="number"&&0<B?Y+B:Y):B=Y,O){case 1:var D=-1;break;case 2:D=250;break;case 5:D=1073741823;break;case 4:D=1e4;break;default:D=5e3}return D=B+D,O={id:g++,callback:q,priorityLevel:O,startTime:B,expirationTime:D,sortIndex:-1},B>Y?(O.sortIndex=B,t(p,O),n(m)===null&&O===n(p)&&(S?(k(T),T=-1):S=!0,W(P,B-Y))):(O.sortIndex=D,t(m,O),j||w||(j=!0,E||(E=!0,F()))),O},e.unstable_shouldYield=Z,e.unstable_wrapCallback=function(O){var q=y;return function(){var B=y;y=q;try{return O.apply(this,arguments)}finally{y=B}}}}(ap)),ap}var my;function BE(){return my||(my=1,np.exports=IE()),np.exports}var rp={exports:{}},An={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var py;function zE(){if(py)return An;py=1;var e=Rc();function t(m){var p="https://react.dev/errors/"+m;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var g=2;g<arguments.length;g++)p+="&args[]="+encodeURIComponent(arguments[g])}return"Minified React error #"+m+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},l=Symbol.for("react.portal");function o(m,p,g){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:b==null?null:""+b,children:m,containerInfo:p,implementation:g}}var d=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function f(m,p){if(m==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return An.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,An.createPortal=function(m,p){var g=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(t(299));return o(m,p,null,g)},An.flushSync=function(m){var p=d.T,g=s.p;try{if(d.T=null,s.p=2,m)return m()}finally{d.T=p,s.p=g,s.d.f()}},An.preconnect=function(m,p){typeof m=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,s.d.C(m,p))},An.prefetchDNS=function(m){typeof m=="string"&&s.d.D(m)},An.preinit=function(m,p){if(typeof m=="string"&&p&&typeof p.as=="string"){var g=p.as,b=f(g,p.crossOrigin),y=typeof p.integrity=="string"?p.integrity:void 0,w=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;g==="style"?s.d.S(m,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:b,integrity:y,fetchPriority:w}):g==="script"&&s.d.X(m,{crossOrigin:b,integrity:y,fetchPriority:w,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},An.preinitModule=function(m,p){if(typeof m=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var g=f(p.as,p.crossOrigin);s.d.M(m,{crossOrigin:g,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&s.d.M(m)},An.preload=function(m,p){if(typeof m=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var g=p.as,b=f(g,p.crossOrigin);s.d.L(m,g,{crossOrigin:b,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},An.preloadModule=function(m,p){if(typeof m=="string")if(p){var g=f(p.as,p.crossOrigin);s.d.m(m,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:g,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else s.d.m(m)},An.requestFormReset=function(m){s.d.r(m)},An.unstable_batchedUpdates=function(m,p){return m(p)},An.useFormState=function(m,p,g){return d.H.useFormState(m,p,g)},An.useFormStatus=function(){return d.H.useHostTransitionStatus()},An.version="19.1.0",An}var gy;function dj(){if(gy)return rp.exports;gy=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),rp.exports=zE(),rp.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xy;function qE(){if(xy)return qo;xy=1;var e=BE(),t=Rc(),n=dj();function s(r){var i="https://react.dev/errors/"+r;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var c=2;c<arguments.length;c++)i+="&args[]="+encodeURIComponent(arguments[c])}return"Minified React error #"+r+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function o(r){var i=r,c=r;if(r.alternate)for(;i.return;)i=i.return;else{r=i;do i=r,(i.flags&4098)!==0&&(c=i.return),r=i.return;while(r)}return i.tag===3?c:null}function d(r){if(r.tag===13){var i=r.memoizedState;if(i===null&&(r=r.alternate,r!==null&&(i=r.memoizedState)),i!==null)return i.dehydrated}return null}function f(r){if(o(r)!==r)throw Error(s(188))}function m(r){var i=r.alternate;if(!i){if(i=o(r),i===null)throw Error(s(188));return i!==r?null:r}for(var c=r,u=i;;){var x=c.return;if(x===null)break;var v=x.alternate;if(v===null){if(u=x.return,u!==null){c=u;continue}break}if(x.child===v.child){for(v=x.child;v;){if(v===c)return f(x),r;if(v===u)return f(x),i;v=v.sibling}throw Error(s(188))}if(c.return!==u.return)c=x,u=v;else{for(var C=!1,M=x.child;M;){if(M===c){C=!0,c=x,u=v;break}if(M===u){C=!0,u=x,c=v;break}M=M.sibling}if(!C){for(M=v.child;M;){if(M===c){C=!0,c=v,u=x;break}if(M===u){C=!0,u=v,c=x;break}M=M.sibling}if(!C)throw Error(s(189))}}if(c.alternate!==u)throw Error(s(190))}if(c.tag!==3)throw Error(s(188));return c.stateNode.current===c?r:i}function p(r){var i=r.tag;if(i===5||i===26||i===27||i===6)return r;for(r=r.child;r!==null;){if(i=p(r),i!==null)return i;r=r.sibling}return null}var g=Object.assign,b=Symbol.for("react.element"),y=Symbol.for("react.transitional.element"),w=Symbol.for("react.portal"),j=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),_=Symbol.for("react.profiler"),R=Symbol.for("react.provider"),k=Symbol.for("react.consumer"),N=Symbol.for("react.context"),A=Symbol.for("react.forward_ref"),P=Symbol.for("react.suspense"),E=Symbol.for("react.suspense_list"),T=Symbol.for("react.memo"),I=Symbol.for("react.lazy"),U=Symbol.for("react.activity"),Z=Symbol.for("react.memo_cache_sentinel"),se=Symbol.iterator;function F(r){return r===null||typeof r!="object"?null:(r=se&&r[se]||r["@@iterator"],typeof r=="function"?r:null)}var L=Symbol.for("react.client.reference");function $(r){if(r==null)return null;if(typeof r=="function")return r.$$typeof===L?null:r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case j:return"Fragment";case _:return"Profiler";case S:return"StrictMode";case P:return"Suspense";case E:return"SuspenseList";case U:return"Activity"}if(typeof r=="object")switch(r.$$typeof){case w:return"Portal";case N:return(r.displayName||"Context")+".Provider";case k:return(r._context.displayName||"Context")+".Consumer";case A:var i=r.render;return r=r.displayName,r||(r=i.displayName||i.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case T:return i=r.displayName||null,i!==null?i:$(r.type)||"Memo";case I:i=r._payload,r=r._init;try{return $(r(i))}catch{}}return null}var W=Array.isArray,O=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,q=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,B={pending:!1,data:null,method:null,action:null},Y=[],D=-1;function V(r){return{current:r}}function J(r){0>D||(r.current=Y[D],Y[D]=null,D--)}function ne(r,i){D++,Y[D]=r.current,r.current=i}var X=V(null),ce=V(null),fe=V(null),Se=V(null);function _e(r,i){switch(ne(fe,i),ne(ce,r),ne(X,null),i.nodeType){case 9:case 11:r=(r=i.documentElement)&&(r=r.namespaceURI)?Uv(r):0;break;default:if(r=i.tagName,i=i.namespaceURI)i=Uv(i),r=$v(i,r);else switch(r){case"svg":r=1;break;case"math":r=2;break;default:r=0}}J(X),ne(X,r)}function ge(){J(X),J(ce),J(fe)}function be(r){r.memoizedState!==null&&ne(Se,r);var i=X.current,c=$v(i,r.type);i!==c&&(ne(ce,r),ne(X,c))}function Ae(r){ce.current===r&&(J(X),J(ce)),Se.current===r&&(J(Se),Uo._currentValue=B)}var ke=Object.prototype.hasOwnProperty,ye=e.unstable_scheduleCallback,$e=e.unstable_cancelCallback,Ne=e.unstable_shouldYield,Pe=e.unstable_requestPaint,Fe=e.unstable_now,jt=e.unstable_getCurrentPriorityLevel,xt=e.unstable_ImmediatePriority,we=e.unstable_UserBlockingPriority,lt=e.unstable_NormalPriority,st=e.unstable_LowPriority,Et=e.unstable_IdlePriority,vt=e.log,qt=e.unstable_setDisableYieldValue,Nt=null,ot=null;function He(r){if(typeof vt=="function"&&qt(r),ot&&typeof ot.setStrictMode=="function")try{ot.setStrictMode(Nt,r)}catch{}}var ht=Math.clz32?Math.clz32:yt,Mn=Math.log,Nn=Math.LN2;function yt(r){return r>>>=0,r===0?32:31-(Mn(r)/Nn|0)|0}var on=256,ze=4194304;function kt(r){var i=r&42;if(i!==0)return i;switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return r&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return r}}function _n(r,i,c){var u=r.pendingLanes;if(u===0)return 0;var x=0,v=r.suspendedLanes,C=r.pingedLanes;r=r.warmLanes;var M=u&134217727;return M!==0?(u=M&~v,u!==0?x=kt(u):(C&=M,C!==0?x=kt(C):c||(c=M&~r,c!==0&&(x=kt(c))))):(M=u&~v,M!==0?x=kt(M):C!==0?x=kt(C):c||(c=u&~r,c!==0&&(x=kt(c)))),x===0?0:i!==0&&i!==x&&(i&v)===0&&(v=x&-x,c=i&-i,v>=c||v===32&&(c&4194048)!==0)?i:x}function Cn(r,i){return(r.pendingLanes&~(r.suspendedLanes&~r.pingedLanes)&i)===0}function _a(r,i){switch(r){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Wn(){var r=on;return on<<=1,(on&4194048)===0&&(on=256),r}function Fa(){var r=ze;return ze<<=1,(ze&62914560)===0&&(ze=4194304),r}function ar(r){for(var i=[],c=0;31>c;c++)i.push(r);return i}function Ia(r,i){r.pendingLanes|=i,i!==268435456&&(r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0)}function ks(r,i,c,u,x,v){var C=r.pendingLanes;r.pendingLanes=c,r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0,r.expiredLanes&=c,r.entangledLanes&=c,r.errorRecoveryDisabledLanes&=c,r.shellSuspendCounter=0;var M=r.entanglements,H=r.expirationTimes,re=r.hiddenUpdates;for(c=C&~c;0<c;){var ue=31-ht(c),pe=1<<ue;M[ue]=0,H[ue]=-1;var ie=re[ue];if(ie!==null)for(re[ue]=null,ue=0;ue<ie.length;ue++){var oe=ie[ue];oe!==null&&(oe.lane&=-536870913)}c&=~pe}u!==0&&Ba(r,u,0),v!==0&&x===0&&r.tag!==0&&(r.suspendedLanes|=v&~(C&~i))}function Ba(r,i,c){r.pendingLanes|=i,r.suspendedLanes&=~i;var u=31-ht(i);r.entangledLanes|=i,r.entanglements[u]=r.entanglements[u]|1073741824|c&4194090}function za(r,i){var c=r.entangledLanes|=i;for(r=r.entanglements;c;){var u=31-ht(c),x=1<<u;x&i|r[u]&i&&(r[u]|=i),c&=~x}}function Or(r){switch(r){case 2:r=1;break;case 8:r=4;break;case 32:r=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:r=128;break;case 268435456:r=134217728;break;default:r=0}return r}function Ts(r){return r&=-r,2<r?8<r?(r&134217727)!==0?32:268435456:8:2}function G(){var r=q.p;return r!==0?r:(r=window.event,r===void 0?32:ay(r.type))}function te(r,i){var c=q.p;try{return q.p=r,i()}finally{q.p=c}}var le=Math.random().toString(36).slice(2),me="__reactFiber$"+le,je="__reactProps$"+le,Te="__reactContainer$"+le,Ve="__reactEvents$"+le,De="__reactListeners$"+le,Be="__reactHandles$"+le,Le="__reactResources$"+le,Ke="__reactMarker$"+le;function We(r){delete r[me],delete r[je],delete r[Ve],delete r[De],delete r[Be]}function Xe(r){var i=r[me];if(i)return i;for(var c=r.parentNode;c;){if(i=c[Te]||c[me]){if(c=i.alternate,i.child!==null||c!==null&&c.child!==null)for(r=zv(r);r!==null;){if(c=r[me])return c;r=zv(r)}return i}r=c,c=r.parentNode}return null}function St(r){if(r=r[me]||r[Te]){var i=r.tag;if(i===5||i===6||i===13||i===26||i===27||i===3)return r}return null}function Ht(r){var i=r.tag;if(i===5||i===26||i===27||i===6)return r.stateNode;throw Error(s(33))}function Zt(r){var i=r[Le];return i||(i=r[Le]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function _t(r){r[Ke]=!0}var bt=new Set,Lr={};function On(r,i){oa(r,i),oa(r+"Capture",i)}function oa(r,i){for(Lr[r]=i,r=0;r<i.length;r++)bt.add(i[r])}var In=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ur={},$r={};function Yl(r){return ke.call($r,r)?!0:ke.call(Ur,r)?!1:In.test(r)?$r[r]=!0:(Ur[r]=!0,!1)}function ca(r,i,c){if(Yl(i))if(c===null)r.removeAttribute(i);else{switch(typeof c){case"undefined":case"function":case"symbol":r.removeAttribute(i);return;case"boolean":var u=i.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){r.removeAttribute(i);return}}r.setAttribute(i,""+c)}}function rr(r,i,c){if(c===null)r.removeAttribute(i);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(i);return}r.setAttribute(i,""+c)}}function dt(r,i,c,u){if(u===null)r.removeAttribute(c);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(c);return}r.setAttributeNS(i,c,""+u)}}var En,Ca;function Ea(r){if(En===void 0)try{throw Error()}catch(c){var i=c.stack.trim().match(/\n( *(at )?)/);En=i&&i[1]||"",Ca=-1<c.stack.indexOf(`
    at`)?" (<anonymous>)":-1<c.stack.indexOf("@")?"@unknown:0:0":""}return`
`+En+r+Ca}var Ds=!1;function Kt(r,i){if(!r||Ds)return"";Ds=!0;var c=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(i){var pe=function(){throw Error()};if(Object.defineProperty(pe.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(pe,[])}catch(oe){var ie=oe}Reflect.construct(r,[],pe)}else{try{pe.call()}catch(oe){ie=oe}r.call(pe.prototype)}}else{try{throw Error()}catch(oe){ie=oe}(pe=r())&&typeof pe.catch=="function"&&pe.catch(function(){})}}catch(oe){if(oe&&ie&&typeof oe.stack=="string")return[oe.stack,ie.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var x=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");x&&x.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var v=u.DetermineComponentFrameRoot(),C=v[0],M=v[1];if(C&&M){var H=C.split(`
`),re=M.split(`
`);for(x=u=0;u<H.length&&!H[u].includes("DetermineComponentFrameRoot");)u++;for(;x<re.length&&!re[x].includes("DetermineComponentFrameRoot");)x++;if(u===H.length||x===re.length)for(u=H.length-1,x=re.length-1;1<=u&&0<=x&&H[u]!==re[x];)x--;for(;1<=u&&0<=x;u--,x--)if(H[u]!==re[x]){if(u!==1||x!==1)do if(u--,x--,0>x||H[u]!==re[x]){var ue=`
`+H[u].replace(" at new "," at ");return r.displayName&&ue.includes("<anonymous>")&&(ue=ue.replace("<anonymous>",r.displayName)),ue}while(1<=u&&0<=x);break}}}finally{Ds=!1,Error.prepareStackTrace=c}return(c=r?r.displayName||r.name:"")?Ea(c):""}function Fr(r){switch(r.tag){case 26:case 27:case 5:return Ea(r.type);case 16:return Ea("Lazy");case 13:return Ea("Suspense");case 19:return Ea("SuspenseList");case 0:case 15:return Kt(r.type,!1);case 11:return Kt(r.type.render,!1);case 1:return Kt(r.type,!0);case 31:return Ea("Activity");default:return""}}function Kl(r){try{var i="";do i+=Fr(r),r=r.return;while(r);return i}catch(c){return`
Error generating stack: `+c.message+`
`+c.stack}}function Bn(r){switch(typeof r){case"bigint":case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function Tx(r){var i=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function PC(r){var i=Tx(r)?"checked":"value",c=Object.getOwnPropertyDescriptor(r.constructor.prototype,i),u=""+r[i];if(!r.hasOwnProperty(i)&&typeof c<"u"&&typeof c.get=="function"&&typeof c.set=="function"){var x=c.get,v=c.set;return Object.defineProperty(r,i,{configurable:!0,get:function(){return x.call(this)},set:function(C){u=""+C,v.call(this,C)}}),Object.defineProperty(r,i,{enumerable:c.enumerable}),{getValue:function(){return u},setValue:function(C){u=""+C},stopTracking:function(){r._valueTracker=null,delete r[i]}}}}function zc(r){r._valueTracker||(r._valueTracker=PC(r))}function Dx(r){if(!r)return!1;var i=r._valueTracker;if(!i)return!0;var c=i.getValue(),u="";return r&&(u=Tx(r)?r.checked?"true":"false":r.value),r=u,r!==c?(i.setValue(r),!0):!1}function qc(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}var kC=/[\n"\\]/g;function da(r){return r.replace(kC,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function Jf(r,i,c,u,x,v,C,M){r.name="",C!=null&&typeof C!="function"&&typeof C!="symbol"&&typeof C!="boolean"?r.type=C:r.removeAttribute("type"),i!=null?C==="number"?(i===0&&r.value===""||r.value!=i)&&(r.value=""+Bn(i)):r.value!==""+Bn(i)&&(r.value=""+Bn(i)):C!=="submit"&&C!=="reset"||r.removeAttribute("value"),i!=null?Zf(r,C,Bn(i)):c!=null?Zf(r,C,Bn(c)):u!=null&&r.removeAttribute("value"),x==null&&v!=null&&(r.defaultChecked=!!v),x!=null&&(r.checked=x&&typeof x!="function"&&typeof x!="symbol"),M!=null&&typeof M!="function"&&typeof M!="symbol"&&typeof M!="boolean"?r.name=""+Bn(M):r.removeAttribute("name")}function Mx(r,i,c,u,x,v,C,M){if(v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(r.type=v),i!=null||c!=null){if(!(v!=="submit"&&v!=="reset"||i!=null))return;c=c!=null?""+Bn(c):"",i=i!=null?""+Bn(i):c,M||i===r.value||(r.value=i),r.defaultValue=i}u=u??x,u=typeof u!="function"&&typeof u!="symbol"&&!!u,r.checked=M?r.checked:!!u,r.defaultChecked=!!u,C!=null&&typeof C!="function"&&typeof C!="symbol"&&typeof C!="boolean"&&(r.name=C)}function Zf(r,i,c){i==="number"&&qc(r.ownerDocument)===r||r.defaultValue===""+c||(r.defaultValue=""+c)}function ji(r,i,c,u){if(r=r.options,i){i={};for(var x=0;x<c.length;x++)i["$"+c[x]]=!0;for(c=0;c<r.length;c++)x=i.hasOwnProperty("$"+r[c].value),r[c].selected!==x&&(r[c].selected=x),x&&u&&(r[c].defaultSelected=!0)}else{for(c=""+Bn(c),i=null,x=0;x<r.length;x++){if(r[x].value===c){r[x].selected=!0,u&&(r[x].defaultSelected=!0);return}i!==null||r[x].disabled||(i=r[x])}i!==null&&(i.selected=!0)}}function Ox(r,i,c){if(i!=null&&(i=""+Bn(i),i!==r.value&&(r.value=i),c==null)){r.defaultValue!==i&&(r.defaultValue=i);return}r.defaultValue=c!=null?""+Bn(c):""}function Lx(r,i,c,u){if(i==null){if(u!=null){if(c!=null)throw Error(s(92));if(W(u)){if(1<u.length)throw Error(s(93));u=u[0]}c=u}c==null&&(c=""),i=c}c=Bn(i),r.defaultValue=c,u=r.textContent,u===c&&u!==""&&u!==null&&(r.value=u)}function Si(r,i){if(i){var c=r.firstChild;if(c&&c===r.lastChild&&c.nodeType===3){c.nodeValue=i;return}}r.textContent=i}var TC=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Ux(r,i,c){var u=i.indexOf("--")===0;c==null||typeof c=="boolean"||c===""?u?r.setProperty(i,""):i==="float"?r.cssFloat="":r[i]="":u?r.setProperty(i,c):typeof c!="number"||c===0||TC.has(i)?i==="float"?r.cssFloat=c:r[i]=(""+c).trim():r[i]=c+"px"}function $x(r,i,c){if(i!=null&&typeof i!="object")throw Error(s(62));if(r=r.style,c!=null){for(var u in c)!c.hasOwnProperty(u)||i!=null&&i.hasOwnProperty(u)||(u.indexOf("--")===0?r.setProperty(u,""):u==="float"?r.cssFloat="":r[u]="");for(var x in i)u=i[x],i.hasOwnProperty(x)&&c[x]!==u&&Ux(r,x,u)}else for(var v in i)i.hasOwnProperty(v)&&Ux(r,v,i[v])}function Xf(r){if(r.indexOf("-")===-1)return!1;switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var DC=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),MC=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Hc(r){return MC.test(""+r)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":r}var Qf=null;function eh(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var Ni=null,_i=null;function Fx(r){var i=St(r);if(i&&(r=i.stateNode)){var c=r[je]||null;e:switch(r=i.stateNode,i.type){case"input":if(Jf(r,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name),i=c.name,c.type==="radio"&&i!=null){for(c=r;c.parentNode;)c=c.parentNode;for(c=c.querySelectorAll('input[name="'+da(""+i)+'"][type="radio"]'),i=0;i<c.length;i++){var u=c[i];if(u!==r&&u.form===r.form){var x=u[je]||null;if(!x)throw Error(s(90));Jf(u,x.value,x.defaultValue,x.defaultValue,x.checked,x.defaultChecked,x.type,x.name)}}for(i=0;i<c.length;i++)u=c[i],u.form===r.form&&Dx(u)}break e;case"textarea":Ox(r,c.value,c.defaultValue);break e;case"select":i=c.value,i!=null&&ji(r,!!c.multiple,i,!1)}}}var th=!1;function Ix(r,i,c){if(th)return r(i,c);th=!0;try{var u=r(i);return u}finally{if(th=!1,(Ni!==null||_i!==null)&&(Ad(),Ni&&(i=Ni,r=_i,_i=Ni=null,Fx(i),r)))for(i=0;i<r.length;i++)Fx(r[i])}}function Wl(r,i){var c=r.stateNode;if(c===null)return null;var u=c[je]||null;if(u===null)return null;c=u[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(r=r.type,u=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!u;break e;default:r=!1}if(r)return null;if(c&&typeof c!="function")throw Error(s(231,i,typeof c));return c}var sr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),nh=!1;if(sr)try{var Jl={};Object.defineProperty(Jl,"passive",{get:function(){nh=!0}}),window.addEventListener("test",Jl,Jl),window.removeEventListener("test",Jl,Jl)}catch{nh=!1}var Ir=null,ah=null,Vc=null;function Bx(){if(Vc)return Vc;var r,i=ah,c=i.length,u,x="value"in Ir?Ir.value:Ir.textContent,v=x.length;for(r=0;r<c&&i[r]===x[r];r++);var C=c-r;for(u=1;u<=C&&i[c-u]===x[v-u];u++);return Vc=x.slice(r,1<u?1-u:void 0)}function Gc(r){var i=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&i===13&&(r=13)):r=i,r===10&&(r=13),32<=r||r===13?r:0}function Yc(){return!0}function zx(){return!1}function zn(r){function i(c,u,x,v,C){this._reactName=c,this._targetInst=x,this.type=u,this.nativeEvent=v,this.target=C,this.currentTarget=null;for(var M in r)r.hasOwnProperty(M)&&(c=r[M],this[M]=c?c(v):v[M]);return this.isDefaultPrevented=(v.defaultPrevented!=null?v.defaultPrevented:v.returnValue===!1)?Yc:zx,this.isPropagationStopped=zx,this}return g(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var c=this.nativeEvent;c&&(c.preventDefault?c.preventDefault():typeof c.returnValue!="unknown"&&(c.returnValue=!1),this.isDefaultPrevented=Yc)},stopPropagation:function(){var c=this.nativeEvent;c&&(c.stopPropagation?c.stopPropagation():typeof c.cancelBubble!="unknown"&&(c.cancelBubble=!0),this.isPropagationStopped=Yc)},persist:function(){},isPersistent:Yc}),i}var Ms={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Kc=zn(Ms),Zl=g({},Ms,{view:0,detail:0}),OC=zn(Zl),rh,sh,Xl,Wc=g({},Zl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:lh,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==Xl&&(Xl&&r.type==="mousemove"?(rh=r.screenX-Xl.screenX,sh=r.screenY-Xl.screenY):sh=rh=0,Xl=r),rh)},movementY:function(r){return"movementY"in r?r.movementY:sh}}),qx=zn(Wc),LC=g({},Wc,{dataTransfer:0}),UC=zn(LC),$C=g({},Zl,{relatedTarget:0}),ih=zn($C),FC=g({},Ms,{animationName:0,elapsedTime:0,pseudoElement:0}),IC=zn(FC),BC=g({},Ms,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),zC=zn(BC),qC=g({},Ms,{data:0}),Hx=zn(qC),HC={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},VC={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},GC={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function YC(r){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(r):(r=GC[r])?!!i[r]:!1}function lh(){return YC}var KC=g({},Zl,{key:function(r){if(r.key){var i=HC[r.key]||r.key;if(i!=="Unidentified")return i}return r.type==="keypress"?(r=Gc(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?VC[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:lh,charCode:function(r){return r.type==="keypress"?Gc(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?Gc(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),WC=zn(KC),JC=g({},Wc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Vx=zn(JC),ZC=g({},Zl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:lh}),XC=zn(ZC),QC=g({},Ms,{propertyName:0,elapsedTime:0,pseudoElement:0}),e3=zn(QC),t3=g({},Wc,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),n3=zn(t3),a3=g({},Ms,{newState:0,oldState:0}),r3=zn(a3),s3=[9,13,27,32],oh=sr&&"CompositionEvent"in window,Ql=null;sr&&"documentMode"in document&&(Ql=document.documentMode);var i3=sr&&"TextEvent"in window&&!Ql,Gx=sr&&(!oh||Ql&&8<Ql&&11>=Ql),Yx=" ",Kx=!1;function Wx(r,i){switch(r){case"keyup":return s3.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Jx(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var Ci=!1;function l3(r,i){switch(r){case"compositionend":return Jx(i);case"keypress":return i.which!==32?null:(Kx=!0,Yx);case"textInput":return r=i.data,r===Yx&&Kx?null:r;default:return null}}function o3(r,i){if(Ci)return r==="compositionend"||!oh&&Wx(r,i)?(r=Bx(),Vc=ah=Ir=null,Ci=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return Gx&&i.locale!=="ko"?null:i.data;default:return null}}var c3={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Zx(r){var i=r&&r.nodeName&&r.nodeName.toLowerCase();return i==="input"?!!c3[r.type]:i==="textarea"}function Xx(r,i,c,u){Ni?_i?_i.push(u):_i=[u]:Ni=u,i=Od(i,"onChange"),0<i.length&&(c=new Kc("onChange","change",null,c,u),r.push({event:c,listeners:i}))}var eo=null,to=null;function d3(r){Tv(r,0)}function Jc(r){var i=Ht(r);if(Dx(i))return r}function Qx(r,i){if(r==="change")return i}var e0=!1;if(sr){var ch;if(sr){var dh="oninput"in document;if(!dh){var t0=document.createElement("div");t0.setAttribute("oninput","return;"),dh=typeof t0.oninput=="function"}ch=dh}else ch=!1;e0=ch&&(!document.documentMode||9<document.documentMode)}function n0(){eo&&(eo.detachEvent("onpropertychange",a0),to=eo=null)}function a0(r){if(r.propertyName==="value"&&Jc(to)){var i=[];Xx(i,to,r,eh(r)),Ix(d3,i)}}function u3(r,i,c){r==="focusin"?(n0(),eo=i,to=c,eo.attachEvent("onpropertychange",a0)):r==="focusout"&&n0()}function f3(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return Jc(to)}function h3(r,i){if(r==="click")return Jc(i)}function m3(r,i){if(r==="input"||r==="change")return Jc(i)}function p3(r,i){return r===i&&(r!==0||1/r===1/i)||r!==r&&i!==i}var Jn=typeof Object.is=="function"?Object.is:p3;function no(r,i){if(Jn(r,i))return!0;if(typeof r!="object"||r===null||typeof i!="object"||i===null)return!1;var c=Object.keys(r),u=Object.keys(i);if(c.length!==u.length)return!1;for(u=0;u<c.length;u++){var x=c[u];if(!ke.call(i,x)||!Jn(r[x],i[x]))return!1}return!0}function r0(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function s0(r,i){var c=r0(r);r=0;for(var u;c;){if(c.nodeType===3){if(u=r+c.textContent.length,r<=i&&u>=i)return{node:c,offset:i-r};r=u}e:{for(;c;){if(c.nextSibling){c=c.nextSibling;break e}c=c.parentNode}c=void 0}c=r0(c)}}function i0(r,i){return r&&i?r===i?!0:r&&r.nodeType===3?!1:i&&i.nodeType===3?i0(r,i.parentNode):"contains"in r?r.contains(i):r.compareDocumentPosition?!!(r.compareDocumentPosition(i)&16):!1:!1}function l0(r){r=r!=null&&r.ownerDocument!=null&&r.ownerDocument.defaultView!=null?r.ownerDocument.defaultView:window;for(var i=qc(r.document);i instanceof r.HTMLIFrameElement;){try{var c=typeof i.contentWindow.location.href=="string"}catch{c=!1}if(c)r=i.contentWindow;else break;i=qc(r.document)}return i}function uh(r){var i=r&&r.nodeName&&r.nodeName.toLowerCase();return i&&(i==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||i==="textarea"||r.contentEditable==="true")}var g3=sr&&"documentMode"in document&&11>=document.documentMode,Ei=null,fh=null,ao=null,hh=!1;function o0(r,i,c){var u=c.window===c?c.document:c.nodeType===9?c:c.ownerDocument;hh||Ei==null||Ei!==qc(u)||(u=Ei,"selectionStart"in u&&uh(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),ao&&no(ao,u)||(ao=u,u=Od(fh,"onSelect"),0<u.length&&(i=new Kc("onSelect","select",null,i,c),r.push({event:i,listeners:u}),i.target=Ei)))}function Os(r,i){var c={};return c[r.toLowerCase()]=i.toLowerCase(),c["Webkit"+r]="webkit"+i,c["Moz"+r]="moz"+i,c}var Ri={animationend:Os("Animation","AnimationEnd"),animationiteration:Os("Animation","AnimationIteration"),animationstart:Os("Animation","AnimationStart"),transitionrun:Os("Transition","TransitionRun"),transitionstart:Os("Transition","TransitionStart"),transitioncancel:Os("Transition","TransitionCancel"),transitionend:Os("Transition","TransitionEnd")},mh={},c0={};sr&&(c0=document.createElement("div").style,"AnimationEvent"in window||(delete Ri.animationend.animation,delete Ri.animationiteration.animation,delete Ri.animationstart.animation),"TransitionEvent"in window||delete Ri.transitionend.transition);function Ls(r){if(mh[r])return mh[r];if(!Ri[r])return r;var i=Ri[r],c;for(c in i)if(i.hasOwnProperty(c)&&c in c0)return mh[r]=i[c];return r}var d0=Ls("animationend"),u0=Ls("animationiteration"),f0=Ls("animationstart"),x3=Ls("transitionrun"),b3=Ls("transitionstart"),v3=Ls("transitioncancel"),h0=Ls("transitionend"),m0=new Map,ph="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");ph.push("scrollEnd");function Ra(r,i){m0.set(r,i),On(i,[r])}var p0=new WeakMap;function ua(r,i){if(typeof r=="object"&&r!==null){var c=p0.get(r);return c!==void 0?c:(i={value:r,source:i,stack:Kl(i)},p0.set(r,i),i)}return{value:r,source:i,stack:Kl(i)}}var fa=[],Ai=0,gh=0;function Zc(){for(var r=Ai,i=gh=Ai=0;i<r;){var c=fa[i];fa[i++]=null;var u=fa[i];fa[i++]=null;var x=fa[i];fa[i++]=null;var v=fa[i];if(fa[i++]=null,u!==null&&x!==null){var C=u.pending;C===null?x.next=x:(x.next=C.next,C.next=x),u.pending=x}v!==0&&g0(c,x,v)}}function Xc(r,i,c,u){fa[Ai++]=r,fa[Ai++]=i,fa[Ai++]=c,fa[Ai++]=u,gh|=u,r.lanes|=u,r=r.alternate,r!==null&&(r.lanes|=u)}function xh(r,i,c,u){return Xc(r,i,c,u),Qc(r)}function Pi(r,i){return Xc(r,null,null,i),Qc(r)}function g0(r,i,c){r.lanes|=c;var u=r.alternate;u!==null&&(u.lanes|=c);for(var x=!1,v=r.return;v!==null;)v.childLanes|=c,u=v.alternate,u!==null&&(u.childLanes|=c),v.tag===22&&(r=v.stateNode,r===null||r._visibility&1||(x=!0)),r=v,v=v.return;return r.tag===3?(v=r.stateNode,x&&i!==null&&(x=31-ht(c),r=v.hiddenUpdates,u=r[x],u===null?r[x]=[i]:u.push(i),i.lane=c|536870912),v):null}function Qc(r){if(50<Ao)throw Ao=0,Sm=null,Error(s(185));for(var i=r.return;i!==null;)r=i,i=r.return;return r.tag===3?r.stateNode:null}var ki={};function y3(r,i,c,u){this.tag=r,this.key=c,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Zn(r,i,c,u){return new y3(r,i,c,u)}function bh(r){return r=r.prototype,!(!r||!r.isReactComponent)}function ir(r,i){var c=r.alternate;return c===null?(c=Zn(r.tag,i,r.key,r.mode),c.elementType=r.elementType,c.type=r.type,c.stateNode=r.stateNode,c.alternate=r,r.alternate=c):(c.pendingProps=i,c.type=r.type,c.flags=0,c.subtreeFlags=0,c.deletions=null),c.flags=r.flags&65011712,c.childLanes=r.childLanes,c.lanes=r.lanes,c.child=r.child,c.memoizedProps=r.memoizedProps,c.memoizedState=r.memoizedState,c.updateQueue=r.updateQueue,i=r.dependencies,c.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},c.sibling=r.sibling,c.index=r.index,c.ref=r.ref,c.refCleanup=r.refCleanup,c}function x0(r,i){r.flags&=65011714;var c=r.alternate;return c===null?(r.childLanes=0,r.lanes=i,r.child=null,r.subtreeFlags=0,r.memoizedProps=null,r.memoizedState=null,r.updateQueue=null,r.dependencies=null,r.stateNode=null):(r.childLanes=c.childLanes,r.lanes=c.lanes,r.child=c.child,r.subtreeFlags=0,r.deletions=null,r.memoizedProps=c.memoizedProps,r.memoizedState=c.memoizedState,r.updateQueue=c.updateQueue,r.type=c.type,i=c.dependencies,r.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),r}function ed(r,i,c,u,x,v){var C=0;if(u=r,typeof r=="function")bh(r)&&(C=1);else if(typeof r=="string")C=jE(r,c,X.current)?26:r==="html"||r==="head"||r==="body"?27:5;else e:switch(r){case U:return r=Zn(31,c,i,x),r.elementType=U,r.lanes=v,r;case j:return Us(c.children,x,v,i);case S:C=8,x|=24;break;case _:return r=Zn(12,c,i,x|2),r.elementType=_,r.lanes=v,r;case P:return r=Zn(13,c,i,x),r.elementType=P,r.lanes=v,r;case E:return r=Zn(19,c,i,x),r.elementType=E,r.lanes=v,r;default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case R:case N:C=10;break e;case k:C=9;break e;case A:C=11;break e;case T:C=14;break e;case I:C=16,u=null;break e}C=29,c=Error(s(130,r===null?"null":typeof r,"")),u=null}return i=Zn(C,c,i,x),i.elementType=r,i.type=u,i.lanes=v,i}function Us(r,i,c,u){return r=Zn(7,r,u,i),r.lanes=c,r}function vh(r,i,c){return r=Zn(6,r,null,i),r.lanes=c,r}function yh(r,i,c){return i=Zn(4,r.children!==null?r.children:[],r.key,i),i.lanes=c,i.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},i}var Ti=[],Di=0,td=null,nd=0,ha=[],ma=0,$s=null,lr=1,or="";function Fs(r,i){Ti[Di++]=nd,Ti[Di++]=td,td=r,nd=i}function b0(r,i,c){ha[ma++]=lr,ha[ma++]=or,ha[ma++]=$s,$s=r;var u=lr;r=or;var x=32-ht(u)-1;u&=~(1<<x),c+=1;var v=32-ht(i)+x;if(30<v){var C=x-x%5;v=(u&(1<<C)-1).toString(32),u>>=C,x-=C,lr=1<<32-ht(i)+x|c<<x|u,or=v+r}else lr=1<<v|c<<x|u,or=r}function wh(r){r.return!==null&&(Fs(r,1),b0(r,1,0))}function jh(r){for(;r===td;)td=Ti[--Di],Ti[Di]=null,nd=Ti[--Di],Ti[Di]=null;for(;r===$s;)$s=ha[--ma],ha[ma]=null,or=ha[--ma],ha[ma]=null,lr=ha[--ma],ha[ma]=null}var Ln=null,en=null,Rt=!1,Is=null,qa=!1,Sh=Error(s(519));function Bs(r){var i=Error(s(418,""));throw io(ua(i,r)),Sh}function v0(r){var i=r.stateNode,c=r.type,u=r.memoizedProps;switch(i[me]=r,i[je]=u,c){case"dialog":pt("cancel",i),pt("close",i);break;case"iframe":case"object":case"embed":pt("load",i);break;case"video":case"audio":for(c=0;c<ko.length;c++)pt(ko[c],i);break;case"source":pt("error",i);break;case"img":case"image":case"link":pt("error",i),pt("load",i);break;case"details":pt("toggle",i);break;case"input":pt("invalid",i),Mx(i,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0),zc(i);break;case"select":pt("invalid",i);break;case"textarea":pt("invalid",i),Lx(i,u.value,u.defaultValue,u.children),zc(i)}c=u.children,typeof c!="string"&&typeof c!="number"&&typeof c!="bigint"||i.textContent===""+c||u.suppressHydrationWarning===!0||Lv(i.textContent,c)?(u.popover!=null&&(pt("beforetoggle",i),pt("toggle",i)),u.onScroll!=null&&pt("scroll",i),u.onScrollEnd!=null&&pt("scrollend",i),u.onClick!=null&&(i.onclick=Ld),i=!0):i=!1,i||Bs(r)}function y0(r){for(Ln=r.return;Ln;)switch(Ln.tag){case 5:case 13:qa=!1;return;case 27:case 3:qa=!0;return;default:Ln=Ln.return}}function ro(r){if(r!==Ln)return!1;if(!Rt)return y0(r),Rt=!0,!1;var i=r.tag,c;if((c=i!==3&&i!==27)&&((c=i===5)&&(c=r.type,c=!(c!=="form"&&c!=="button")||Fm(r.type,r.memoizedProps)),c=!c),c&&en&&Bs(r),y0(r),i===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(s(317));e:{for(r=r.nextSibling,i=0;r;){if(r.nodeType===8)if(c=r.data,c==="/$"){if(i===0){en=Pa(r.nextSibling);break e}i--}else c!=="$"&&c!=="$!"&&c!=="$?"||i++;r=r.nextSibling}en=null}}else i===27?(i=en,ns(r.type)?(r=qm,qm=null,en=r):en=i):en=Ln?Pa(r.stateNode.nextSibling):null;return!0}function so(){en=Ln=null,Rt=!1}function w0(){var r=Is;return r!==null&&(Vn===null?Vn=r:Vn.push.apply(Vn,r),Is=null),r}function io(r){Is===null?Is=[r]:Is.push(r)}var Nh=V(null),zs=null,cr=null;function Br(r,i,c){ne(Nh,i._currentValue),i._currentValue=c}function dr(r){r._currentValue=Nh.current,J(Nh)}function _h(r,i,c){for(;r!==null;){var u=r.alternate;if((r.childLanes&i)!==i?(r.childLanes|=i,u!==null&&(u.childLanes|=i)):u!==null&&(u.childLanes&i)!==i&&(u.childLanes|=i),r===c)break;r=r.return}}function Ch(r,i,c,u){var x=r.child;for(x!==null&&(x.return=r);x!==null;){var v=x.dependencies;if(v!==null){var C=x.child;v=v.firstContext;e:for(;v!==null;){var M=v;v=x;for(var H=0;H<i.length;H++)if(M.context===i[H]){v.lanes|=c,M=v.alternate,M!==null&&(M.lanes|=c),_h(v.return,c,r),u||(C=null);break e}v=M.next}}else if(x.tag===18){if(C=x.return,C===null)throw Error(s(341));C.lanes|=c,v=C.alternate,v!==null&&(v.lanes|=c),_h(C,c,r),C=null}else C=x.child;if(C!==null)C.return=x;else for(C=x;C!==null;){if(C===r){C=null;break}if(x=C.sibling,x!==null){x.return=C.return,C=x;break}C=C.return}x=C}}function lo(r,i,c,u){r=null;for(var x=i,v=!1;x!==null;){if(!v){if((x.flags&524288)!==0)v=!0;else if((x.flags&262144)!==0)break}if(x.tag===10){var C=x.alternate;if(C===null)throw Error(s(387));if(C=C.memoizedProps,C!==null){var M=x.type;Jn(x.pendingProps.value,C.value)||(r!==null?r.push(M):r=[M])}}else if(x===Se.current){if(C=x.alternate,C===null)throw Error(s(387));C.memoizedState.memoizedState!==x.memoizedState.memoizedState&&(r!==null?r.push(Uo):r=[Uo])}x=x.return}r!==null&&Ch(i,r,c,u),i.flags|=262144}function ad(r){for(r=r.firstContext;r!==null;){if(!Jn(r.context._currentValue,r.memoizedValue))return!0;r=r.next}return!1}function qs(r){zs=r,cr=null,r=r.dependencies,r!==null&&(r.firstContext=null)}function Rn(r){return j0(zs,r)}function rd(r,i){return zs===null&&qs(r),j0(r,i)}function j0(r,i){var c=i._currentValue;if(i={context:i,memoizedValue:c,next:null},cr===null){if(r===null)throw Error(s(308));cr=i,r.dependencies={lanes:0,firstContext:i},r.flags|=524288}else cr=cr.next=i;return c}var w3=typeof AbortController<"u"?AbortController:function(){var r=[],i=this.signal={aborted:!1,addEventListener:function(c,u){r.push(u)}};this.abort=function(){i.aborted=!0,r.forEach(function(c){return c()})}},j3=e.unstable_scheduleCallback,S3=e.unstable_NormalPriority,hn={$$typeof:N,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Eh(){return{controller:new w3,data:new Map,refCount:0}}function oo(r){r.refCount--,r.refCount===0&&j3(S3,function(){r.controller.abort()})}var co=null,Rh=0,Mi=0,Oi=null;function N3(r,i){if(co===null){var c=co=[];Rh=0,Mi=Pm(),Oi={status:"pending",value:void 0,then:function(u){c.push(u)}}}return Rh++,i.then(S0,S0),i}function S0(){if(--Rh===0&&co!==null){Oi!==null&&(Oi.status="fulfilled");var r=co;co=null,Mi=0,Oi=null;for(var i=0;i<r.length;i++)(0,r[i])()}}function _3(r,i){var c=[],u={status:"pending",value:null,reason:null,then:function(x){c.push(x)}};return r.then(function(){u.status="fulfilled",u.value=i;for(var x=0;x<c.length;x++)(0,c[x])(i)},function(x){for(u.status="rejected",u.reason=x,x=0;x<c.length;x++)(0,c[x])(void 0)}),u}var N0=O.S;O.S=function(r,i){typeof i=="object"&&i!==null&&typeof i.then=="function"&&N3(r,i),N0!==null&&N0(r,i)};var Hs=V(null);function Ah(){var r=Hs.current;return r!==null?r:Ft.pooledCache}function sd(r,i){i===null?ne(Hs,Hs.current):ne(Hs,i.pool)}function _0(){var r=Ah();return r===null?null:{parent:hn._currentValue,pool:r}}var uo=Error(s(460)),C0=Error(s(474)),id=Error(s(542)),Ph={then:function(){}};function E0(r){return r=r.status,r==="fulfilled"||r==="rejected"}function ld(){}function R0(r,i,c){switch(c=r[c],c===void 0?r.push(i):c!==i&&(i.then(ld,ld),i=c),i.status){case"fulfilled":return i.value;case"rejected":throw r=i.reason,P0(r),r;default:if(typeof i.status=="string")i.then(ld,ld);else{if(r=Ft,r!==null&&100<r.shellSuspendCounter)throw Error(s(482));r=i,r.status="pending",r.then(function(u){if(i.status==="pending"){var x=i;x.status="fulfilled",x.value=u}},function(u){if(i.status==="pending"){var x=i;x.status="rejected",x.reason=u}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw r=i.reason,P0(r),r}throw fo=i,uo}}var fo=null;function A0(){if(fo===null)throw Error(s(459));var r=fo;return fo=null,r}function P0(r){if(r===uo||r===id)throw Error(s(483))}var zr=!1;function kh(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Th(r,i){r=r.updateQueue,i.updateQueue===r&&(i.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,callbacks:null})}function qr(r){return{lane:r,tag:0,payload:null,callback:null,next:null}}function Hr(r,i,c){var u=r.updateQueue;if(u===null)return null;if(u=u.shared,(Tt&2)!==0){var x=u.pending;return x===null?i.next=i:(i.next=x.next,x.next=i),u.pending=i,i=Qc(r),g0(r,null,c),i}return Xc(r,u,i,c),Qc(r)}function ho(r,i,c){if(i=i.updateQueue,i!==null&&(i=i.shared,(c&4194048)!==0)){var u=i.lanes;u&=r.pendingLanes,c|=u,i.lanes=c,za(r,c)}}function Dh(r,i){var c=r.updateQueue,u=r.alternate;if(u!==null&&(u=u.updateQueue,c===u)){var x=null,v=null;if(c=c.firstBaseUpdate,c!==null){do{var C={lane:c.lane,tag:c.tag,payload:c.payload,callback:null,next:null};v===null?x=v=C:v=v.next=C,c=c.next}while(c!==null);v===null?x=v=i:v=v.next=i}else x=v=i;c={baseState:u.baseState,firstBaseUpdate:x,lastBaseUpdate:v,shared:u.shared,callbacks:u.callbacks},r.updateQueue=c;return}r=c.lastBaseUpdate,r===null?c.firstBaseUpdate=i:r.next=i,c.lastBaseUpdate=i}var Mh=!1;function mo(){if(Mh){var r=Oi;if(r!==null)throw r}}function po(r,i,c,u){Mh=!1;var x=r.updateQueue;zr=!1;var v=x.firstBaseUpdate,C=x.lastBaseUpdate,M=x.shared.pending;if(M!==null){x.shared.pending=null;var H=M,re=H.next;H.next=null,C===null?v=re:C.next=re,C=H;var ue=r.alternate;ue!==null&&(ue=ue.updateQueue,M=ue.lastBaseUpdate,M!==C&&(M===null?ue.firstBaseUpdate=re:M.next=re,ue.lastBaseUpdate=H))}if(v!==null){var pe=x.baseState;C=0,ue=re=H=null,M=v;do{var ie=M.lane&-536870913,oe=ie!==M.lane;if(oe?(wt&ie)===ie:(u&ie)===ie){ie!==0&&ie===Mi&&(Mh=!0),ue!==null&&(ue=ue.next={lane:0,tag:M.tag,payload:M.payload,callback:null,next:null});e:{var Je=r,Ge=M;ie=i;var Lt=c;switch(Ge.tag){case 1:if(Je=Ge.payload,typeof Je=="function"){pe=Je.call(Lt,pe,ie);break e}pe=Je;break e;case 3:Je.flags=Je.flags&-65537|128;case 0:if(Je=Ge.payload,ie=typeof Je=="function"?Je.call(Lt,pe,ie):Je,ie==null)break e;pe=g({},pe,ie);break e;case 2:zr=!0}}ie=M.callback,ie!==null&&(r.flags|=64,oe&&(r.flags|=8192),oe=x.callbacks,oe===null?x.callbacks=[ie]:oe.push(ie))}else oe={lane:ie,tag:M.tag,payload:M.payload,callback:M.callback,next:null},ue===null?(re=ue=oe,H=pe):ue=ue.next=oe,C|=ie;if(M=M.next,M===null){if(M=x.shared.pending,M===null)break;oe=M,M=oe.next,oe.next=null,x.lastBaseUpdate=oe,x.shared.pending=null}}while(!0);ue===null&&(H=pe),x.baseState=H,x.firstBaseUpdate=re,x.lastBaseUpdate=ue,v===null&&(x.shared.lanes=0),Xr|=C,r.lanes=C,r.memoizedState=pe}}function k0(r,i){if(typeof r!="function")throw Error(s(191,r));r.call(i)}function T0(r,i){var c=r.callbacks;if(c!==null)for(r.callbacks=null,r=0;r<c.length;r++)k0(c[r],i)}var Li=V(null),od=V(0);function D0(r,i){r=xr,ne(od,r),ne(Li,i),xr=r|i.baseLanes}function Oh(){ne(od,xr),ne(Li,Li.current)}function Lh(){xr=od.current,J(Li),J(od)}var Vr=0,ct=null,Mt=null,cn=null,cd=!1,Ui=!1,Vs=!1,dd=0,go=0,$i=null,C3=0;function nn(){throw Error(s(321))}function Uh(r,i){if(i===null)return!1;for(var c=0;c<i.length&&c<r.length;c++)if(!Jn(r[c],i[c]))return!1;return!0}function $h(r,i,c,u,x,v){return Vr=v,ct=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,O.H=r===null||r.memoizedState===null?gb:xb,Vs=!1,v=c(u,x),Vs=!1,Ui&&(v=O0(i,c,u,x)),M0(r),v}function M0(r){O.H=gd;var i=Mt!==null&&Mt.next!==null;if(Vr=0,cn=Mt=ct=null,cd=!1,go=0,$i=null,i)throw Error(s(300));r===null||pn||(r=r.dependencies,r!==null&&ad(r)&&(pn=!0))}function O0(r,i,c,u){ct=r;var x=0;do{if(Ui&&($i=null),go=0,Ui=!1,25<=x)throw Error(s(301));if(x+=1,cn=Mt=null,r.updateQueue!=null){var v=r.updateQueue;v.lastEffect=null,v.events=null,v.stores=null,v.memoCache!=null&&(v.memoCache.index=0)}O.H=D3,v=i(c,u)}while(Ui);return v}function E3(){var r=O.H,i=r.useState()[0];return i=typeof i.then=="function"?xo(i):i,r=r.useState()[0],(Mt!==null?Mt.memoizedState:null)!==r&&(ct.flags|=1024),i}function Fh(){var r=dd!==0;return dd=0,r}function Ih(r,i,c){i.updateQueue=r.updateQueue,i.flags&=-2053,r.lanes&=~c}function Bh(r){if(cd){for(r=r.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}cd=!1}Vr=0,cn=Mt=ct=null,Ui=!1,go=dd=0,$i=null}function qn(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return cn===null?ct.memoizedState=cn=r:cn=cn.next=r,cn}function dn(){if(Mt===null){var r=ct.alternate;r=r!==null?r.memoizedState:null}else r=Mt.next;var i=cn===null?ct.memoizedState:cn.next;if(i!==null)cn=i,Mt=r;else{if(r===null)throw ct.alternate===null?Error(s(467)):Error(s(310));Mt=r,r={memoizedState:Mt.memoizedState,baseState:Mt.baseState,baseQueue:Mt.baseQueue,queue:Mt.queue,next:null},cn===null?ct.memoizedState=cn=r:cn=cn.next=r}return cn}function zh(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function xo(r){var i=go;return go+=1,$i===null&&($i=[]),r=R0($i,r,i),i=ct,(cn===null?i.memoizedState:cn.next)===null&&(i=i.alternate,O.H=i===null||i.memoizedState===null?gb:xb),r}function ud(r){if(r!==null&&typeof r=="object"){if(typeof r.then=="function")return xo(r);if(r.$$typeof===N)return Rn(r)}throw Error(s(438,String(r)))}function qh(r){var i=null,c=ct.updateQueue;if(c!==null&&(i=c.memoCache),i==null){var u=ct.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(i={data:u.data.map(function(x){return x.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),c===null&&(c=zh(),ct.updateQueue=c),c.memoCache=i,c=i.data[i.index],c===void 0)for(c=i.data[i.index]=Array(r),u=0;u<r;u++)c[u]=Z;return i.index++,c}function ur(r,i){return typeof i=="function"?i(r):i}function fd(r){var i=dn();return Hh(i,Mt,r)}function Hh(r,i,c){var u=r.queue;if(u===null)throw Error(s(311));u.lastRenderedReducer=c;var x=r.baseQueue,v=u.pending;if(v!==null){if(x!==null){var C=x.next;x.next=v.next,v.next=C}i.baseQueue=x=v,u.pending=null}if(v=r.baseState,x===null)r.memoizedState=v;else{i=x.next;var M=C=null,H=null,re=i,ue=!1;do{var pe=re.lane&-536870913;if(pe!==re.lane?(wt&pe)===pe:(Vr&pe)===pe){var ie=re.revertLane;if(ie===0)H!==null&&(H=H.next={lane:0,revertLane:0,action:re.action,hasEagerState:re.hasEagerState,eagerState:re.eagerState,next:null}),pe===Mi&&(ue=!0);else if((Vr&ie)===ie){re=re.next,ie===Mi&&(ue=!0);continue}else pe={lane:0,revertLane:re.revertLane,action:re.action,hasEagerState:re.hasEagerState,eagerState:re.eagerState,next:null},H===null?(M=H=pe,C=v):H=H.next=pe,ct.lanes|=ie,Xr|=ie;pe=re.action,Vs&&c(v,pe),v=re.hasEagerState?re.eagerState:c(v,pe)}else ie={lane:pe,revertLane:re.revertLane,action:re.action,hasEagerState:re.hasEagerState,eagerState:re.eagerState,next:null},H===null?(M=H=ie,C=v):H=H.next=ie,ct.lanes|=pe,Xr|=pe;re=re.next}while(re!==null&&re!==i);if(H===null?C=v:H.next=M,!Jn(v,r.memoizedState)&&(pn=!0,ue&&(c=Oi,c!==null)))throw c;r.memoizedState=v,r.baseState=C,r.baseQueue=H,u.lastRenderedState=v}return x===null&&(u.lanes=0),[r.memoizedState,u.dispatch]}function Vh(r){var i=dn(),c=i.queue;if(c===null)throw Error(s(311));c.lastRenderedReducer=r;var u=c.dispatch,x=c.pending,v=i.memoizedState;if(x!==null){c.pending=null;var C=x=x.next;do v=r(v,C.action),C=C.next;while(C!==x);Jn(v,i.memoizedState)||(pn=!0),i.memoizedState=v,i.baseQueue===null&&(i.baseState=v),c.lastRenderedState=v}return[v,u]}function L0(r,i,c){var u=ct,x=dn(),v=Rt;if(v){if(c===void 0)throw Error(s(407));c=c()}else c=i();var C=!Jn((Mt||x).memoizedState,c);C&&(x.memoizedState=c,pn=!0),x=x.queue;var M=F0.bind(null,u,x,r);if(bo(2048,8,M,[r]),x.getSnapshot!==i||C||cn!==null&&cn.memoizedState.tag&1){if(u.flags|=2048,Fi(9,hd(),$0.bind(null,u,x,c,i),null),Ft===null)throw Error(s(349));v||(Vr&124)!==0||U0(u,i,c)}return c}function U0(r,i,c){r.flags|=16384,r={getSnapshot:i,value:c},i=ct.updateQueue,i===null?(i=zh(),ct.updateQueue=i,i.stores=[r]):(c=i.stores,c===null?i.stores=[r]:c.push(r))}function $0(r,i,c,u){i.value=c,i.getSnapshot=u,I0(i)&&B0(r)}function F0(r,i,c){return c(function(){I0(i)&&B0(r)})}function I0(r){var i=r.getSnapshot;r=r.value;try{var c=i();return!Jn(r,c)}catch{return!0}}function B0(r){var i=Pi(r,2);i!==null&&na(i,r,2)}function Gh(r){var i=qn();if(typeof r=="function"){var c=r;if(r=c(),Vs){He(!0);try{c()}finally{He(!1)}}}return i.memoizedState=i.baseState=r,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ur,lastRenderedState:r},i}function z0(r,i,c,u){return r.baseState=c,Hh(r,Mt,typeof u=="function"?u:ur)}function R3(r,i,c,u,x){if(pd(r))throw Error(s(485));if(r=i.action,r!==null){var v={payload:x,action:r,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(C){v.listeners.push(C)}};O.T!==null?c(!0):v.isTransition=!1,u(v),c=i.pending,c===null?(v.next=i.pending=v,q0(i,v)):(v.next=c.next,i.pending=c.next=v)}}function q0(r,i){var c=i.action,u=i.payload,x=r.state;if(i.isTransition){var v=O.T,C={};O.T=C;try{var M=c(x,u),H=O.S;H!==null&&H(C,M),H0(r,i,M)}catch(re){Yh(r,i,re)}finally{O.T=v}}else try{v=c(x,u),H0(r,i,v)}catch(re){Yh(r,i,re)}}function H0(r,i,c){c!==null&&typeof c=="object"&&typeof c.then=="function"?c.then(function(u){V0(r,i,u)},function(u){return Yh(r,i,u)}):V0(r,i,c)}function V0(r,i,c){i.status="fulfilled",i.value=c,G0(i),r.state=c,i=r.pending,i!==null&&(c=i.next,c===i?r.pending=null:(c=c.next,i.next=c,q0(r,c)))}function Yh(r,i,c){var u=r.pending;if(r.pending=null,u!==null){u=u.next;do i.status="rejected",i.reason=c,G0(i),i=i.next;while(i!==u)}r.action=null}function G0(r){r=r.listeners;for(var i=0;i<r.length;i++)(0,r[i])()}function Y0(r,i){return i}function K0(r,i){if(Rt){var c=Ft.formState;if(c!==null){e:{var u=ct;if(Rt){if(en){t:{for(var x=en,v=qa;x.nodeType!==8;){if(!v){x=null;break t}if(x=Pa(x.nextSibling),x===null){x=null;break t}}v=x.data,x=v==="F!"||v==="F"?x:null}if(x){en=Pa(x.nextSibling),u=x.data==="F!";break e}}Bs(u)}u=!1}u&&(i=c[0])}}return c=qn(),c.memoizedState=c.baseState=i,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Y0,lastRenderedState:i},c.queue=u,c=hb.bind(null,ct,u),u.dispatch=c,u=Gh(!1),v=Xh.bind(null,ct,!1,u.queue),u=qn(),x={state:i,dispatch:null,action:r,pending:null},u.queue=x,c=R3.bind(null,ct,x,v,c),x.dispatch=c,u.memoizedState=r,[i,c,!1]}function W0(r){var i=dn();return J0(i,Mt,r)}function J0(r,i,c){if(i=Hh(r,i,Y0)[0],r=fd(ur)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var u=xo(i)}catch(C){throw C===uo?id:C}else u=i;i=dn();var x=i.queue,v=x.dispatch;return c!==i.memoizedState&&(ct.flags|=2048,Fi(9,hd(),A3.bind(null,x,c),null)),[u,v,r]}function A3(r,i){r.action=i}function Z0(r){var i=dn(),c=Mt;if(c!==null)return J0(i,c,r);dn(),i=i.memoizedState,c=dn();var u=c.queue.dispatch;return c.memoizedState=r,[i,u,!1]}function Fi(r,i,c,u){return r={tag:r,create:c,deps:u,inst:i,next:null},i=ct.updateQueue,i===null&&(i=zh(),ct.updateQueue=i),c=i.lastEffect,c===null?i.lastEffect=r.next=r:(u=c.next,c.next=r,r.next=u,i.lastEffect=r),r}function hd(){return{destroy:void 0,resource:void 0}}function X0(){return dn().memoizedState}function md(r,i,c,u){var x=qn();u=u===void 0?null:u,ct.flags|=r,x.memoizedState=Fi(1|i,hd(),c,u)}function bo(r,i,c,u){var x=dn();u=u===void 0?null:u;var v=x.memoizedState.inst;Mt!==null&&u!==null&&Uh(u,Mt.memoizedState.deps)?x.memoizedState=Fi(i,v,c,u):(ct.flags|=r,x.memoizedState=Fi(1|i,v,c,u))}function Q0(r,i){md(8390656,8,r,i)}function eb(r,i){bo(2048,8,r,i)}function tb(r,i){return bo(4,2,r,i)}function nb(r,i){return bo(4,4,r,i)}function ab(r,i){if(typeof i=="function"){r=r();var c=i(r);return function(){typeof c=="function"?c():i(null)}}if(i!=null)return r=r(),i.current=r,function(){i.current=null}}function rb(r,i,c){c=c!=null?c.concat([r]):null,bo(4,4,ab.bind(null,i,r),c)}function Kh(){}function sb(r,i){var c=dn();i=i===void 0?null:i;var u=c.memoizedState;return i!==null&&Uh(i,u[1])?u[0]:(c.memoizedState=[r,i],r)}function ib(r,i){var c=dn();i=i===void 0?null:i;var u=c.memoizedState;if(i!==null&&Uh(i,u[1]))return u[0];if(u=r(),Vs){He(!0);try{r()}finally{He(!1)}}return c.memoizedState=[u,i],u}function Wh(r,i,c){return c===void 0||(Vr&1073741824)!==0?r.memoizedState=i:(r.memoizedState=c,r=cv(),ct.lanes|=r,Xr|=r,c)}function lb(r,i,c,u){return Jn(c,i)?c:Li.current!==null?(r=Wh(r,c,u),Jn(r,i)||(pn=!0),r):(Vr&42)===0?(pn=!0,r.memoizedState=c):(r=cv(),ct.lanes|=r,Xr|=r,i)}function ob(r,i,c,u,x){var v=q.p;q.p=v!==0&&8>v?v:8;var C=O.T,M={};O.T=M,Xh(r,!1,i,c);try{var H=x(),re=O.S;if(re!==null&&re(M,H),H!==null&&typeof H=="object"&&typeof H.then=="function"){var ue=_3(H,u);vo(r,i,ue,ta(r))}else vo(r,i,u,ta(r))}catch(pe){vo(r,i,{then:function(){},status:"rejected",reason:pe},ta())}finally{q.p=v,O.T=C}}function P3(){}function Jh(r,i,c,u){if(r.tag!==5)throw Error(s(476));var x=cb(r).queue;ob(r,x,i,B,c===null?P3:function(){return db(r),c(u)})}function cb(r){var i=r.memoizedState;if(i!==null)return i;i={memoizedState:B,baseState:B,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ur,lastRenderedState:B},next:null};var c={};return i.next={memoizedState:c,baseState:c,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ur,lastRenderedState:c},next:null},r.memoizedState=i,r=r.alternate,r!==null&&(r.memoizedState=i),i}function db(r){var i=cb(r).next.queue;vo(r,i,{},ta())}function Zh(){return Rn(Uo)}function ub(){return dn().memoizedState}function fb(){return dn().memoizedState}function k3(r){for(var i=r.return;i!==null;){switch(i.tag){case 24:case 3:var c=ta();r=qr(c);var u=Hr(i,r,c);u!==null&&(na(u,i,c),ho(u,i,c)),i={cache:Eh()},r.payload=i;return}i=i.return}}function T3(r,i,c){var u=ta();c={lane:u,revertLane:0,action:c,hasEagerState:!1,eagerState:null,next:null},pd(r)?mb(i,c):(c=xh(r,i,c,u),c!==null&&(na(c,r,u),pb(c,i,u)))}function hb(r,i,c){var u=ta();vo(r,i,c,u)}function vo(r,i,c,u){var x={lane:u,revertLane:0,action:c,hasEagerState:!1,eagerState:null,next:null};if(pd(r))mb(i,x);else{var v=r.alternate;if(r.lanes===0&&(v===null||v.lanes===0)&&(v=i.lastRenderedReducer,v!==null))try{var C=i.lastRenderedState,M=v(C,c);if(x.hasEagerState=!0,x.eagerState=M,Jn(M,C))return Xc(r,i,x,0),Ft===null&&Zc(),!1}catch{}finally{}if(c=xh(r,i,x,u),c!==null)return na(c,r,u),pb(c,i,u),!0}return!1}function Xh(r,i,c,u){if(u={lane:2,revertLane:Pm(),action:u,hasEagerState:!1,eagerState:null,next:null},pd(r)){if(i)throw Error(s(479))}else i=xh(r,c,u,2),i!==null&&na(i,r,2)}function pd(r){var i=r.alternate;return r===ct||i!==null&&i===ct}function mb(r,i){Ui=cd=!0;var c=r.pending;c===null?i.next=i:(i.next=c.next,c.next=i),r.pending=i}function pb(r,i,c){if((c&4194048)!==0){var u=i.lanes;u&=r.pendingLanes,c|=u,i.lanes=c,za(r,c)}}var gd={readContext:Rn,use:ud,useCallback:nn,useContext:nn,useEffect:nn,useImperativeHandle:nn,useLayoutEffect:nn,useInsertionEffect:nn,useMemo:nn,useReducer:nn,useRef:nn,useState:nn,useDebugValue:nn,useDeferredValue:nn,useTransition:nn,useSyncExternalStore:nn,useId:nn,useHostTransitionStatus:nn,useFormState:nn,useActionState:nn,useOptimistic:nn,useMemoCache:nn,useCacheRefresh:nn},gb={readContext:Rn,use:ud,useCallback:function(r,i){return qn().memoizedState=[r,i===void 0?null:i],r},useContext:Rn,useEffect:Q0,useImperativeHandle:function(r,i,c){c=c!=null?c.concat([r]):null,md(4194308,4,ab.bind(null,i,r),c)},useLayoutEffect:function(r,i){return md(4194308,4,r,i)},useInsertionEffect:function(r,i){md(4,2,r,i)},useMemo:function(r,i){var c=qn();i=i===void 0?null:i;var u=r();if(Vs){He(!0);try{r()}finally{He(!1)}}return c.memoizedState=[u,i],u},useReducer:function(r,i,c){var u=qn();if(c!==void 0){var x=c(i);if(Vs){He(!0);try{c(i)}finally{He(!1)}}}else x=i;return u.memoizedState=u.baseState=x,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:x},u.queue=r,r=r.dispatch=T3.bind(null,ct,r),[u.memoizedState,r]},useRef:function(r){var i=qn();return r={current:r},i.memoizedState=r},useState:function(r){r=Gh(r);var i=r.queue,c=hb.bind(null,ct,i);return i.dispatch=c,[r.memoizedState,c]},useDebugValue:Kh,useDeferredValue:function(r,i){var c=qn();return Wh(c,r,i)},useTransition:function(){var r=Gh(!1);return r=ob.bind(null,ct,r.queue,!0,!1),qn().memoizedState=r,[!1,r]},useSyncExternalStore:function(r,i,c){var u=ct,x=qn();if(Rt){if(c===void 0)throw Error(s(407));c=c()}else{if(c=i(),Ft===null)throw Error(s(349));(wt&124)!==0||U0(u,i,c)}x.memoizedState=c;var v={value:c,getSnapshot:i};return x.queue=v,Q0(F0.bind(null,u,v,r),[r]),u.flags|=2048,Fi(9,hd(),$0.bind(null,u,v,c,i),null),c},useId:function(){var r=qn(),i=Ft.identifierPrefix;if(Rt){var c=or,u=lr;c=(u&~(1<<32-ht(u)-1)).toString(32)+c,i=""+i+"R"+c,c=dd++,0<c&&(i+="H"+c.toString(32)),i+=""}else c=C3++,i=""+i+"r"+c.toString(32)+"";return r.memoizedState=i},useHostTransitionStatus:Zh,useFormState:K0,useActionState:K0,useOptimistic:function(r){var i=qn();i.memoizedState=i.baseState=r;var c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=c,i=Xh.bind(null,ct,!0,c),c.dispatch=i,[r,i]},useMemoCache:qh,useCacheRefresh:function(){return qn().memoizedState=k3.bind(null,ct)}},xb={readContext:Rn,use:ud,useCallback:sb,useContext:Rn,useEffect:eb,useImperativeHandle:rb,useInsertionEffect:tb,useLayoutEffect:nb,useMemo:ib,useReducer:fd,useRef:X0,useState:function(){return fd(ur)},useDebugValue:Kh,useDeferredValue:function(r,i){var c=dn();return lb(c,Mt.memoizedState,r,i)},useTransition:function(){var r=fd(ur)[0],i=dn().memoizedState;return[typeof r=="boolean"?r:xo(r),i]},useSyncExternalStore:L0,useId:ub,useHostTransitionStatus:Zh,useFormState:W0,useActionState:W0,useOptimistic:function(r,i){var c=dn();return z0(c,Mt,r,i)},useMemoCache:qh,useCacheRefresh:fb},D3={readContext:Rn,use:ud,useCallback:sb,useContext:Rn,useEffect:eb,useImperativeHandle:rb,useInsertionEffect:tb,useLayoutEffect:nb,useMemo:ib,useReducer:Vh,useRef:X0,useState:function(){return Vh(ur)},useDebugValue:Kh,useDeferredValue:function(r,i){var c=dn();return Mt===null?Wh(c,r,i):lb(c,Mt.memoizedState,r,i)},useTransition:function(){var r=Vh(ur)[0],i=dn().memoizedState;return[typeof r=="boolean"?r:xo(r),i]},useSyncExternalStore:L0,useId:ub,useHostTransitionStatus:Zh,useFormState:Z0,useActionState:Z0,useOptimistic:function(r,i){var c=dn();return Mt!==null?z0(c,Mt,r,i):(c.baseState=r,[r,c.queue.dispatch])},useMemoCache:qh,useCacheRefresh:fb},Ii=null,yo=0;function xd(r){var i=yo;return yo+=1,Ii===null&&(Ii=[]),R0(Ii,r,i)}function wo(r,i){i=i.props.ref,r.ref=i!==void 0?i:null}function bd(r,i){throw i.$$typeof===b?Error(s(525)):(r=Object.prototype.toString.call(i),Error(s(31,r==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":r)))}function bb(r){var i=r._init;return i(r._payload)}function vb(r){function i(Q,K){if(r){var ae=Q.deletions;ae===null?(Q.deletions=[K],Q.flags|=16):ae.push(K)}}function c(Q,K){if(!r)return null;for(;K!==null;)i(Q,K),K=K.sibling;return null}function u(Q){for(var K=new Map;Q!==null;)Q.key!==null?K.set(Q.key,Q):K.set(Q.index,Q),Q=Q.sibling;return K}function x(Q,K){return Q=ir(Q,K),Q.index=0,Q.sibling=null,Q}function v(Q,K,ae){return Q.index=ae,r?(ae=Q.alternate,ae!==null?(ae=ae.index,ae<K?(Q.flags|=67108866,K):ae):(Q.flags|=67108866,K)):(Q.flags|=1048576,K)}function C(Q){return r&&Q.alternate===null&&(Q.flags|=67108866),Q}function M(Q,K,ae,he){return K===null||K.tag!==6?(K=vh(ae,Q.mode,he),K.return=Q,K):(K=x(K,ae),K.return=Q,K)}function H(Q,K,ae,he){var Oe=ae.type;return Oe===j?ue(Q,K,ae.props.children,he,ae.key):K!==null&&(K.elementType===Oe||typeof Oe=="object"&&Oe!==null&&Oe.$$typeof===I&&bb(Oe)===K.type)?(K=x(K,ae.props),wo(K,ae),K.return=Q,K):(K=ed(ae.type,ae.key,ae.props,null,Q.mode,he),wo(K,ae),K.return=Q,K)}function re(Q,K,ae,he){return K===null||K.tag!==4||K.stateNode.containerInfo!==ae.containerInfo||K.stateNode.implementation!==ae.implementation?(K=yh(ae,Q.mode,he),K.return=Q,K):(K=x(K,ae.children||[]),K.return=Q,K)}function ue(Q,K,ae,he,Oe){return K===null||K.tag!==7?(K=Us(ae,Q.mode,he,Oe),K.return=Q,K):(K=x(K,ae),K.return=Q,K)}function pe(Q,K,ae){if(typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint")return K=vh(""+K,Q.mode,ae),K.return=Q,K;if(typeof K=="object"&&K!==null){switch(K.$$typeof){case y:return ae=ed(K.type,K.key,K.props,null,Q.mode,ae),wo(ae,K),ae.return=Q,ae;case w:return K=yh(K,Q.mode,ae),K.return=Q,K;case I:var he=K._init;return K=he(K._payload),pe(Q,K,ae)}if(W(K)||F(K))return K=Us(K,Q.mode,ae,null),K.return=Q,K;if(typeof K.then=="function")return pe(Q,xd(K),ae);if(K.$$typeof===N)return pe(Q,rd(Q,K),ae);bd(Q,K)}return null}function ie(Q,K,ae,he){var Oe=K!==null?K.key:null;if(typeof ae=="string"&&ae!==""||typeof ae=="number"||typeof ae=="bigint")return Oe!==null?null:M(Q,K,""+ae,he);if(typeof ae=="object"&&ae!==null){switch(ae.$$typeof){case y:return ae.key===Oe?H(Q,K,ae,he):null;case w:return ae.key===Oe?re(Q,K,ae,he):null;case I:return Oe=ae._init,ae=Oe(ae._payload),ie(Q,K,ae,he)}if(W(ae)||F(ae))return Oe!==null?null:ue(Q,K,ae,he,null);if(typeof ae.then=="function")return ie(Q,K,xd(ae),he);if(ae.$$typeof===N)return ie(Q,K,rd(Q,ae),he);bd(Q,ae)}return null}function oe(Q,K,ae,he,Oe){if(typeof he=="string"&&he!==""||typeof he=="number"||typeof he=="bigint")return Q=Q.get(ae)||null,M(K,Q,""+he,Oe);if(typeof he=="object"&&he!==null){switch(he.$$typeof){case y:return Q=Q.get(he.key===null?ae:he.key)||null,H(K,Q,he,Oe);case w:return Q=Q.get(he.key===null?ae:he.key)||null,re(K,Q,he,Oe);case I:var ut=he._init;return he=ut(he._payload),oe(Q,K,ae,he,Oe)}if(W(he)||F(he))return Q=Q.get(ae)||null,ue(K,Q,he,Oe,null);if(typeof he.then=="function")return oe(Q,K,ae,xd(he),Oe);if(he.$$typeof===N)return oe(Q,K,ae,rd(K,he),Oe);bd(K,he)}return null}function Je(Q,K,ae,he){for(var Oe=null,ut=null,Ie=K,Ye=K=0,xn=null;Ie!==null&&Ye<ae.length;Ye++){Ie.index>Ye?(xn=Ie,Ie=null):xn=Ie.sibling;var Ct=ie(Q,Ie,ae[Ye],he);if(Ct===null){Ie===null&&(Ie=xn);break}r&&Ie&&Ct.alternate===null&&i(Q,Ie),K=v(Ct,K,Ye),ut===null?Oe=Ct:ut.sibling=Ct,ut=Ct,Ie=xn}if(Ye===ae.length)return c(Q,Ie),Rt&&Fs(Q,Ye),Oe;if(Ie===null){for(;Ye<ae.length;Ye++)Ie=pe(Q,ae[Ye],he),Ie!==null&&(K=v(Ie,K,Ye),ut===null?Oe=Ie:ut.sibling=Ie,ut=Ie);return Rt&&Fs(Q,Ye),Oe}for(Ie=u(Ie);Ye<ae.length;Ye++)xn=oe(Ie,Q,Ye,ae[Ye],he),xn!==null&&(r&&xn.alternate!==null&&Ie.delete(xn.key===null?Ye:xn.key),K=v(xn,K,Ye),ut===null?Oe=xn:ut.sibling=xn,ut=xn);return r&&Ie.forEach(function(ls){return i(Q,ls)}),Rt&&Fs(Q,Ye),Oe}function Ge(Q,K,ae,he){if(ae==null)throw Error(s(151));for(var Oe=null,ut=null,Ie=K,Ye=K=0,xn=null,Ct=ae.next();Ie!==null&&!Ct.done;Ye++,Ct=ae.next()){Ie.index>Ye?(xn=Ie,Ie=null):xn=Ie.sibling;var ls=ie(Q,Ie,Ct.value,he);if(ls===null){Ie===null&&(Ie=xn);break}r&&Ie&&ls.alternate===null&&i(Q,Ie),K=v(ls,K,Ye),ut===null?Oe=ls:ut.sibling=ls,ut=ls,Ie=xn}if(Ct.done)return c(Q,Ie),Rt&&Fs(Q,Ye),Oe;if(Ie===null){for(;!Ct.done;Ye++,Ct=ae.next())Ct=pe(Q,Ct.value,he),Ct!==null&&(K=v(Ct,K,Ye),ut===null?Oe=Ct:ut.sibling=Ct,ut=Ct);return Rt&&Fs(Q,Ye),Oe}for(Ie=u(Ie);!Ct.done;Ye++,Ct=ae.next())Ct=oe(Ie,Q,Ye,Ct.value,he),Ct!==null&&(r&&Ct.alternate!==null&&Ie.delete(Ct.key===null?Ye:Ct.key),K=v(Ct,K,Ye),ut===null?Oe=Ct:ut.sibling=Ct,ut=Ct);return r&&Ie.forEach(function(ME){return i(Q,ME)}),Rt&&Fs(Q,Ye),Oe}function Lt(Q,K,ae,he){if(typeof ae=="object"&&ae!==null&&ae.type===j&&ae.key===null&&(ae=ae.props.children),typeof ae=="object"&&ae!==null){switch(ae.$$typeof){case y:e:{for(var Oe=ae.key;K!==null;){if(K.key===Oe){if(Oe=ae.type,Oe===j){if(K.tag===7){c(Q,K.sibling),he=x(K,ae.props.children),he.return=Q,Q=he;break e}}else if(K.elementType===Oe||typeof Oe=="object"&&Oe!==null&&Oe.$$typeof===I&&bb(Oe)===K.type){c(Q,K.sibling),he=x(K,ae.props),wo(he,ae),he.return=Q,Q=he;break e}c(Q,K);break}else i(Q,K);K=K.sibling}ae.type===j?(he=Us(ae.props.children,Q.mode,he,ae.key),he.return=Q,Q=he):(he=ed(ae.type,ae.key,ae.props,null,Q.mode,he),wo(he,ae),he.return=Q,Q=he)}return C(Q);case w:e:{for(Oe=ae.key;K!==null;){if(K.key===Oe)if(K.tag===4&&K.stateNode.containerInfo===ae.containerInfo&&K.stateNode.implementation===ae.implementation){c(Q,K.sibling),he=x(K,ae.children||[]),he.return=Q,Q=he;break e}else{c(Q,K);break}else i(Q,K);K=K.sibling}he=yh(ae,Q.mode,he),he.return=Q,Q=he}return C(Q);case I:return Oe=ae._init,ae=Oe(ae._payload),Lt(Q,K,ae,he)}if(W(ae))return Je(Q,K,ae,he);if(F(ae)){if(Oe=F(ae),typeof Oe!="function")throw Error(s(150));return ae=Oe.call(ae),Ge(Q,K,ae,he)}if(typeof ae.then=="function")return Lt(Q,K,xd(ae),he);if(ae.$$typeof===N)return Lt(Q,K,rd(Q,ae),he);bd(Q,ae)}return typeof ae=="string"&&ae!==""||typeof ae=="number"||typeof ae=="bigint"?(ae=""+ae,K!==null&&K.tag===6?(c(Q,K.sibling),he=x(K,ae),he.return=Q,Q=he):(c(Q,K),he=vh(ae,Q.mode,he),he.return=Q,Q=he),C(Q)):c(Q,K)}return function(Q,K,ae,he){try{yo=0;var Oe=Lt(Q,K,ae,he);return Ii=null,Oe}catch(Ie){if(Ie===uo||Ie===id)throw Ie;var ut=Zn(29,Ie,null,Q.mode);return ut.lanes=he,ut.return=Q,ut}finally{}}}var Bi=vb(!0),yb=vb(!1),pa=V(null),Ha=null;function Gr(r){var i=r.alternate;ne(mn,mn.current&1),ne(pa,r),Ha===null&&(i===null||Li.current!==null||i.memoizedState!==null)&&(Ha=r)}function wb(r){if(r.tag===22){if(ne(mn,mn.current),ne(pa,r),Ha===null){var i=r.alternate;i!==null&&i.memoizedState!==null&&(Ha=r)}}else Yr()}function Yr(){ne(mn,mn.current),ne(pa,pa.current)}function fr(r){J(pa),Ha===r&&(Ha=null),J(mn)}var mn=V(0);function vd(r){for(var i=r;i!==null;){if(i.tag===13){var c=i.memoizedState;if(c!==null&&(c=c.dehydrated,c===null||c.data==="$?"||zm(c)))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===r)break;for(;i.sibling===null;){if(i.return===null||i.return===r)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}function Qh(r,i,c,u){i=r.memoizedState,c=c(u,i),c=c==null?i:g({},i,c),r.memoizedState=c,r.lanes===0&&(r.updateQueue.baseState=c)}var em={enqueueSetState:function(r,i,c){r=r._reactInternals;var u=ta(),x=qr(u);x.payload=i,c!=null&&(x.callback=c),i=Hr(r,x,u),i!==null&&(na(i,r,u),ho(i,r,u))},enqueueReplaceState:function(r,i,c){r=r._reactInternals;var u=ta(),x=qr(u);x.tag=1,x.payload=i,c!=null&&(x.callback=c),i=Hr(r,x,u),i!==null&&(na(i,r,u),ho(i,r,u))},enqueueForceUpdate:function(r,i){r=r._reactInternals;var c=ta(),u=qr(c);u.tag=2,i!=null&&(u.callback=i),i=Hr(r,u,c),i!==null&&(na(i,r,c),ho(i,r,c))}};function jb(r,i,c,u,x,v,C){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(u,v,C):i.prototype&&i.prototype.isPureReactComponent?!no(c,u)||!no(x,v):!0}function Sb(r,i,c,u){r=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(c,u),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(c,u),i.state!==r&&em.enqueueReplaceState(i,i.state,null)}function Gs(r,i){var c=i;if("ref"in i){c={};for(var u in i)u!=="ref"&&(c[u]=i[u])}if(r=r.defaultProps){c===i&&(c=g({},c));for(var x in r)c[x]===void 0&&(c[x]=r[x])}return c}var yd=typeof reportError=="function"?reportError:function(r){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof r=="object"&&r!==null&&typeof r.message=="string"?String(r.message):String(r),error:r});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",r);return}console.error(r)};function Nb(r){yd(r)}function _b(r){console.error(r)}function Cb(r){yd(r)}function wd(r,i){try{var c=r.onUncaughtError;c(i.value,{componentStack:i.stack})}catch(u){setTimeout(function(){throw u})}}function Eb(r,i,c){try{var u=r.onCaughtError;u(c.value,{componentStack:c.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(x){setTimeout(function(){throw x})}}function tm(r,i,c){return c=qr(c),c.tag=3,c.payload={element:null},c.callback=function(){wd(r,i)},c}function Rb(r){return r=qr(r),r.tag=3,r}function Ab(r,i,c,u){var x=c.type.getDerivedStateFromError;if(typeof x=="function"){var v=u.value;r.payload=function(){return x(v)},r.callback=function(){Eb(i,c,u)}}var C=c.stateNode;C!==null&&typeof C.componentDidCatch=="function"&&(r.callback=function(){Eb(i,c,u),typeof x!="function"&&(Qr===null?Qr=new Set([this]):Qr.add(this));var M=u.stack;this.componentDidCatch(u.value,{componentStack:M!==null?M:""})})}function M3(r,i,c,u,x){if(c.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(i=c.alternate,i!==null&&lo(i,c,x,!0),c=pa.current,c!==null){switch(c.tag){case 13:return Ha===null?_m():c.alternate===null&&tn===0&&(tn=3),c.flags&=-257,c.flags|=65536,c.lanes=x,u===Ph?c.flags|=16384:(i=c.updateQueue,i===null?c.updateQueue=new Set([u]):i.add(u),Em(r,u,x)),!1;case 22:return c.flags|=65536,u===Ph?c.flags|=16384:(i=c.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([u])},c.updateQueue=i):(c=i.retryQueue,c===null?i.retryQueue=new Set([u]):c.add(u)),Em(r,u,x)),!1}throw Error(s(435,c.tag))}return Em(r,u,x),_m(),!1}if(Rt)return i=pa.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=x,u!==Sh&&(r=Error(s(422),{cause:u}),io(ua(r,c)))):(u!==Sh&&(i=Error(s(423),{cause:u}),io(ua(i,c))),r=r.current.alternate,r.flags|=65536,x&=-x,r.lanes|=x,u=ua(u,c),x=tm(r.stateNode,u,x),Dh(r,x),tn!==4&&(tn=2)),!1;var v=Error(s(520),{cause:u});if(v=ua(v,c),Ro===null?Ro=[v]:Ro.push(v),tn!==4&&(tn=2),i===null)return!0;u=ua(u,c),c=i;do{switch(c.tag){case 3:return c.flags|=65536,r=x&-x,c.lanes|=r,r=tm(c.stateNode,u,r),Dh(c,r),!1;case 1:if(i=c.type,v=c.stateNode,(c.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||v!==null&&typeof v.componentDidCatch=="function"&&(Qr===null||!Qr.has(v))))return c.flags|=65536,x&=-x,c.lanes|=x,x=Rb(x),Ab(x,r,c,u),Dh(c,x),!1}c=c.return}while(c!==null);return!1}var Pb=Error(s(461)),pn=!1;function wn(r,i,c,u){i.child=r===null?yb(i,null,c,u):Bi(i,r.child,c,u)}function kb(r,i,c,u,x){c=c.render;var v=i.ref;if("ref"in u){var C={};for(var M in u)M!=="ref"&&(C[M]=u[M])}else C=u;return qs(i),u=$h(r,i,c,C,v,x),M=Fh(),r!==null&&!pn?(Ih(r,i,x),hr(r,i,x)):(Rt&&M&&wh(i),i.flags|=1,wn(r,i,u,x),i.child)}function Tb(r,i,c,u,x){if(r===null){var v=c.type;return typeof v=="function"&&!bh(v)&&v.defaultProps===void 0&&c.compare===null?(i.tag=15,i.type=v,Db(r,i,v,u,x)):(r=ed(c.type,null,u,i,i.mode,x),r.ref=i.ref,r.return=i,i.child=r)}if(v=r.child,!cm(r,x)){var C=v.memoizedProps;if(c=c.compare,c=c!==null?c:no,c(C,u)&&r.ref===i.ref)return hr(r,i,x)}return i.flags|=1,r=ir(v,u),r.ref=i.ref,r.return=i,i.child=r}function Db(r,i,c,u,x){if(r!==null){var v=r.memoizedProps;if(no(v,u)&&r.ref===i.ref)if(pn=!1,i.pendingProps=u=v,cm(r,x))(r.flags&131072)!==0&&(pn=!0);else return i.lanes=r.lanes,hr(r,i,x)}return nm(r,i,c,u,x)}function Mb(r,i,c){var u=i.pendingProps,x=u.children,v=r!==null?r.memoizedState:null;if(u.mode==="hidden"){if((i.flags&128)!==0){if(u=v!==null?v.baseLanes|c:c,r!==null){for(x=i.child=r.child,v=0;x!==null;)v=v|x.lanes|x.childLanes,x=x.sibling;i.childLanes=v&~u}else i.childLanes=0,i.child=null;return Ob(r,i,u,c)}if((c&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},r!==null&&sd(i,v!==null?v.cachePool:null),v!==null?D0(i,v):Oh(),wb(i);else return i.lanes=i.childLanes=536870912,Ob(r,i,v!==null?v.baseLanes|c:c,c)}else v!==null?(sd(i,v.cachePool),D0(i,v),Yr(),i.memoizedState=null):(r!==null&&sd(i,null),Oh(),Yr());return wn(r,i,x,c),i.child}function Ob(r,i,c,u){var x=Ah();return x=x===null?null:{parent:hn._currentValue,pool:x},i.memoizedState={baseLanes:c,cachePool:x},r!==null&&sd(i,null),Oh(),wb(i),r!==null&&lo(r,i,u,!0),null}function jd(r,i){var c=i.ref;if(c===null)r!==null&&r.ref!==null&&(i.flags|=4194816);else{if(typeof c!="function"&&typeof c!="object")throw Error(s(284));(r===null||r.ref!==c)&&(i.flags|=4194816)}}function nm(r,i,c,u,x){return qs(i),c=$h(r,i,c,u,void 0,x),u=Fh(),r!==null&&!pn?(Ih(r,i,x),hr(r,i,x)):(Rt&&u&&wh(i),i.flags|=1,wn(r,i,c,x),i.child)}function Lb(r,i,c,u,x,v){return qs(i),i.updateQueue=null,c=O0(i,u,c,x),M0(r),u=Fh(),r!==null&&!pn?(Ih(r,i,v),hr(r,i,v)):(Rt&&u&&wh(i),i.flags|=1,wn(r,i,c,v),i.child)}function Ub(r,i,c,u,x){if(qs(i),i.stateNode===null){var v=ki,C=c.contextType;typeof C=="object"&&C!==null&&(v=Rn(C)),v=new c(u,v),i.memoizedState=v.state!==null&&v.state!==void 0?v.state:null,v.updater=em,i.stateNode=v,v._reactInternals=i,v=i.stateNode,v.props=u,v.state=i.memoizedState,v.refs={},kh(i),C=c.contextType,v.context=typeof C=="object"&&C!==null?Rn(C):ki,v.state=i.memoizedState,C=c.getDerivedStateFromProps,typeof C=="function"&&(Qh(i,c,C,u),v.state=i.memoizedState),typeof c.getDerivedStateFromProps=="function"||typeof v.getSnapshotBeforeUpdate=="function"||typeof v.UNSAFE_componentWillMount!="function"&&typeof v.componentWillMount!="function"||(C=v.state,typeof v.componentWillMount=="function"&&v.componentWillMount(),typeof v.UNSAFE_componentWillMount=="function"&&v.UNSAFE_componentWillMount(),C!==v.state&&em.enqueueReplaceState(v,v.state,null),po(i,u,v,x),mo(),v.state=i.memoizedState),typeof v.componentDidMount=="function"&&(i.flags|=4194308),u=!0}else if(r===null){v=i.stateNode;var M=i.memoizedProps,H=Gs(c,M);v.props=H;var re=v.context,ue=c.contextType;C=ki,typeof ue=="object"&&ue!==null&&(C=Rn(ue));var pe=c.getDerivedStateFromProps;ue=typeof pe=="function"||typeof v.getSnapshotBeforeUpdate=="function",M=i.pendingProps!==M,ue||typeof v.UNSAFE_componentWillReceiveProps!="function"&&typeof v.componentWillReceiveProps!="function"||(M||re!==C)&&Sb(i,v,u,C),zr=!1;var ie=i.memoizedState;v.state=ie,po(i,u,v,x),mo(),re=i.memoizedState,M||ie!==re||zr?(typeof pe=="function"&&(Qh(i,c,pe,u),re=i.memoizedState),(H=zr||jb(i,c,H,u,ie,re,C))?(ue||typeof v.UNSAFE_componentWillMount!="function"&&typeof v.componentWillMount!="function"||(typeof v.componentWillMount=="function"&&v.componentWillMount(),typeof v.UNSAFE_componentWillMount=="function"&&v.UNSAFE_componentWillMount()),typeof v.componentDidMount=="function"&&(i.flags|=4194308)):(typeof v.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=u,i.memoizedState=re),v.props=u,v.state=re,v.context=C,u=H):(typeof v.componentDidMount=="function"&&(i.flags|=4194308),u=!1)}else{v=i.stateNode,Th(r,i),C=i.memoizedProps,ue=Gs(c,C),v.props=ue,pe=i.pendingProps,ie=v.context,re=c.contextType,H=ki,typeof re=="object"&&re!==null&&(H=Rn(re)),M=c.getDerivedStateFromProps,(re=typeof M=="function"||typeof v.getSnapshotBeforeUpdate=="function")||typeof v.UNSAFE_componentWillReceiveProps!="function"&&typeof v.componentWillReceiveProps!="function"||(C!==pe||ie!==H)&&Sb(i,v,u,H),zr=!1,ie=i.memoizedState,v.state=ie,po(i,u,v,x),mo();var oe=i.memoizedState;C!==pe||ie!==oe||zr||r!==null&&r.dependencies!==null&&ad(r.dependencies)?(typeof M=="function"&&(Qh(i,c,M,u),oe=i.memoizedState),(ue=zr||jb(i,c,ue,u,ie,oe,H)||r!==null&&r.dependencies!==null&&ad(r.dependencies))?(re||typeof v.UNSAFE_componentWillUpdate!="function"&&typeof v.componentWillUpdate!="function"||(typeof v.componentWillUpdate=="function"&&v.componentWillUpdate(u,oe,H),typeof v.UNSAFE_componentWillUpdate=="function"&&v.UNSAFE_componentWillUpdate(u,oe,H)),typeof v.componentDidUpdate=="function"&&(i.flags|=4),typeof v.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof v.componentDidUpdate!="function"||C===r.memoizedProps&&ie===r.memoizedState||(i.flags|=4),typeof v.getSnapshotBeforeUpdate!="function"||C===r.memoizedProps&&ie===r.memoizedState||(i.flags|=1024),i.memoizedProps=u,i.memoizedState=oe),v.props=u,v.state=oe,v.context=H,u=ue):(typeof v.componentDidUpdate!="function"||C===r.memoizedProps&&ie===r.memoizedState||(i.flags|=4),typeof v.getSnapshotBeforeUpdate!="function"||C===r.memoizedProps&&ie===r.memoizedState||(i.flags|=1024),u=!1)}return v=u,jd(r,i),u=(i.flags&128)!==0,v||u?(v=i.stateNode,c=u&&typeof c.getDerivedStateFromError!="function"?null:v.render(),i.flags|=1,r!==null&&u?(i.child=Bi(i,r.child,null,x),i.child=Bi(i,null,c,x)):wn(r,i,c,x),i.memoizedState=v.state,r=i.child):r=hr(r,i,x),r}function $b(r,i,c,u){return so(),i.flags|=256,wn(r,i,c,u),i.child}var am={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function rm(r){return{baseLanes:r,cachePool:_0()}}function sm(r,i,c){return r=r!==null?r.childLanes&~c:0,i&&(r|=ga),r}function Fb(r,i,c){var u=i.pendingProps,x=!1,v=(i.flags&128)!==0,C;if((C=v)||(C=r!==null&&r.memoizedState===null?!1:(mn.current&2)!==0),C&&(x=!0,i.flags&=-129),C=(i.flags&32)!==0,i.flags&=-33,r===null){if(Rt){if(x?Gr(i):Yr(),Rt){var M=en,H;if(H=M){e:{for(H=M,M=qa;H.nodeType!==8;){if(!M){M=null;break e}if(H=Pa(H.nextSibling),H===null){M=null;break e}}M=H}M!==null?(i.memoizedState={dehydrated:M,treeContext:$s!==null?{id:lr,overflow:or}:null,retryLane:536870912,hydrationErrors:null},H=Zn(18,null,null,0),H.stateNode=M,H.return=i,i.child=H,Ln=i,en=null,H=!0):H=!1}H||Bs(i)}if(M=i.memoizedState,M!==null&&(M=M.dehydrated,M!==null))return zm(M)?i.lanes=32:i.lanes=536870912,null;fr(i)}return M=u.children,u=u.fallback,x?(Yr(),x=i.mode,M=Sd({mode:"hidden",children:M},x),u=Us(u,x,c,null),M.return=i,u.return=i,M.sibling=u,i.child=M,x=i.child,x.memoizedState=rm(c),x.childLanes=sm(r,C,c),i.memoizedState=am,u):(Gr(i),im(i,M))}if(H=r.memoizedState,H!==null&&(M=H.dehydrated,M!==null)){if(v)i.flags&256?(Gr(i),i.flags&=-257,i=lm(r,i,c)):i.memoizedState!==null?(Yr(),i.child=r.child,i.flags|=128,i=null):(Yr(),x=u.fallback,M=i.mode,u=Sd({mode:"visible",children:u.children},M),x=Us(x,M,c,null),x.flags|=2,u.return=i,x.return=i,u.sibling=x,i.child=u,Bi(i,r.child,null,c),u=i.child,u.memoizedState=rm(c),u.childLanes=sm(r,C,c),i.memoizedState=am,i=x);else if(Gr(i),zm(M)){if(C=M.nextSibling&&M.nextSibling.dataset,C)var re=C.dgst;C=re,u=Error(s(419)),u.stack="",u.digest=C,io({value:u,source:null,stack:null}),i=lm(r,i,c)}else if(pn||lo(r,i,c,!1),C=(c&r.childLanes)!==0,pn||C){if(C=Ft,C!==null&&(u=c&-c,u=(u&42)!==0?1:Or(u),u=(u&(C.suspendedLanes|c))!==0?0:u,u!==0&&u!==H.retryLane))throw H.retryLane=u,Pi(r,u),na(C,r,u),Pb;M.data==="$?"||_m(),i=lm(r,i,c)}else M.data==="$?"?(i.flags|=192,i.child=r.child,i=null):(r=H.treeContext,en=Pa(M.nextSibling),Ln=i,Rt=!0,Is=null,qa=!1,r!==null&&(ha[ma++]=lr,ha[ma++]=or,ha[ma++]=$s,lr=r.id,or=r.overflow,$s=i),i=im(i,u.children),i.flags|=4096);return i}return x?(Yr(),x=u.fallback,M=i.mode,H=r.child,re=H.sibling,u=ir(H,{mode:"hidden",children:u.children}),u.subtreeFlags=H.subtreeFlags&65011712,re!==null?x=ir(re,x):(x=Us(x,M,c,null),x.flags|=2),x.return=i,u.return=i,u.sibling=x,i.child=u,u=x,x=i.child,M=r.child.memoizedState,M===null?M=rm(c):(H=M.cachePool,H!==null?(re=hn._currentValue,H=H.parent!==re?{parent:re,pool:re}:H):H=_0(),M={baseLanes:M.baseLanes|c,cachePool:H}),x.memoizedState=M,x.childLanes=sm(r,C,c),i.memoizedState=am,u):(Gr(i),c=r.child,r=c.sibling,c=ir(c,{mode:"visible",children:u.children}),c.return=i,c.sibling=null,r!==null&&(C=i.deletions,C===null?(i.deletions=[r],i.flags|=16):C.push(r)),i.child=c,i.memoizedState=null,c)}function im(r,i){return i=Sd({mode:"visible",children:i},r.mode),i.return=r,r.child=i}function Sd(r,i){return r=Zn(22,r,null,i),r.lanes=0,r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},r}function lm(r,i,c){return Bi(i,r.child,null,c),r=im(i,i.pendingProps.children),r.flags|=2,i.memoizedState=null,r}function Ib(r,i,c){r.lanes|=i;var u=r.alternate;u!==null&&(u.lanes|=i),_h(r.return,i,c)}function om(r,i,c,u,x){var v=r.memoizedState;v===null?r.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:u,tail:c,tailMode:x}:(v.isBackwards=i,v.rendering=null,v.renderingStartTime=0,v.last=u,v.tail=c,v.tailMode=x)}function Bb(r,i,c){var u=i.pendingProps,x=u.revealOrder,v=u.tail;if(wn(r,i,u.children,c),u=mn.current,(u&2)!==0)u=u&1|2,i.flags|=128;else{if(r!==null&&(r.flags&128)!==0)e:for(r=i.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&Ib(r,c,i);else if(r.tag===19)Ib(r,c,i);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===i)break e;for(;r.sibling===null;){if(r.return===null||r.return===i)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}u&=1}switch(ne(mn,u),x){case"forwards":for(c=i.child,x=null;c!==null;)r=c.alternate,r!==null&&vd(r)===null&&(x=c),c=c.sibling;c=x,c===null?(x=i.child,i.child=null):(x=c.sibling,c.sibling=null),om(i,!1,x,c,v);break;case"backwards":for(c=null,x=i.child,i.child=null;x!==null;){if(r=x.alternate,r!==null&&vd(r)===null){i.child=x;break}r=x.sibling,x.sibling=c,c=x,x=r}om(i,!0,c,null,v);break;case"together":om(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function hr(r,i,c){if(r!==null&&(i.dependencies=r.dependencies),Xr|=i.lanes,(c&i.childLanes)===0)if(r!==null){if(lo(r,i,c,!1),(c&i.childLanes)===0)return null}else return null;if(r!==null&&i.child!==r.child)throw Error(s(153));if(i.child!==null){for(r=i.child,c=ir(r,r.pendingProps),i.child=c,c.return=i;r.sibling!==null;)r=r.sibling,c=c.sibling=ir(r,r.pendingProps),c.return=i;c.sibling=null}return i.child}function cm(r,i){return(r.lanes&i)!==0?!0:(r=r.dependencies,!!(r!==null&&ad(r)))}function O3(r,i,c){switch(i.tag){case 3:_e(i,i.stateNode.containerInfo),Br(i,hn,r.memoizedState.cache),so();break;case 27:case 5:be(i);break;case 4:_e(i,i.stateNode.containerInfo);break;case 10:Br(i,i.type,i.memoizedProps.value);break;case 13:var u=i.memoizedState;if(u!==null)return u.dehydrated!==null?(Gr(i),i.flags|=128,null):(c&i.child.childLanes)!==0?Fb(r,i,c):(Gr(i),r=hr(r,i,c),r!==null?r.sibling:null);Gr(i);break;case 19:var x=(r.flags&128)!==0;if(u=(c&i.childLanes)!==0,u||(lo(r,i,c,!1),u=(c&i.childLanes)!==0),x){if(u)return Bb(r,i,c);i.flags|=128}if(x=i.memoizedState,x!==null&&(x.rendering=null,x.tail=null,x.lastEffect=null),ne(mn,mn.current),u)break;return null;case 22:case 23:return i.lanes=0,Mb(r,i,c);case 24:Br(i,hn,r.memoizedState.cache)}return hr(r,i,c)}function zb(r,i,c){if(r!==null)if(r.memoizedProps!==i.pendingProps)pn=!0;else{if(!cm(r,c)&&(i.flags&128)===0)return pn=!1,O3(r,i,c);pn=(r.flags&131072)!==0}else pn=!1,Rt&&(i.flags&1048576)!==0&&b0(i,nd,i.index);switch(i.lanes=0,i.tag){case 16:e:{r=i.pendingProps;var u=i.elementType,x=u._init;if(u=x(u._payload),i.type=u,typeof u=="function")bh(u)?(r=Gs(u,r),i.tag=1,i=Ub(null,i,u,r,c)):(i.tag=0,i=nm(null,i,u,r,c));else{if(u!=null){if(x=u.$$typeof,x===A){i.tag=11,i=kb(null,i,u,r,c);break e}else if(x===T){i.tag=14,i=Tb(null,i,u,r,c);break e}}throw i=$(u)||u,Error(s(306,i,""))}}return i;case 0:return nm(r,i,i.type,i.pendingProps,c);case 1:return u=i.type,x=Gs(u,i.pendingProps),Ub(r,i,u,x,c);case 3:e:{if(_e(i,i.stateNode.containerInfo),r===null)throw Error(s(387));u=i.pendingProps;var v=i.memoizedState;x=v.element,Th(r,i),po(i,u,null,c);var C=i.memoizedState;if(u=C.cache,Br(i,hn,u),u!==v.cache&&Ch(i,[hn],c,!0),mo(),u=C.element,v.isDehydrated)if(v={element:u,isDehydrated:!1,cache:C.cache},i.updateQueue.baseState=v,i.memoizedState=v,i.flags&256){i=$b(r,i,u,c);break e}else if(u!==x){x=ua(Error(s(424)),i),io(x),i=$b(r,i,u,c);break e}else{switch(r=i.stateNode.containerInfo,r.nodeType){case 9:r=r.body;break;default:r=r.nodeName==="HTML"?r.ownerDocument.body:r}for(en=Pa(r.firstChild),Ln=i,Rt=!0,Is=null,qa=!0,c=yb(i,null,u,c),i.child=c;c;)c.flags=c.flags&-3|4096,c=c.sibling}else{if(so(),u===x){i=hr(r,i,c);break e}wn(r,i,u,c)}i=i.child}return i;case 26:return jd(r,i),r===null?(c=Gv(i.type,null,i.pendingProps,null))?i.memoizedState=c:Rt||(c=i.type,r=i.pendingProps,u=Ud(fe.current).createElement(c),u[me]=i,u[je]=r,Sn(u,c,r),_t(u),i.stateNode=u):i.memoizedState=Gv(i.type,r.memoizedProps,i.pendingProps,r.memoizedState),null;case 27:return be(i),r===null&&Rt&&(u=i.stateNode=qv(i.type,i.pendingProps,fe.current),Ln=i,qa=!0,x=en,ns(i.type)?(qm=x,en=Pa(u.firstChild)):en=x),wn(r,i,i.pendingProps.children,c),jd(r,i),r===null&&(i.flags|=4194304),i.child;case 5:return r===null&&Rt&&((x=u=en)&&(u=cE(u,i.type,i.pendingProps,qa),u!==null?(i.stateNode=u,Ln=i,en=Pa(u.firstChild),qa=!1,x=!0):x=!1),x||Bs(i)),be(i),x=i.type,v=i.pendingProps,C=r!==null?r.memoizedProps:null,u=v.children,Fm(x,v)?u=null:C!==null&&Fm(x,C)&&(i.flags|=32),i.memoizedState!==null&&(x=$h(r,i,E3,null,null,c),Uo._currentValue=x),jd(r,i),wn(r,i,u,c),i.child;case 6:return r===null&&Rt&&((r=c=en)&&(c=dE(c,i.pendingProps,qa),c!==null?(i.stateNode=c,Ln=i,en=null,r=!0):r=!1),r||Bs(i)),null;case 13:return Fb(r,i,c);case 4:return _e(i,i.stateNode.containerInfo),u=i.pendingProps,r===null?i.child=Bi(i,null,u,c):wn(r,i,u,c),i.child;case 11:return kb(r,i,i.type,i.pendingProps,c);case 7:return wn(r,i,i.pendingProps,c),i.child;case 8:return wn(r,i,i.pendingProps.children,c),i.child;case 12:return wn(r,i,i.pendingProps.children,c),i.child;case 10:return u=i.pendingProps,Br(i,i.type,u.value),wn(r,i,u.children,c),i.child;case 9:return x=i.type._context,u=i.pendingProps.children,qs(i),x=Rn(x),u=u(x),i.flags|=1,wn(r,i,u,c),i.child;case 14:return Tb(r,i,i.type,i.pendingProps,c);case 15:return Db(r,i,i.type,i.pendingProps,c);case 19:return Bb(r,i,c);case 31:return u=i.pendingProps,c=i.mode,u={mode:u.mode,children:u.children},r===null?(c=Sd(u,c),c.ref=i.ref,i.child=c,c.return=i,i=c):(c=ir(r.child,u),c.ref=i.ref,i.child=c,c.return=i,i=c),i;case 22:return Mb(r,i,c);case 24:return qs(i),u=Rn(hn),r===null?(x=Ah(),x===null&&(x=Ft,v=Eh(),x.pooledCache=v,v.refCount++,v!==null&&(x.pooledCacheLanes|=c),x=v),i.memoizedState={parent:u,cache:x},kh(i),Br(i,hn,x)):((r.lanes&c)!==0&&(Th(r,i),po(i,null,null,c),mo()),x=r.memoizedState,v=i.memoizedState,x.parent!==u?(x={parent:u,cache:u},i.memoizedState=x,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=x),Br(i,hn,u)):(u=v.cache,Br(i,hn,u),u!==x.cache&&Ch(i,[hn],c,!0))),wn(r,i,i.pendingProps.children,c),i.child;case 29:throw i.pendingProps}throw Error(s(156,i.tag))}function mr(r){r.flags|=4}function qb(r,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)r.flags&=-16777217;else if(r.flags|=16777216,!Zv(i)){if(i=pa.current,i!==null&&((wt&4194048)===wt?Ha!==null:(wt&62914560)!==wt&&(wt&536870912)===0||i!==Ha))throw fo=Ph,C0;r.flags|=8192}}function Nd(r,i){i!==null&&(r.flags|=4),r.flags&16384&&(i=r.tag!==22?Fa():536870912,r.lanes|=i,Vi|=i)}function jo(r,i){if(!Rt)switch(r.tailMode){case"hidden":i=r.tail;for(var c=null;i!==null;)i.alternate!==null&&(c=i),i=i.sibling;c===null?r.tail=null:c.sibling=null;break;case"collapsed":c=r.tail;for(var u=null;c!==null;)c.alternate!==null&&(u=c),c=c.sibling;u===null?i||r.tail===null?r.tail=null:r.tail.sibling=null:u.sibling=null}}function Xt(r){var i=r.alternate!==null&&r.alternate.child===r.child,c=0,u=0;if(i)for(var x=r.child;x!==null;)c|=x.lanes|x.childLanes,u|=x.subtreeFlags&65011712,u|=x.flags&65011712,x.return=r,x=x.sibling;else for(x=r.child;x!==null;)c|=x.lanes|x.childLanes,u|=x.subtreeFlags,u|=x.flags,x.return=r,x=x.sibling;return r.subtreeFlags|=u,r.childLanes=c,i}function L3(r,i,c){var u=i.pendingProps;switch(jh(i),i.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Xt(i),null;case 1:return Xt(i),null;case 3:return c=i.stateNode,u=null,r!==null&&(u=r.memoizedState.cache),i.memoizedState.cache!==u&&(i.flags|=2048),dr(hn),ge(),c.pendingContext&&(c.context=c.pendingContext,c.pendingContext=null),(r===null||r.child===null)&&(ro(i)?mr(i):r===null||r.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,w0())),Xt(i),null;case 26:return c=i.memoizedState,r===null?(mr(i),c!==null?(Xt(i),qb(i,c)):(Xt(i),i.flags&=-16777217)):c?c!==r.memoizedState?(mr(i),Xt(i),qb(i,c)):(Xt(i),i.flags&=-16777217):(r.memoizedProps!==u&&mr(i),Xt(i),i.flags&=-16777217),null;case 27:Ae(i),c=fe.current;var x=i.type;if(r!==null&&i.stateNode!=null)r.memoizedProps!==u&&mr(i);else{if(!u){if(i.stateNode===null)throw Error(s(166));return Xt(i),null}r=X.current,ro(i)?v0(i):(r=qv(x,u,c),i.stateNode=r,mr(i))}return Xt(i),null;case 5:if(Ae(i),c=i.type,r!==null&&i.stateNode!=null)r.memoizedProps!==u&&mr(i);else{if(!u){if(i.stateNode===null)throw Error(s(166));return Xt(i),null}if(r=X.current,ro(i))v0(i);else{switch(x=Ud(fe.current),r){case 1:r=x.createElementNS("http://www.w3.org/2000/svg",c);break;case 2:r=x.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;default:switch(c){case"svg":r=x.createElementNS("http://www.w3.org/2000/svg",c);break;case"math":r=x.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;case"script":r=x.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild);break;case"select":r=typeof u.is=="string"?x.createElement("select",{is:u.is}):x.createElement("select"),u.multiple?r.multiple=!0:u.size&&(r.size=u.size);break;default:r=typeof u.is=="string"?x.createElement(c,{is:u.is}):x.createElement(c)}}r[me]=i,r[je]=u;e:for(x=i.child;x!==null;){if(x.tag===5||x.tag===6)r.appendChild(x.stateNode);else if(x.tag!==4&&x.tag!==27&&x.child!==null){x.child.return=x,x=x.child;continue}if(x===i)break e;for(;x.sibling===null;){if(x.return===null||x.return===i)break e;x=x.return}x.sibling.return=x.return,x=x.sibling}i.stateNode=r;e:switch(Sn(r,c,u),c){case"button":case"input":case"select":case"textarea":r=!!u.autoFocus;break e;case"img":r=!0;break e;default:r=!1}r&&mr(i)}}return Xt(i),i.flags&=-16777217,null;case 6:if(r&&i.stateNode!=null)r.memoizedProps!==u&&mr(i);else{if(typeof u!="string"&&i.stateNode===null)throw Error(s(166));if(r=fe.current,ro(i)){if(r=i.stateNode,c=i.memoizedProps,u=null,x=Ln,x!==null)switch(x.tag){case 27:case 5:u=x.memoizedProps}r[me]=i,r=!!(r.nodeValue===c||u!==null&&u.suppressHydrationWarning===!0||Lv(r.nodeValue,c)),r||Bs(i)}else r=Ud(r).createTextNode(u),r[me]=i,i.stateNode=r}return Xt(i),null;case 13:if(u=i.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(x=ro(i),u!==null&&u.dehydrated!==null){if(r===null){if(!x)throw Error(s(318));if(x=i.memoizedState,x=x!==null?x.dehydrated:null,!x)throw Error(s(317));x[me]=i}else so(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;Xt(i),x=!1}else x=w0(),r!==null&&r.memoizedState!==null&&(r.memoizedState.hydrationErrors=x),x=!0;if(!x)return i.flags&256?(fr(i),i):(fr(i),null)}if(fr(i),(i.flags&128)!==0)return i.lanes=c,i;if(c=u!==null,r=r!==null&&r.memoizedState!==null,c){u=i.child,x=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(x=u.alternate.memoizedState.cachePool.pool);var v=null;u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(v=u.memoizedState.cachePool.pool),v!==x&&(u.flags|=2048)}return c!==r&&c&&(i.child.flags|=8192),Nd(i,i.updateQueue),Xt(i),null;case 4:return ge(),r===null&&Mm(i.stateNode.containerInfo),Xt(i),null;case 10:return dr(i.type),Xt(i),null;case 19:if(J(mn),x=i.memoizedState,x===null)return Xt(i),null;if(u=(i.flags&128)!==0,v=x.rendering,v===null)if(u)jo(x,!1);else{if(tn!==0||r!==null&&(r.flags&128)!==0)for(r=i.child;r!==null;){if(v=vd(r),v!==null){for(i.flags|=128,jo(x,!1),r=v.updateQueue,i.updateQueue=r,Nd(i,r),i.subtreeFlags=0,r=c,c=i.child;c!==null;)x0(c,r),c=c.sibling;return ne(mn,mn.current&1|2),i.child}r=r.sibling}x.tail!==null&&Fe()>Ed&&(i.flags|=128,u=!0,jo(x,!1),i.lanes=4194304)}else{if(!u)if(r=vd(v),r!==null){if(i.flags|=128,u=!0,r=r.updateQueue,i.updateQueue=r,Nd(i,r),jo(x,!0),x.tail===null&&x.tailMode==="hidden"&&!v.alternate&&!Rt)return Xt(i),null}else 2*Fe()-x.renderingStartTime>Ed&&c!==536870912&&(i.flags|=128,u=!0,jo(x,!1),i.lanes=4194304);x.isBackwards?(v.sibling=i.child,i.child=v):(r=x.last,r!==null?r.sibling=v:i.child=v,x.last=v)}return x.tail!==null?(i=x.tail,x.rendering=i,x.tail=i.sibling,x.renderingStartTime=Fe(),i.sibling=null,r=mn.current,ne(mn,u?r&1|2:r&1),i):(Xt(i),null);case 22:case 23:return fr(i),Lh(),u=i.memoizedState!==null,r!==null?r.memoizedState!==null!==u&&(i.flags|=8192):u&&(i.flags|=8192),u?(c&536870912)!==0&&(i.flags&128)===0&&(Xt(i),i.subtreeFlags&6&&(i.flags|=8192)):Xt(i),c=i.updateQueue,c!==null&&Nd(i,c.retryQueue),c=null,r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(c=r.memoizedState.cachePool.pool),u=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(u=i.memoizedState.cachePool.pool),u!==c&&(i.flags|=2048),r!==null&&J(Hs),null;case 24:return c=null,r!==null&&(c=r.memoizedState.cache),i.memoizedState.cache!==c&&(i.flags|=2048),dr(hn),Xt(i),null;case 25:return null;case 30:return null}throw Error(s(156,i.tag))}function U3(r,i){switch(jh(i),i.tag){case 1:return r=i.flags,r&65536?(i.flags=r&-65537|128,i):null;case 3:return dr(hn),ge(),r=i.flags,(r&65536)!==0&&(r&128)===0?(i.flags=r&-65537|128,i):null;case 26:case 27:case 5:return Ae(i),null;case 13:if(fr(i),r=i.memoizedState,r!==null&&r.dehydrated!==null){if(i.alternate===null)throw Error(s(340));so()}return r=i.flags,r&65536?(i.flags=r&-65537|128,i):null;case 19:return J(mn),null;case 4:return ge(),null;case 10:return dr(i.type),null;case 22:case 23:return fr(i),Lh(),r!==null&&J(Hs),r=i.flags,r&65536?(i.flags=r&-65537|128,i):null;case 24:return dr(hn),null;case 25:return null;default:return null}}function Hb(r,i){switch(jh(i),i.tag){case 3:dr(hn),ge();break;case 26:case 27:case 5:Ae(i);break;case 4:ge();break;case 13:fr(i);break;case 19:J(mn);break;case 10:dr(i.type);break;case 22:case 23:fr(i),Lh(),r!==null&&J(Hs);break;case 24:dr(hn)}}function So(r,i){try{var c=i.updateQueue,u=c!==null?c.lastEffect:null;if(u!==null){var x=u.next;c=x;do{if((c.tag&r)===r){u=void 0;var v=c.create,C=c.inst;u=v(),C.destroy=u}c=c.next}while(c!==x)}}catch(M){$t(i,i.return,M)}}function Kr(r,i,c){try{var u=i.updateQueue,x=u!==null?u.lastEffect:null;if(x!==null){var v=x.next;u=v;do{if((u.tag&r)===r){var C=u.inst,M=C.destroy;if(M!==void 0){C.destroy=void 0,x=i;var H=c,re=M;try{re()}catch(ue){$t(x,H,ue)}}}u=u.next}while(u!==v)}}catch(ue){$t(i,i.return,ue)}}function Vb(r){var i=r.updateQueue;if(i!==null){var c=r.stateNode;try{T0(i,c)}catch(u){$t(r,r.return,u)}}}function Gb(r,i,c){c.props=Gs(r.type,r.memoizedProps),c.state=r.memoizedState;try{c.componentWillUnmount()}catch(u){$t(r,i,u)}}function No(r,i){try{var c=r.ref;if(c!==null){switch(r.tag){case 26:case 27:case 5:var u=r.stateNode;break;case 30:u=r.stateNode;break;default:u=r.stateNode}typeof c=="function"?r.refCleanup=c(u):c.current=u}}catch(x){$t(r,i,x)}}function Va(r,i){var c=r.ref,u=r.refCleanup;if(c!==null)if(typeof u=="function")try{u()}catch(x){$t(r,i,x)}finally{r.refCleanup=null,r=r.alternate,r!=null&&(r.refCleanup=null)}else if(typeof c=="function")try{c(null)}catch(x){$t(r,i,x)}else c.current=null}function Yb(r){var i=r.type,c=r.memoizedProps,u=r.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":c.autoFocus&&u.focus();break e;case"img":c.src?u.src=c.src:c.srcSet&&(u.srcset=c.srcSet)}}catch(x){$t(r,r.return,x)}}function dm(r,i,c){try{var u=r.stateNode;rE(u,r.type,c,i),u[je]=i}catch(x){$t(r,r.return,x)}}function Kb(r){return r.tag===5||r.tag===3||r.tag===26||r.tag===27&&ns(r.type)||r.tag===4}function um(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||Kb(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.tag===27&&ns(r.type)||r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function fm(r,i,c){var u=r.tag;if(u===5||u===6)r=r.stateNode,i?(c.nodeType===9?c.body:c.nodeName==="HTML"?c.ownerDocument.body:c).insertBefore(r,i):(i=c.nodeType===9?c.body:c.nodeName==="HTML"?c.ownerDocument.body:c,i.appendChild(r),c=c._reactRootContainer,c!=null||i.onclick!==null||(i.onclick=Ld));else if(u!==4&&(u===27&&ns(r.type)&&(c=r.stateNode,i=null),r=r.child,r!==null))for(fm(r,i,c),r=r.sibling;r!==null;)fm(r,i,c),r=r.sibling}function _d(r,i,c){var u=r.tag;if(u===5||u===6)r=r.stateNode,i?c.insertBefore(r,i):c.appendChild(r);else if(u!==4&&(u===27&&ns(r.type)&&(c=r.stateNode),r=r.child,r!==null))for(_d(r,i,c),r=r.sibling;r!==null;)_d(r,i,c),r=r.sibling}function Wb(r){var i=r.stateNode,c=r.memoizedProps;try{for(var u=r.type,x=i.attributes;x.length;)i.removeAttributeNode(x[0]);Sn(i,u,c),i[me]=r,i[je]=c}catch(v){$t(r,r.return,v)}}var pr=!1,an=!1,hm=!1,Jb=typeof WeakSet=="function"?WeakSet:Set,gn=null;function $3(r,i){if(r=r.containerInfo,Um=qd,r=l0(r),uh(r)){if("selectionStart"in r)var c={start:r.selectionStart,end:r.selectionEnd};else e:{c=(c=r.ownerDocument)&&c.defaultView||window;var u=c.getSelection&&c.getSelection();if(u&&u.rangeCount!==0){c=u.anchorNode;var x=u.anchorOffset,v=u.focusNode;u=u.focusOffset;try{c.nodeType,v.nodeType}catch{c=null;break e}var C=0,M=-1,H=-1,re=0,ue=0,pe=r,ie=null;t:for(;;){for(var oe;pe!==c||x!==0&&pe.nodeType!==3||(M=C+x),pe!==v||u!==0&&pe.nodeType!==3||(H=C+u),pe.nodeType===3&&(C+=pe.nodeValue.length),(oe=pe.firstChild)!==null;)ie=pe,pe=oe;for(;;){if(pe===r)break t;if(ie===c&&++re===x&&(M=C),ie===v&&++ue===u&&(H=C),(oe=pe.nextSibling)!==null)break;pe=ie,ie=pe.parentNode}pe=oe}c=M===-1||H===-1?null:{start:M,end:H}}else c=null}c=c||{start:0,end:0}}else c=null;for($m={focusedElem:r,selectionRange:c},qd=!1,gn=i;gn!==null;)if(i=gn,r=i.child,(i.subtreeFlags&1024)!==0&&r!==null)r.return=i,gn=r;else for(;gn!==null;){switch(i=gn,v=i.alternate,r=i.flags,i.tag){case 0:break;case 11:case 15:break;case 1:if((r&1024)!==0&&v!==null){r=void 0,c=i,x=v.memoizedProps,v=v.memoizedState,u=c.stateNode;try{var Je=Gs(c.type,x,c.elementType===c.type);r=u.getSnapshotBeforeUpdate(Je,v),u.__reactInternalSnapshotBeforeUpdate=r}catch(Ge){$t(c,c.return,Ge)}}break;case 3:if((r&1024)!==0){if(r=i.stateNode.containerInfo,c=r.nodeType,c===9)Bm(r);else if(c===1)switch(r.nodeName){case"HEAD":case"HTML":case"BODY":Bm(r);break;default:r.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((r&1024)!==0)throw Error(s(163))}if(r=i.sibling,r!==null){r.return=i.return,gn=r;break}gn=i.return}}function Zb(r,i,c){var u=c.flags;switch(c.tag){case 0:case 11:case 15:Wr(r,c),u&4&&So(5,c);break;case 1:if(Wr(r,c),u&4)if(r=c.stateNode,i===null)try{r.componentDidMount()}catch(C){$t(c,c.return,C)}else{var x=Gs(c.type,i.memoizedProps);i=i.memoizedState;try{r.componentDidUpdate(x,i,r.__reactInternalSnapshotBeforeUpdate)}catch(C){$t(c,c.return,C)}}u&64&&Vb(c),u&512&&No(c,c.return);break;case 3:if(Wr(r,c),u&64&&(r=c.updateQueue,r!==null)){if(i=null,c.child!==null)switch(c.child.tag){case 27:case 5:i=c.child.stateNode;break;case 1:i=c.child.stateNode}try{T0(r,i)}catch(C){$t(c,c.return,C)}}break;case 27:i===null&&u&4&&Wb(c);case 26:case 5:Wr(r,c),i===null&&u&4&&Yb(c),u&512&&No(c,c.return);break;case 12:Wr(r,c);break;case 13:Wr(r,c),u&4&&ev(r,c),u&64&&(r=c.memoizedState,r!==null&&(r=r.dehydrated,r!==null&&(c=Y3.bind(null,c),uE(r,c))));break;case 22:if(u=c.memoizedState!==null||pr,!u){i=i!==null&&i.memoizedState!==null||an,x=pr;var v=an;pr=u,(an=i)&&!v?Jr(r,c,(c.subtreeFlags&8772)!==0):Wr(r,c),pr=x,an=v}break;case 30:break;default:Wr(r,c)}}function Xb(r){var i=r.alternate;i!==null&&(r.alternate=null,Xb(i)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(i=r.stateNode,i!==null&&We(i)),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}var Wt=null,Hn=!1;function gr(r,i,c){for(c=c.child;c!==null;)Qb(r,i,c),c=c.sibling}function Qb(r,i,c){if(ot&&typeof ot.onCommitFiberUnmount=="function")try{ot.onCommitFiberUnmount(Nt,c)}catch{}switch(c.tag){case 26:an||Va(c,i),gr(r,i,c),c.memoizedState?c.memoizedState.count--:c.stateNode&&(c=c.stateNode,c.parentNode.removeChild(c));break;case 27:an||Va(c,i);var u=Wt,x=Hn;ns(c.type)&&(Wt=c.stateNode,Hn=!1),gr(r,i,c),Do(c.stateNode),Wt=u,Hn=x;break;case 5:an||Va(c,i);case 6:if(u=Wt,x=Hn,Wt=null,gr(r,i,c),Wt=u,Hn=x,Wt!==null)if(Hn)try{(Wt.nodeType===9?Wt.body:Wt.nodeName==="HTML"?Wt.ownerDocument.body:Wt).removeChild(c.stateNode)}catch(v){$t(c,i,v)}else try{Wt.removeChild(c.stateNode)}catch(v){$t(c,i,v)}break;case 18:Wt!==null&&(Hn?(r=Wt,Bv(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,c.stateNode),Bo(r)):Bv(Wt,c.stateNode));break;case 4:u=Wt,x=Hn,Wt=c.stateNode.containerInfo,Hn=!0,gr(r,i,c),Wt=u,Hn=x;break;case 0:case 11:case 14:case 15:an||Kr(2,c,i),an||Kr(4,c,i),gr(r,i,c);break;case 1:an||(Va(c,i),u=c.stateNode,typeof u.componentWillUnmount=="function"&&Gb(c,i,u)),gr(r,i,c);break;case 21:gr(r,i,c);break;case 22:an=(u=an)||c.memoizedState!==null,gr(r,i,c),an=u;break;default:gr(r,i,c)}}function ev(r,i){if(i.memoizedState===null&&(r=i.alternate,r!==null&&(r=r.memoizedState,r!==null&&(r=r.dehydrated,r!==null))))try{Bo(r)}catch(c){$t(i,i.return,c)}}function F3(r){switch(r.tag){case 13:case 19:var i=r.stateNode;return i===null&&(i=r.stateNode=new Jb),i;case 22:return r=r.stateNode,i=r._retryCache,i===null&&(i=r._retryCache=new Jb),i;default:throw Error(s(435,r.tag))}}function mm(r,i){var c=F3(r);i.forEach(function(u){var x=K3.bind(null,r,u);c.has(u)||(c.add(u),u.then(x,x))})}function Xn(r,i){var c=i.deletions;if(c!==null)for(var u=0;u<c.length;u++){var x=c[u],v=r,C=i,M=C;e:for(;M!==null;){switch(M.tag){case 27:if(ns(M.type)){Wt=M.stateNode,Hn=!1;break e}break;case 5:Wt=M.stateNode,Hn=!1;break e;case 3:case 4:Wt=M.stateNode.containerInfo,Hn=!0;break e}M=M.return}if(Wt===null)throw Error(s(160));Qb(v,C,x),Wt=null,Hn=!1,v=x.alternate,v!==null&&(v.return=null),x.return=null}if(i.subtreeFlags&13878)for(i=i.child;i!==null;)tv(i,r),i=i.sibling}var Aa=null;function tv(r,i){var c=r.alternate,u=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:Xn(i,r),Qn(r),u&4&&(Kr(3,r,r.return),So(3,r),Kr(5,r,r.return));break;case 1:Xn(i,r),Qn(r),u&512&&(an||c===null||Va(c,c.return)),u&64&&pr&&(r=r.updateQueue,r!==null&&(u=r.callbacks,u!==null&&(c=r.shared.hiddenCallbacks,r.shared.hiddenCallbacks=c===null?u:c.concat(u))));break;case 26:var x=Aa;if(Xn(i,r),Qn(r),u&512&&(an||c===null||Va(c,c.return)),u&4){var v=c!==null?c.memoizedState:null;if(u=r.memoizedState,c===null)if(u===null)if(r.stateNode===null){e:{u=r.type,c=r.memoizedProps,x=x.ownerDocument||x;t:switch(u){case"title":v=x.getElementsByTagName("title")[0],(!v||v[Ke]||v[me]||v.namespaceURI==="http://www.w3.org/2000/svg"||v.hasAttribute("itemprop"))&&(v=x.createElement(u),x.head.insertBefore(v,x.querySelector("head > title"))),Sn(v,u,c),v[me]=r,_t(v),u=v;break e;case"link":var C=Wv("link","href",x).get(u+(c.href||""));if(C){for(var M=0;M<C.length;M++)if(v=C[M],v.getAttribute("href")===(c.href==null||c.href===""?null:c.href)&&v.getAttribute("rel")===(c.rel==null?null:c.rel)&&v.getAttribute("title")===(c.title==null?null:c.title)&&v.getAttribute("crossorigin")===(c.crossOrigin==null?null:c.crossOrigin)){C.splice(M,1);break t}}v=x.createElement(u),Sn(v,u,c),x.head.appendChild(v);break;case"meta":if(C=Wv("meta","content",x).get(u+(c.content||""))){for(M=0;M<C.length;M++)if(v=C[M],v.getAttribute("content")===(c.content==null?null:""+c.content)&&v.getAttribute("name")===(c.name==null?null:c.name)&&v.getAttribute("property")===(c.property==null?null:c.property)&&v.getAttribute("http-equiv")===(c.httpEquiv==null?null:c.httpEquiv)&&v.getAttribute("charset")===(c.charSet==null?null:c.charSet)){C.splice(M,1);break t}}v=x.createElement(u),Sn(v,u,c),x.head.appendChild(v);break;default:throw Error(s(468,u))}v[me]=r,_t(v),u=v}r.stateNode=u}else Jv(x,r.type,r.stateNode);else r.stateNode=Kv(x,u,r.memoizedProps);else v!==u?(v===null?c.stateNode!==null&&(c=c.stateNode,c.parentNode.removeChild(c)):v.count--,u===null?Jv(x,r.type,r.stateNode):Kv(x,u,r.memoizedProps)):u===null&&r.stateNode!==null&&dm(r,r.memoizedProps,c.memoizedProps)}break;case 27:Xn(i,r),Qn(r),u&512&&(an||c===null||Va(c,c.return)),c!==null&&u&4&&dm(r,r.memoizedProps,c.memoizedProps);break;case 5:if(Xn(i,r),Qn(r),u&512&&(an||c===null||Va(c,c.return)),r.flags&32){x=r.stateNode;try{Si(x,"")}catch(oe){$t(r,r.return,oe)}}u&4&&r.stateNode!=null&&(x=r.memoizedProps,dm(r,x,c!==null?c.memoizedProps:x)),u&1024&&(hm=!0);break;case 6:if(Xn(i,r),Qn(r),u&4){if(r.stateNode===null)throw Error(s(162));u=r.memoizedProps,c=r.stateNode;try{c.nodeValue=u}catch(oe){$t(r,r.return,oe)}}break;case 3:if(Id=null,x=Aa,Aa=$d(i.containerInfo),Xn(i,r),Aa=x,Qn(r),u&4&&c!==null&&c.memoizedState.isDehydrated)try{Bo(i.containerInfo)}catch(oe){$t(r,r.return,oe)}hm&&(hm=!1,nv(r));break;case 4:u=Aa,Aa=$d(r.stateNode.containerInfo),Xn(i,r),Qn(r),Aa=u;break;case 12:Xn(i,r),Qn(r);break;case 13:Xn(i,r),Qn(r),r.child.flags&8192&&r.memoizedState!==null!=(c!==null&&c.memoizedState!==null)&&(ym=Fe()),u&4&&(u=r.updateQueue,u!==null&&(r.updateQueue=null,mm(r,u)));break;case 22:x=r.memoizedState!==null;var H=c!==null&&c.memoizedState!==null,re=pr,ue=an;if(pr=re||x,an=ue||H,Xn(i,r),an=ue,pr=re,Qn(r),u&8192)e:for(i=r.stateNode,i._visibility=x?i._visibility&-2:i._visibility|1,x&&(c===null||H||pr||an||Ys(r)),c=null,i=r;;){if(i.tag===5||i.tag===26){if(c===null){H=c=i;try{if(v=H.stateNode,x)C=v.style,typeof C.setProperty=="function"?C.setProperty("display","none","important"):C.display="none";else{M=H.stateNode;var pe=H.memoizedProps.style,ie=pe!=null&&pe.hasOwnProperty("display")?pe.display:null;M.style.display=ie==null||typeof ie=="boolean"?"":(""+ie).trim()}}catch(oe){$t(H,H.return,oe)}}}else if(i.tag===6){if(c===null){H=i;try{H.stateNode.nodeValue=x?"":H.memoizedProps}catch(oe){$t(H,H.return,oe)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===r)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===r)break e;for(;i.sibling===null;){if(i.return===null||i.return===r)break e;c===i&&(c=null),i=i.return}c===i&&(c=null),i.sibling.return=i.return,i=i.sibling}u&4&&(u=r.updateQueue,u!==null&&(c=u.retryQueue,c!==null&&(u.retryQueue=null,mm(r,c))));break;case 19:Xn(i,r),Qn(r),u&4&&(u=r.updateQueue,u!==null&&(r.updateQueue=null,mm(r,u)));break;case 30:break;case 21:break;default:Xn(i,r),Qn(r)}}function Qn(r){var i=r.flags;if(i&2){try{for(var c,u=r.return;u!==null;){if(Kb(u)){c=u;break}u=u.return}if(c==null)throw Error(s(160));switch(c.tag){case 27:var x=c.stateNode,v=um(r);_d(r,v,x);break;case 5:var C=c.stateNode;c.flags&32&&(Si(C,""),c.flags&=-33);var M=um(r);_d(r,M,C);break;case 3:case 4:var H=c.stateNode.containerInfo,re=um(r);fm(r,re,H);break;default:throw Error(s(161))}}catch(ue){$t(r,r.return,ue)}r.flags&=-3}i&4096&&(r.flags&=-4097)}function nv(r){if(r.subtreeFlags&1024)for(r=r.child;r!==null;){var i=r;nv(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),r=r.sibling}}function Wr(r,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)Zb(r,i.alternate,i),i=i.sibling}function Ys(r){for(r=r.child;r!==null;){var i=r;switch(i.tag){case 0:case 11:case 14:case 15:Kr(4,i,i.return),Ys(i);break;case 1:Va(i,i.return);var c=i.stateNode;typeof c.componentWillUnmount=="function"&&Gb(i,i.return,c),Ys(i);break;case 27:Do(i.stateNode);case 26:case 5:Va(i,i.return),Ys(i);break;case 22:i.memoizedState===null&&Ys(i);break;case 30:Ys(i);break;default:Ys(i)}r=r.sibling}}function Jr(r,i,c){for(c=c&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var u=i.alternate,x=r,v=i,C=v.flags;switch(v.tag){case 0:case 11:case 15:Jr(x,v,c),So(4,v);break;case 1:if(Jr(x,v,c),u=v,x=u.stateNode,typeof x.componentDidMount=="function")try{x.componentDidMount()}catch(re){$t(u,u.return,re)}if(u=v,x=u.updateQueue,x!==null){var M=u.stateNode;try{var H=x.shared.hiddenCallbacks;if(H!==null)for(x.shared.hiddenCallbacks=null,x=0;x<H.length;x++)k0(H[x],M)}catch(re){$t(u,u.return,re)}}c&&C&64&&Vb(v),No(v,v.return);break;case 27:Wb(v);case 26:case 5:Jr(x,v,c),c&&u===null&&C&4&&Yb(v),No(v,v.return);break;case 12:Jr(x,v,c);break;case 13:Jr(x,v,c),c&&C&4&&ev(x,v);break;case 22:v.memoizedState===null&&Jr(x,v,c),No(v,v.return);break;case 30:break;default:Jr(x,v,c)}i=i.sibling}}function pm(r,i){var c=null;r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(c=r.memoizedState.cachePool.pool),r=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(r=i.memoizedState.cachePool.pool),r!==c&&(r!=null&&r.refCount++,c!=null&&oo(c))}function gm(r,i){r=null,i.alternate!==null&&(r=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==r&&(i.refCount++,r!=null&&oo(r))}function Ga(r,i,c,u){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)av(r,i,c,u),i=i.sibling}function av(r,i,c,u){var x=i.flags;switch(i.tag){case 0:case 11:case 15:Ga(r,i,c,u),x&2048&&So(9,i);break;case 1:Ga(r,i,c,u);break;case 3:Ga(r,i,c,u),x&2048&&(r=null,i.alternate!==null&&(r=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==r&&(i.refCount++,r!=null&&oo(r)));break;case 12:if(x&2048){Ga(r,i,c,u),r=i.stateNode;try{var v=i.memoizedProps,C=v.id,M=v.onPostCommit;typeof M=="function"&&M(C,i.alternate===null?"mount":"update",r.passiveEffectDuration,-0)}catch(H){$t(i,i.return,H)}}else Ga(r,i,c,u);break;case 13:Ga(r,i,c,u);break;case 23:break;case 22:v=i.stateNode,C=i.alternate,i.memoizedState!==null?v._visibility&2?Ga(r,i,c,u):_o(r,i):v._visibility&2?Ga(r,i,c,u):(v._visibility|=2,zi(r,i,c,u,(i.subtreeFlags&10256)!==0)),x&2048&&pm(C,i);break;case 24:Ga(r,i,c,u),x&2048&&gm(i.alternate,i);break;default:Ga(r,i,c,u)}}function zi(r,i,c,u,x){for(x=x&&(i.subtreeFlags&10256)!==0,i=i.child;i!==null;){var v=r,C=i,M=c,H=u,re=C.flags;switch(C.tag){case 0:case 11:case 15:zi(v,C,M,H,x),So(8,C);break;case 23:break;case 22:var ue=C.stateNode;C.memoizedState!==null?ue._visibility&2?zi(v,C,M,H,x):_o(v,C):(ue._visibility|=2,zi(v,C,M,H,x)),x&&re&2048&&pm(C.alternate,C);break;case 24:zi(v,C,M,H,x),x&&re&2048&&gm(C.alternate,C);break;default:zi(v,C,M,H,x)}i=i.sibling}}function _o(r,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var c=r,u=i,x=u.flags;switch(u.tag){case 22:_o(c,u),x&2048&&pm(u.alternate,u);break;case 24:_o(c,u),x&2048&&gm(u.alternate,u);break;default:_o(c,u)}i=i.sibling}}var Co=8192;function qi(r){if(r.subtreeFlags&Co)for(r=r.child;r!==null;)rv(r),r=r.sibling}function rv(r){switch(r.tag){case 26:qi(r),r.flags&Co&&r.memoizedState!==null&&NE(Aa,r.memoizedState,r.memoizedProps);break;case 5:qi(r);break;case 3:case 4:var i=Aa;Aa=$d(r.stateNode.containerInfo),qi(r),Aa=i;break;case 22:r.memoizedState===null&&(i=r.alternate,i!==null&&i.memoizedState!==null?(i=Co,Co=16777216,qi(r),Co=i):qi(r));break;default:qi(r)}}function sv(r){var i=r.alternate;if(i!==null&&(r=i.child,r!==null)){i.child=null;do i=r.sibling,r.sibling=null,r=i;while(r!==null)}}function Eo(r){var i=r.deletions;if((r.flags&16)!==0){if(i!==null)for(var c=0;c<i.length;c++){var u=i[c];gn=u,lv(u,r)}sv(r)}if(r.subtreeFlags&10256)for(r=r.child;r!==null;)iv(r),r=r.sibling}function iv(r){switch(r.tag){case 0:case 11:case 15:Eo(r),r.flags&2048&&Kr(9,r,r.return);break;case 3:Eo(r);break;case 12:Eo(r);break;case 22:var i=r.stateNode;r.memoizedState!==null&&i._visibility&2&&(r.return===null||r.return.tag!==13)?(i._visibility&=-3,Cd(r)):Eo(r);break;default:Eo(r)}}function Cd(r){var i=r.deletions;if((r.flags&16)!==0){if(i!==null)for(var c=0;c<i.length;c++){var u=i[c];gn=u,lv(u,r)}sv(r)}for(r=r.child;r!==null;){switch(i=r,i.tag){case 0:case 11:case 15:Kr(8,i,i.return),Cd(i);break;case 22:c=i.stateNode,c._visibility&2&&(c._visibility&=-3,Cd(i));break;default:Cd(i)}r=r.sibling}}function lv(r,i){for(;gn!==null;){var c=gn;switch(c.tag){case 0:case 11:case 15:Kr(8,c,i);break;case 23:case 22:if(c.memoizedState!==null&&c.memoizedState.cachePool!==null){var u=c.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:oo(c.memoizedState.cache)}if(u=c.child,u!==null)u.return=c,gn=u;else e:for(c=r;gn!==null;){u=gn;var x=u.sibling,v=u.return;if(Xb(u),u===c){gn=null;break e}if(x!==null){x.return=v,gn=x;break e}gn=v}}}var I3={getCacheForType:function(r){var i=Rn(hn),c=i.data.get(r);return c===void 0&&(c=r(),i.data.set(r,c)),c}},B3=typeof WeakMap=="function"?WeakMap:Map,Tt=0,Ft=null,mt=null,wt=0,Dt=0,ea=null,Zr=!1,Hi=!1,xm=!1,xr=0,tn=0,Xr=0,Ks=0,bm=0,ga=0,Vi=0,Ro=null,Vn=null,vm=!1,ym=0,Ed=1/0,Rd=null,Qr=null,jn=0,es=null,Gi=null,Yi=0,wm=0,jm=null,ov=null,Ao=0,Sm=null;function ta(){if((Tt&2)!==0&&wt!==0)return wt&-wt;if(O.T!==null){var r=Mi;return r!==0?r:Pm()}return G()}function cv(){ga===0&&(ga=(wt&536870912)===0||Rt?Wn():536870912);var r=pa.current;return r!==null&&(r.flags|=32),ga}function na(r,i,c){(r===Ft&&(Dt===2||Dt===9)||r.cancelPendingCommit!==null)&&(Ki(r,0),ts(r,wt,ga,!1)),Ia(r,c),((Tt&2)===0||r!==Ft)&&(r===Ft&&((Tt&2)===0&&(Ks|=c),tn===4&&ts(r,wt,ga,!1)),Ya(r))}function dv(r,i,c){if((Tt&6)!==0)throw Error(s(327));var u=!c&&(i&124)===0&&(i&r.expiredLanes)===0||Cn(r,i),x=u?H3(r,i):Cm(r,i,!0),v=u;do{if(x===0){Hi&&!u&&ts(r,i,0,!1);break}else{if(c=r.current.alternate,v&&!z3(c)){x=Cm(r,i,!1),v=!1;continue}if(x===2){if(v=i,r.errorRecoveryDisabledLanes&v)var C=0;else C=r.pendingLanes&-536870913,C=C!==0?C:C&536870912?536870912:0;if(C!==0){i=C;e:{var M=r;x=Ro;var H=M.current.memoizedState.isDehydrated;if(H&&(Ki(M,C).flags|=256),C=Cm(M,C,!1),C!==2){if(xm&&!H){M.errorRecoveryDisabledLanes|=v,Ks|=v,x=4;break e}v=Vn,Vn=x,v!==null&&(Vn===null?Vn=v:Vn.push.apply(Vn,v))}x=C}if(v=!1,x!==2)continue}}if(x===1){Ki(r,0),ts(r,i,0,!0);break}e:{switch(u=r,v=x,v){case 0:case 1:throw Error(s(345));case 4:if((i&4194048)!==i)break;case 6:ts(u,i,ga,!Zr);break e;case 2:Vn=null;break;case 3:case 5:break;default:throw Error(s(329))}if((i&62914560)===i&&(x=ym+300-Fe(),10<x)){if(ts(u,i,ga,!Zr),_n(u,0,!0)!==0)break e;u.timeoutHandle=Fv(uv.bind(null,u,c,Vn,Rd,vm,i,ga,Ks,Vi,Zr,v,2,-0,0),x);break e}uv(u,c,Vn,Rd,vm,i,ga,Ks,Vi,Zr,v,0,-0,0)}}break}while(!0);Ya(r)}function uv(r,i,c,u,x,v,C,M,H,re,ue,pe,ie,oe){if(r.timeoutHandle=-1,pe=i.subtreeFlags,(pe&8192||(pe&16785408)===16785408)&&(Lo={stylesheets:null,count:0,unsuspend:SE},rv(i),pe=_E(),pe!==null)){r.cancelPendingCommit=pe(bv.bind(null,r,i,v,c,u,x,C,M,H,ue,1,ie,oe)),ts(r,v,C,!re);return}bv(r,i,v,c,u,x,C,M,H)}function z3(r){for(var i=r;;){var c=i.tag;if((c===0||c===11||c===15)&&i.flags&16384&&(c=i.updateQueue,c!==null&&(c=c.stores,c!==null)))for(var u=0;u<c.length;u++){var x=c[u],v=x.getSnapshot;x=x.value;try{if(!Jn(v(),x))return!1}catch{return!1}}if(c=i.child,i.subtreeFlags&16384&&c!==null)c.return=i,i=c;else{if(i===r)break;for(;i.sibling===null;){if(i.return===null||i.return===r)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function ts(r,i,c,u){i&=~bm,i&=~Ks,r.suspendedLanes|=i,r.pingedLanes&=~i,u&&(r.warmLanes|=i),u=r.expirationTimes;for(var x=i;0<x;){var v=31-ht(x),C=1<<v;u[v]=-1,x&=~C}c!==0&&Ba(r,c,i)}function Ad(){return(Tt&6)===0?(Po(0),!1):!0}function Nm(){if(mt!==null){if(Dt===0)var r=mt.return;else r=mt,cr=zs=null,Bh(r),Ii=null,yo=0,r=mt;for(;r!==null;)Hb(r.alternate,r),r=r.return;mt=null}}function Ki(r,i){var c=r.timeoutHandle;c!==-1&&(r.timeoutHandle=-1,iE(c)),c=r.cancelPendingCommit,c!==null&&(r.cancelPendingCommit=null,c()),Nm(),Ft=r,mt=c=ir(r.current,null),wt=i,Dt=0,ea=null,Zr=!1,Hi=Cn(r,i),xm=!1,Vi=ga=bm=Ks=Xr=tn=0,Vn=Ro=null,vm=!1,(i&8)!==0&&(i|=i&32);var u=r.entangledLanes;if(u!==0)for(r=r.entanglements,u&=i;0<u;){var x=31-ht(u),v=1<<x;i|=r[x],u&=~v}return xr=i,Zc(),c}function fv(r,i){ct=null,O.H=gd,i===uo||i===id?(i=A0(),Dt=3):i===C0?(i=A0(),Dt=4):Dt=i===Pb?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,ea=i,mt===null&&(tn=1,wd(r,ua(i,r.current)))}function hv(){var r=O.H;return O.H=gd,r===null?gd:r}function mv(){var r=O.A;return O.A=I3,r}function _m(){tn=4,Zr||(wt&4194048)!==wt&&pa.current!==null||(Hi=!0),(Xr&134217727)===0&&(Ks&134217727)===0||Ft===null||ts(Ft,wt,ga,!1)}function Cm(r,i,c){var u=Tt;Tt|=2;var x=hv(),v=mv();(Ft!==r||wt!==i)&&(Rd=null,Ki(r,i)),i=!1;var C=tn;e:do try{if(Dt!==0&&mt!==null){var M=mt,H=ea;switch(Dt){case 8:Nm(),C=6;break e;case 3:case 2:case 9:case 6:pa.current===null&&(i=!0);var re=Dt;if(Dt=0,ea=null,Wi(r,M,H,re),c&&Hi){C=0;break e}break;default:re=Dt,Dt=0,ea=null,Wi(r,M,H,re)}}q3(),C=tn;break}catch(ue){fv(r,ue)}while(!0);return i&&r.shellSuspendCounter++,cr=zs=null,Tt=u,O.H=x,O.A=v,mt===null&&(Ft=null,wt=0,Zc()),C}function q3(){for(;mt!==null;)pv(mt)}function H3(r,i){var c=Tt;Tt|=2;var u=hv(),x=mv();Ft!==r||wt!==i?(Rd=null,Ed=Fe()+500,Ki(r,i)):Hi=Cn(r,i);e:do try{if(Dt!==0&&mt!==null){i=mt;var v=ea;t:switch(Dt){case 1:Dt=0,ea=null,Wi(r,i,v,1);break;case 2:case 9:if(E0(v)){Dt=0,ea=null,gv(i);break}i=function(){Dt!==2&&Dt!==9||Ft!==r||(Dt=7),Ya(r)},v.then(i,i);break e;case 3:Dt=7;break e;case 4:Dt=5;break e;case 7:E0(v)?(Dt=0,ea=null,gv(i)):(Dt=0,ea=null,Wi(r,i,v,7));break;case 5:var C=null;switch(mt.tag){case 26:C=mt.memoizedState;case 5:case 27:var M=mt;if(!C||Zv(C)){Dt=0,ea=null;var H=M.sibling;if(H!==null)mt=H;else{var re=M.return;re!==null?(mt=re,Pd(re)):mt=null}break t}}Dt=0,ea=null,Wi(r,i,v,5);break;case 6:Dt=0,ea=null,Wi(r,i,v,6);break;case 8:Nm(),tn=6;break e;default:throw Error(s(462))}}V3();break}catch(ue){fv(r,ue)}while(!0);return cr=zs=null,O.H=u,O.A=x,Tt=c,mt!==null?0:(Ft=null,wt=0,Zc(),tn)}function V3(){for(;mt!==null&&!Ne();)pv(mt)}function pv(r){var i=zb(r.alternate,r,xr);r.memoizedProps=r.pendingProps,i===null?Pd(r):mt=i}function gv(r){var i=r,c=i.alternate;switch(i.tag){case 15:case 0:i=Lb(c,i,i.pendingProps,i.type,void 0,wt);break;case 11:i=Lb(c,i,i.pendingProps,i.type.render,i.ref,wt);break;case 5:Bh(i);default:Hb(c,i),i=mt=x0(i,xr),i=zb(c,i,xr)}r.memoizedProps=r.pendingProps,i===null?Pd(r):mt=i}function Wi(r,i,c,u){cr=zs=null,Bh(i),Ii=null,yo=0;var x=i.return;try{if(M3(r,x,i,c,wt)){tn=1,wd(r,ua(c,r.current)),mt=null;return}}catch(v){if(x!==null)throw mt=x,v;tn=1,wd(r,ua(c,r.current)),mt=null;return}i.flags&32768?(Rt||u===1?r=!0:Hi||(wt&536870912)!==0?r=!1:(Zr=r=!0,(u===2||u===9||u===3||u===6)&&(u=pa.current,u!==null&&u.tag===13&&(u.flags|=16384))),xv(i,r)):Pd(i)}function Pd(r){var i=r;do{if((i.flags&32768)!==0){xv(i,Zr);return}r=i.return;var c=L3(i.alternate,i,xr);if(c!==null){mt=c;return}if(i=i.sibling,i!==null){mt=i;return}mt=i=r}while(i!==null);tn===0&&(tn=5)}function xv(r,i){do{var c=U3(r.alternate,r);if(c!==null){c.flags&=32767,mt=c;return}if(c=r.return,c!==null&&(c.flags|=32768,c.subtreeFlags=0,c.deletions=null),!i&&(r=r.sibling,r!==null)){mt=r;return}mt=r=c}while(r!==null);tn=6,mt=null}function bv(r,i,c,u,x,v,C,M,H){r.cancelPendingCommit=null;do kd();while(jn!==0);if((Tt&6)!==0)throw Error(s(327));if(i!==null){if(i===r.current)throw Error(s(177));if(v=i.lanes|i.childLanes,v|=gh,ks(r,c,v,C,M,H),r===Ft&&(mt=Ft=null,wt=0),Gi=i,es=r,Yi=c,wm=v,jm=x,ov=u,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(r.callbackNode=null,r.callbackPriority=0,W3(lt,function(){return Sv(),null})):(r.callbackNode=null,r.callbackPriority=0),u=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||u){u=O.T,O.T=null,x=q.p,q.p=2,C=Tt,Tt|=4;try{$3(r,i,c)}finally{Tt=C,q.p=x,O.T=u}}jn=1,vv(),yv(),wv()}}function vv(){if(jn===1){jn=0;var r=es,i=Gi,c=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||c){c=O.T,O.T=null;var u=q.p;q.p=2;var x=Tt;Tt|=4;try{tv(i,r);var v=$m,C=l0(r.containerInfo),M=v.focusedElem,H=v.selectionRange;if(C!==M&&M&&M.ownerDocument&&i0(M.ownerDocument.documentElement,M)){if(H!==null&&uh(M)){var re=H.start,ue=H.end;if(ue===void 0&&(ue=re),"selectionStart"in M)M.selectionStart=re,M.selectionEnd=Math.min(ue,M.value.length);else{var pe=M.ownerDocument||document,ie=pe&&pe.defaultView||window;if(ie.getSelection){var oe=ie.getSelection(),Je=M.textContent.length,Ge=Math.min(H.start,Je),Lt=H.end===void 0?Ge:Math.min(H.end,Je);!oe.extend&&Ge>Lt&&(C=Lt,Lt=Ge,Ge=C);var Q=s0(M,Ge),K=s0(M,Lt);if(Q&&K&&(oe.rangeCount!==1||oe.anchorNode!==Q.node||oe.anchorOffset!==Q.offset||oe.focusNode!==K.node||oe.focusOffset!==K.offset)){var ae=pe.createRange();ae.setStart(Q.node,Q.offset),oe.removeAllRanges(),Ge>Lt?(oe.addRange(ae),oe.extend(K.node,K.offset)):(ae.setEnd(K.node,K.offset),oe.addRange(ae))}}}}for(pe=[],oe=M;oe=oe.parentNode;)oe.nodeType===1&&pe.push({element:oe,left:oe.scrollLeft,top:oe.scrollTop});for(typeof M.focus=="function"&&M.focus(),M=0;M<pe.length;M++){var he=pe[M];he.element.scrollLeft=he.left,he.element.scrollTop=he.top}}qd=!!Um,$m=Um=null}finally{Tt=x,q.p=u,O.T=c}}r.current=i,jn=2}}function yv(){if(jn===2){jn=0;var r=es,i=Gi,c=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||c){c=O.T,O.T=null;var u=q.p;q.p=2;var x=Tt;Tt|=4;try{Zb(r,i.alternate,i)}finally{Tt=x,q.p=u,O.T=c}}jn=3}}function wv(){if(jn===4||jn===3){jn=0,Pe();var r=es,i=Gi,c=Yi,u=ov;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?jn=5:(jn=0,Gi=es=null,jv(r,r.pendingLanes));var x=r.pendingLanes;if(x===0&&(Qr=null),Ts(c),i=i.stateNode,ot&&typeof ot.onCommitFiberRoot=="function")try{ot.onCommitFiberRoot(Nt,i,void 0,(i.current.flags&128)===128)}catch{}if(u!==null){i=O.T,x=q.p,q.p=2,O.T=null;try{for(var v=r.onRecoverableError,C=0;C<u.length;C++){var M=u[C];v(M.value,{componentStack:M.stack})}}finally{O.T=i,q.p=x}}(Yi&3)!==0&&kd(),Ya(r),x=r.pendingLanes,(c&4194090)!==0&&(x&42)!==0?r===Sm?Ao++:(Ao=0,Sm=r):Ao=0,Po(0)}}function jv(r,i){(r.pooledCacheLanes&=i)===0&&(i=r.pooledCache,i!=null&&(r.pooledCache=null,oo(i)))}function kd(r){return vv(),yv(),wv(),Sv()}function Sv(){if(jn!==5)return!1;var r=es,i=wm;wm=0;var c=Ts(Yi),u=O.T,x=q.p;try{q.p=32>c?32:c,O.T=null,c=jm,jm=null;var v=es,C=Yi;if(jn=0,Gi=es=null,Yi=0,(Tt&6)!==0)throw Error(s(331));var M=Tt;if(Tt|=4,iv(v.current),av(v,v.current,C,c),Tt=M,Po(0,!1),ot&&typeof ot.onPostCommitFiberRoot=="function")try{ot.onPostCommitFiberRoot(Nt,v)}catch{}return!0}finally{q.p=x,O.T=u,jv(r,i)}}function Nv(r,i,c){i=ua(c,i),i=tm(r.stateNode,i,2),r=Hr(r,i,2),r!==null&&(Ia(r,2),Ya(r))}function $t(r,i,c){if(r.tag===3)Nv(r,r,c);else for(;i!==null;){if(i.tag===3){Nv(i,r,c);break}else if(i.tag===1){var u=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(Qr===null||!Qr.has(u))){r=ua(c,r),c=Rb(2),u=Hr(i,c,2),u!==null&&(Ab(c,u,i,r),Ia(u,2),Ya(u));break}}i=i.return}}function Em(r,i,c){var u=r.pingCache;if(u===null){u=r.pingCache=new B3;var x=new Set;u.set(i,x)}else x=u.get(i),x===void 0&&(x=new Set,u.set(i,x));x.has(c)||(xm=!0,x.add(c),r=G3.bind(null,r,i,c),i.then(r,r))}function G3(r,i,c){var u=r.pingCache;u!==null&&u.delete(i),r.pingedLanes|=r.suspendedLanes&c,r.warmLanes&=~c,Ft===r&&(wt&c)===c&&(tn===4||tn===3&&(wt&62914560)===wt&&300>Fe()-ym?(Tt&2)===0&&Ki(r,0):bm|=c,Vi===wt&&(Vi=0)),Ya(r)}function _v(r,i){i===0&&(i=Fa()),r=Pi(r,i),r!==null&&(Ia(r,i),Ya(r))}function Y3(r){var i=r.memoizedState,c=0;i!==null&&(c=i.retryLane),_v(r,c)}function K3(r,i){var c=0;switch(r.tag){case 13:var u=r.stateNode,x=r.memoizedState;x!==null&&(c=x.retryLane);break;case 19:u=r.stateNode;break;case 22:u=r.stateNode._retryCache;break;default:throw Error(s(314))}u!==null&&u.delete(i),_v(r,c)}function W3(r,i){return ye(r,i)}var Td=null,Ji=null,Rm=!1,Dd=!1,Am=!1,Ws=0;function Ya(r){r!==Ji&&r.next===null&&(Ji===null?Td=Ji=r:Ji=Ji.next=r),Dd=!0,Rm||(Rm=!0,Z3())}function Po(r,i){if(!Am&&Dd){Am=!0;do for(var c=!1,u=Td;u!==null;){if(r!==0){var x=u.pendingLanes;if(x===0)var v=0;else{var C=u.suspendedLanes,M=u.pingedLanes;v=(1<<31-ht(42|r)+1)-1,v&=x&~(C&~M),v=v&201326741?v&201326741|1:v?v|2:0}v!==0&&(c=!0,Av(u,v))}else v=wt,v=_n(u,u===Ft?v:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),(v&3)===0||Cn(u,v)||(c=!0,Av(u,v));u=u.next}while(c);Am=!1}}function J3(){Cv()}function Cv(){Dd=Rm=!1;var r=0;Ws!==0&&(sE()&&(r=Ws),Ws=0);for(var i=Fe(),c=null,u=Td;u!==null;){var x=u.next,v=Ev(u,i);v===0?(u.next=null,c===null?Td=x:c.next=x,x===null&&(Ji=c)):(c=u,(r!==0||(v&3)!==0)&&(Dd=!0)),u=x}Po(r)}function Ev(r,i){for(var c=r.suspendedLanes,u=r.pingedLanes,x=r.expirationTimes,v=r.pendingLanes&-62914561;0<v;){var C=31-ht(v),M=1<<C,H=x[C];H===-1?((M&c)===0||(M&u)!==0)&&(x[C]=_a(M,i)):H<=i&&(r.expiredLanes|=M),v&=~M}if(i=Ft,c=wt,c=_n(r,r===i?c:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),u=r.callbackNode,c===0||r===i&&(Dt===2||Dt===9)||r.cancelPendingCommit!==null)return u!==null&&u!==null&&$e(u),r.callbackNode=null,r.callbackPriority=0;if((c&3)===0||Cn(r,c)){if(i=c&-c,i===r.callbackPriority)return i;switch(u!==null&&$e(u),Ts(c)){case 2:case 8:c=we;break;case 32:c=lt;break;case 268435456:c=Et;break;default:c=lt}return u=Rv.bind(null,r),c=ye(c,u),r.callbackPriority=i,r.callbackNode=c,i}return u!==null&&u!==null&&$e(u),r.callbackPriority=2,r.callbackNode=null,2}function Rv(r,i){if(jn!==0&&jn!==5)return r.callbackNode=null,r.callbackPriority=0,null;var c=r.callbackNode;if(kd()&&r.callbackNode!==c)return null;var u=wt;return u=_n(r,r===Ft?u:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),u===0?null:(dv(r,u,i),Ev(r,Fe()),r.callbackNode!=null&&r.callbackNode===c?Rv.bind(null,r):null)}function Av(r,i){if(kd())return null;dv(r,i,!0)}function Z3(){lE(function(){(Tt&6)!==0?ye(xt,J3):Cv()})}function Pm(){return Ws===0&&(Ws=Wn()),Ws}function Pv(r){return r==null||typeof r=="symbol"||typeof r=="boolean"?null:typeof r=="function"?r:Hc(""+r)}function kv(r,i){var c=i.ownerDocument.createElement("input");return c.name=i.name,c.value=i.value,r.id&&c.setAttribute("form",r.id),i.parentNode.insertBefore(c,i),r=new FormData(r),c.parentNode.removeChild(c),r}function X3(r,i,c,u,x){if(i==="submit"&&c&&c.stateNode===x){var v=Pv((x[je]||null).action),C=u.submitter;C&&(i=(i=C[je]||null)?Pv(i.formAction):C.getAttribute("formAction"),i!==null&&(v=i,C=null));var M=new Kc("action","action",null,u,x);r.push({event:M,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(Ws!==0){var H=C?kv(x,C):new FormData(x);Jh(c,{pending:!0,data:H,method:x.method,action:v},null,H)}}else typeof v=="function"&&(M.preventDefault(),H=C?kv(x,C):new FormData(x),Jh(c,{pending:!0,data:H,method:x.method,action:v},v,H))},currentTarget:x}]})}}for(var km=0;km<ph.length;km++){var Tm=ph[km],Q3=Tm.toLowerCase(),eE=Tm[0].toUpperCase()+Tm.slice(1);Ra(Q3,"on"+eE)}Ra(d0,"onAnimationEnd"),Ra(u0,"onAnimationIteration"),Ra(f0,"onAnimationStart"),Ra("dblclick","onDoubleClick"),Ra("focusin","onFocus"),Ra("focusout","onBlur"),Ra(x3,"onTransitionRun"),Ra(b3,"onTransitionStart"),Ra(v3,"onTransitionCancel"),Ra(h0,"onTransitionEnd"),oa("onMouseEnter",["mouseout","mouseover"]),oa("onMouseLeave",["mouseout","mouseover"]),oa("onPointerEnter",["pointerout","pointerover"]),oa("onPointerLeave",["pointerout","pointerover"]),On("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),On("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),On("onBeforeInput",["compositionend","keypress","textInput","paste"]),On("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),On("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),On("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ko="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),tE=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(ko));function Tv(r,i){i=(i&4)!==0;for(var c=0;c<r.length;c++){var u=r[c],x=u.event;u=u.listeners;e:{var v=void 0;if(i)for(var C=u.length-1;0<=C;C--){var M=u[C],H=M.instance,re=M.currentTarget;if(M=M.listener,H!==v&&x.isPropagationStopped())break e;v=M,x.currentTarget=re;try{v(x)}catch(ue){yd(ue)}x.currentTarget=null,v=H}else for(C=0;C<u.length;C++){if(M=u[C],H=M.instance,re=M.currentTarget,M=M.listener,H!==v&&x.isPropagationStopped())break e;v=M,x.currentTarget=re;try{v(x)}catch(ue){yd(ue)}x.currentTarget=null,v=H}}}}function pt(r,i){var c=i[Ve];c===void 0&&(c=i[Ve]=new Set);var u=r+"__bubble";c.has(u)||(Dv(i,r,2,!1),c.add(u))}function Dm(r,i,c){var u=0;i&&(u|=4),Dv(c,r,u,i)}var Md="_reactListening"+Math.random().toString(36).slice(2);function Mm(r){if(!r[Md]){r[Md]=!0,bt.forEach(function(c){c!=="selectionchange"&&(tE.has(c)||Dm(c,!1,r),Dm(c,!0,r))});var i=r.nodeType===9?r:r.ownerDocument;i===null||i[Md]||(i[Md]=!0,Dm("selectionchange",!1,i))}}function Dv(r,i,c,u){switch(ay(i)){case 2:var x=RE;break;case 8:x=AE;break;default:x=Km}c=x.bind(null,i,c,r),x=void 0,!nh||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(x=!0),u?x!==void 0?r.addEventListener(i,c,{capture:!0,passive:x}):r.addEventListener(i,c,!0):x!==void 0?r.addEventListener(i,c,{passive:x}):r.addEventListener(i,c,!1)}function Om(r,i,c,u,x){var v=u;if((i&1)===0&&(i&2)===0&&u!==null)e:for(;;){if(u===null)return;var C=u.tag;if(C===3||C===4){var M=u.stateNode.containerInfo;if(M===x)break;if(C===4)for(C=u.return;C!==null;){var H=C.tag;if((H===3||H===4)&&C.stateNode.containerInfo===x)return;C=C.return}for(;M!==null;){if(C=Xe(M),C===null)return;if(H=C.tag,H===5||H===6||H===26||H===27){u=v=C;continue e}M=M.parentNode}}u=u.return}Ix(function(){var re=v,ue=eh(c),pe=[];e:{var ie=m0.get(r);if(ie!==void 0){var oe=Kc,Je=r;switch(r){case"keypress":if(Gc(c)===0)break e;case"keydown":case"keyup":oe=WC;break;case"focusin":Je="focus",oe=ih;break;case"focusout":Je="blur",oe=ih;break;case"beforeblur":case"afterblur":oe=ih;break;case"click":if(c.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":oe=qx;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":oe=UC;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":oe=XC;break;case d0:case u0:case f0:oe=IC;break;case h0:oe=e3;break;case"scroll":case"scrollend":oe=OC;break;case"wheel":oe=n3;break;case"copy":case"cut":case"paste":oe=zC;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":oe=Vx;break;case"toggle":case"beforetoggle":oe=r3}var Ge=(i&4)!==0,Lt=!Ge&&(r==="scroll"||r==="scrollend"),Q=Ge?ie!==null?ie+"Capture":null:ie;Ge=[];for(var K=re,ae;K!==null;){var he=K;if(ae=he.stateNode,he=he.tag,he!==5&&he!==26&&he!==27||ae===null||Q===null||(he=Wl(K,Q),he!=null&&Ge.push(To(K,he,ae))),Lt)break;K=K.return}0<Ge.length&&(ie=new oe(ie,Je,null,c,ue),pe.push({event:ie,listeners:Ge}))}}if((i&7)===0){e:{if(ie=r==="mouseover"||r==="pointerover",oe=r==="mouseout"||r==="pointerout",ie&&c!==Qf&&(Je=c.relatedTarget||c.fromElement)&&(Xe(Je)||Je[Te]))break e;if((oe||ie)&&(ie=ue.window===ue?ue:(ie=ue.ownerDocument)?ie.defaultView||ie.parentWindow:window,oe?(Je=c.relatedTarget||c.toElement,oe=re,Je=Je?Xe(Je):null,Je!==null&&(Lt=o(Je),Ge=Je.tag,Je!==Lt||Ge!==5&&Ge!==27&&Ge!==6)&&(Je=null)):(oe=null,Je=re),oe!==Je)){if(Ge=qx,he="onMouseLeave",Q="onMouseEnter",K="mouse",(r==="pointerout"||r==="pointerover")&&(Ge=Vx,he="onPointerLeave",Q="onPointerEnter",K="pointer"),Lt=oe==null?ie:Ht(oe),ae=Je==null?ie:Ht(Je),ie=new Ge(he,K+"leave",oe,c,ue),ie.target=Lt,ie.relatedTarget=ae,he=null,Xe(ue)===re&&(Ge=new Ge(Q,K+"enter",Je,c,ue),Ge.target=ae,Ge.relatedTarget=Lt,he=Ge),Lt=he,oe&&Je)t:{for(Ge=oe,Q=Je,K=0,ae=Ge;ae;ae=Zi(ae))K++;for(ae=0,he=Q;he;he=Zi(he))ae++;for(;0<K-ae;)Ge=Zi(Ge),K--;for(;0<ae-K;)Q=Zi(Q),ae--;for(;K--;){if(Ge===Q||Q!==null&&Ge===Q.alternate)break t;Ge=Zi(Ge),Q=Zi(Q)}Ge=null}else Ge=null;oe!==null&&Mv(pe,ie,oe,Ge,!1),Je!==null&&Lt!==null&&Mv(pe,Lt,Je,Ge,!0)}}e:{if(ie=re?Ht(re):window,oe=ie.nodeName&&ie.nodeName.toLowerCase(),oe==="select"||oe==="input"&&ie.type==="file")var Oe=Qx;else if(Zx(ie))if(e0)Oe=m3;else{Oe=f3;var ut=u3}else oe=ie.nodeName,!oe||oe.toLowerCase()!=="input"||ie.type!=="checkbox"&&ie.type!=="radio"?re&&Xf(re.elementType)&&(Oe=Qx):Oe=h3;if(Oe&&(Oe=Oe(r,re))){Xx(pe,Oe,c,ue);break e}ut&&ut(r,ie,re),r==="focusout"&&re&&ie.type==="number"&&re.memoizedProps.value!=null&&Zf(ie,"number",ie.value)}switch(ut=re?Ht(re):window,r){case"focusin":(Zx(ut)||ut.contentEditable==="true")&&(Ei=ut,fh=re,ao=null);break;case"focusout":ao=fh=Ei=null;break;case"mousedown":hh=!0;break;case"contextmenu":case"mouseup":case"dragend":hh=!1,o0(pe,c,ue);break;case"selectionchange":if(g3)break;case"keydown":case"keyup":o0(pe,c,ue)}var Ie;if(oh)e:{switch(r){case"compositionstart":var Ye="onCompositionStart";break e;case"compositionend":Ye="onCompositionEnd";break e;case"compositionupdate":Ye="onCompositionUpdate";break e}Ye=void 0}else Ci?Wx(r,c)&&(Ye="onCompositionEnd"):r==="keydown"&&c.keyCode===229&&(Ye="onCompositionStart");Ye&&(Gx&&c.locale!=="ko"&&(Ci||Ye!=="onCompositionStart"?Ye==="onCompositionEnd"&&Ci&&(Ie=Bx()):(Ir=ue,ah="value"in Ir?Ir.value:Ir.textContent,Ci=!0)),ut=Od(re,Ye),0<ut.length&&(Ye=new Hx(Ye,r,null,c,ue),pe.push({event:Ye,listeners:ut}),Ie?Ye.data=Ie:(Ie=Jx(c),Ie!==null&&(Ye.data=Ie)))),(Ie=i3?l3(r,c):o3(r,c))&&(Ye=Od(re,"onBeforeInput"),0<Ye.length&&(ut=new Hx("onBeforeInput","beforeinput",null,c,ue),pe.push({event:ut,listeners:Ye}),ut.data=Ie)),X3(pe,r,re,c,ue)}Tv(pe,i)})}function To(r,i,c){return{instance:r,listener:i,currentTarget:c}}function Od(r,i){for(var c=i+"Capture",u=[];r!==null;){var x=r,v=x.stateNode;if(x=x.tag,x!==5&&x!==26&&x!==27||v===null||(x=Wl(r,c),x!=null&&u.unshift(To(r,x,v)),x=Wl(r,i),x!=null&&u.push(To(r,x,v))),r.tag===3)return u;r=r.return}return[]}function Zi(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5&&r.tag!==27);return r||null}function Mv(r,i,c,u,x){for(var v=i._reactName,C=[];c!==null&&c!==u;){var M=c,H=M.alternate,re=M.stateNode;if(M=M.tag,H!==null&&H===u)break;M!==5&&M!==26&&M!==27||re===null||(H=re,x?(re=Wl(c,v),re!=null&&C.unshift(To(c,re,H))):x||(re=Wl(c,v),re!=null&&C.push(To(c,re,H)))),c=c.return}C.length!==0&&r.push({event:i,listeners:C})}var nE=/\r\n?/g,aE=/\u0000|\uFFFD/g;function Ov(r){return(typeof r=="string"?r:""+r).replace(nE,`
`).replace(aE,"")}function Lv(r,i){return i=Ov(i),Ov(r)===i}function Ld(){}function Ot(r,i,c,u,x,v){switch(c){case"children":typeof u=="string"?i==="body"||i==="textarea"&&u===""||Si(r,u):(typeof u=="number"||typeof u=="bigint")&&i!=="body"&&Si(r,""+u);break;case"className":rr(r,"class",u);break;case"tabIndex":rr(r,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":rr(r,c,u);break;case"style":$x(r,u,v);break;case"data":if(i!=="object"){rr(r,"data",u);break}case"src":case"href":if(u===""&&(i!=="a"||c!=="href")){r.removeAttribute(c);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){r.removeAttribute(c);break}u=Hc(""+u),r.setAttribute(c,u);break;case"action":case"formAction":if(typeof u=="function"){r.setAttribute(c,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof v=="function"&&(c==="formAction"?(i!=="input"&&Ot(r,i,"name",x.name,x,null),Ot(r,i,"formEncType",x.formEncType,x,null),Ot(r,i,"formMethod",x.formMethod,x,null),Ot(r,i,"formTarget",x.formTarget,x,null)):(Ot(r,i,"encType",x.encType,x,null),Ot(r,i,"method",x.method,x,null),Ot(r,i,"target",x.target,x,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){r.removeAttribute(c);break}u=Hc(""+u),r.setAttribute(c,u);break;case"onClick":u!=null&&(r.onclick=Ld);break;case"onScroll":u!=null&&pt("scroll",r);break;case"onScrollEnd":u!=null&&pt("scrollend",r);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(s(61));if(c=u.__html,c!=null){if(x.children!=null)throw Error(s(60));r.innerHTML=c}}break;case"multiple":r.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":r.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){r.removeAttribute("xlink:href");break}c=Hc(""+u),r.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",c);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?r.setAttribute(c,""+u):r.removeAttribute(c);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?r.setAttribute(c,""):r.removeAttribute(c);break;case"capture":case"download":u===!0?r.setAttribute(c,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?r.setAttribute(c,u):r.removeAttribute(c);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?r.setAttribute(c,u):r.removeAttribute(c);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?r.removeAttribute(c):r.setAttribute(c,u);break;case"popover":pt("beforetoggle",r),pt("toggle",r),ca(r,"popover",u);break;case"xlinkActuate":dt(r,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":dt(r,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":dt(r,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":dt(r,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":dt(r,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":dt(r,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":dt(r,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":dt(r,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":dt(r,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":ca(r,"is",u);break;case"innerText":case"textContent":break;default:(!(2<c.length)||c[0]!=="o"&&c[0]!=="O"||c[1]!=="n"&&c[1]!=="N")&&(c=DC.get(c)||c,ca(r,c,u))}}function Lm(r,i,c,u,x,v){switch(c){case"style":$x(r,u,v);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(s(61));if(c=u.__html,c!=null){if(x.children!=null)throw Error(s(60));r.innerHTML=c}}break;case"children":typeof u=="string"?Si(r,u):(typeof u=="number"||typeof u=="bigint")&&Si(r,""+u);break;case"onScroll":u!=null&&pt("scroll",r);break;case"onScrollEnd":u!=null&&pt("scrollend",r);break;case"onClick":u!=null&&(r.onclick=Ld);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Lr.hasOwnProperty(c))e:{if(c[0]==="o"&&c[1]==="n"&&(x=c.endsWith("Capture"),i=c.slice(2,x?c.length-7:void 0),v=r[je]||null,v=v!=null?v[c]:null,typeof v=="function"&&r.removeEventListener(i,v,x),typeof u=="function")){typeof v!="function"&&v!==null&&(c in r?r[c]=null:r.hasAttribute(c)&&r.removeAttribute(c)),r.addEventListener(i,u,x);break e}c in r?r[c]=u:u===!0?r.setAttribute(c,""):ca(r,c,u)}}}function Sn(r,i,c){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":pt("error",r),pt("load",r);var u=!1,x=!1,v;for(v in c)if(c.hasOwnProperty(v)){var C=c[v];if(C!=null)switch(v){case"src":u=!0;break;case"srcSet":x=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:Ot(r,i,v,C,c,null)}}x&&Ot(r,i,"srcSet",c.srcSet,c,null),u&&Ot(r,i,"src",c.src,c,null);return;case"input":pt("invalid",r);var M=v=C=x=null,H=null,re=null;for(u in c)if(c.hasOwnProperty(u)){var ue=c[u];if(ue!=null)switch(u){case"name":x=ue;break;case"type":C=ue;break;case"checked":H=ue;break;case"defaultChecked":re=ue;break;case"value":v=ue;break;case"defaultValue":M=ue;break;case"children":case"dangerouslySetInnerHTML":if(ue!=null)throw Error(s(137,i));break;default:Ot(r,i,u,ue,c,null)}}Mx(r,v,M,H,re,C,x,!1),zc(r);return;case"select":pt("invalid",r),u=C=v=null;for(x in c)if(c.hasOwnProperty(x)&&(M=c[x],M!=null))switch(x){case"value":v=M;break;case"defaultValue":C=M;break;case"multiple":u=M;default:Ot(r,i,x,M,c,null)}i=v,c=C,r.multiple=!!u,i!=null?ji(r,!!u,i,!1):c!=null&&ji(r,!!u,c,!0);return;case"textarea":pt("invalid",r),v=x=u=null;for(C in c)if(c.hasOwnProperty(C)&&(M=c[C],M!=null))switch(C){case"value":u=M;break;case"defaultValue":x=M;break;case"children":v=M;break;case"dangerouslySetInnerHTML":if(M!=null)throw Error(s(91));break;default:Ot(r,i,C,M,c,null)}Lx(r,u,x,v),zc(r);return;case"option":for(H in c)if(c.hasOwnProperty(H)&&(u=c[H],u!=null))switch(H){case"selected":r.selected=u&&typeof u!="function"&&typeof u!="symbol";break;default:Ot(r,i,H,u,c,null)}return;case"dialog":pt("beforetoggle",r),pt("toggle",r),pt("cancel",r),pt("close",r);break;case"iframe":case"object":pt("load",r);break;case"video":case"audio":for(u=0;u<ko.length;u++)pt(ko[u],r);break;case"image":pt("error",r),pt("load",r);break;case"details":pt("toggle",r);break;case"embed":case"source":case"link":pt("error",r),pt("load",r);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(re in c)if(c.hasOwnProperty(re)&&(u=c[re],u!=null))switch(re){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:Ot(r,i,re,u,c,null)}return;default:if(Xf(i)){for(ue in c)c.hasOwnProperty(ue)&&(u=c[ue],u!==void 0&&Lm(r,i,ue,u,c,void 0));return}}for(M in c)c.hasOwnProperty(M)&&(u=c[M],u!=null&&Ot(r,i,M,u,c,null))}function rE(r,i,c,u){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var x=null,v=null,C=null,M=null,H=null,re=null,ue=null;for(oe in c){var pe=c[oe];if(c.hasOwnProperty(oe)&&pe!=null)switch(oe){case"checked":break;case"value":break;case"defaultValue":H=pe;default:u.hasOwnProperty(oe)||Ot(r,i,oe,null,u,pe)}}for(var ie in u){var oe=u[ie];if(pe=c[ie],u.hasOwnProperty(ie)&&(oe!=null||pe!=null))switch(ie){case"type":v=oe;break;case"name":x=oe;break;case"checked":re=oe;break;case"defaultChecked":ue=oe;break;case"value":C=oe;break;case"defaultValue":M=oe;break;case"children":case"dangerouslySetInnerHTML":if(oe!=null)throw Error(s(137,i));break;default:oe!==pe&&Ot(r,i,ie,oe,u,pe)}}Jf(r,C,M,H,re,ue,v,x);return;case"select":oe=C=M=ie=null;for(v in c)if(H=c[v],c.hasOwnProperty(v)&&H!=null)switch(v){case"value":break;case"multiple":oe=H;default:u.hasOwnProperty(v)||Ot(r,i,v,null,u,H)}for(x in u)if(v=u[x],H=c[x],u.hasOwnProperty(x)&&(v!=null||H!=null))switch(x){case"value":ie=v;break;case"defaultValue":M=v;break;case"multiple":C=v;default:v!==H&&Ot(r,i,x,v,u,H)}i=M,c=C,u=oe,ie!=null?ji(r,!!c,ie,!1):!!u!=!!c&&(i!=null?ji(r,!!c,i,!0):ji(r,!!c,c?[]:"",!1));return;case"textarea":oe=ie=null;for(M in c)if(x=c[M],c.hasOwnProperty(M)&&x!=null&&!u.hasOwnProperty(M))switch(M){case"value":break;case"children":break;default:Ot(r,i,M,null,u,x)}for(C in u)if(x=u[C],v=c[C],u.hasOwnProperty(C)&&(x!=null||v!=null))switch(C){case"value":ie=x;break;case"defaultValue":oe=x;break;case"children":break;case"dangerouslySetInnerHTML":if(x!=null)throw Error(s(91));break;default:x!==v&&Ot(r,i,C,x,u,v)}Ox(r,ie,oe);return;case"option":for(var Je in c)if(ie=c[Je],c.hasOwnProperty(Je)&&ie!=null&&!u.hasOwnProperty(Je))switch(Je){case"selected":r.selected=!1;break;default:Ot(r,i,Je,null,u,ie)}for(H in u)if(ie=u[H],oe=c[H],u.hasOwnProperty(H)&&ie!==oe&&(ie!=null||oe!=null))switch(H){case"selected":r.selected=ie&&typeof ie!="function"&&typeof ie!="symbol";break;default:Ot(r,i,H,ie,u,oe)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ge in c)ie=c[Ge],c.hasOwnProperty(Ge)&&ie!=null&&!u.hasOwnProperty(Ge)&&Ot(r,i,Ge,null,u,ie);for(re in u)if(ie=u[re],oe=c[re],u.hasOwnProperty(re)&&ie!==oe&&(ie!=null||oe!=null))switch(re){case"children":case"dangerouslySetInnerHTML":if(ie!=null)throw Error(s(137,i));break;default:Ot(r,i,re,ie,u,oe)}return;default:if(Xf(i)){for(var Lt in c)ie=c[Lt],c.hasOwnProperty(Lt)&&ie!==void 0&&!u.hasOwnProperty(Lt)&&Lm(r,i,Lt,void 0,u,ie);for(ue in u)ie=u[ue],oe=c[ue],!u.hasOwnProperty(ue)||ie===oe||ie===void 0&&oe===void 0||Lm(r,i,ue,ie,u,oe);return}}for(var Q in c)ie=c[Q],c.hasOwnProperty(Q)&&ie!=null&&!u.hasOwnProperty(Q)&&Ot(r,i,Q,null,u,ie);for(pe in u)ie=u[pe],oe=c[pe],!u.hasOwnProperty(pe)||ie===oe||ie==null&&oe==null||Ot(r,i,pe,ie,u,oe)}var Um=null,$m=null;function Ud(r){return r.nodeType===9?r:r.ownerDocument}function Uv(r){switch(r){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function $v(r,i){if(r===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return r===1&&i==="foreignObject"?0:r}function Fm(r,i){return r==="textarea"||r==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var Im=null;function sE(){var r=window.event;return r&&r.type==="popstate"?r===Im?!1:(Im=r,!0):(Im=null,!1)}var Fv=typeof setTimeout=="function"?setTimeout:void 0,iE=typeof clearTimeout=="function"?clearTimeout:void 0,Iv=typeof Promise=="function"?Promise:void 0,lE=typeof queueMicrotask=="function"?queueMicrotask:typeof Iv<"u"?function(r){return Iv.resolve(null).then(r).catch(oE)}:Fv;function oE(r){setTimeout(function(){throw r})}function ns(r){return r==="head"}function Bv(r,i){var c=i,u=0,x=0;do{var v=c.nextSibling;if(r.removeChild(c),v&&v.nodeType===8)if(c=v.data,c==="/$"){if(0<u&&8>u){c=u;var C=r.ownerDocument;if(c&1&&Do(C.documentElement),c&2&&Do(C.body),c&4)for(c=C.head,Do(c),C=c.firstChild;C;){var M=C.nextSibling,H=C.nodeName;C[Ke]||H==="SCRIPT"||H==="STYLE"||H==="LINK"&&C.rel.toLowerCase()==="stylesheet"||c.removeChild(C),C=M}}if(x===0){r.removeChild(v),Bo(i);return}x--}else c==="$"||c==="$?"||c==="$!"?x++:u=c.charCodeAt(0)-48;else u=0;c=v}while(c);Bo(i)}function Bm(r){var i=r.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var c=i;switch(i=i.nextSibling,c.nodeName){case"HTML":case"HEAD":case"BODY":Bm(c),We(c);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(c.rel.toLowerCase()==="stylesheet")continue}r.removeChild(c)}}function cE(r,i,c,u){for(;r.nodeType===1;){var x=c;if(r.nodeName.toLowerCase()!==i.toLowerCase()){if(!u&&(r.nodeName!=="INPUT"||r.type!=="hidden"))break}else if(u){if(!r[Ke])switch(i){case"meta":if(!r.hasAttribute("itemprop"))break;return r;case"link":if(v=r.getAttribute("rel"),v==="stylesheet"&&r.hasAttribute("data-precedence"))break;if(v!==x.rel||r.getAttribute("href")!==(x.href==null||x.href===""?null:x.href)||r.getAttribute("crossorigin")!==(x.crossOrigin==null?null:x.crossOrigin)||r.getAttribute("title")!==(x.title==null?null:x.title))break;return r;case"style":if(r.hasAttribute("data-precedence"))break;return r;case"script":if(v=r.getAttribute("src"),(v!==(x.src==null?null:x.src)||r.getAttribute("type")!==(x.type==null?null:x.type)||r.getAttribute("crossorigin")!==(x.crossOrigin==null?null:x.crossOrigin))&&v&&r.hasAttribute("async")&&!r.hasAttribute("itemprop"))break;return r;default:return r}}else if(i==="input"&&r.type==="hidden"){var v=x.name==null?null:""+x.name;if(x.type==="hidden"&&r.getAttribute("name")===v)return r}else return r;if(r=Pa(r.nextSibling),r===null)break}return null}function dE(r,i,c){if(i==="")return null;for(;r.nodeType!==3;)if((r.nodeType!==1||r.nodeName!=="INPUT"||r.type!=="hidden")&&!c||(r=Pa(r.nextSibling),r===null))return null;return r}function zm(r){return r.data==="$!"||r.data==="$?"&&r.ownerDocument.readyState==="complete"}function uE(r,i){var c=r.ownerDocument;if(r.data!=="$?"||c.readyState==="complete")i();else{var u=function(){i(),c.removeEventListener("DOMContentLoaded",u)};c.addEventListener("DOMContentLoaded",u),r._reactRetry=u}}function Pa(r){for(;r!=null;r=r.nextSibling){var i=r.nodeType;if(i===1||i===3)break;if(i===8){if(i=r.data,i==="$"||i==="$!"||i==="$?"||i==="F!"||i==="F")break;if(i==="/$")return null}}return r}var qm=null;function zv(r){r=r.previousSibling;for(var i=0;r;){if(r.nodeType===8){var c=r.data;if(c==="$"||c==="$!"||c==="$?"){if(i===0)return r;i--}else c==="/$"&&i++}r=r.previousSibling}return null}function qv(r,i,c){switch(i=Ud(c),r){case"html":if(r=i.documentElement,!r)throw Error(s(452));return r;case"head":if(r=i.head,!r)throw Error(s(453));return r;case"body":if(r=i.body,!r)throw Error(s(454));return r;default:throw Error(s(451))}}function Do(r){for(var i=r.attributes;i.length;)r.removeAttributeNode(i[0]);We(r)}var xa=new Map,Hv=new Set;function $d(r){return typeof r.getRootNode=="function"?r.getRootNode():r.nodeType===9?r:r.ownerDocument}var br=q.d;q.d={f:fE,r:hE,D:mE,C:pE,L:gE,m:xE,X:vE,S:bE,M:yE};function fE(){var r=br.f(),i=Ad();return r||i}function hE(r){var i=St(r);i!==null&&i.tag===5&&i.type==="form"?db(i):br.r(r)}var Xi=typeof document>"u"?null:document;function Vv(r,i,c){var u=Xi;if(u&&typeof i=="string"&&i){var x=da(i);x='link[rel="'+r+'"][href="'+x+'"]',typeof c=="string"&&(x+='[crossorigin="'+c+'"]'),Hv.has(x)||(Hv.add(x),r={rel:r,crossOrigin:c,href:i},u.querySelector(x)===null&&(i=u.createElement("link"),Sn(i,"link",r),_t(i),u.head.appendChild(i)))}}function mE(r){br.D(r),Vv("dns-prefetch",r,null)}function pE(r,i){br.C(r,i),Vv("preconnect",r,i)}function gE(r,i,c){br.L(r,i,c);var u=Xi;if(u&&r&&i){var x='link[rel="preload"][as="'+da(i)+'"]';i==="image"&&c&&c.imageSrcSet?(x+='[imagesrcset="'+da(c.imageSrcSet)+'"]',typeof c.imageSizes=="string"&&(x+='[imagesizes="'+da(c.imageSizes)+'"]')):x+='[href="'+da(r)+'"]';var v=x;switch(i){case"style":v=Qi(r);break;case"script":v=el(r)}xa.has(v)||(r=g({rel:"preload",href:i==="image"&&c&&c.imageSrcSet?void 0:r,as:i},c),xa.set(v,r),u.querySelector(x)!==null||i==="style"&&u.querySelector(Mo(v))||i==="script"&&u.querySelector(Oo(v))||(i=u.createElement("link"),Sn(i,"link",r),_t(i),u.head.appendChild(i)))}}function xE(r,i){br.m(r,i);var c=Xi;if(c&&r){var u=i&&typeof i.as=="string"?i.as:"script",x='link[rel="modulepreload"][as="'+da(u)+'"][href="'+da(r)+'"]',v=x;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":v=el(r)}if(!xa.has(v)&&(r=g({rel:"modulepreload",href:r},i),xa.set(v,r),c.querySelector(x)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(c.querySelector(Oo(v)))return}u=c.createElement("link"),Sn(u,"link",r),_t(u),c.head.appendChild(u)}}}function bE(r,i,c){br.S(r,i,c);var u=Xi;if(u&&r){var x=Zt(u).hoistableStyles,v=Qi(r);i=i||"default";var C=x.get(v);if(!C){var M={loading:0,preload:null};if(C=u.querySelector(Mo(v)))M.loading=5;else{r=g({rel:"stylesheet",href:r,"data-precedence":i},c),(c=xa.get(v))&&Hm(r,c);var H=C=u.createElement("link");_t(H),Sn(H,"link",r),H._p=new Promise(function(re,ue){H.onload=re,H.onerror=ue}),H.addEventListener("load",function(){M.loading|=1}),H.addEventListener("error",function(){M.loading|=2}),M.loading|=4,Fd(C,i,u)}C={type:"stylesheet",instance:C,count:1,state:M},x.set(v,C)}}}function vE(r,i){br.X(r,i);var c=Xi;if(c&&r){var u=Zt(c).hoistableScripts,x=el(r),v=u.get(x);v||(v=c.querySelector(Oo(x)),v||(r=g({src:r,async:!0},i),(i=xa.get(x))&&Vm(r,i),v=c.createElement("script"),_t(v),Sn(v,"link",r),c.head.appendChild(v)),v={type:"script",instance:v,count:1,state:null},u.set(x,v))}}function yE(r,i){br.M(r,i);var c=Xi;if(c&&r){var u=Zt(c).hoistableScripts,x=el(r),v=u.get(x);v||(v=c.querySelector(Oo(x)),v||(r=g({src:r,async:!0,type:"module"},i),(i=xa.get(x))&&Vm(r,i),v=c.createElement("script"),_t(v),Sn(v,"link",r),c.head.appendChild(v)),v={type:"script",instance:v,count:1,state:null},u.set(x,v))}}function Gv(r,i,c,u){var x=(x=fe.current)?$d(x):null;if(!x)throw Error(s(446));switch(r){case"meta":case"title":return null;case"style":return typeof c.precedence=="string"&&typeof c.href=="string"?(i=Qi(c.href),c=Zt(x).hoistableStyles,u=c.get(i),u||(u={type:"style",instance:null,count:0,state:null},c.set(i,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(c.rel==="stylesheet"&&typeof c.href=="string"&&typeof c.precedence=="string"){r=Qi(c.href);var v=Zt(x).hoistableStyles,C=v.get(r);if(C||(x=x.ownerDocument||x,C={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},v.set(r,C),(v=x.querySelector(Mo(r)))&&!v._p&&(C.instance=v,C.state.loading=5),xa.has(r)||(c={rel:"preload",as:"style",href:c.href,crossOrigin:c.crossOrigin,integrity:c.integrity,media:c.media,hrefLang:c.hrefLang,referrerPolicy:c.referrerPolicy},xa.set(r,c),v||wE(x,r,c,C.state))),i&&u===null)throw Error(s(528,""));return C}if(i&&u!==null)throw Error(s(529,""));return null;case"script":return i=c.async,c=c.src,typeof c=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=el(c),c=Zt(x).hoistableScripts,u=c.get(i),u||(u={type:"script",instance:null,count:0,state:null},c.set(i,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,r))}}function Qi(r){return'href="'+da(r)+'"'}function Mo(r){return'link[rel="stylesheet"]['+r+"]"}function Yv(r){return g({},r,{"data-precedence":r.precedence,precedence:null})}function wE(r,i,c,u){r.querySelector('link[rel="preload"][as="style"]['+i+"]")?u.loading=1:(i=r.createElement("link"),u.preload=i,i.addEventListener("load",function(){return u.loading|=1}),i.addEventListener("error",function(){return u.loading|=2}),Sn(i,"link",c),_t(i),r.head.appendChild(i))}function el(r){return'[src="'+da(r)+'"]'}function Oo(r){return"script[async]"+r}function Kv(r,i,c){if(i.count++,i.instance===null)switch(i.type){case"style":var u=r.querySelector('style[data-href~="'+da(c.href)+'"]');if(u)return i.instance=u,_t(u),u;var x=g({},c,{"data-href":c.href,"data-precedence":c.precedence,href:null,precedence:null});return u=(r.ownerDocument||r).createElement("style"),_t(u),Sn(u,"style",x),Fd(u,c.precedence,r),i.instance=u;case"stylesheet":x=Qi(c.href);var v=r.querySelector(Mo(x));if(v)return i.state.loading|=4,i.instance=v,_t(v),v;u=Yv(c),(x=xa.get(x))&&Hm(u,x),v=(r.ownerDocument||r).createElement("link"),_t(v);var C=v;return C._p=new Promise(function(M,H){C.onload=M,C.onerror=H}),Sn(v,"link",u),i.state.loading|=4,Fd(v,c.precedence,r),i.instance=v;case"script":return v=el(c.src),(x=r.querySelector(Oo(v)))?(i.instance=x,_t(x),x):(u=c,(x=xa.get(v))&&(u=g({},c),Vm(u,x)),r=r.ownerDocument||r,x=r.createElement("script"),_t(x),Sn(x,"link",u),r.head.appendChild(x),i.instance=x);case"void":return null;default:throw Error(s(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(u=i.instance,i.state.loading|=4,Fd(u,c.precedence,r));return i.instance}function Fd(r,i,c){for(var u=c.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),x=u.length?u[u.length-1]:null,v=x,C=0;C<u.length;C++){var M=u[C];if(M.dataset.precedence===i)v=M;else if(v!==x)break}v?v.parentNode.insertBefore(r,v.nextSibling):(i=c.nodeType===9?c.head:c,i.insertBefore(r,i.firstChild))}function Hm(r,i){r.crossOrigin==null&&(r.crossOrigin=i.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=i.referrerPolicy),r.title==null&&(r.title=i.title)}function Vm(r,i){r.crossOrigin==null&&(r.crossOrigin=i.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=i.referrerPolicy),r.integrity==null&&(r.integrity=i.integrity)}var Id=null;function Wv(r,i,c){if(Id===null){var u=new Map,x=Id=new Map;x.set(c,u)}else x=Id,u=x.get(c),u||(u=new Map,x.set(c,u));if(u.has(r))return u;for(u.set(r,null),c=c.getElementsByTagName(r),x=0;x<c.length;x++){var v=c[x];if(!(v[Ke]||v[me]||r==="link"&&v.getAttribute("rel")==="stylesheet")&&v.namespaceURI!=="http://www.w3.org/2000/svg"){var C=v.getAttribute(i)||"";C=r+C;var M=u.get(C);M?M.push(v):u.set(C,[v])}}return u}function Jv(r,i,c){r=r.ownerDocument||r,r.head.insertBefore(c,i==="title"?r.querySelector("head > title"):null)}function jE(r,i,c){if(c===1||i.itemProp!=null)return!1;switch(r){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return r=i.disabled,typeof i.precedence=="string"&&r==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function Zv(r){return!(r.type==="stylesheet"&&(r.state.loading&3)===0)}var Lo=null;function SE(){}function NE(r,i,c){if(Lo===null)throw Error(s(475));var u=Lo;if(i.type==="stylesheet"&&(typeof c.media!="string"||matchMedia(c.media).matches!==!1)&&(i.state.loading&4)===0){if(i.instance===null){var x=Qi(c.href),v=r.querySelector(Mo(x));if(v){r=v._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(u.count++,u=Bd.bind(u),r.then(u,u)),i.state.loading|=4,i.instance=v,_t(v);return}v=r.ownerDocument||r,c=Yv(c),(x=xa.get(x))&&Hm(c,x),v=v.createElement("link"),_t(v);var C=v;C._p=new Promise(function(M,H){C.onload=M,C.onerror=H}),Sn(v,"link",c),i.instance=v}u.stylesheets===null&&(u.stylesheets=new Map),u.stylesheets.set(i,r),(r=i.state.preload)&&(i.state.loading&3)===0&&(u.count++,i=Bd.bind(u),r.addEventListener("load",i),r.addEventListener("error",i))}}function _E(){if(Lo===null)throw Error(s(475));var r=Lo;return r.stylesheets&&r.count===0&&Gm(r,r.stylesheets),0<r.count?function(i){var c=setTimeout(function(){if(r.stylesheets&&Gm(r,r.stylesheets),r.unsuspend){var u=r.unsuspend;r.unsuspend=null,u()}},6e4);return r.unsuspend=i,function(){r.unsuspend=null,clearTimeout(c)}}:null}function Bd(){if(this.count--,this.count===0){if(this.stylesheets)Gm(this,this.stylesheets);else if(this.unsuspend){var r=this.unsuspend;this.unsuspend=null,r()}}}var zd=null;function Gm(r,i){r.stylesheets=null,r.unsuspend!==null&&(r.count++,zd=new Map,i.forEach(CE,r),zd=null,Bd.call(r))}function CE(r,i){if(!(i.state.loading&4)){var c=zd.get(r);if(c)var u=c.get(null);else{c=new Map,zd.set(r,c);for(var x=r.querySelectorAll("link[data-precedence],style[data-precedence]"),v=0;v<x.length;v++){var C=x[v];(C.nodeName==="LINK"||C.getAttribute("media")!=="not all")&&(c.set(C.dataset.precedence,C),u=C)}u&&c.set(null,u)}x=i.instance,C=x.getAttribute("data-precedence"),v=c.get(C)||u,v===u&&c.set(null,x),c.set(C,x),this.count++,u=Bd.bind(this),x.addEventListener("load",u),x.addEventListener("error",u),v?v.parentNode.insertBefore(x,v.nextSibling):(r=r.nodeType===9?r.head:r,r.insertBefore(x,r.firstChild)),i.state.loading|=4}}var Uo={$$typeof:N,Provider:null,Consumer:null,_currentValue:B,_currentValue2:B,_threadCount:0};function EE(r,i,c,u,x,v,C,M){this.tag=1,this.containerInfo=r,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ar(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ar(0),this.hiddenUpdates=ar(null),this.identifierPrefix=u,this.onUncaughtError=x,this.onCaughtError=v,this.onRecoverableError=C,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=M,this.incompleteTransitions=new Map}function Xv(r,i,c,u,x,v,C,M,H,re,ue,pe){return r=new EE(r,i,c,C,M,H,re,pe),i=1,v===!0&&(i|=24),v=Zn(3,null,null,i),r.current=v,v.stateNode=r,i=Eh(),i.refCount++,r.pooledCache=i,i.refCount++,v.memoizedState={element:u,isDehydrated:c,cache:i},kh(v),r}function Qv(r){return r?(r=ki,r):ki}function ey(r,i,c,u,x,v){x=Qv(x),u.context===null?u.context=x:u.pendingContext=x,u=qr(i),u.payload={element:c},v=v===void 0?null:v,v!==null&&(u.callback=v),c=Hr(r,u,i),c!==null&&(na(c,r,i),ho(c,r,i))}function ty(r,i){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var c=r.retryLane;r.retryLane=c!==0&&c<i?c:i}}function Ym(r,i){ty(r,i),(r=r.alternate)&&ty(r,i)}function ny(r){if(r.tag===13){var i=Pi(r,67108864);i!==null&&na(i,r,67108864),Ym(r,67108864)}}var qd=!0;function RE(r,i,c,u){var x=O.T;O.T=null;var v=q.p;try{q.p=2,Km(r,i,c,u)}finally{q.p=v,O.T=x}}function AE(r,i,c,u){var x=O.T;O.T=null;var v=q.p;try{q.p=8,Km(r,i,c,u)}finally{q.p=v,O.T=x}}function Km(r,i,c,u){if(qd){var x=Wm(u);if(x===null)Om(r,i,u,Hd,c),ry(r,u);else if(kE(x,r,i,c,u))u.stopPropagation();else if(ry(r,u),i&4&&-1<PE.indexOf(r)){for(;x!==null;){var v=St(x);if(v!==null)switch(v.tag){case 3:if(v=v.stateNode,v.current.memoizedState.isDehydrated){var C=kt(v.pendingLanes);if(C!==0){var M=v;for(M.pendingLanes|=2,M.entangledLanes|=2;C;){var H=1<<31-ht(C);M.entanglements[1]|=H,C&=~H}Ya(v),(Tt&6)===0&&(Ed=Fe()+500,Po(0))}}break;case 13:M=Pi(v,2),M!==null&&na(M,v,2),Ad(),Ym(v,2)}if(v=Wm(u),v===null&&Om(r,i,u,Hd,c),v===x)break;x=v}x!==null&&u.stopPropagation()}else Om(r,i,u,null,c)}}function Wm(r){return r=eh(r),Jm(r)}var Hd=null;function Jm(r){if(Hd=null,r=Xe(r),r!==null){var i=o(r);if(i===null)r=null;else{var c=i.tag;if(c===13){if(r=d(i),r!==null)return r;r=null}else if(c===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;r=null}else i!==r&&(r=null)}}return Hd=r,null}function ay(r){switch(r){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(jt()){case xt:return 2;case we:return 8;case lt:case st:return 32;case Et:return 268435456;default:return 32}default:return 32}}var Zm=!1,as=null,rs=null,ss=null,$o=new Map,Fo=new Map,is=[],PE="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function ry(r,i){switch(r){case"focusin":case"focusout":as=null;break;case"dragenter":case"dragleave":rs=null;break;case"mouseover":case"mouseout":ss=null;break;case"pointerover":case"pointerout":$o.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":Fo.delete(i.pointerId)}}function Io(r,i,c,u,x,v){return r===null||r.nativeEvent!==v?(r={blockedOn:i,domEventName:c,eventSystemFlags:u,nativeEvent:v,targetContainers:[x]},i!==null&&(i=St(i),i!==null&&ny(i)),r):(r.eventSystemFlags|=u,i=r.targetContainers,x!==null&&i.indexOf(x)===-1&&i.push(x),r)}function kE(r,i,c,u,x){switch(i){case"focusin":return as=Io(as,r,i,c,u,x),!0;case"dragenter":return rs=Io(rs,r,i,c,u,x),!0;case"mouseover":return ss=Io(ss,r,i,c,u,x),!0;case"pointerover":var v=x.pointerId;return $o.set(v,Io($o.get(v)||null,r,i,c,u,x)),!0;case"gotpointercapture":return v=x.pointerId,Fo.set(v,Io(Fo.get(v)||null,r,i,c,u,x)),!0}return!1}function sy(r){var i=Xe(r.target);if(i!==null){var c=o(i);if(c!==null){if(i=c.tag,i===13){if(i=d(c),i!==null){r.blockedOn=i,te(r.priority,function(){if(c.tag===13){var u=ta();u=Or(u);var x=Pi(c,u);x!==null&&na(x,c,u),Ym(c,u)}});return}}else if(i===3&&c.stateNode.current.memoizedState.isDehydrated){r.blockedOn=c.tag===3?c.stateNode.containerInfo:null;return}}}r.blockedOn=null}function Vd(r){if(r.blockedOn!==null)return!1;for(var i=r.targetContainers;0<i.length;){var c=Wm(r.nativeEvent);if(c===null){c=r.nativeEvent;var u=new c.constructor(c.type,c);Qf=u,c.target.dispatchEvent(u),Qf=null}else return i=St(c),i!==null&&ny(i),r.blockedOn=c,!1;i.shift()}return!0}function iy(r,i,c){Vd(r)&&c.delete(i)}function TE(){Zm=!1,as!==null&&Vd(as)&&(as=null),rs!==null&&Vd(rs)&&(rs=null),ss!==null&&Vd(ss)&&(ss=null),$o.forEach(iy),Fo.forEach(iy)}function Gd(r,i){r.blockedOn===i&&(r.blockedOn=null,Zm||(Zm=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,TE)))}var Yd=null;function ly(r){Yd!==r&&(Yd=r,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){Yd===r&&(Yd=null);for(var i=0;i<r.length;i+=3){var c=r[i],u=r[i+1],x=r[i+2];if(typeof u!="function"){if(Jm(u||c)===null)continue;break}var v=St(c);v!==null&&(r.splice(i,3),i-=3,Jh(v,{pending:!0,data:x,method:c.method,action:u},u,x))}}))}function Bo(r){function i(H){return Gd(H,r)}as!==null&&Gd(as,r),rs!==null&&Gd(rs,r),ss!==null&&Gd(ss,r),$o.forEach(i),Fo.forEach(i);for(var c=0;c<is.length;c++){var u=is[c];u.blockedOn===r&&(u.blockedOn=null)}for(;0<is.length&&(c=is[0],c.blockedOn===null);)sy(c),c.blockedOn===null&&is.shift();if(c=(r.ownerDocument||r).$$reactFormReplay,c!=null)for(u=0;u<c.length;u+=3){var x=c[u],v=c[u+1],C=x[je]||null;if(typeof v=="function")C||ly(c);else if(C){var M=null;if(v&&v.hasAttribute("formAction")){if(x=v,C=v[je]||null)M=C.formAction;else if(Jm(x)!==null)continue}else M=C.action;typeof M=="function"?c[u+1]=M:(c.splice(u,3),u-=3),ly(c)}}}function Xm(r){this._internalRoot=r}Kd.prototype.render=Xm.prototype.render=function(r){var i=this._internalRoot;if(i===null)throw Error(s(409));var c=i.current,u=ta();ey(c,u,r,i,null,null)},Kd.prototype.unmount=Xm.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var i=r.containerInfo;ey(r.current,2,null,r,null,null),Ad(),i[Te]=null}};function Kd(r){this._internalRoot=r}Kd.prototype.unstable_scheduleHydration=function(r){if(r){var i=G();r={blockedOn:null,target:r,priority:i};for(var c=0;c<is.length&&i!==0&&i<is[c].priority;c++);is.splice(c,0,r),c===0&&sy(r)}};var oy=t.version;if(oy!=="19.1.0")throw Error(s(527,oy,"19.1.0"));q.findDOMNode=function(r){var i=r._reactInternals;if(i===void 0)throw typeof r.render=="function"?Error(s(188)):(r=Object.keys(r).join(","),Error(s(268,r)));return r=m(i),r=r!==null?p(r):null,r=r===null?null:r.stateNode,r};var DE={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:O,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Wd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Wd.isDisabled&&Wd.supportsFiber)try{Nt=Wd.inject(DE),ot=Wd}catch{}}return qo.createRoot=function(r,i){if(!l(r))throw Error(s(299));var c=!1,u="",x=Nb,v=_b,C=Cb,M=null;return i!=null&&(i.unstable_strictMode===!0&&(c=!0),i.identifierPrefix!==void 0&&(u=i.identifierPrefix),i.onUncaughtError!==void 0&&(x=i.onUncaughtError),i.onCaughtError!==void 0&&(v=i.onCaughtError),i.onRecoverableError!==void 0&&(C=i.onRecoverableError),i.unstable_transitionCallbacks!==void 0&&(M=i.unstable_transitionCallbacks)),i=Xv(r,1,!1,null,null,c,u,x,v,C,M,null),r[Te]=i.current,Mm(r),new Xm(i)},qo.hydrateRoot=function(r,i,c){if(!l(r))throw Error(s(299));var u=!1,x="",v=Nb,C=_b,M=Cb,H=null,re=null;return c!=null&&(c.unstable_strictMode===!0&&(u=!0),c.identifierPrefix!==void 0&&(x=c.identifierPrefix),c.onUncaughtError!==void 0&&(v=c.onUncaughtError),c.onCaughtError!==void 0&&(C=c.onCaughtError),c.onRecoverableError!==void 0&&(M=c.onRecoverableError),c.unstable_transitionCallbacks!==void 0&&(H=c.unstable_transitionCallbacks),c.formState!==void 0&&(re=c.formState)),i=Xv(r,1,!0,i,c??null,u,x,v,C,M,H,re),i.context=Qv(null),c=i.current,u=ta(),u=Or(u),x=qr(u),x.callback=null,Hr(c,x,u),c=u,i.current.lanes=c,Ia(i,c),Ya(i),r[Te]=i.current,Mm(r),new Kd(i)},qo.version="19.1.0",qo}var by;function HE(){if(by)return tp.exports;by=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),tp.exports=qE(),tp.exports}var VE=HE(),Ho={},vy;function GE(){if(vy)return Ho;vy=1,Object.defineProperty(Ho,"__esModule",{value:!0}),Ho.parse=d,Ho.serialize=p;const e=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,t=/^[\u0021-\u003A\u003C-\u007E]*$/,n=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,s=/^[\u0020-\u003A\u003D-\u007E]*$/,l=Object.prototype.toString,o=(()=>{const y=function(){};return y.prototype=Object.create(null),y})();function d(y,w){const j=new o,S=y.length;if(S<2)return j;const _=w?.decode||g;let R=0;do{const k=y.indexOf("=",R);if(k===-1)break;const N=y.indexOf(";",R),A=N===-1?S:N;if(k>A){R=y.lastIndexOf(";",k-1)+1;continue}const P=f(y,R,k),E=m(y,k,P),T=y.slice(P,E);if(j[T]===void 0){let I=f(y,k+1,A),U=m(y,A,I);const Z=_(y.slice(I,U));j[T]=Z}R=A+1}while(R<S);return j}function f(y,w,j){do{const S=y.charCodeAt(w);if(S!==32&&S!==9)return w}while(++w<j);return j}function m(y,w,j){for(;w>j;){const S=y.charCodeAt(--w);if(S!==32&&S!==9)return w+1}return j}function p(y,w,j){const S=j?.encode||encodeURIComponent;if(!e.test(y))throw new TypeError(`argument name is invalid: ${y}`);const _=S(w);if(!t.test(_))throw new TypeError(`argument val is invalid: ${w}`);let R=y+"="+_;if(!j)return R;if(j.maxAge!==void 0){if(!Number.isInteger(j.maxAge))throw new TypeError(`option maxAge is invalid: ${j.maxAge}`);R+="; Max-Age="+j.maxAge}if(j.domain){if(!n.test(j.domain))throw new TypeError(`option domain is invalid: ${j.domain}`);R+="; Domain="+j.domain}if(j.path){if(!s.test(j.path))throw new TypeError(`option path is invalid: ${j.path}`);R+="; Path="+j.path}if(j.expires){if(!b(j.expires)||!Number.isFinite(j.expires.valueOf()))throw new TypeError(`option expires is invalid: ${j.expires}`);R+="; Expires="+j.expires.toUTCString()}if(j.httpOnly&&(R+="; HttpOnly"),j.secure&&(R+="; Secure"),j.partitioned&&(R+="; Partitioned"),j.priority)switch(typeof j.priority=="string"?j.priority.toLowerCase():void 0){case"low":R+="; Priority=Low";break;case"medium":R+="; Priority=Medium";break;case"high":R+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${j.priority}`)}if(j.sameSite)switch(typeof j.sameSite=="string"?j.sameSite.toLowerCase():j.sameSite){case!0:case"strict":R+="; SameSite=Strict";break;case"lax":R+="; SameSite=Lax";break;case"none":R+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${j.sameSite}`)}return R}function g(y){if(y.indexOf("%")===-1)return y;try{return decodeURIComponent(y)}catch{return y}}function b(y){return l.call(y)==="[object Date]"}return Ho}GE();/**
 * react-router v7.6.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var uj=e=>{throw TypeError(e)},YE=(e,t,n)=>t.has(e)||uj("Cannot "+n),sp=(e,t,n)=>(YE(e,t,"read from private field"),n?n.call(e):t.get(e)),KE=(e,t,n)=>t.has(e)?uj("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),yy="popstate";function WE(e={}){function t(s,l){let{pathname:o,search:d,hash:f}=s.location;return bc("",{pathname:o,search:d,hash:f},l.state&&l.state.usr||null,l.state&&l.state.key||"default")}function n(s,l){return typeof l=="string"?l:ys(l)}return ZE(t,n,null,e)}function ft(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function rn(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function JE(){return Math.random().toString(36).substring(2,10)}function wy(e,t){return{usr:e.state,key:e.key,idx:t}}function bc(e,t,n=null,s){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?_s(t):t,state:n,key:t&&t.key||s||JE()}}function ys({pathname:e="/",search:t="",hash:n=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function _s(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substring(n),e=e.substring(0,n));let s=e.indexOf("?");s>=0&&(t.search=e.substring(s),e=e.substring(0,s)),e&&(t.pathname=e)}return t}function ZE(e,t,n,s={}){let{window:l=document.defaultView,v5Compat:o=!1}=s,d=l.history,f="POP",m=null,p=g();p==null&&(p=0,d.replaceState({...d.state,idx:p},""));function g(){return(d.state||{idx:null}).idx}function b(){f="POP";let _=g(),R=_==null?null:_-p;p=_,m&&m({action:f,location:S.location,delta:R})}function y(_,R){f="PUSH";let k=bc(S.location,_,R);p=g()+1;let N=wy(k,p),A=S.createHref(k);try{d.pushState(N,"",A)}catch(P){if(P instanceof DOMException&&P.name==="DataCloneError")throw P;l.location.assign(A)}o&&m&&m({action:f,location:S.location,delta:1})}function w(_,R){f="REPLACE";let k=bc(S.location,_,R);p=g();let N=wy(k,p),A=S.createHref(k);d.replaceState(N,"",A),o&&m&&m({action:f,location:S.location,delta:0})}function j(_){return fj(_)}let S={get action(){return f},get location(){return e(l,d)},listen(_){if(m)throw new Error("A history only accepts one active listener");return l.addEventListener(yy,b),m=_,()=>{l.removeEventListener(yy,b),m=null}},createHref(_){return t(l,_)},createURL:j,encodeLocation(_){let R=j(_);return{pathname:R.pathname,search:R.search,hash:R.hash}},push:y,replace:w,go(_){return d.go(_)}};return S}function fj(e,t=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),ft(n,"No window.location.(origin|href) available to create URL");let s=typeof e=="string"?e:ys(e);return s=s.replace(/ $/,"%20"),!t&&s.startsWith("//")&&(s=n+s),new URL(s,n)}var nc,jy=class{constructor(e){if(KE(this,nc,new Map),e)for(let[t,n]of e)this.set(t,n)}get(e){if(sp(this,nc).has(e))return sp(this,nc).get(e);if(e.defaultValue!==void 0)return e.defaultValue;throw new Error("No value found for context")}set(e,t){sp(this,nc).set(e,t)}};nc=new WeakMap;var XE=new Set(["lazy","caseSensitive","path","id","index","children"]);function QE(e){return XE.has(e)}var e4=new Set(["lazy","caseSensitive","path","id","index","unstable_middleware","children"]);function t4(e){return e4.has(e)}function n4(e){return e.index===!0}function Ou(e,t,n=[],s={}){return e.map((l,o)=>{let d=[...n,String(o)],f=typeof l.id=="string"?l.id:d.join("-");if(ft(l.index!==!0||!l.children,"Cannot specify children on an index route"),ft(!s[f],`Found a route id collision on id "${f}".  Route id's must be globally unique within Data Router usages`),n4(l)){let m={...l,...t(l),id:f};return s[f]=m,m}else{let m={...l,...t(l),id:f,children:void 0};return s[f]=m,l.children&&(m.children=Ou(l.children,t,d,s)),m}})}function gs(e,t,n="/"){return yu(e,t,n,!1)}function yu(e,t,n,s){let l=typeof t=="string"?_s(t):t,o=wa(l.pathname||"/",n);if(o==null)return null;let d=hj(e);r4(d);let f=null;for(let m=0;f==null&&m<d.length;++m){let p=p4(o);f=h4(d[m],p,s)}return f}function a4(e,t){let{route:n,pathname:s,params:l}=e;return{id:n.id,pathname:s,params:l,data:t[n.id],handle:n.handle}}function hj(e,t=[],n=[],s=""){let l=(o,d,f)=>{let m={relativePath:f===void 0?o.path||"":f,caseSensitive:o.caseSensitive===!0,childrenIndex:d,route:o};m.relativePath.startsWith("/")&&(ft(m.relativePath.startsWith(s),`Absolute route path "${m.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),m.relativePath=m.relativePath.slice(s.length));let p=Za([s,m.relativePath]),g=n.concat(m);o.children&&o.children.length>0&&(ft(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${p}".`),hj(o.children,t,g,p)),!(o.path==null&&!o.index)&&t.push({path:p,score:u4(p,o.index),routesMeta:g})};return e.forEach((o,d)=>{if(o.path===""||!o.path?.includes("?"))l(o,d);else for(let f of mj(o.path))l(o,d,f)}),t}function mj(e){let t=e.split("/");if(t.length===0)return[];let[n,...s]=t,l=n.endsWith("?"),o=n.replace(/\?$/,"");if(s.length===0)return l?[o,""]:[o];let d=mj(s.join("/")),f=[];return f.push(...d.map(m=>m===""?o:[o,m].join("/"))),l&&f.push(...d),f.map(m=>e.startsWith("/")&&m===""?"/":m)}function r4(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:f4(t.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var s4=/^:[\w-]+$/,i4=3,l4=2,o4=1,c4=10,d4=-2,Sy=e=>e==="*";function u4(e,t){let n=e.split("/"),s=n.length;return n.some(Sy)&&(s+=d4),t&&(s+=l4),n.filter(l=>!Sy(l)).reduce((l,o)=>l+(s4.test(o)?i4:o===""?o4:c4),s)}function f4(e,t){return e.length===t.length&&e.slice(0,-1).every((s,l)=>s===t[l])?e[e.length-1]-t[t.length-1]:0}function h4(e,t,n=!1){let{routesMeta:s}=e,l={},o="/",d=[];for(let f=0;f<s.length;++f){let m=s[f],p=f===s.length-1,g=o==="/"?t:t.slice(o.length)||"/",b=Lu({path:m.relativePath,caseSensitive:m.caseSensitive,end:p},g),y=m.route;if(!b&&p&&n&&!s[s.length-1].route.index&&(b=Lu({path:m.relativePath,caseSensitive:m.caseSensitive,end:!1},g)),!b)return null;Object.assign(l,b.params),d.push({params:l,pathname:Za([o,b.pathname]),pathnameBase:b4(Za([o,b.pathnameBase])),route:y}),b.pathnameBase!=="/"&&(o=Za([o,b.pathnameBase]))}return d}function Lu(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,s]=m4(e.path,e.caseSensitive,e.end),l=t.match(n);if(!l)return null;let o=l[0],d=o.replace(/(.)\/+$/,"$1"),f=l.slice(1);return{params:s.reduce((p,{paramName:g,isOptional:b},y)=>{if(g==="*"){let j=f[y]||"";d=o.slice(0,o.length-j.length).replace(/(.)\/+$/,"$1")}const w=f[y];return b&&!w?p[g]=void 0:p[g]=(w||"").replace(/%2F/g,"/"),p},{}),pathname:o,pathnameBase:d,pattern:e}}function m4(e,t=!1,n=!0){rn(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let s=[],l="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(d,f,m)=>(s.push({paramName:f,isOptional:m!=null}),m?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(s.push({paramName:"*"}),l+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?l+="\\/*$":e!==""&&e!=="/"&&(l+="(?:(?=\\/|$))"),[new RegExp(l,t?void 0:"i"),s]}function p4(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return rn(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function wa(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,s=e.charAt(n);return s&&s!=="/"?null:e.slice(n)||"/"}function g4(e,t="/"){let{pathname:n,search:s="",hash:l=""}=typeof e=="string"?_s(e):e;return{pathname:n?n.startsWith("/")?n:x4(n,t):t,search:v4(s),hash:y4(l)}}function x4(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(l=>{l===".."?n.length>1&&n.pop():l!=="."&&n.push(l)}),n.length>1?n.join("/"):"/"}function ip(e,t,n,s){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function pj(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function uf(e){let t=pj(e);return t.map((n,s)=>s===t.length-1?n.pathname:n.pathnameBase)}function ff(e,t,n,s=!1){let l;typeof e=="string"?l=_s(e):(l={...e},ft(!l.pathname||!l.pathname.includes("?"),ip("?","pathname","search",l)),ft(!l.pathname||!l.pathname.includes("#"),ip("#","pathname","hash",l)),ft(!l.search||!l.search.includes("#"),ip("#","search","hash",l)));let o=e===""||l.pathname==="",d=o?"/":l.pathname,f;if(d==null)f=n;else{let b=t.length-1;if(!s&&d.startsWith("..")){let y=d.split("/");for(;y[0]==="..";)y.shift(),b-=1;l.pathname=y.join("/")}f=b>=0?t[b]:"/"}let m=g4(l,f),p=d&&d!=="/"&&d.endsWith("/"),g=(o||d===".")&&n.endsWith("/");return!m.pathname.endsWith("/")&&(p||g)&&(m.pathname+="/"),m}var Za=e=>e.join("/").replace(/\/\/+/g,"/"),b4=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),v4=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,y4=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e,Kn=(e,t=302)=>{let n=t;typeof n=="number"?n={status:n}:typeof n.status>"u"&&(n.status=302);let s=new Headers(n.headers);return s.set("Location",e),new Response(null,{...n,headers:s})},Uu=class{constructor(e,t,n,s=!1){this.status=e,this.statusText=t||"",this.internal=s,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function vc(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}var gj=["POST","PUT","PATCH","DELETE"],w4=new Set(gj),j4=["GET",...gj],S4=new Set(j4),N4=new Set([301,302,303,307,308]),_4=new Set([307,308]),lp={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},C4={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},Vo={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},Ag=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,E4=e=>({hasErrorBoundary:!!e.hasErrorBoundary}),xj="remix-router-transitions",bj=Symbol("ResetLoaderData");function R4(e){const t=e.window?e.window:typeof window<"u"?window:void 0,n=typeof t<"u"&&typeof t.document<"u"&&typeof t.document.createElement<"u";ft(e.routes.length>0,"You must provide a non-empty routes array to createRouter");let s=e.hydrationRouteProperties||[],l=e.mapRouteProperties||E4,o={},d=Ou(e.routes,l,void 0,o),f,m=e.basename||"/",p=e.dataStrategy||D4,g={unstable_middleware:!1,...e.future},b=null,y=new Set,w=null,j=null,S=null,_=e.hydrationData!=null,R=gs(d,e.history.location,m),k=!1,N=null,A;if(R==null&&!e.patchRoutesOnNavigation){let G=ba(404,{pathname:e.history.location.pathname}),{matches:te,route:le}=Oy(d);A=!0,R=te,N={[le.id]:G}}else if(R&&!e.hydrationData&&Ba(R,d,e.history.location.pathname).active&&(R=null),R)if(R.some(G=>G.route.lazy))A=!1;else if(!R.some(G=>G.route.loader))A=!0;else{let G=e.hydrationData?e.hydrationData.loaderData:null,te=e.hydrationData?e.hydrationData.errors:null;if(te){let le=R.findIndex(me=>te[me.route.id]!==void 0);A=R.slice(0,le+1).every(me=>!zp(me.route,G,te))}else A=R.every(le=>!zp(le.route,G,te))}else{A=!1,R=[];let G=Ba(null,d,e.history.location.pathname);G.active&&G.matches&&(k=!0,R=G.matches)}let P,E={historyAction:e.history.action,location:e.history.location,matches:R,initialized:A,navigation:lp,restoreScrollPosition:e.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:e.hydrationData&&e.hydrationData.loaderData||{},actionData:e.hydrationData&&e.hydrationData.actionData||null,errors:e.hydrationData&&e.hydrationData.errors||N,fetchers:new Map,blockers:new Map},T="POP",I=!1,U,Z=!1,se=new Map,F=null,L=!1,$=!1,W=new Set,O=new Map,q=0,B=-1,Y=new Map,D=new Set,V=new Map,J=new Map,ne=new Set,X=new Map,ce,fe=null;function Se(){if(b=e.history.listen(({action:G,location:te,delta:le})=>{if(ce){ce(),ce=void 0;return}rn(X.size===0||le!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let me=_a({currentLocation:E.location,nextLocation:te,historyAction:G});if(me&&le!=null){let je=new Promise(Te=>{ce=Te});e.history.go(le*-1),Cn(me,{state:"blocked",location:te,proceed(){Cn(me,{state:"proceeding",proceed:void 0,reset:void 0,location:te}),je.then(()=>e.history.go(le))},reset(){let Te=new Map(E.blockers);Te.set(me,Vo),be({blockers:Te})}});return}return $e(G,te)}),n){H4(t,se);let G=()=>V4(t,se);t.addEventListener("pagehide",G),F=()=>t.removeEventListener("pagehide",G)}return E.initialized||$e("POP",E.location,{initialHydration:!0}),P}function _e(){b&&b(),F&&F(),y.clear(),U&&U.abort(),E.fetchers.forEach((G,te)=>ht(te)),E.blockers.forEach((G,te)=>_n(te))}function ge(G){return y.add(G),()=>y.delete(G)}function be(G,te={}){E={...E,...G};let le=[],me=[];E.fetchers.forEach((je,Te)=>{je.state==="idle"&&(ne.has(Te)?le.push(Te):me.push(Te))}),ne.forEach(je=>{!E.fetchers.has(je)&&!O.has(je)&&le.push(je)}),[...y].forEach(je=>je(E,{deletedFetchers:le,viewTransitionOpts:te.viewTransitionOpts,flushSync:te.flushSync===!0})),le.forEach(je=>ht(je)),me.forEach(je=>E.fetchers.delete(je))}function Ae(G,te,{flushSync:le}={}){let me=E.actionData!=null&&E.navigation.formMethod!=null&&sa(E.navigation.formMethod)&&E.navigation.state==="loading"&&G.state?._isRedirect!==!0,je;te.actionData?Object.keys(te.actionData).length>0?je=te.actionData:je=null:me?je=E.actionData:je=null;let Te=te.loaderData?Dy(E.loaderData,te.loaderData,te.matches||[],te.errors):E.loaderData,Ve=E.blockers;Ve.size>0&&(Ve=new Map(Ve),Ve.forEach((Le,Ke)=>Ve.set(Ke,Vo)));let De=I===!0||E.navigation.formMethod!=null&&sa(E.navigation.formMethod)&&G.state?._isRedirect!==!0;f&&(d=f,f=void 0),L||T==="POP"||(T==="PUSH"?e.history.push(G,G.state):T==="REPLACE"&&e.history.replace(G,G.state));let Be;if(T==="POP"){let Le=se.get(E.location.pathname);Le&&Le.has(G.pathname)?Be={currentLocation:E.location,nextLocation:G}:se.has(G.pathname)&&(Be={currentLocation:G,nextLocation:E.location})}else if(Z){let Le=se.get(E.location.pathname);Le?Le.add(G.pathname):(Le=new Set([G.pathname]),se.set(E.location.pathname,Le)),Be={currentLocation:E.location,nextLocation:G}}be({...te,actionData:je,loaderData:Te,historyAction:T,location:G,initialized:!0,navigation:lp,revalidation:"idle",restoreScrollPosition:ks(G,te.matches||E.matches),preventScrollReset:De,blockers:Ve},{viewTransitionOpts:Be,flushSync:le===!0}),T="POP",I=!1,Z=!1,L=!1,$=!1,fe?.resolve(),fe=null}async function ke(G,te){if(typeof G=="number"){e.history.go(G);return}let le=Bp(E.location,E.matches,m,G,te?.fromRouteId,te?.relative),{path:me,submission:je,error:Te}=Ny(!1,le,te),Ve=E.location,De=bc(E.location,me,te&&te.state);De={...De,...e.history.encodeLocation(De)};let Be=te&&te.replace!=null?te.replace:void 0,Le="PUSH";Be===!0?Le="REPLACE":Be===!1||je!=null&&sa(je.formMethod)&&je.formAction===E.location.pathname+E.location.search&&(Le="REPLACE");let Ke=te&&"preventScrollReset"in te?te.preventScrollReset===!0:void 0,We=(te&&te.flushSync)===!0,Xe=_a({currentLocation:Ve,nextLocation:De,historyAction:Le});if(Xe){Cn(Xe,{state:"blocked",location:De,proceed(){Cn(Xe,{state:"proceeding",proceed:void 0,reset:void 0,location:De}),ke(G,te)},reset(){let St=new Map(E.blockers);St.set(Xe,Vo),be({blockers:St})}});return}await $e(Le,De,{submission:je,pendingError:Te,preventScrollReset:Ke,replace:te&&te.replace,enableViewTransition:te&&te.viewTransition,flushSync:We})}function ye(){fe||(fe=G4()),qt(),be({revalidation:"loading"});let G=fe.promise;return E.navigation.state==="submitting"?G:E.navigation.state==="idle"?($e(E.historyAction,E.location,{startUninterruptedRevalidation:!0}),G):($e(T||E.historyAction,E.navigation.location,{overrideNavigation:E.navigation,enableViewTransition:Z===!0}),G)}async function $e(G,te,le){U&&U.abort(),U=null,T=G,L=(le&&le.startUninterruptedRevalidation)===!0,Ia(E.location,E.matches),I=(le&&le.preventScrollReset)===!0,Z=(le&&le.enableViewTransition)===!0;let me=f||d,je=le&&le.overrideNavigation,Te=le?.initialHydration&&E.matches&&E.matches.length>0&&!k?E.matches:gs(me,te,m),Ve=(le&&le.flushSync)===!0;if(Te&&E.initialized&&!$&&F4(E.location,te)&&!(le&&le.submission&&sa(le.submission.formMethod))){Ae(te,{matches:Te},{flushSync:Ve});return}let De=Ba(Te,me,te.pathname);if(De.active&&De.matches&&(Te=De.matches),!Te){let{error:Zt,notFoundMatches:_t,route:bt}=Wn(te.pathname);Ae(te,{matches:_t,loaderData:{},errors:{[bt.id]:Zt}},{flushSync:Ve});return}U=new AbortController;let Be=xl(e.history,te,U.signal,le&&le.submission),Le=new jy(e.unstable_getContext?await e.unstable_getContext():void 0),Ke;if(le&&le.pendingError)Ke=[Qs(Te).route.id,{type:"error",error:le.pendingError}];else if(le&&le.submission&&sa(le.submission.formMethod)){let Zt=await Ne(Be,te,le.submission,Te,Le,De.active,le&&le.initialHydration===!0,{replace:le.replace,flushSync:Ve});if(Zt.shortCircuited)return;if(Zt.pendingActionResult){let[_t,bt]=Zt.pendingActionResult;if(ra(bt)&&vc(bt.error)&&bt.error.status===404){U=null,Ae(te,{matches:Zt.matches,loaderData:{},errors:{[_t]:bt.error}});return}}Te=Zt.matches||Te,Ke=Zt.pendingActionResult,je=op(te,le.submission),Ve=!1,De.active=!1,Be=xl(e.history,Be.url,Be.signal)}let{shortCircuited:We,matches:Xe,loaderData:St,errors:Ht}=await Pe(Be,te,Te,Le,De.active,je,le&&le.submission,le&&le.fetcherSubmission,le&&le.replace,le&&le.initialHydration===!0,Ve,Ke);We||(U=null,Ae(te,{matches:Xe||Te,...My(Ke),loaderData:St,errors:Ht}))}async function Ne(G,te,le,me,je,Te,Ve,De={}){qt();let Be=z4(te,le);if(be({navigation:Be},{flushSync:De.flushSync===!0}),Te){let We=await za(me,te.pathname,G.signal);if(We.type==="aborted")return{shortCircuited:!0};if(We.type==="error"){let Xe=Qs(We.partialMatches).route.id;return{matches:We.partialMatches,pendingActionResult:[Xe,{type:"error",error:We.error}]}}else if(We.matches)me=We.matches;else{let{notFoundMatches:Xe,error:St,route:Ht}=Wn(te.pathname);return{matches:Xe,pendingActionResult:[Ht.id,{type:"error",error:St}]}}}let Le,Ke=ac(me,te);if(!Ke.route.action&&!Ke.route.lazy)Le={type:"error",error:ba(405,{method:G.method,pathname:te.pathname,routeId:Ke.route.id})};else{let We=yl(l,o,G,me,Ke,Ve?[]:s,je),Xe=await Et(G,We,je,null);if(Le=Xe[Ke.route.id],!Le){for(let St of me)if(Xe[St.route.id]){Le=Xe[St.route.id];break}}if(G.signal.aborted)return{shortCircuited:!0}}if(ti(Le)){let We;return De&&De.replace!=null?We=De.replace:We=Py(Le.response.headers.get("Location"),new URL(G.url),m)===E.location.pathname+E.location.search,await st(G,Le,!0,{submission:le,replace:We}),{shortCircuited:!0}}if(ra(Le)){let We=Qs(me,Ke.route.id);return(De&&De.replace)!==!0&&(T="PUSH"),{matches:me,pendingActionResult:[We.route.id,Le,Ke.route.id]}}return{matches:me,pendingActionResult:[Ke.route.id,Le]}}async function Pe(G,te,le,me,je,Te,Ve,De,Be,Le,Ke,We){let Xe=Te||op(te,Ve),St=Ve||De||Uy(Xe),Ht=!L&&!Le;if(je){if(Ht){let En=Fe(We);be({navigation:Xe,...En!==void 0?{actionData:En}:{}},{flushSync:Ke})}let dt=await za(le,te.pathname,G.signal);if(dt.type==="aborted")return{shortCircuited:!0};if(dt.type==="error"){let En=Qs(dt.partialMatches).route.id;return{matches:dt.partialMatches,loaderData:{},errors:{[En]:dt.error}}}else if(dt.matches)le=dt.matches;else{let{error:En,notFoundMatches:Ca,route:Ea}=Wn(te.pathname);return{matches:Ca,loaderData:{},errors:{[Ea.id]:En}}}}let Zt=f||d,{dsMatches:_t,revalidatingFetchers:bt}=_y(G,me,l,o,e.history,E,le,St,te,Le?[]:s,Le===!0,$,W,ne,V,D,Zt,m,e.patchRoutesOnNavigation!=null,We);if(B=++q,!e.dataStrategy&&!_t.some(dt=>dt.shouldLoad)&&bt.length===0){let dt=on();return Ae(te,{matches:le,loaderData:{},errors:We&&ra(We[1])?{[We[0]]:We[1].error}:null,...My(We),...dt?{fetchers:new Map(E.fetchers)}:{}},{flushSync:Ke}),{shortCircuited:!0}}if(Ht){let dt={};if(!je){dt.navigation=Xe;let En=Fe(We);En!==void 0&&(dt.actionData=En)}bt.length>0&&(dt.fetchers=jt(bt)),be(dt,{flushSync:Ke})}bt.forEach(dt=>{Nn(dt.key),dt.controller&&O.set(dt.key,dt.controller)});let Lr=()=>bt.forEach(dt=>Nn(dt.key));U&&U.signal.addEventListener("abort",Lr);let{loaderResults:On,fetcherResults:oa}=await vt(_t,bt,G,me);if(G.signal.aborted)return{shortCircuited:!0};U&&U.signal.removeEventListener("abort",Lr),bt.forEach(dt=>O.delete(dt.key));let In=Jd(On);if(In)return await st(G,In.result,!0,{replace:Be}),{shortCircuited:!0};if(In=Jd(oa),In)return D.add(In.key),await st(G,In.result,!0,{replace:Be}),{shortCircuited:!0};let{loaderData:Ur,errors:$r}=Ty(E,le,On,We,bt,oa);Le&&E.errors&&($r={...E.errors,...$r});let Yl=on(),ca=ze(B),rr=Yl||ca||bt.length>0;return{matches:le,loaderData:Ur,errors:$r,...rr?{fetchers:new Map(E.fetchers)}:{}}}function Fe(G){if(G&&!ra(G[1]))return{[G[0]]:G[1].data};if(E.actionData)return Object.keys(E.actionData).length===0?null:E.actionData}function jt(G){return G.forEach(te=>{let le=E.fetchers.get(te.key),me=Go(void 0,le?le.data:void 0);E.fetchers.set(te.key,me)}),new Map(E.fetchers)}async function xt(G,te,le,me){Nn(G);let je=(me&&me.flushSync)===!0,Te=f||d,Ve=Bp(E.location,E.matches,m,le,te,me?.relative),De=gs(Te,Ve,m),Be=Ba(De,Te,Ve);if(Be.active&&Be.matches&&(De=Be.matches),!De){ot(G,te,ba(404,{pathname:Ve}),{flushSync:je});return}let{path:Le,submission:Ke,error:We}=Ny(!0,Ve,me);if(We){ot(G,te,We,{flushSync:je});return}let Xe=ac(De,Le),St=new jy(e.unstable_getContext?await e.unstable_getContext():void 0),Ht=(me&&me.preventScrollReset)===!0;if(Ke&&sa(Ke.formMethod)){await we(G,te,Le,Xe,De,St,Be.active,je,Ht,Ke);return}V.set(G,{routeId:te,path:Le}),await lt(G,te,Le,Xe,De,St,Be.active,je,Ht,Ke)}async function we(G,te,le,me,je,Te,Ve,De,Be,Le){qt(),V.delete(G);function Ke(Kt){if(!Kt.route.action&&!Kt.route.lazy){let Fr=ba(405,{method:Le.formMethod,pathname:le,routeId:te});return ot(G,te,Fr,{flushSync:De}),!0}return!1}if(!Ve&&Ke(me))return;let We=E.fetchers.get(G);Nt(G,q4(Le,We),{flushSync:De});let Xe=new AbortController,St=xl(e.history,le,Xe.signal,Le);if(Ve){let Kt=await za(je,le,St.signal,G);if(Kt.type==="aborted")return;if(Kt.type==="error"){ot(G,te,Kt.error,{flushSync:De});return}else if(Kt.matches){if(je=Kt.matches,me=ac(je,le),Ke(me))return}else{ot(G,te,ba(404,{pathname:le}),{flushSync:De});return}}O.set(G,Xe);let Ht=q,Zt=yl(l,o,St,je,me,s,Te),bt=(await Et(St,Zt,Te,G))[me.route.id];if(St.signal.aborted){O.get(G)===Xe&&O.delete(G);return}if(ne.has(G)){if(ti(bt)||ra(bt)){Nt(G,us(void 0));return}}else{if(ti(bt))if(O.delete(G),B>Ht){Nt(G,us(void 0));return}else return D.add(G),Nt(G,Go(Le)),st(St,bt,!1,{fetcherSubmission:Le,preventScrollReset:Be});if(ra(bt)){ot(G,te,bt.error);return}}let Lr=E.navigation.location||E.location,On=xl(e.history,Lr,Xe.signal),oa=f||d,In=E.navigation.state!=="idle"?gs(oa,E.navigation.location,m):E.matches;ft(In,"Didn't find any matches after fetcher action");let Ur=++q;Y.set(G,Ur);let $r=Go(Le,bt.data);E.fetchers.set(G,$r);let{dsMatches:Yl,revalidatingFetchers:ca}=_y(On,Te,l,o,e.history,E,In,Le,Lr,s,!1,$,W,ne,V,D,oa,m,e.patchRoutesOnNavigation!=null,[me.route.id,bt]);ca.filter(Kt=>Kt.key!==G).forEach(Kt=>{let Fr=Kt.key,Kl=E.fetchers.get(Fr),Bn=Go(void 0,Kl?Kl.data:void 0);E.fetchers.set(Fr,Bn),Nn(Fr),Kt.controller&&O.set(Fr,Kt.controller)}),be({fetchers:new Map(E.fetchers)});let rr=()=>ca.forEach(Kt=>Nn(Kt.key));Xe.signal.addEventListener("abort",rr);let{loaderResults:dt,fetcherResults:En}=await vt(Yl,ca,On,Te);if(Xe.signal.aborted)return;if(Xe.signal.removeEventListener("abort",rr),Y.delete(G),O.delete(G),ca.forEach(Kt=>O.delete(Kt.key)),E.fetchers.has(G)){let Kt=us(bt.data);E.fetchers.set(G,Kt)}let Ca=Jd(dt);if(Ca)return st(On,Ca.result,!1,{preventScrollReset:Be});if(Ca=Jd(En),Ca)return D.add(Ca.key),st(On,Ca.result,!1,{preventScrollReset:Be});let{loaderData:Ea,errors:Ds}=Ty(E,In,dt,void 0,ca,En);ze(Ur),E.navigation.state==="loading"&&Ur>B?(ft(T,"Expected pending action"),U&&U.abort(),Ae(E.navigation.location,{matches:In,loaderData:Ea,errors:Ds,fetchers:new Map(E.fetchers)})):(be({errors:Ds,loaderData:Dy(E.loaderData,Ea,In,Ds),fetchers:new Map(E.fetchers)}),$=!1)}async function lt(G,te,le,me,je,Te,Ve,De,Be,Le){let Ke=E.fetchers.get(G);Nt(G,Go(Le,Ke?Ke.data:void 0),{flushSync:De});let We=new AbortController,Xe=xl(e.history,le,We.signal);if(Ve){let bt=await za(je,le,Xe.signal,G);if(bt.type==="aborted")return;if(bt.type==="error"){ot(G,te,bt.error,{flushSync:De});return}else if(bt.matches)je=bt.matches,me=ac(je,le);else{ot(G,te,ba(404,{pathname:le}),{flushSync:De});return}}O.set(G,We);let St=q,Ht=yl(l,o,Xe,je,me,s,Te),_t=(await Et(Xe,Ht,Te,G))[me.route.id];if(O.get(G)===We&&O.delete(G),!Xe.signal.aborted){if(ne.has(G)){Nt(G,us(void 0));return}if(ti(_t))if(B>St){Nt(G,us(void 0));return}else{D.add(G),await st(Xe,_t,!1,{preventScrollReset:Be});return}if(ra(_t)){ot(G,te,_t.error);return}Nt(G,us(_t.data))}}async function st(G,te,le,{submission:me,fetcherSubmission:je,preventScrollReset:Te,replace:Ve}={}){te.response.headers.has("X-Remix-Revalidate")&&($=!0);let De=te.response.headers.get("Location");ft(De,"Expected a Location header on the redirect Response"),De=Py(De,new URL(G.url),m);let Be=bc(E.location,De,{_isRedirect:!0});if(n){let Ht=!1;if(te.response.headers.has("X-Remix-Reload-Document"))Ht=!0;else if(Ag.test(De)){const Zt=fj(De,!0);Ht=Zt.origin!==t.location.origin||wa(Zt.pathname,m)==null}if(Ht){Ve?t.location.replace(De):t.location.assign(De);return}}U=null;let Le=Ve===!0||te.response.headers.has("X-Remix-Replace")?"REPLACE":"PUSH",{formMethod:Ke,formAction:We,formEncType:Xe}=E.navigation;!me&&!je&&Ke&&We&&Xe&&(me=Uy(E.navigation));let St=me||je;if(_4.has(te.response.status)&&St&&sa(St.formMethod))await $e(Le,Be,{submission:{...St,formAction:De},preventScrollReset:Te||I,enableViewTransition:le?Z:void 0});else{let Ht=op(Be,me);await $e(Le,Be,{overrideNavigation:Ht,fetcherSubmission:je,preventScrollReset:Te||I,enableViewTransition:le?Z:void 0})}}async function Et(G,te,le,me){let je,Te={};try{je=await M4(p,G,te,me,le,!1)}catch(Ve){return te.filter(De=>De.shouldLoad).forEach(De=>{Te[De.route.id]={type:"error",error:Ve}}),Te}if(G.signal.aborted)return Te;for(let[Ve,De]of Object.entries(je))if(I4(De)){let Be=De.result;Te[Ve]={type:"redirect",response:U4(Be,G,Ve,te,m)}}else Te[Ve]=await L4(De);return Te}async function vt(G,te,le,me){let je=Et(le,G,me,null),Te=Promise.all(te.map(async Be=>{if(Be.matches&&Be.match&&Be.request&&Be.controller){let Ke=(await Et(Be.request,Be.matches,me,Be.key))[Be.match.route.id];return{[Be.key]:Ke}}else return Promise.resolve({[Be.key]:{type:"error",error:ba(404,{pathname:Be.path})}})})),Ve=await je,De=(await Te).reduce((Be,Le)=>Object.assign(Be,Le),{});return{loaderResults:Ve,fetcherResults:De}}function qt(){$=!0,V.forEach((G,te)=>{O.has(te)&&W.add(te),Nn(te)})}function Nt(G,te,le={}){E.fetchers.set(G,te),be({fetchers:new Map(E.fetchers)},{flushSync:(le&&le.flushSync)===!0})}function ot(G,te,le,me={}){let je=Qs(E.matches,te);ht(G),be({errors:{[je.route.id]:le},fetchers:new Map(E.fetchers)},{flushSync:(me&&me.flushSync)===!0})}function He(G){return J.set(G,(J.get(G)||0)+1),ne.has(G)&&ne.delete(G),E.fetchers.get(G)||C4}function ht(G){let te=E.fetchers.get(G);O.has(G)&&!(te&&te.state==="loading"&&Y.has(G))&&Nn(G),V.delete(G),Y.delete(G),D.delete(G),ne.delete(G),W.delete(G),E.fetchers.delete(G)}function Mn(G){let te=(J.get(G)||0)-1;te<=0?(J.delete(G),ne.add(G)):J.set(G,te),be({fetchers:new Map(E.fetchers)})}function Nn(G){let te=O.get(G);te&&(te.abort(),O.delete(G))}function yt(G){for(let te of G){let le=He(te),me=us(le.data);E.fetchers.set(te,me)}}function on(){let G=[],te=!1;for(let le of D){let me=E.fetchers.get(le);ft(me,`Expected fetcher: ${le}`),me.state==="loading"&&(D.delete(le),G.push(le),te=!0)}return yt(G),te}function ze(G){let te=[];for(let[le,me]of Y)if(me<G){let je=E.fetchers.get(le);ft(je,`Expected fetcher: ${le}`),je.state==="loading"&&(Nn(le),Y.delete(le),te.push(le))}return yt(te),te.length>0}function kt(G,te){let le=E.blockers.get(G)||Vo;return X.get(G)!==te&&X.set(G,te),le}function _n(G){E.blockers.delete(G),X.delete(G)}function Cn(G,te){let le=E.blockers.get(G)||Vo;ft(le.state==="unblocked"&&te.state==="blocked"||le.state==="blocked"&&te.state==="blocked"||le.state==="blocked"&&te.state==="proceeding"||le.state==="blocked"&&te.state==="unblocked"||le.state==="proceeding"&&te.state==="unblocked",`Invalid blocker state transition: ${le.state} -> ${te.state}`);let me=new Map(E.blockers);me.set(G,te),be({blockers:me})}function _a({currentLocation:G,nextLocation:te,historyAction:le}){if(X.size===0)return;X.size>1&&rn(!1,"A router only supports one blocker at a time");let me=Array.from(X.entries()),[je,Te]=me[me.length-1],Ve=E.blockers.get(je);if(!(Ve&&Ve.state==="proceeding")&&Te({currentLocation:G,nextLocation:te,historyAction:le}))return je}function Wn(G){let te=ba(404,{pathname:G}),le=f||d,{matches:me,route:je}=Oy(le);return{notFoundMatches:me,route:je,error:te}}function Fa(G,te,le){if(w=G,S=te,j=le||null,!_&&E.navigation===lp){_=!0;let me=ks(E.location,E.matches);me!=null&&be({restoreScrollPosition:me})}return()=>{w=null,S=null,j=null}}function ar(G,te){return j&&j(G,te.map(me=>a4(me,E.loaderData)))||G.key}function Ia(G,te){if(w&&S){let le=ar(G,te);w[le]=S()}}function ks(G,te){if(w){let le=ar(G,te),me=w[le];if(typeof me=="number")return me}return null}function Ba(G,te,le){if(e.patchRoutesOnNavigation)if(G){if(Object.keys(G[0].params).length>0)return{active:!0,matches:yu(te,le,m,!0)}}else return{active:!0,matches:yu(te,le,m,!0)||[]};return{active:!1,matches:null}}async function za(G,te,le,me){if(!e.patchRoutesOnNavigation)return{type:"success",matches:G};let je=G;for(;;){let Te=f==null,Ve=f||d,De=o;try{await e.patchRoutesOnNavigation({signal:le,path:te,matches:je,fetcherKey:me,patch:(Ke,We)=>{le.aborted||Cy(Ke,We,Ve,De,l)}})}catch(Ke){return{type:"error",error:Ke,partialMatches:je}}finally{Te&&!le.aborted&&(d=[...d])}if(le.aborted)return{type:"aborted"};let Be=gs(Ve,te,m);if(Be)return{type:"success",matches:Be};let Le=yu(Ve,te,m,!0);if(!Le||je.length===Le.length&&je.every((Ke,We)=>Ke.route.id===Le[We].route.id))return{type:"success",matches:null};je=Le}}function Or(G){o={},f=Ou(G,l,void 0,o)}function Ts(G,te){let le=f==null;Cy(G,te,f||d,o,l),le&&(d=[...d],be({}))}return P={get basename(){return m},get future(){return g},get state(){return E},get routes(){return d},get window(){return t},initialize:Se,subscribe:ge,enableScrollRestoration:Fa,navigate:ke,fetch:xt,revalidate:ye,createHref:G=>e.history.createHref(G),encodeLocation:G=>e.history.encodeLocation(G),getFetcher:He,deleteFetcher:Mn,dispose:_e,getBlocker:kt,deleteBlocker:_n,patchRoutes:Ts,_internalFetchControllers:O,_internalSetRoutes:Or},P}function A4(e){return e!=null&&("formData"in e&&e.formData!=null||"body"in e&&e.body!==void 0)}function Bp(e,t,n,s,l,o){let d,f;if(l){d=[];for(let p of t)if(d.push(p),p.route.id===l){f=p;break}}else d=t,f=t[t.length-1];let m=ff(s||".",uf(d),wa(e.pathname,n)||e.pathname,o==="path");if(s==null&&(m.search=e.search,m.hash=e.hash),(s==null||s===""||s===".")&&f){let p=Pg(m.search);if(f.route.index&&!p)m.search=m.search?m.search.replace(/^\?/,"?index&"):"?index";else if(!f.route.index&&p){let g=new URLSearchParams(m.search),b=g.getAll("index");g.delete("index"),b.filter(w=>w).forEach(w=>g.append("index",w));let y=g.toString();m.search=y?`?${y}`:""}}return n!=="/"&&(m.pathname=m.pathname==="/"?n:Za([n,m.pathname])),ys(m)}function Ny(e,t,n){if(!n||!A4(n))return{path:t};if(n.formMethod&&!B4(n.formMethod))return{path:t,error:ba(405,{method:n.formMethod})};let s=()=>({path:t,error:ba(400,{type:"invalid-body"})}),o=(n.formMethod||"get").toUpperCase(),d=Nj(t);if(n.body!==void 0){if(n.formEncType==="text/plain"){if(!sa(o))return s();let b=typeof n.body=="string"?n.body:n.body instanceof FormData||n.body instanceof URLSearchParams?Array.from(n.body.entries()).reduce((y,[w,j])=>`${y}${w}=${j}
`,""):String(n.body);return{path:t,submission:{formMethod:o,formAction:d,formEncType:n.formEncType,formData:void 0,json:void 0,text:b}}}else if(n.formEncType==="application/json"){if(!sa(o))return s();try{let b=typeof n.body=="string"?JSON.parse(n.body):n.body;return{path:t,submission:{formMethod:o,formAction:d,formEncType:n.formEncType,formData:void 0,json:b,text:void 0}}}catch{return s()}}}ft(typeof FormData=="function","FormData is not available in this environment");let f,m;if(n.formData)f=Hp(n.formData),m=n.formData;else if(n.body instanceof FormData)f=Hp(n.body),m=n.body;else if(n.body instanceof URLSearchParams)f=n.body,m=ky(f);else if(n.body==null)f=new URLSearchParams,m=new FormData;else try{f=new URLSearchParams(n.body),m=ky(f)}catch{return s()}let p={formMethod:o,formAction:d,formEncType:n&&n.formEncType||"application/x-www-form-urlencoded",formData:m,json:void 0,text:void 0};if(sa(p.formMethod))return{path:t,submission:p};let g=_s(t);return e&&g.search&&Pg(g.search)&&f.append("index",""),g.search=`?${f}`,{path:ys(g),submission:p}}function _y(e,t,n,s,l,o,d,f,m,p,g,b,y,w,j,S,_,R,k,N){let A=N?ra(N[1])?N[1].error:N[1].data:void 0,P=l.createURL(o.location),E=l.createURL(m),T;if(g&&o.errors){let L=Object.keys(o.errors)[0];T=d.findIndex($=>$.route.id===L)}else if(N&&ra(N[1])){let L=N[0];T=d.findIndex($=>$.route.id===L)-1}let I=N?N[1].statusCode:void 0,U=I&&I>=400,Z={currentUrl:P,currentParams:o.matches[0]?.params||{},nextUrl:E,nextParams:d[0].params,...f,actionResult:A,actionStatus:I},se=d.map((L,$)=>{let{route:W}=L,O=null;if(T!=null&&$>T?O=!1:W.lazy?O=!0:W.loader==null?O=!1:g?O=zp(W,o.loaderData,o.errors):P4(o.loaderData,o.matches[$],L)&&(O=!0),O!==null)return qp(n,s,e,L,p,t,O);let q=U?!1:b||P.pathname+P.search===E.pathname+E.search||P.search!==E.search||k4(o.matches[$],L),B={...Z,defaultShouldRevalidate:q},Y=$u(L,B);return qp(n,s,e,L,p,t,Y,B)}),F=[];return j.forEach((L,$)=>{if(g||!d.some(J=>J.route.id===L.routeId)||w.has($))return;let W=o.fetchers.get($),O=W&&W.state!=="idle"&&W.data===void 0,q=gs(_,L.path,R);if(!q){if(k&&O)return;F.push({key:$,routeId:L.routeId,path:L.path,matches:null,match:null,request:null,controller:null});return}if(S.has($))return;let B=ac(q,L.path),Y=new AbortController,D=xl(l,L.path,Y.signal),V=null;if(y.has($))y.delete($),V=yl(n,s,D,q,B,p,t);else if(O)b&&(V=yl(n,s,D,q,B,p,t));else{let J={...Z,defaultShouldRevalidate:U?!1:b};$u(B,J)&&(V=yl(n,s,D,q,B,p,t,J))}V&&F.push({key:$,routeId:L.routeId,path:L.path,matches:V,match:B,request:D,controller:Y})}),{dsMatches:se,revalidatingFetchers:F}}function zp(e,t,n){if(e.lazy)return!0;if(!e.loader)return!1;let s=t!=null&&e.id in t,l=n!=null&&n[e.id]!==void 0;return!s&&l?!1:typeof e.loader=="function"&&e.loader.hydrate===!0?!0:!s&&!l}function P4(e,t,n){let s=!t||n.route.id!==t.route.id,l=!e.hasOwnProperty(n.route.id);return s||l}function k4(e,t){let n=e.route.path;return e.pathname!==t.pathname||n!=null&&n.endsWith("*")&&e.params["*"]!==t.params["*"]}function $u(e,t){if(e.route.shouldRevalidate){let n=e.route.shouldRevalidate(t);if(typeof n=="boolean")return n}return t.defaultShouldRevalidate}function Cy(e,t,n,s,l){let o;if(e){let m=s[e];ft(m,`No route found to patch children into: routeId = ${e}`),m.children||(m.children=[]),o=m.children}else o=n;let d=t.filter(m=>!o.some(p=>vj(m,p))),f=Ou(d,l,[e||"_","patch",String(o?.length||"0")],s);o.push(...f)}function vj(e,t){return"id"in e&&"id"in t&&e.id===t.id?!0:e.index===t.index&&e.path===t.path&&e.caseSensitive===t.caseSensitive?(!e.children||e.children.length===0)&&(!t.children||t.children.length===0)?!0:e.children.every((n,s)=>t.children?.some(l=>vj(n,l))):!1}var Ey=new WeakMap,yj=({key:e,route:t,manifest:n,mapRouteProperties:s})=>{let l=n[t.id];if(ft(l,"No route found in manifest"),!l.lazy||typeof l.lazy!="object")return;let o=l.lazy[e];if(!o)return;let d=Ey.get(l);d||(d={},Ey.set(l,d));let f=d[e];if(f)return f;let m=(async()=>{let p=QE(e),b=l[e]!==void 0&&e!=="hasErrorBoundary";if(p)rn(!p,"Route property "+e+" is not a supported lazy route property. This property will be ignored."),d[e]=Promise.resolve();else if(b)rn(!1,`Route "${l.id}" has a static property "${e}" defined. The lazy property will be ignored.`);else{let y=await o();y!=null&&(Object.assign(l,{[e]:y}),Object.assign(l,s(l)))}typeof l.lazy=="object"&&(l.lazy[e]=void 0,Object.values(l.lazy).every(y=>y===void 0)&&(l.lazy=void 0))})();return d[e]=m,m},Ry=new WeakMap;function T4(e,t,n,s,l){let o=n[e.id];if(ft(o,"No route found in manifest"),!e.lazy)return{lazyRoutePromise:void 0,lazyHandlerPromise:void 0};if(typeof e.lazy=="function"){let g=Ry.get(o);if(g)return{lazyRoutePromise:g,lazyHandlerPromise:g};let b=(async()=>{ft(typeof e.lazy=="function","No lazy route function found");let y=await e.lazy(),w={};for(let j in y){let S=y[j];if(S===void 0)continue;let _=t4(j),k=o[j]!==void 0&&j!=="hasErrorBoundary";_?rn(!_,"Route property "+j+" is not a supported property to be returned from a lazy route function. This property will be ignored."):k?rn(!k,`Route "${o.id}" has a static property "${j}" defined but its lazy function is also returning a value for this property. The lazy route property "${j}" will be ignored.`):w[j]=S}Object.assign(o,w),Object.assign(o,{...s(o),lazy:void 0})})();return Ry.set(o,b),b.catch(()=>{}),{lazyRoutePromise:b,lazyHandlerPromise:b}}let d=Object.keys(e.lazy),f=[],m;for(let g of d){if(l&&l.includes(g))continue;let b=yj({key:g,route:e,manifest:n,mapRouteProperties:s});b&&(f.push(b),g===t&&(m=b))}let p=f.length>0?Promise.all(f).then(()=>{}):void 0;return p?.catch(()=>{}),m?.catch(()=>{}),{lazyRoutePromise:p,lazyHandlerPromise:m}}async function Ay(e){let t=e.matches.filter(l=>l.shouldLoad),n={};return(await Promise.all(t.map(l=>l.resolve()))).forEach((l,o)=>{n[t[o].route.id]=l}),n}async function D4(e){return e.matches.some(t=>t.route.unstable_middleware)?wj(e,!1,()=>Ay(e),(t,n)=>({[n]:{type:"error",result:t}})):Ay(e)}async function wj(e,t,n,s){let{matches:l,request:o,params:d,context:f}=e,m={handlerResult:void 0};try{let p=l.flatMap(b=>b.route.unstable_middleware?b.route.unstable_middleware.map(y=>[b.route.id,y]):[]),g=await jj({request:o,params:d,context:f},p,t,m,n);return t?g:m.handlerResult}catch(p){if(!m.middlewareError)throw p;let g=await s(m.middlewareError.error,m.middlewareError.routeId);return m.handlerResult?Object.assign(m.handlerResult,g):g}}async function jj(e,t,n,s,l,o=0){let{request:d}=e;if(d.signal.aborted)throw d.signal.reason?d.signal.reason:new Error(`Request aborted without an \`AbortSignal.reason\`: ${d.method} ${d.url}`);let f=t[o];if(!f)return s.handlerResult=await l(),s.handlerResult;let[m,p]=f,g=!1,b,y=async()=>{if(g)throw new Error("You may only call `next()` once per middleware");g=!0,await jj(e,t,n,s,l,o+1)};try{let w=await p({request:e.request,params:e.params,context:e.context},y);return g?w===void 0?b:w:y()}catch(w){throw s.middlewareError?s.middlewareError.error!==w&&(s.middlewareError={routeId:m,error:w}):s.middlewareError={routeId:m,error:w},w}}function Sj(e,t,n,s,l){let o=yj({key:"unstable_middleware",route:s.route,manifest:t,mapRouteProperties:e}),d=T4(s.route,sa(n.method)?"action":"loader",t,e,l);return{middleware:o,route:d.lazyRoutePromise,handler:d.lazyHandlerPromise}}function qp(e,t,n,s,l,o,d,f=null){let m=!1,p=Sj(e,t,n,s,l);return{...s,_lazyPromises:p,shouldLoad:d,unstable_shouldRevalidateArgs:f,unstable_shouldCallHandler(g){return m=!0,f?typeof g=="boolean"?$u(s,{...f,defaultShouldRevalidate:g}):$u(s,f):d},resolve(g){return m||d||g&&n.method==="GET"&&(s.route.lazy||s.route.loader)?O4({request:n,match:s,lazyHandlerPromise:p?.handler,lazyRoutePromise:p?.route,handlerOverride:g,scopedContext:o}):Promise.resolve({type:"data",result:void 0})}}}function yl(e,t,n,s,l,o,d,f=null){return s.map(m=>m.route.id!==l.route.id?{...m,shouldLoad:!1,unstable_shouldRevalidateArgs:f,unstable_shouldCallHandler:()=>!1,_lazyPromises:Sj(e,t,n,m,o),resolve:()=>Promise.resolve({type:"data",result:void 0})}:qp(e,t,n,m,o,d,!0,f))}async function M4(e,t,n,s,l,o){n.some(p=>p._lazyPromises?.middleware)&&await Promise.all(n.map(p=>p._lazyPromises?.middleware));let d={request:t,params:n[0].params,context:l,matches:n},m=await e({...d,fetcherKey:s,unstable_runClientMiddleware:p=>{let g=d;return wj(g,!1,()=>p({...g,fetcherKey:s,unstable_runClientMiddleware:()=>{throw new Error("Cannot call `unstable_runClientMiddleware()` from within an `unstable_runClientMiddleware` handler")}}),(b,y)=>({[y]:{type:"error",result:b}}))}});try{await Promise.all(n.flatMap(p=>[p._lazyPromises?.handler,p._lazyPromises?.route]))}catch{}return m}async function O4({request:e,match:t,lazyHandlerPromise:n,lazyRoutePromise:s,handlerOverride:l,scopedContext:o}){let d,f,m=sa(e.method),p=m?"action":"loader",g=b=>{let y,w=new Promise((_,R)=>y=R);f=()=>y(),e.signal.addEventListener("abort",f);let j=_=>typeof b!="function"?Promise.reject(new Error(`You cannot call the handler for a route which defines a boolean "${p}" [routeId: ${t.route.id}]`)):b({request:e,params:t.params,context:o},..._!==void 0?[_]:[]),S=(async()=>{try{return{type:"data",result:await(l?l(R=>j(R)):j())}}catch(_){return{type:"error",result:_}}})();return Promise.race([S,w])};try{let b=m?t.route.action:t.route.loader;if(n||s)if(b){let y,[w]=await Promise.all([g(b).catch(j=>{y=j}),n,s]);if(y!==void 0)throw y;d=w}else{await n;let y=m?t.route.action:t.route.loader;if(y)[d]=await Promise.all([g(y),s]);else if(p==="action"){let w=new URL(e.url),j=w.pathname+w.search;throw ba(405,{method:e.method,pathname:j,routeId:t.route.id})}else return{type:"data",result:void 0}}else if(b)d=await g(b);else{let y=new URL(e.url),w=y.pathname+y.search;throw ba(404,{pathname:w})}}catch(b){return{type:"error",result:b}}finally{f&&e.signal.removeEventListener("abort",f)}return d}async function L4(e){let{result:t,type:n}=e;if(_j(t)){let s;try{let l=t.headers.get("Content-Type");l&&/\bapplication\/json\b/.test(l)?t.body==null?s=null:s=await t.json():s=await t.text()}catch(l){return{type:"error",error:l}}return n==="error"?{type:"error",error:new Uu(t.status,t.statusText,s),statusCode:t.status,headers:t.headers}:{type:"data",data:s,statusCode:t.status,headers:t.headers}}return n==="error"?Ly(t)?t.data instanceof Error?{type:"error",error:t.data,statusCode:t.init?.status,headers:t.init?.headers?new Headers(t.init.headers):void 0}:{type:"error",error:new Uu(t.init?.status||500,void 0,t.data),statusCode:vc(t)?t.status:void 0,headers:t.init?.headers?new Headers(t.init.headers):void 0}:{type:"error",error:t,statusCode:vc(t)?t.status:void 0}:Ly(t)?{type:"data",data:t.data,statusCode:t.init?.status,headers:t.init?.headers?new Headers(t.init.headers):void 0}:{type:"data",data:t}}function U4(e,t,n,s,l){let o=e.headers.get("Location");if(ft(o,"Redirects returned/thrown from loaders/actions must have a Location header"),!Ag.test(o)){let d=s.slice(0,s.findIndex(f=>f.route.id===n)+1);o=Bp(new URL(t.url),d,l,o),e.headers.set("Location",o)}return e}function Py(e,t,n){if(Ag.test(e)){let s=e,l=s.startsWith("//")?new URL(t.protocol+s):new URL(s),o=wa(l.pathname,n)!=null;if(l.origin===t.origin&&o)return l.pathname+l.search+l.hash}return e}function xl(e,t,n,s){let l=e.createURL(Nj(t)).toString(),o={signal:n};if(s&&sa(s.formMethod)){let{formMethod:d,formEncType:f}=s;o.method=d.toUpperCase(),f==="application/json"?(o.headers=new Headers({"Content-Type":f}),o.body=JSON.stringify(s.json)):f==="text/plain"?o.body=s.text:f==="application/x-www-form-urlencoded"&&s.formData?o.body=Hp(s.formData):o.body=s.formData}return new Request(l,o)}function Hp(e){let t=new URLSearchParams;for(let[n,s]of e.entries())t.append(n,typeof s=="string"?s:s.name);return t}function ky(e){let t=new FormData;for(let[n,s]of e.entries())t.append(n,s);return t}function $4(e,t,n,s=!1,l=!1){let o={},d=null,f,m=!1,p={},g=n&&ra(n[1])?n[1].error:void 0;return e.forEach(b=>{if(!(b.route.id in t))return;let y=b.route.id,w=t[y];if(ft(!ti(w),"Cannot handle redirect results in processLoaderData"),ra(w)){let j=w.error;if(g!==void 0&&(j=g,g=void 0),d=d||{},l)d[y]=j;else{let S=Qs(e,y);d[S.route.id]==null&&(d[S.route.id]=j)}s||(o[y]=bj),m||(m=!0,f=vc(w.error)?w.error.status:500),w.headers&&(p[y]=w.headers)}else o[y]=w.data,w.statusCode&&w.statusCode!==200&&!m&&(f=w.statusCode),w.headers&&(p[y]=w.headers)}),g!==void 0&&n&&(d={[n[0]]:g},n[2]&&(o[n[2]]=void 0)),{loaderData:o,errors:d,statusCode:f||200,loaderHeaders:p}}function Ty(e,t,n,s,l,o){let{loaderData:d,errors:f}=$4(t,n,s);return l.filter(m=>!m.matches||m.matches.some(p=>p.shouldLoad)).forEach(m=>{let{key:p,match:g,controller:b}=m,y=o[p];if(ft(y,"Did not find corresponding fetcher result"),!(b&&b.signal.aborted))if(ra(y)){let w=Qs(e.matches,g?.route.id);f&&f[w.route.id]||(f={...f,[w.route.id]:y.error}),e.fetchers.delete(p)}else if(ti(y))ft(!1,"Unhandled fetcher revalidation redirect");else{let w=us(y.data);e.fetchers.set(p,w)}}),{loaderData:d,errors:f}}function Dy(e,t,n,s){let l=Object.entries(t).filter(([,o])=>o!==bj).reduce((o,[d,f])=>(o[d]=f,o),{});for(let o of n){let d=o.route.id;if(!t.hasOwnProperty(d)&&e.hasOwnProperty(d)&&o.route.loader&&(l[d]=e[d]),s&&s.hasOwnProperty(d))break}return l}function My(e){return e?ra(e[1])?{actionData:{}}:{actionData:{[e[0]]:e[1].data}}:{}}function Qs(e,t){return(t?e.slice(0,e.findIndex(s=>s.route.id===t)+1):[...e]).reverse().find(s=>s.route.hasErrorBoundary===!0)||e[0]}function Oy(e){let t=e.length===1?e[0]:e.find(n=>n.index||!n.path||n.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:t}],route:t}}function ba(e,{pathname:t,routeId:n,method:s,type:l,message:o}={}){let d="Unknown Server Error",f="Unknown @remix-run/router error";return e===400?(d="Bad Request",s&&t&&n?f=`You made a ${s} request to "${t}" but did not provide a \`loader\` for route "${n}", so there is no way to handle the request.`:l==="invalid-body"&&(f="Unable to encode submission body")):e===403?(d="Forbidden",f=`Route "${n}" does not match URL "${t}"`):e===404?(d="Not Found",f=`No route matches URL "${t}"`):e===405&&(d="Method Not Allowed",s&&t&&n?f=`You made a ${s.toUpperCase()} request to "${t}" but did not provide an \`action\` for route "${n}", so there is no way to handle the request.`:s&&(f=`Invalid request method "${s.toUpperCase()}"`)),new Uu(e||500,d,new Error(f),!0)}function Jd(e){let t=Object.entries(e);for(let n=t.length-1;n>=0;n--){let[s,l]=t[n];if(ti(l))return{key:s,result:l}}}function Nj(e){let t=typeof e=="string"?_s(e):e;return ys({...t,hash:""})}function F4(e,t){return e.pathname!==t.pathname||e.search!==t.search?!1:e.hash===""?t.hash!=="":e.hash===t.hash?!0:t.hash!==""}function I4(e){return _j(e.result)&&N4.has(e.result.status)}function ra(e){return e.type==="error"}function ti(e){return(e&&e.type)==="redirect"}function Ly(e){return typeof e=="object"&&e!=null&&"type"in e&&"data"in e&&"init"in e&&e.type==="DataWithResponseInit"}function _j(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.headers=="object"&&typeof e.body<"u"}function B4(e){return S4.has(e.toUpperCase())}function sa(e){return w4.has(e.toUpperCase())}function Pg(e){return new URLSearchParams(e).getAll("index").some(t=>t==="")}function ac(e,t){let n=typeof t=="string"?_s(t).search:t.search;if(e[e.length-1].route.index&&Pg(n||""))return e[e.length-1];let s=pj(e);return s[s.length-1]}function Uy(e){let{formMethod:t,formAction:n,formEncType:s,text:l,formData:o,json:d}=e;if(!(!t||!n||!s)){if(l!=null)return{formMethod:t,formAction:n,formEncType:s,formData:void 0,json:void 0,text:l};if(o!=null)return{formMethod:t,formAction:n,formEncType:s,formData:o,json:void 0,text:void 0};if(d!==void 0)return{formMethod:t,formAction:n,formEncType:s,formData:void 0,json:d,text:void 0}}}function op(e,t){return t?{state:"loading",location:e,formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text}:{state:"loading",location:e,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function z4(e,t){return{state:"submitting",location:e,formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text}}function Go(e,t){return e?{state:"loading",formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text,data:t}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}function q4(e,t){return{state:"submitting",formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text,data:t?t.data:void 0}}function us(e){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function H4(e,t){try{let n=e.sessionStorage.getItem(xj);if(n){let s=JSON.parse(n);for(let[l,o]of Object.entries(s||{}))o&&Array.isArray(o)&&t.set(l,new Set(o||[]))}}catch{}}function V4(e,t){if(t.size>0){let n={};for(let[s,l]of t)n[s]=[...l];try{e.sessionStorage.setItem(xj,JSON.stringify(n))}catch(s){rn(!1,`Failed to save applied view transitions in sessionStorage (${s}).`)}}}function G4(){let e,t,n=new Promise((s,l)=>{e=async o=>{s(o);try{await n}catch{}},t=async o=>{l(o);try{await n}catch{}}});return{promise:n,resolve:e,reject:t}}var mi=h.createContext(null);mi.displayName="DataRouter";var Ac=h.createContext(null);Ac.displayName="DataRouterState";var kg=h.createContext({isTransitioning:!1});kg.displayName="ViewTransition";var Cj=h.createContext(new Map);Cj.displayName="Fetchers";var Y4=h.createContext(null);Y4.displayName="Await";var Ua=h.createContext(null);Ua.displayName="Navigation";var hf=h.createContext(null);hf.displayName="Location";var Sa=h.createContext({outlet:null,matches:[],isDataRoute:!1});Sa.displayName="Route";var Tg=h.createContext(null);Tg.displayName="RouteError";function K4(e,{relative:t}={}){ft(Ul(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=h.useContext(Ua),{hash:l,pathname:o,search:d}=Pc(e,{relative:t}),f=o;return n!=="/"&&(f=o==="/"?n:Za([n,o])),s.createHref({pathname:f,search:d,hash:l})}function Ul(){return h.useContext(hf)!=null}function er(){return ft(Ul(),"useLocation() may be used only in the context of a <Router> component."),h.useContext(hf).location}var Ej="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Rj(e){h.useContext(Ua).static||h.useLayoutEffect(e)}function ln(){let{isDataRoute:e}=h.useContext(Sa);return e?cR():W4()}function W4(){ft(Ul(),"useNavigate() may be used only in the context of a <Router> component.");let e=h.useContext(mi),{basename:t,navigator:n}=h.useContext(Ua),{matches:s}=h.useContext(Sa),{pathname:l}=er(),o=JSON.stringify(uf(s)),d=h.useRef(!1);return Rj(()=>{d.current=!0}),h.useCallback((m,p={})=>{if(rn(d.current,Ej),!d.current)return;if(typeof m=="number"){n.go(m);return}let g=ff(m,JSON.parse(o),l,p.relative==="path");e==null&&t!=="/"&&(g.pathname=g.pathname==="/"?t:Za([t,g.pathname])),(p.replace?n.replace:n.push)(g,p.state,p)},[t,n,o,l,e])}var J4=h.createContext(null);function Z4(e){let t=h.useContext(Sa).outlet;return t&&h.createElement(J4.Provider,{value:e},t)}function X4(){let{matches:e}=h.useContext(Sa),t=e[e.length-1];return t?t.params:{}}function Pc(e,{relative:t}={}){let{matches:n}=h.useContext(Sa),{pathname:s}=er(),l=JSON.stringify(uf(n));return h.useMemo(()=>ff(e,JSON.parse(l),s,t==="path"),[e,l,s,t])}function Q4(e,t,n,s){ft(Ul(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:l}=h.useContext(Ua),{matches:o}=h.useContext(Sa),d=o[o.length-1],f=d?d.params:{},m=d?d.pathname:"/",p=d?d.pathnameBase:"/",g=d&&d.route;{let R=g&&g.path||"";kj(m,!g||R.endsWith("*")||R.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${m}" (under <Route path="${R}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${R}"> to <Route path="${R==="/"?"*":`${R}/*`}">.`)}let b=er(),y;y=b;let w=y.pathname||"/",j=w;if(p!=="/"){let R=p.replace(/^\//,"").split("/");j="/"+w.replace(/^\//,"").split("/").slice(R.length).join("/")}let S=gs(e,{pathname:j});return rn(g||S!=null,`No routes matched location "${y.pathname}${y.search}${y.hash}" `),rn(S==null||S[S.length-1].route.element!==void 0||S[S.length-1].route.Component!==void 0||S[S.length-1].route.lazy!==void 0,`Matched leaf route at location "${y.pathname}${y.search}${y.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`),rR(S&&S.map(R=>Object.assign({},R,{params:Object.assign({},f,R.params),pathname:Za([p,l.encodeLocation?l.encodeLocation(R.pathname).pathname:R.pathname]),pathnameBase:R.pathnameBase==="/"?p:Za([p,l.encodeLocation?l.encodeLocation(R.pathnameBase).pathname:R.pathnameBase])})),o,n,s)}function eR(){let e=oR(),t=vc(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,s="rgba(200,200,200, 0.5)",l={padding:"0.5rem",backgroundColor:s},o={padding:"2px 4px",backgroundColor:s},d=null;return console.error("Error handled by React Router default ErrorBoundary:",e),d=h.createElement(h.Fragment,null,h.createElement("p",null," Hey developer "),h.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",h.createElement("code",{style:o},"ErrorBoundary")," or"," ",h.createElement("code",{style:o},"errorElement")," prop on your route.")),h.createElement(h.Fragment,null,h.createElement("h2",null,"Unexpected Application Error!"),h.createElement("h3",{style:{fontStyle:"italic"}},t),n?h.createElement("pre",{style:l},n):null,d)}var tR=h.createElement(eR,null),nR=class extends h.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error!==void 0?h.createElement(Sa.Provider,{value:this.props.routeContext},h.createElement(Tg.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function aR({routeContext:e,match:t,children:n}){let s=h.useContext(mi);return s&&s.static&&s.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=t.route.id),h.createElement(Sa.Provider,{value:e},n)}function rR(e,t=[],n=null,s=null){if(e==null){if(!n)return null;if(n.errors)e=n.matches;else if(t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let l=e,o=n?.errors;if(o!=null){let m=l.findIndex(p=>p.route.id&&o?.[p.route.id]!==void 0);ft(m>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),l=l.slice(0,Math.min(l.length,m+1))}let d=!1,f=-1;if(n)for(let m=0;m<l.length;m++){let p=l[m];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(f=m),p.route.id){let{loaderData:g,errors:b}=n,y=p.route.loader&&!g.hasOwnProperty(p.route.id)&&(!b||b[p.route.id]===void 0);if(p.route.lazy||y){d=!0,f>=0?l=l.slice(0,f+1):l=[l[0]];break}}}return l.reduceRight((m,p,g)=>{let b,y=!1,w=null,j=null;n&&(b=o&&p.route.id?o[p.route.id]:void 0,w=p.route.errorElement||tR,d&&(f<0&&g===0?(kj("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),y=!0,j=null):f===g&&(y=!0,j=p.route.hydrateFallbackElement||null)));let S=t.concat(l.slice(0,g+1)),_=()=>{let R;return b?R=w:y?R=j:p.route.Component?R=h.createElement(p.route.Component,null):p.route.element?R=p.route.element:R=m,h.createElement(aR,{match:p,routeContext:{outlet:m,matches:S,isDataRoute:n!=null},children:R})};return n&&(p.route.ErrorBoundary||p.route.errorElement||g===0)?h.createElement(nR,{location:n.location,revalidation:n.revalidation,component:w,error:b,children:_(),routeContext:{outlet:null,matches:S,isDataRoute:!0}}):_()},null)}function Dg(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Aj(e){let t=h.useContext(mi);return ft(t,Dg(e)),t}function mf(e){let t=h.useContext(Ac);return ft(t,Dg(e)),t}function sR(e){let t=h.useContext(Sa);return ft(t,Dg(e)),t}function pf(e){let t=sR(e),n=t.matches[t.matches.length-1];return ft(n.route.id,`${e} can only be used on routes that contain a unique "id"`),n.route.id}function iR(){return pf("useRouteId")}function Pj(){return mf("useNavigation").navigation}function lR(){let e=Aj("useRevalidator"),t=mf("useRevalidator"),n=h.useCallback(async()=>{await e.router.revalidate()},[e.router]);return h.useMemo(()=>({revalidate:n,state:t.revalidation}),[n,t.revalidation])}function pi(){let e=mf("useLoaderData"),t=pf("useLoaderData");return e.loaderData[t]}function oR(){let e=h.useContext(Tg),t=mf("useRouteError"),n=pf("useRouteError");return e!==void 0?e:t.errors?.[n]}function cR(){let{router:e}=Aj("useNavigate"),t=pf("useNavigate"),n=h.useRef(!1);return Rj(()=>{n.current=!0}),h.useCallback(async(l,o={})=>{rn(n.current,Ej),n.current&&(typeof l=="number"?e.navigate(l):await e.navigate(l,{fromRouteId:t,...o}))},[e,t])}var $y={};function kj(e,t,n){!t&&!$y[e]&&($y[e]=!0,rn(!1,n))}var Fy={};function Iy(e,t){!e&&!Fy[t]&&(Fy[t]=!0,console.warn(t))}function dR(e){let t={hasErrorBoundary:e.hasErrorBoundary||e.ErrorBoundary!=null||e.errorElement!=null};return e.Component&&(e.element&&rn(!1,"You should not include both `Component` and `element` on your route - `Component` will be used."),Object.assign(t,{element:h.createElement(e.Component),Component:void 0})),e.HydrateFallback&&(e.hydrateFallbackElement&&rn(!1,"You should not include both `HydrateFallback` and `hydrateFallbackElement` on your route - `HydrateFallback` will be used."),Object.assign(t,{hydrateFallbackElement:h.createElement(e.HydrateFallback),HydrateFallback:void 0})),e.ErrorBoundary&&(e.errorElement&&rn(!1,"You should not include both `ErrorBoundary` and `errorElement` on your route - `ErrorBoundary` will be used."),Object.assign(t,{errorElement:h.createElement(e.ErrorBoundary),ErrorBoundary:void 0})),t}var uR=["HydrateFallback","hydrateFallbackElement"],fR=class{constructor(){this.status="pending",this.promise=new Promise((t,n)=>{this.resolve=s=>{this.status==="pending"&&(this.status="resolved",t(s))},this.reject=s=>{this.status==="pending"&&(this.status="rejected",n(s))}})}};function hR({router:e,flushSync:t}){let[n,s]=h.useState(e.state),[l,o]=h.useState(),[d,f]=h.useState({isTransitioning:!1}),[m,p]=h.useState(),[g,b]=h.useState(),[y,w]=h.useState(),j=h.useRef(new Map),S=h.useCallback((N,{deletedFetchers:A,flushSync:P,viewTransitionOpts:E})=>{N.fetchers.forEach((I,U)=>{I.data!==void 0&&j.current.set(U,I.data)}),A.forEach(I=>j.current.delete(I)),Iy(P===!1||t!=null,'You provided the `flushSync` option to a router update, but you are not using the `<RouterProvider>` from `react-router/dom` so `ReactDOM.flushSync()` is unavailable.  Please update your app to `import { RouterProvider } from "react-router/dom"` and ensure you have `react-dom` installed as a dependency to use the `flushSync` option.');let T=e.window!=null&&e.window.document!=null&&typeof e.window.document.startViewTransition=="function";if(Iy(E==null||T,"You provided the `viewTransition` option to a router update, but you do not appear to be running in a DOM environment as `window.startViewTransition` is not available."),!E||!T){t&&P?t(()=>s(N)):h.startTransition(()=>s(N));return}if(t&&P){t(()=>{g&&(m&&m.resolve(),g.skipTransition()),f({isTransitioning:!0,flushSync:!0,currentLocation:E.currentLocation,nextLocation:E.nextLocation})});let I=e.window.document.startViewTransition(()=>{t(()=>s(N))});I.finished.finally(()=>{t(()=>{p(void 0),b(void 0),o(void 0),f({isTransitioning:!1})})}),t(()=>b(I));return}g?(m&&m.resolve(),g.skipTransition(),w({state:N,currentLocation:E.currentLocation,nextLocation:E.nextLocation})):(o(N),f({isTransitioning:!0,flushSync:!1,currentLocation:E.currentLocation,nextLocation:E.nextLocation}))},[e.window,t,g,m]);h.useLayoutEffect(()=>e.subscribe(S),[e,S]),h.useEffect(()=>{d.isTransitioning&&!d.flushSync&&p(new fR)},[d]),h.useEffect(()=>{if(m&&l&&e.window){let N=l,A=m.promise,P=e.window.document.startViewTransition(async()=>{h.startTransition(()=>s(N)),await A});P.finished.finally(()=>{p(void 0),b(void 0),o(void 0),f({isTransitioning:!1})}),b(P)}},[l,m,e.window]),h.useEffect(()=>{m&&l&&n.location.key===l.location.key&&m.resolve()},[m,g,n.location,l]),h.useEffect(()=>{!d.isTransitioning&&y&&(o(y.state),f({isTransitioning:!0,flushSync:!1,currentLocation:y.currentLocation,nextLocation:y.nextLocation}),w(void 0))},[d.isTransitioning,y]);let _=h.useMemo(()=>({createHref:e.createHref,encodeLocation:e.encodeLocation,go:N=>e.navigate(N),push:(N,A,P)=>e.navigate(N,{state:A,preventScrollReset:P?.preventScrollReset}),replace:(N,A,P)=>e.navigate(N,{replace:!0,state:A,preventScrollReset:P?.preventScrollReset})}),[e]),R=e.basename||"/",k=h.useMemo(()=>({router:e,navigator:_,static:!1,basename:R}),[e,_,R]);return h.createElement(h.Fragment,null,h.createElement(mi.Provider,{value:k},h.createElement(Ac.Provider,{value:n},h.createElement(Cj.Provider,{value:j.current},h.createElement(kg.Provider,{value:d},h.createElement(xR,{basename:R,location:n.location,navigationType:n.historyAction,navigator:_},h.createElement(mR,{routes:e.routes,future:e.future,state:n})))))),null)}var mR=h.memo(pR);function pR({routes:e,future:t,state:n}){return Q4(e,void 0,n,t)}function gR({to:e,replace:t,state:n,relative:s}){ft(Ul(),"<Navigate> may be used only in the context of a <Router> component.");let{static:l}=h.useContext(Ua);rn(!l,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:o}=h.useContext(Sa),{pathname:d}=er(),f=ln(),m=ff(e,uf(o),d,s==="path"),p=JSON.stringify(m);return h.useEffect(()=>{f(JSON.parse(p),{replace:t,state:n,relative:s})},[f,p,s,t,n]),null}function Mg(e){return Z4(e.context)}function xR({basename:e="/",children:t=null,location:n,navigationType:s="POP",navigator:l,static:o=!1}){ft(!Ul(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let d=e.replace(/^\/*/,"/"),f=h.useMemo(()=>({basename:d,navigator:l,static:o,future:{}}),[d,l,o]);typeof n=="string"&&(n=_s(n));let{pathname:m="/",search:p="",hash:g="",state:b=null,key:y="default"}=n,w=h.useMemo(()=>{let j=wa(m,d);return j==null?null:{location:{pathname:j,search:p,hash:g,state:b,key:y},navigationType:s}},[d,m,p,g,b,y,s]);return rn(w!=null,`<Router basename="${d}"> is not able to match the URL "${m}${p}${g}" because it does not start with the basename, so the <Router> won't render anything.`),w==null?null:h.createElement(Ua.Provider,{value:f},h.createElement(hf.Provider,{children:t,value:w}))}var wu="get",ju="application/x-www-form-urlencoded";function gf(e){return e!=null&&typeof e.tagName=="string"}function bR(e){return gf(e)&&e.tagName.toLowerCase()==="button"}function vR(e){return gf(e)&&e.tagName.toLowerCase()==="form"}function yR(e){return gf(e)&&e.tagName.toLowerCase()==="input"}function wR(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function jR(e,t){return e.button===0&&(!t||t==="_self")&&!wR(e)}var Zd=null;function SR(){if(Zd===null)try{new FormData(document.createElement("form"),0),Zd=!1}catch{Zd=!0}return Zd}var NR=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function cp(e){return e!=null&&!NR.has(e)?(rn(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${ju}"`),null):e}function _R(e,t){let n,s,l,o,d;if(vR(e)){let f=e.getAttribute("action");s=f?wa(f,t):null,n=e.getAttribute("method")||wu,l=cp(e.getAttribute("enctype"))||ju,o=new FormData(e)}else if(bR(e)||yR(e)&&(e.type==="submit"||e.type==="image")){let f=e.form;if(f==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let m=e.getAttribute("formaction")||f.getAttribute("action");if(s=m?wa(m,t):null,n=e.getAttribute("formmethod")||f.getAttribute("method")||wu,l=cp(e.getAttribute("formenctype"))||cp(f.getAttribute("enctype"))||ju,o=new FormData(f,e),!SR()){let{name:p,type:g,value:b}=e;if(g==="image"){let y=p?`${p}.`:"";o.append(`${y}x`,"0"),o.append(`${y}y`,"0")}else p&&o.append(p,b)}}else{if(gf(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=wu,s=null,l=ju,d=e}return o&&l==="text/plain"&&(d=o,o=void 0),{action:s,method:n.toLowerCase(),encType:l,formData:o,body:d}}function Og(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}async function CR(e,t){if(e.id in t)return t[e.id];try{let n=await import(e.module);return t[e.id]=n,n}catch(n){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function ER(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function RR(e,t,n){let s=await Promise.all(e.map(async l=>{let o=t.routes[l.route.id];if(o){let d=await CR(o,n);return d.links?d.links():[]}return[]}));return TR(s.flat(1).filter(ER).filter(l=>l.rel==="stylesheet"||l.rel==="preload").map(l=>l.rel==="stylesheet"?{...l,rel:"prefetch",as:"style"}:{...l,rel:"prefetch"}))}function By(e,t,n,s,l,o){let d=(m,p)=>n[p]?m.route.id!==n[p].route.id:!0,f=(m,p)=>n[p].pathname!==m.pathname||n[p].route.path?.endsWith("*")&&n[p].params["*"]!==m.params["*"];return o==="assets"?t.filter((m,p)=>d(m,p)||f(m,p)):o==="data"?t.filter((m,p)=>{let g=s.routes[m.route.id];if(!g||!g.hasLoader)return!1;if(d(m,p)||f(m,p))return!0;if(m.route.shouldRevalidate){let b=m.route.shouldRevalidate({currentUrl:new URL(l.pathname+l.search+l.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(e,window.origin),nextParams:m.params,defaultShouldRevalidate:!0});if(typeof b=="boolean")return b}return!0}):[]}function AR(e,t,{includeHydrateFallback:n}={}){return PR(e.map(s=>{let l=t.routes[s.route.id];if(!l)return[];let o=[l.module];return l.clientActionModule&&(o=o.concat(l.clientActionModule)),l.clientLoaderModule&&(o=o.concat(l.clientLoaderModule)),n&&l.hydrateFallbackModule&&(o=o.concat(l.hydrateFallbackModule)),l.imports&&(o=o.concat(l.imports)),o}).flat(1))}function PR(e){return[...new Set(e)]}function kR(e){let t={},n=Object.keys(e).sort();for(let s of n)t[s]=e[s];return t}function TR(e,t){let n=new Set;return new Set(t),e.reduce((s,l)=>{let o=JSON.stringify(kR(l));return n.has(o)||(n.add(o),s.push({key:o,link:l})),s},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var DR=new Set([100,101,204,205]);function MR(e,t){let n=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return n.pathname==="/"?n.pathname="_root.data":t&&wa(n.pathname,t)==="/"?n.pathname=`${t.replace(/\/$/,"")}/_root.data`:n.pathname=`${n.pathname.replace(/\/$/,"")}.data`,n}function Tj(){let e=h.useContext(mi);return Og(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function OR(){let e=h.useContext(Ac);return Og(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var Lg=h.createContext(void 0);Lg.displayName="FrameworkContext";function Dj(){let e=h.useContext(Lg);return Og(e,"You must render this element inside a <HydratedRouter> element"),e}function LR(e,t){let n=h.useContext(Lg),[s,l]=h.useState(!1),[o,d]=h.useState(!1),{onFocus:f,onBlur:m,onMouseEnter:p,onMouseLeave:g,onTouchStart:b}=t,y=h.useRef(null);h.useEffect(()=>{if(e==="render"&&d(!0),e==="viewport"){let S=R=>{R.forEach(k=>{d(k.isIntersecting)})},_=new IntersectionObserver(S,{threshold:.5});return y.current&&_.observe(y.current),()=>{_.disconnect()}}},[e]),h.useEffect(()=>{if(s){let S=setTimeout(()=>{d(!0)},100);return()=>{clearTimeout(S)}}},[s]);let w=()=>{l(!0)},j=()=>{l(!1),d(!1)};return n?e!=="intent"?[o,y,{}]:[o,y,{onFocus:Yo(f,w),onBlur:Yo(m,j),onMouseEnter:Yo(p,w),onMouseLeave:Yo(g,j),onTouchStart:Yo(b,w)}]:[!1,y,{}]}function Yo(e,t){return n=>{e&&e(n),n.defaultPrevented||t(n)}}function UR({page:e,...t}){let{router:n}=Tj(),s=h.useMemo(()=>gs(n.routes,e,n.basename),[n.routes,e,n.basename]);return s?h.createElement(FR,{page:e,matches:s,...t}):null}function $R(e){let{manifest:t,routeModules:n}=Dj(),[s,l]=h.useState([]);return h.useEffect(()=>{let o=!1;return RR(e,t,n).then(d=>{o||l(d)}),()=>{o=!0}},[e,t,n]),s}function FR({page:e,matches:t,...n}){let s=er(),{manifest:l,routeModules:o}=Dj(),{basename:d}=Tj(),{loaderData:f,matches:m}=OR(),p=h.useMemo(()=>By(e,t,m,l,s,"data"),[e,t,m,l,s]),g=h.useMemo(()=>By(e,t,m,l,s,"assets"),[e,t,m,l,s]),b=h.useMemo(()=>{if(e===s.pathname+s.search+s.hash)return[];let j=new Set,S=!1;if(t.forEach(R=>{let k=l.routes[R.route.id];!k||!k.hasLoader||(!p.some(N=>N.route.id===R.route.id)&&R.route.id in f&&o[R.route.id]?.shouldRevalidate||k.hasClientLoader?S=!0:j.add(R.route.id))}),j.size===0)return[];let _=MR(e,d);return S&&j.size>0&&_.searchParams.set("_routes",t.filter(R=>j.has(R.route.id)).map(R=>R.route.id).join(",")),[_.pathname+_.search]},[d,f,s,l,p,t,e,o]),y=h.useMemo(()=>AR(g,l),[g,l]),w=$R(g);return h.createElement(h.Fragment,null,b.map(j=>h.createElement("link",{key:j,rel:"prefetch",as:"fetch",href:j,...n})),y.map(j=>h.createElement("link",{key:j,rel:"modulepreload",href:j,...n})),w.map(({key:j,link:S})=>h.createElement("link",{key:j,...S})))}function IR(...e){return t=>{e.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})}}var Mj=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Mj&&(window.__reactRouterVersion="7.6.3")}catch{}function BR(e,t){return R4({basename:t?.basename,unstable_getContext:t?.unstable_getContext,future:t?.future,history:WE({window:t?.window}),hydrationData:zR(),routes:e,mapRouteProperties:dR,hydrationRouteProperties:uR,dataStrategy:t?.dataStrategy,patchRoutesOnNavigation:t?.patchRoutesOnNavigation,window:t?.window}).initialize()}function zR(){let e=window?.__staticRouterHydrationData;return e&&e.errors&&(e={...e,errors:qR(e.errors)}),e}function qR(e){if(!e)return null;let t=Object.entries(e),n={};for(let[s,l]of t)if(l&&l.__type==="RouteErrorResponse")n[s]=new Uu(l.status,l.statusText,l.data,l.internal===!0);else if(l&&l.__type==="Error"){if(l.__subType){let o=window[l.__subType];if(typeof o=="function")try{let d=new o(l.message);d.stack="",n[s]=d}catch{}}if(n[s]==null){let o=new Error(l.message);o.stack="",n[s]=o}}else n[s]=l;return n}var Oj=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,rt=h.forwardRef(function({onClick:t,discover:n="render",prefetch:s="none",relative:l,reloadDocument:o,replace:d,state:f,target:m,to:p,preventScrollReset:g,viewTransition:b,...y},w){let{basename:j}=h.useContext(Ua),S=typeof p=="string"&&Oj.test(p),_,R=!1;if(typeof p=="string"&&S&&(_=p,Mj))try{let U=new URL(window.location.href),Z=p.startsWith("//")?new URL(U.protocol+p):new URL(p),se=wa(Z.pathname,j);Z.origin===U.origin&&se!=null?p=se+Z.search+Z.hash:R=!0}catch{rn(!1,`<Link to="${p}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let k=K4(p,{relative:l}),[N,A,P]=LR(s,y),E=GR(p,{replace:d,state:f,target:m,preventScrollReset:g,relative:l,viewTransition:b});function T(U){t&&t(U),U.defaultPrevented||E(U)}let I=h.createElement("a",{...y,...P,href:_||k,onClick:R||o?t:T,ref:IR(w,A),target:m,"data-discover":!S&&n==="render"?"true":void 0});return N&&!S?h.createElement(h.Fragment,null,I,h.createElement(UR,{page:k})):I});rt.displayName="Link";var Su=h.forwardRef(function({"aria-current":t="page",caseSensitive:n=!1,className:s="",end:l=!1,style:o,to:d,viewTransition:f,children:m,...p},g){let b=Pc(d,{relative:p.relative}),y=er(),w=h.useContext(Ac),{navigator:j,basename:S}=h.useContext(Ua),_=w!=null&&ZR(b)&&f===!0,R=j.encodeLocation?j.encodeLocation(b).pathname:b.pathname,k=y.pathname,N=w&&w.navigation&&w.navigation.location?w.navigation.location.pathname:null;n||(k=k.toLowerCase(),N=N?N.toLowerCase():null,R=R.toLowerCase()),N&&S&&(N=wa(N,S)||N);const A=R!=="/"&&R.endsWith("/")?R.length-1:R.length;let P=k===R||!l&&k.startsWith(R)&&k.charAt(A)==="/",E=N!=null&&(N===R||!l&&N.startsWith(R)&&N.charAt(R.length)==="/"),T={isActive:P,isPending:E,isTransitioning:_},I=P?t:void 0,U;typeof s=="function"?U=s(T):U=[s,P?"active":null,E?"pending":null,_?"transitioning":null].filter(Boolean).join(" ");let Z=typeof o=="function"?o(T):o;return h.createElement(rt,{...p,"aria-current":I,className:U,ref:g,style:Z,to:d,viewTransition:f},typeof m=="function"?m(T):m)});Su.displayName="NavLink";var HR=h.forwardRef(({discover:e="render",fetcherKey:t,navigate:n,reloadDocument:s,replace:l,state:o,method:d=wu,action:f,onSubmit:m,relative:p,preventScrollReset:g,viewTransition:b,...y},w)=>{let j=WR(),S=JR(f,{relative:p}),_=d.toLowerCase()==="get"?"get":"post",R=typeof f=="string"&&Oj.test(f),k=N=>{if(m&&m(N),N.defaultPrevented)return;N.preventDefault();let A=N.nativeEvent.submitter,P=A?.getAttribute("formmethod")||d;j(A||N.currentTarget,{fetcherKey:t,method:P,navigate:n,replace:l,state:o,relative:p,preventScrollReset:g,viewTransition:b})};return h.createElement("form",{ref:w,method:_,action:S,onSubmit:s?m:k,...y,"data-discover":!R&&e==="render"?"true":void 0})});HR.displayName="Form";function VR(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Lj(e){let t=h.useContext(mi);return ft(t,VR(e)),t}function GR(e,{target:t,replace:n,state:s,preventScrollReset:l,relative:o,viewTransition:d}={}){let f=ln(),m=er(),p=Pc(e,{relative:o});return h.useCallback(g=>{if(jR(g,t)){g.preventDefault();let b=n!==void 0?n:ys(m)===ys(p);f(e,{replace:b,state:s,preventScrollReset:l,relative:o,viewTransition:d})}},[m,f,p,n,s,t,e,l,o,d])}var YR=0,KR=()=>`__${String(++YR)}__`;function WR(){let{router:e}=Lj("useSubmit"),{basename:t}=h.useContext(Ua),n=iR();return h.useCallback(async(s,l={})=>{let{action:o,method:d,encType:f,formData:m,body:p}=_R(s,t);if(l.navigate===!1){let g=l.fetcherKey||KR();await e.fetch(g,n,l.action||o,{preventScrollReset:l.preventScrollReset,formData:m,body:p,formMethod:l.method||d,formEncType:l.encType||f,flushSync:l.flushSync})}else await e.navigate(l.action||o,{preventScrollReset:l.preventScrollReset,formData:m,body:p,formMethod:l.method||d,formEncType:l.encType||f,replace:l.replace,state:l.state,fromRouteId:n,flushSync:l.flushSync,viewTransition:l.viewTransition})},[e,t,n])}function JR(e,{relative:t}={}){let{basename:n}=h.useContext(Ua),s=h.useContext(Sa);ft(s,"useFormAction must be used inside a RouteContext");let[l]=s.matches.slice(-1),o={...Pc(e||".",{relative:t})},d=er();if(e==null){o.search=d.search;let f=new URLSearchParams(o.search),m=f.getAll("index");if(m.some(g=>g==="")){f.delete("index"),m.filter(b=>b).forEach(b=>f.append("index",b));let g=f.toString();o.search=g?`?${g}`:""}}return(!e||e===".")&&l.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(o.pathname=o.pathname==="/"?n:Za([n,o.pathname])),ys(o)}function ZR(e,t={}){let n=h.useContext(kg);ft(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=Lj("useViewTransitionState"),l=Pc(e,{relative:t.relative});if(!n.isTransitioning)return!1;let o=wa(n.currentLocation.pathname,s)||n.currentLocation.pathname,d=wa(n.nextLocation.pathname,s)||n.nextLocation.pathname;return Lu(l.pathname,d)!=null||Lu(l.pathname,o)!=null}[...DR];var Ce=function(){return Ce=Object.assign||function(t){for(var n,s=1,l=arguments.length;s<l;s++){n=arguments[s];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},Ce.apply(this,arguments)};function $l(e,t){var n={};for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&t.indexOf(s)<0&&(n[s]=e[s]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,s=Object.getOwnPropertySymbols(e);l<s.length;l++)t.indexOf(s[l])<0&&Object.prototype.propertyIsEnumerable.call(e,s[l])&&(n[s[l]]=e[s[l]]);return n}function XR(e,t,n){for(var s=0,l=t.length,o;s<l;s++)(o||!(s in t))&&(o||(o=Array.prototype.slice.call(t,0,s)),o[s]=t[s]);return e.concat(o||Array.prototype.slice.call(t))}var xf=dj();const QR=Rg(xf);function vs(e,t,{checkForDefaultPrevented:n=!0}={}){return function(l){if(e?.(l),n===!1||!l.defaultPrevented)return t?.(l)}}function zy(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function Uj(...e){return t=>{let n=!1;const s=e.map(l=>{const o=zy(l,t);return!n&&typeof o=="function"&&(n=!0),o});if(n)return()=>{for(let l=0;l<s.length;l++){const o=s[l];typeof o=="function"?o():zy(e[l],null)}}}}function Tr(...e){return h.useCallback(Uj(...e),e)}function $j(e){const t=eA(e),n=h.forwardRef((s,l)=>{const{children:o,...d}=s,f=h.Children.toArray(o),m=f.find(nA);if(m){const p=m.props.children,g=f.map(b=>b===m?h.Children.count(p)>1?h.Children.only(null):h.isValidElement(p)?p.props.children:null:b);return a.jsx(t,{...d,ref:l,children:h.isValidElement(p)?h.cloneElement(p,void 0,g):null})}return a.jsx(t,{...d,ref:l,children:o})});return n.displayName=`${e}.Slot`,n}function eA(e){const t=h.forwardRef((n,s)=>{const{children:l,...o}=n;if(h.isValidElement(l)){const d=rA(l),f=aA(o,l.props);return l.type!==h.Fragment&&(f.ref=s?Uj(s,d):d),h.cloneElement(l,f)}return h.Children.count(l)>1?h.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var tA=Symbol("radix.slottable");function nA(e){return h.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===tA}function aA(e,t){const n={...t};for(const s in t){const l=e[s],o=t[s];/^on[A-Z]/.test(s)?l&&o?n[s]=(...f)=>{o(...f),l(...f)}:l&&(n[s]=l):s==="style"?n[s]={...l,...o}:s==="className"&&(n[s]=[l,o].filter(Boolean).join(" "))}return{...e,...n}}function rA(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var sA=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Na=sA.reduce((e,t)=>{const n=$j(`Primitive.${t}`),s=h.forwardRef((l,o)=>{const{asChild:d,...f}=l,m=d?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),a.jsx(m,{...f,ref:o})});return s.displayName=`Primitive.${t}`,{...e,[t]:s}},{});function iA(e,t){e&&xf.flushSync(()=>e.dispatchEvent(t))}function Er(e){const t=h.useRef(e);return h.useEffect(()=>{t.current=e}),h.useMemo(()=>(...n)=>t.current?.(...n),[])}function lA(e,t=globalThis?.document){const n=Er(e);h.useEffect(()=>{const s=l=>{l.key==="Escape"&&n(l)};return t.addEventListener("keydown",s,{capture:!0}),()=>t.removeEventListener("keydown",s,{capture:!0})},[n,t])}var oA="DismissableLayer",Vp="dismissableLayer.update",cA="dismissableLayer.pointerDownOutside",dA="dismissableLayer.focusOutside",qy,Fj=h.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),bf=h.forwardRef((e,t)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:s,onPointerDownOutside:l,onFocusOutside:o,onInteractOutside:d,onDismiss:f,...m}=e,p=h.useContext(Fj),[g,b]=h.useState(null),y=g?.ownerDocument??globalThis?.document,[,w]=h.useState({}),j=Tr(t,T=>b(T)),S=Array.from(p.layers),[_]=[...p.layersWithOutsidePointerEventsDisabled].slice(-1),R=S.indexOf(_),k=g?S.indexOf(g):-1,N=p.layersWithOutsidePointerEventsDisabled.size>0,A=k>=R,P=hA(T=>{const I=T.target,U=[...p.branches].some(Z=>Z.contains(I));!A||U||(l?.(T),d?.(T),T.defaultPrevented||f?.())},y),E=mA(T=>{const I=T.target;[...p.branches].some(Z=>Z.contains(I))||(o?.(T),d?.(T),T.defaultPrevented||f?.())},y);return lA(T=>{k===p.layers.size-1&&(s?.(T),!T.defaultPrevented&&f&&(T.preventDefault(),f()))},y),h.useEffect(()=>{if(g)return n&&(p.layersWithOutsidePointerEventsDisabled.size===0&&(qy=y.body.style.pointerEvents,y.body.style.pointerEvents="none"),p.layersWithOutsidePointerEventsDisabled.add(g)),p.layers.add(g),Hy(),()=>{n&&p.layersWithOutsidePointerEventsDisabled.size===1&&(y.body.style.pointerEvents=qy)}},[g,y,n,p]),h.useEffect(()=>()=>{g&&(p.layers.delete(g),p.layersWithOutsidePointerEventsDisabled.delete(g),Hy())},[g,p]),h.useEffect(()=>{const T=()=>w({});return document.addEventListener(Vp,T),()=>document.removeEventListener(Vp,T)},[]),a.jsx(Na.div,{...m,ref:j,style:{pointerEvents:N?A?"auto":"none":void 0,...e.style},onFocusCapture:vs(e.onFocusCapture,E.onFocusCapture),onBlurCapture:vs(e.onBlurCapture,E.onBlurCapture),onPointerDownCapture:vs(e.onPointerDownCapture,P.onPointerDownCapture)})});bf.displayName=oA;var uA="DismissableLayerBranch",fA=h.forwardRef((e,t)=>{const n=h.useContext(Fj),s=h.useRef(null),l=Tr(t,s);return h.useEffect(()=>{const o=s.current;if(o)return n.branches.add(o),()=>{n.branches.delete(o)}},[n.branches]),a.jsx(Na.div,{...e,ref:l})});fA.displayName=uA;function hA(e,t=globalThis?.document){const n=Er(e),s=h.useRef(!1),l=h.useRef(()=>{});return h.useEffect(()=>{const o=f=>{if(f.target&&!s.current){let m=function(){Ij(cA,n,p,{discrete:!0})};const p={originalEvent:f};f.pointerType==="touch"?(t.removeEventListener("click",l.current),l.current=m,t.addEventListener("click",l.current,{once:!0})):m()}else t.removeEventListener("click",l.current);s.current=!1},d=window.setTimeout(()=>{t.addEventListener("pointerdown",o)},0);return()=>{window.clearTimeout(d),t.removeEventListener("pointerdown",o),t.removeEventListener("click",l.current)}},[t,n]),{onPointerDownCapture:()=>s.current=!0}}function mA(e,t=globalThis?.document){const n=Er(e),s=h.useRef(!1);return h.useEffect(()=>{const l=o=>{o.target&&!s.current&&Ij(dA,n,{originalEvent:o},{discrete:!1})};return t.addEventListener("focusin",l),()=>t.removeEventListener("focusin",l)},[t,n]),{onFocusCapture:()=>s.current=!0,onBlurCapture:()=>s.current=!1}}function Hy(){const e=new CustomEvent(Vp);document.dispatchEvent(e)}function Ij(e,t,n,{discrete:s}){const l=n.originalEvent.target,o=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&l.addEventListener(e,t,{once:!0}),s?iA(l,o):l.dispatchEvent(o)}var dp=0;function Ug(){h.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??Vy()),document.body.insertAdjacentElement("beforeend",e[1]??Vy()),dp++,()=>{dp===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),dp--}},[])}function Vy(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var up="focusScope.autoFocusOnMount",fp="focusScope.autoFocusOnUnmount",Gy={bubbles:!1,cancelable:!0},pA="FocusScope",vf=h.forwardRef((e,t)=>{const{loop:n=!1,trapped:s=!1,onMountAutoFocus:l,onUnmountAutoFocus:o,...d}=e,[f,m]=h.useState(null),p=Er(l),g=Er(o),b=h.useRef(null),y=Tr(t,S=>m(S)),w=h.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;h.useEffect(()=>{if(s){let S=function(N){if(w.paused||!f)return;const A=N.target;f.contains(A)?b.current=A:fs(b.current,{select:!0})},_=function(N){if(w.paused||!f)return;const A=N.relatedTarget;A!==null&&(f.contains(A)||fs(b.current,{select:!0}))},R=function(N){if(document.activeElement===document.body)for(const P of N)P.removedNodes.length>0&&fs(f)};document.addEventListener("focusin",S),document.addEventListener("focusout",_);const k=new MutationObserver(R);return f&&k.observe(f,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",S),document.removeEventListener("focusout",_),k.disconnect()}}},[s,f,w.paused]),h.useEffect(()=>{if(f){Ky.add(w);const S=document.activeElement;if(!f.contains(S)){const R=new CustomEvent(up,Gy);f.addEventListener(up,p),f.dispatchEvent(R),R.defaultPrevented||(gA(wA(Bj(f)),{select:!0}),document.activeElement===S&&fs(f))}return()=>{f.removeEventListener(up,p),setTimeout(()=>{const R=new CustomEvent(fp,Gy);f.addEventListener(fp,g),f.dispatchEvent(R),R.defaultPrevented||fs(S??document.body,{select:!0}),f.removeEventListener(fp,g),Ky.remove(w)},0)}}},[f,p,g,w]);const j=h.useCallback(S=>{if(!n&&!s||w.paused)return;const _=S.key==="Tab"&&!S.altKey&&!S.ctrlKey&&!S.metaKey,R=document.activeElement;if(_&&R){const k=S.currentTarget,[N,A]=xA(k);N&&A?!S.shiftKey&&R===A?(S.preventDefault(),n&&fs(N,{select:!0})):S.shiftKey&&R===N&&(S.preventDefault(),n&&fs(A,{select:!0})):R===k&&S.preventDefault()}},[n,s,w.paused]);return a.jsx(Na.div,{tabIndex:-1,...d,ref:y,onKeyDown:j})});vf.displayName=pA;function gA(e,{select:t=!1}={}){const n=document.activeElement;for(const s of e)if(fs(s,{select:t}),document.activeElement!==n)return}function xA(e){const t=Bj(e),n=Yy(t,e),s=Yy(t.reverse(),e);return[n,s]}function Bj(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:s=>{const l=s.tagName==="INPUT"&&s.type==="hidden";return s.disabled||s.hidden||l?NodeFilter.FILTER_SKIP:s.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function Yy(e,t){for(const n of e)if(!bA(n,{upTo:t}))return n}function bA(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function vA(e){return e instanceof HTMLInputElement&&"select"in e}function fs(e,{select:t=!1}={}){if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&vA(e)&&t&&e.select()}}var Ky=yA();function yA(){let e=[];return{add(t){const n=e[0];t!==n&&n?.pause(),e=Wy(e,t),e.unshift(t)},remove(t){e=Wy(e,t),e[0]?.resume()}}}function Wy(e,t){const n=[...e],s=n.indexOf(t);return s!==-1&&n.splice(s,1),n}function wA(e){return e.filter(t=>t.tagName!=="A")}const jA=["top","right","bottom","left"],ws=Math.min,ia=Math.max,Fu=Math.round,Xd=Math.floor,Xa=e=>({x:e,y:e}),SA={left:"right",right:"left",bottom:"top",top:"bottom"},NA={start:"end",end:"start"};function Gp(e,t,n){return ia(e,ws(t,n))}function Rr(e,t){return typeof e=="function"?e(t):e}function Ar(e){return e.split("-")[0]}function Fl(e){return e.split("-")[1]}function $g(e){return e==="x"?"y":"x"}function Fg(e){return e==="y"?"height":"width"}function js(e){return["top","bottom"].includes(Ar(e))?"y":"x"}function Ig(e){return $g(js(e))}function _A(e,t,n){n===void 0&&(n=!1);const s=Fl(e),l=Ig(e),o=Fg(l);let d=l==="x"?s===(n?"end":"start")?"right":"left":s==="start"?"bottom":"top";return t.reference[o]>t.floating[o]&&(d=Iu(d)),[d,Iu(d)]}function CA(e){const t=Iu(e);return[Yp(e),t,Yp(t)]}function Yp(e){return e.replace(/start|end/g,t=>NA[t])}function EA(e,t,n){const s=["left","right"],l=["right","left"],o=["top","bottom"],d=["bottom","top"];switch(e){case"top":case"bottom":return n?t?l:s:t?s:l;case"left":case"right":return t?o:d;default:return[]}}function RA(e,t,n,s){const l=Fl(e);let o=EA(Ar(e),n==="start",s);return l&&(o=o.map(d=>d+"-"+l),t&&(o=o.concat(o.map(Yp)))),o}function Iu(e){return e.replace(/left|right|bottom|top/g,t=>SA[t])}function AA(e){return{top:0,right:0,bottom:0,left:0,...e}}function zj(e){return typeof e!="number"?AA(e):{top:e,right:e,bottom:e,left:e}}function Bu(e){const{x:t,y:n,width:s,height:l}=e;return{width:s,height:l,top:n,left:t,right:t+s,bottom:n+l,x:t,y:n}}function Jy(e,t,n){let{reference:s,floating:l}=e;const o=js(t),d=Ig(t),f=Fg(d),m=Ar(t),p=o==="y",g=s.x+s.width/2-l.width/2,b=s.y+s.height/2-l.height/2,y=s[f]/2-l[f]/2;let w;switch(m){case"top":w={x:g,y:s.y-l.height};break;case"bottom":w={x:g,y:s.y+s.height};break;case"right":w={x:s.x+s.width,y:b};break;case"left":w={x:s.x-l.width,y:b};break;default:w={x:s.x,y:s.y}}switch(Fl(t)){case"start":w[d]-=y*(n&&p?-1:1);break;case"end":w[d]+=y*(n&&p?-1:1);break}return w}const PA=async(e,t,n)=>{const{placement:s="bottom",strategy:l="absolute",middleware:o=[],platform:d}=n,f=o.filter(Boolean),m=await(d.isRTL==null?void 0:d.isRTL(t));let p=await d.getElementRects({reference:e,floating:t,strategy:l}),{x:g,y:b}=Jy(p,s,m),y=s,w={},j=0;for(let S=0;S<f.length;S++){const{name:_,fn:R}=f[S],{x:k,y:N,data:A,reset:P}=await R({x:g,y:b,initialPlacement:s,placement:y,strategy:l,middlewareData:w,rects:p,platform:d,elements:{reference:e,floating:t}});g=k??g,b=N??b,w={...w,[_]:{...w[_],...A}},P&&j<=50&&(j++,typeof P=="object"&&(P.placement&&(y=P.placement),P.rects&&(p=P.rects===!0?await d.getElementRects({reference:e,floating:t,strategy:l}):P.rects),{x:g,y:b}=Jy(p,y,m)),S=-1)}return{x:g,y:b,placement:y,strategy:l,middlewareData:w}};async function yc(e,t){var n;t===void 0&&(t={});const{x:s,y:l,platform:o,rects:d,elements:f,strategy:m}=e,{boundary:p="clippingAncestors",rootBoundary:g="viewport",elementContext:b="floating",altBoundary:y=!1,padding:w=0}=Rr(t,e),j=zj(w),_=f[y?b==="floating"?"reference":"floating":b],R=Bu(await o.getClippingRect({element:(n=await(o.isElement==null?void 0:o.isElement(_)))==null||n?_:_.contextElement||await(o.getDocumentElement==null?void 0:o.getDocumentElement(f.floating)),boundary:p,rootBoundary:g,strategy:m})),k=b==="floating"?{x:s,y:l,width:d.floating.width,height:d.floating.height}:d.reference,N=await(o.getOffsetParent==null?void 0:o.getOffsetParent(f.floating)),A=await(o.isElement==null?void 0:o.isElement(N))?await(o.getScale==null?void 0:o.getScale(N))||{x:1,y:1}:{x:1,y:1},P=Bu(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({elements:f,rect:k,offsetParent:N,strategy:m}):k);return{top:(R.top-P.top+j.top)/A.y,bottom:(P.bottom-R.bottom+j.bottom)/A.y,left:(R.left-P.left+j.left)/A.x,right:(P.right-R.right+j.right)/A.x}}const kA=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:s,placement:l,rects:o,platform:d,elements:f,middlewareData:m}=t,{element:p,padding:g=0}=Rr(e,t)||{};if(p==null)return{};const b=zj(g),y={x:n,y:s},w=Ig(l),j=Fg(w),S=await d.getDimensions(p),_=w==="y",R=_?"top":"left",k=_?"bottom":"right",N=_?"clientHeight":"clientWidth",A=o.reference[j]+o.reference[w]-y[w]-o.floating[j],P=y[w]-o.reference[w],E=await(d.getOffsetParent==null?void 0:d.getOffsetParent(p));let T=E?E[N]:0;(!T||!await(d.isElement==null?void 0:d.isElement(E)))&&(T=f.floating[N]||o.floating[j]);const I=A/2-P/2,U=T/2-S[j]/2-1,Z=ws(b[R],U),se=ws(b[k],U),F=Z,L=T-S[j]-se,$=T/2-S[j]/2+I,W=Gp(F,$,L),O=!m.arrow&&Fl(l)!=null&&$!==W&&o.reference[j]/2-($<F?Z:se)-S[j]/2<0,q=O?$<F?$-F:$-L:0;return{[w]:y[w]+q,data:{[w]:W,centerOffset:$-W-q,...O&&{alignmentOffset:q}},reset:O}}}),TA=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,s;const{placement:l,middlewareData:o,rects:d,initialPlacement:f,platform:m,elements:p}=t,{mainAxis:g=!0,crossAxis:b=!0,fallbackPlacements:y,fallbackStrategy:w="bestFit",fallbackAxisSideDirection:j="none",flipAlignment:S=!0,..._}=Rr(e,t);if((n=o.arrow)!=null&&n.alignmentOffset)return{};const R=Ar(l),k=js(f),N=Ar(f)===f,A=await(m.isRTL==null?void 0:m.isRTL(p.floating)),P=y||(N||!S?[Iu(f)]:CA(f)),E=j!=="none";!y&&E&&P.push(...RA(f,S,j,A));const T=[f,...P],I=await yc(t,_),U=[];let Z=((s=o.flip)==null?void 0:s.overflows)||[];if(g&&U.push(I[R]),b){const $=_A(l,d,A);U.push(I[$[0]],I[$[1]])}if(Z=[...Z,{placement:l,overflows:U}],!U.every($=>$<=0)){var se,F;const $=(((se=o.flip)==null?void 0:se.index)||0)+1,W=T[$];if(W)return{data:{index:$,overflows:Z},reset:{placement:W}};let O=(F=Z.filter(q=>q.overflows[0]<=0).sort((q,B)=>q.overflows[1]-B.overflows[1])[0])==null?void 0:F.placement;if(!O)switch(w){case"bestFit":{var L;const q=(L=Z.filter(B=>{if(E){const Y=js(B.placement);return Y===k||Y==="y"}return!0}).map(B=>[B.placement,B.overflows.filter(Y=>Y>0).reduce((Y,D)=>Y+D,0)]).sort((B,Y)=>B[1]-Y[1])[0])==null?void 0:L[0];q&&(O=q);break}case"initialPlacement":O=f;break}if(l!==O)return{reset:{placement:O}}}return{}}}};function Zy(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function Xy(e){return jA.some(t=>e[t]>=0)}const DA=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:n}=t,{strategy:s="referenceHidden",...l}=Rr(e,t);switch(s){case"referenceHidden":{const o=await yc(t,{...l,elementContext:"reference"}),d=Zy(o,n.reference);return{data:{referenceHiddenOffsets:d,referenceHidden:Xy(d)}}}case"escaped":{const o=await yc(t,{...l,altBoundary:!0}),d=Zy(o,n.floating);return{data:{escapedOffsets:d,escaped:Xy(d)}}}default:return{}}}}};async function MA(e,t){const{placement:n,platform:s,elements:l}=e,o=await(s.isRTL==null?void 0:s.isRTL(l.floating)),d=Ar(n),f=Fl(n),m=js(n)==="y",p=["left","top"].includes(d)?-1:1,g=o&&m?-1:1,b=Rr(t,e);let{mainAxis:y,crossAxis:w,alignmentAxis:j}=typeof b=="number"?{mainAxis:b,crossAxis:0,alignmentAxis:null}:{mainAxis:b.mainAxis||0,crossAxis:b.crossAxis||0,alignmentAxis:b.alignmentAxis};return f&&typeof j=="number"&&(w=f==="end"?j*-1:j),m?{x:w*g,y:y*p}:{x:y*p,y:w*g}}const OA=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,s;const{x:l,y:o,placement:d,middlewareData:f}=t,m=await MA(t,e);return d===((n=f.offset)==null?void 0:n.placement)&&(s=f.arrow)!=null&&s.alignmentOffset?{}:{x:l+m.x,y:o+m.y,data:{...m,placement:d}}}}},LA=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:s,placement:l}=t,{mainAxis:o=!0,crossAxis:d=!1,limiter:f={fn:_=>{let{x:R,y:k}=_;return{x:R,y:k}}},...m}=Rr(e,t),p={x:n,y:s},g=await yc(t,m),b=js(Ar(l)),y=$g(b);let w=p[y],j=p[b];if(o){const _=y==="y"?"top":"left",R=y==="y"?"bottom":"right",k=w+g[_],N=w-g[R];w=Gp(k,w,N)}if(d){const _=b==="y"?"top":"left",R=b==="y"?"bottom":"right",k=j+g[_],N=j-g[R];j=Gp(k,j,N)}const S=f.fn({...t,[y]:w,[b]:j});return{...S,data:{x:S.x-n,y:S.y-s,enabled:{[y]:o,[b]:d}}}}}},UA=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:n,y:s,placement:l,rects:o,middlewareData:d}=t,{offset:f=0,mainAxis:m=!0,crossAxis:p=!0}=Rr(e,t),g={x:n,y:s},b=js(l),y=$g(b);let w=g[y],j=g[b];const S=Rr(f,t),_=typeof S=="number"?{mainAxis:S,crossAxis:0}:{mainAxis:0,crossAxis:0,...S};if(m){const N=y==="y"?"height":"width",A=o.reference[y]-o.floating[N]+_.mainAxis,P=o.reference[y]+o.reference[N]-_.mainAxis;w<A?w=A:w>P&&(w=P)}if(p){var R,k;const N=y==="y"?"width":"height",A=["top","left"].includes(Ar(l)),P=o.reference[b]-o.floating[N]+(A&&((R=d.offset)==null?void 0:R[b])||0)+(A?0:_.crossAxis),E=o.reference[b]+o.reference[N]+(A?0:((k=d.offset)==null?void 0:k[b])||0)-(A?_.crossAxis:0);j<P?j=P:j>E&&(j=E)}return{[y]:w,[b]:j}}}},$A=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var n,s;const{placement:l,rects:o,platform:d,elements:f}=t,{apply:m=()=>{},...p}=Rr(e,t),g=await yc(t,p),b=Ar(l),y=Fl(l),w=js(l)==="y",{width:j,height:S}=o.floating;let _,R;b==="top"||b==="bottom"?(_=b,R=y===(await(d.isRTL==null?void 0:d.isRTL(f.floating))?"start":"end")?"left":"right"):(R=b,_=y==="end"?"top":"bottom");const k=S-g.top-g.bottom,N=j-g.left-g.right,A=ws(S-g[_],k),P=ws(j-g[R],N),E=!t.middlewareData.shift;let T=A,I=P;if((n=t.middlewareData.shift)!=null&&n.enabled.x&&(I=N),(s=t.middlewareData.shift)!=null&&s.enabled.y&&(T=k),E&&!y){const Z=ia(g.left,0),se=ia(g.right,0),F=ia(g.top,0),L=ia(g.bottom,0);w?I=j-2*(Z!==0||se!==0?Z+se:ia(g.left,g.right)):T=S-2*(F!==0||L!==0?F+L:ia(g.top,g.bottom))}await m({...t,availableWidth:I,availableHeight:T});const U=await d.getDimensions(f.floating);return j!==U.width||S!==U.height?{reset:{rects:!0}}:{}}}};function yf(){return typeof window<"u"}function Il(e){return qj(e)?(e.nodeName||"").toLowerCase():"#document"}function la(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function tr(e){var t;return(t=(qj(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function qj(e){return yf()?e instanceof Node||e instanceof la(e).Node:!1}function Oa(e){return yf()?e instanceof Element||e instanceof la(e).Element:!1}function Qa(e){return yf()?e instanceof HTMLElement||e instanceof la(e).HTMLElement:!1}function Qy(e){return!yf()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof la(e).ShadowRoot}function kc(e){const{overflow:t,overflowX:n,overflowY:s,display:l}=La(e);return/auto|scroll|overlay|hidden|clip/.test(t+s+n)&&!["inline","contents"].includes(l)}function FA(e){return["table","td","th"].includes(Il(e))}function wf(e){return[":popover-open",":modal"].some(t=>{try{return e.matches(t)}catch{return!1}})}function Bg(e){const t=zg(),n=Oa(e)?La(e):e;return["transform","translate","scale","rotate","perspective"].some(s=>n[s]?n[s]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(s=>(n.willChange||"").includes(s))||["paint","layout","strict","content"].some(s=>(n.contain||"").includes(s))}function IA(e){let t=Ss(e);for(;Qa(t)&&!Nl(t);){if(Bg(t))return t;if(wf(t))return null;t=Ss(t)}return null}function zg(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Nl(e){return["html","body","#document"].includes(Il(e))}function La(e){return la(e).getComputedStyle(e)}function jf(e){return Oa(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function Ss(e){if(Il(e)==="html")return e;const t=e.assignedSlot||e.parentNode||Qy(e)&&e.host||tr(e);return Qy(t)?t.host:t}function Hj(e){const t=Ss(e);return Nl(t)?e.ownerDocument?e.ownerDocument.body:e.body:Qa(t)&&kc(t)?t:Hj(t)}function wc(e,t,n){var s;t===void 0&&(t=[]),n===void 0&&(n=!0);const l=Hj(e),o=l===((s=e.ownerDocument)==null?void 0:s.body),d=la(l);if(o){const f=Kp(d);return t.concat(d,d.visualViewport||[],kc(l)?l:[],f&&n?wc(f):[])}return t.concat(l,wc(l,[],n))}function Kp(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function Vj(e){const t=La(e);let n=parseFloat(t.width)||0,s=parseFloat(t.height)||0;const l=Qa(e),o=l?e.offsetWidth:n,d=l?e.offsetHeight:s,f=Fu(n)!==o||Fu(s)!==d;return f&&(n=o,s=d),{width:n,height:s,$:f}}function qg(e){return Oa(e)?e:e.contextElement}function wl(e){const t=qg(e);if(!Qa(t))return Xa(1);const n=t.getBoundingClientRect(),{width:s,height:l,$:o}=Vj(t);let d=(o?Fu(n.width):n.width)/s,f=(o?Fu(n.height):n.height)/l;return(!d||!Number.isFinite(d))&&(d=1),(!f||!Number.isFinite(f))&&(f=1),{x:d,y:f}}const BA=Xa(0);function Gj(e){const t=la(e);return!zg()||!t.visualViewport?BA:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function zA(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==la(e)?!1:t}function di(e,t,n,s){t===void 0&&(t=!1),n===void 0&&(n=!1);const l=e.getBoundingClientRect(),o=qg(e);let d=Xa(1);t&&(s?Oa(s)&&(d=wl(s)):d=wl(e));const f=zA(o,n,s)?Gj(o):Xa(0);let m=(l.left+f.x)/d.x,p=(l.top+f.y)/d.y,g=l.width/d.x,b=l.height/d.y;if(o){const y=la(o),w=s&&Oa(s)?la(s):s;let j=y,S=Kp(j);for(;S&&s&&w!==j;){const _=wl(S),R=S.getBoundingClientRect(),k=La(S),N=R.left+(S.clientLeft+parseFloat(k.paddingLeft))*_.x,A=R.top+(S.clientTop+parseFloat(k.paddingTop))*_.y;m*=_.x,p*=_.y,g*=_.x,b*=_.y,m+=N,p+=A,j=la(S),S=Kp(j)}}return Bu({width:g,height:b,x:m,y:p})}function Hg(e,t){const n=jf(e).scrollLeft;return t?t.left+n:di(tr(e)).left+n}function Yj(e,t,n){n===void 0&&(n=!1);const s=e.getBoundingClientRect(),l=s.left+t.scrollLeft-(n?0:Hg(e,s)),o=s.top+t.scrollTop;return{x:l,y:o}}function qA(e){let{elements:t,rect:n,offsetParent:s,strategy:l}=e;const o=l==="fixed",d=tr(s),f=t?wf(t.floating):!1;if(s===d||f&&o)return n;let m={scrollLeft:0,scrollTop:0},p=Xa(1);const g=Xa(0),b=Qa(s);if((b||!b&&!o)&&((Il(s)!=="body"||kc(d))&&(m=jf(s)),Qa(s))){const w=di(s);p=wl(s),g.x=w.x+s.clientLeft,g.y=w.y+s.clientTop}const y=d&&!b&&!o?Yj(d,m,!0):Xa(0);return{width:n.width*p.x,height:n.height*p.y,x:n.x*p.x-m.scrollLeft*p.x+g.x+y.x,y:n.y*p.y-m.scrollTop*p.y+g.y+y.y}}function HA(e){return Array.from(e.getClientRects())}function VA(e){const t=tr(e),n=jf(e),s=e.ownerDocument.body,l=ia(t.scrollWidth,t.clientWidth,s.scrollWidth,s.clientWidth),o=ia(t.scrollHeight,t.clientHeight,s.scrollHeight,s.clientHeight);let d=-n.scrollLeft+Hg(e);const f=-n.scrollTop;return La(s).direction==="rtl"&&(d+=ia(t.clientWidth,s.clientWidth)-l),{width:l,height:o,x:d,y:f}}function GA(e,t){const n=la(e),s=tr(e),l=n.visualViewport;let o=s.clientWidth,d=s.clientHeight,f=0,m=0;if(l){o=l.width,d=l.height;const p=zg();(!p||p&&t==="fixed")&&(f=l.offsetLeft,m=l.offsetTop)}return{width:o,height:d,x:f,y:m}}function YA(e,t){const n=di(e,!0,t==="fixed"),s=n.top+e.clientTop,l=n.left+e.clientLeft,o=Qa(e)?wl(e):Xa(1),d=e.clientWidth*o.x,f=e.clientHeight*o.y,m=l*o.x,p=s*o.y;return{width:d,height:f,x:m,y:p}}function ew(e,t,n){let s;if(t==="viewport")s=GA(e,n);else if(t==="document")s=VA(tr(e));else if(Oa(t))s=YA(t,n);else{const l=Gj(e);s={x:t.x-l.x,y:t.y-l.y,width:t.width,height:t.height}}return Bu(s)}function Kj(e,t){const n=Ss(e);return n===t||!Oa(n)||Nl(n)?!1:La(n).position==="fixed"||Kj(n,t)}function KA(e,t){const n=t.get(e);if(n)return n;let s=wc(e,[],!1).filter(f=>Oa(f)&&Il(f)!=="body"),l=null;const o=La(e).position==="fixed";let d=o?Ss(e):e;for(;Oa(d)&&!Nl(d);){const f=La(d),m=Bg(d);!m&&f.position==="fixed"&&(l=null),(o?!m&&!l:!m&&f.position==="static"&&!!l&&["absolute","fixed"].includes(l.position)||kc(d)&&!m&&Kj(e,d))?s=s.filter(g=>g!==d):l=f,d=Ss(d)}return t.set(e,s),s}function WA(e){let{element:t,boundary:n,rootBoundary:s,strategy:l}=e;const d=[...n==="clippingAncestors"?wf(t)?[]:KA(t,this._c):[].concat(n),s],f=d[0],m=d.reduce((p,g)=>{const b=ew(t,g,l);return p.top=ia(b.top,p.top),p.right=ws(b.right,p.right),p.bottom=ws(b.bottom,p.bottom),p.left=ia(b.left,p.left),p},ew(t,f,l));return{width:m.right-m.left,height:m.bottom-m.top,x:m.left,y:m.top}}function JA(e){const{width:t,height:n}=Vj(e);return{width:t,height:n}}function ZA(e,t,n){const s=Qa(t),l=tr(t),o=n==="fixed",d=di(e,!0,o,t);let f={scrollLeft:0,scrollTop:0};const m=Xa(0);if(s||!s&&!o)if((Il(t)!=="body"||kc(l))&&(f=jf(t)),s){const y=di(t,!0,o,t);m.x=y.x+t.clientLeft,m.y=y.y+t.clientTop}else l&&(m.x=Hg(l));const p=l&&!s&&!o?Yj(l,f):Xa(0),g=d.left+f.scrollLeft-m.x-p.x,b=d.top+f.scrollTop-m.y-p.y;return{x:g,y:b,width:d.width,height:d.height}}function hp(e){return La(e).position==="static"}function tw(e,t){if(!Qa(e)||La(e).position==="fixed")return null;if(t)return t(e);let n=e.offsetParent;return tr(e)===n&&(n=n.ownerDocument.body),n}function Wj(e,t){const n=la(e);if(wf(e))return n;if(!Qa(e)){let l=Ss(e);for(;l&&!Nl(l);){if(Oa(l)&&!hp(l))return l;l=Ss(l)}return n}let s=tw(e,t);for(;s&&FA(s)&&hp(s);)s=tw(s,t);return s&&Nl(s)&&hp(s)&&!Bg(s)?n:s||IA(e)||n}const XA=async function(e){const t=this.getOffsetParent||Wj,n=this.getDimensions,s=await n(e.floating);return{reference:ZA(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:s.width,height:s.height}}};function QA(e){return La(e).direction==="rtl"}const e5={convertOffsetParentRelativeRectToViewportRelativeRect:qA,getDocumentElement:tr,getClippingRect:WA,getOffsetParent:Wj,getElementRects:XA,getClientRects:HA,getDimensions:JA,getScale:wl,isElement:Oa,isRTL:QA};function Jj(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function t5(e,t){let n=null,s;const l=tr(e);function o(){var f;clearTimeout(s),(f=n)==null||f.disconnect(),n=null}function d(f,m){f===void 0&&(f=!1),m===void 0&&(m=1),o();const p=e.getBoundingClientRect(),{left:g,top:b,width:y,height:w}=p;if(f||t(),!y||!w)return;const j=Xd(b),S=Xd(l.clientWidth-(g+y)),_=Xd(l.clientHeight-(b+w)),R=Xd(g),N={rootMargin:-j+"px "+-S+"px "+-_+"px "+-R+"px",threshold:ia(0,ws(1,m))||1};let A=!0;function P(E){const T=E[0].intersectionRatio;if(T!==m){if(!A)return d();T?d(!1,T):s=setTimeout(()=>{d(!1,1e-7)},1e3)}T===1&&!Jj(p,e.getBoundingClientRect())&&d(),A=!1}try{n=new IntersectionObserver(P,{...N,root:l.ownerDocument})}catch{n=new IntersectionObserver(P,N)}n.observe(e)}return d(!0),o}function n5(e,t,n,s){s===void 0&&(s={});const{ancestorScroll:l=!0,ancestorResize:o=!0,elementResize:d=typeof ResizeObserver=="function",layoutShift:f=typeof IntersectionObserver=="function",animationFrame:m=!1}=s,p=qg(e),g=l||o?[...p?wc(p):[],...wc(t)]:[];g.forEach(R=>{l&&R.addEventListener("scroll",n,{passive:!0}),o&&R.addEventListener("resize",n)});const b=p&&f?t5(p,n):null;let y=-1,w=null;d&&(w=new ResizeObserver(R=>{let[k]=R;k&&k.target===p&&w&&(w.unobserve(t),cancelAnimationFrame(y),y=requestAnimationFrame(()=>{var N;(N=w)==null||N.observe(t)})),n()}),p&&!m&&w.observe(p),w.observe(t));let j,S=m?di(e):null;m&&_();function _(){const R=di(e);S&&!Jj(S,R)&&n(),S=R,j=requestAnimationFrame(_)}return n(),()=>{var R;g.forEach(k=>{l&&k.removeEventListener("scroll",n),o&&k.removeEventListener("resize",n)}),b?.(),(R=w)==null||R.disconnect(),w=null,m&&cancelAnimationFrame(j)}}const a5=OA,r5=LA,s5=TA,i5=$A,l5=DA,nw=kA,o5=UA,c5=(e,t,n)=>{const s=new Map,l={platform:e5,...n},o={...l.platform,_c:s};return PA(e,t,{...l,platform:o})};var Nu=typeof document<"u"?h.useLayoutEffect:h.useEffect;function zu(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,s,l;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(s=n;s--!==0;)if(!zu(e[s],t[s]))return!1;return!0}if(l=Object.keys(e),n=l.length,n!==Object.keys(t).length)return!1;for(s=n;s--!==0;)if(!{}.hasOwnProperty.call(t,l[s]))return!1;for(s=n;s--!==0;){const o=l[s];if(!(o==="_owner"&&e.$$typeof)&&!zu(e[o],t[o]))return!1}return!0}return e!==e&&t!==t}function Zj(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function aw(e,t){const n=Zj(e);return Math.round(t*n)/n}function mp(e){const t=h.useRef(e);return Nu(()=>{t.current=e}),t}function d5(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:s=[],platform:l,elements:{reference:o,floating:d}={},transform:f=!0,whileElementsMounted:m,open:p}=e,[g,b]=h.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[y,w]=h.useState(s);zu(y,s)||w(s);const[j,S]=h.useState(null),[_,R]=h.useState(null),k=h.useCallback(B=>{B!==E.current&&(E.current=B,S(B))},[]),N=h.useCallback(B=>{B!==T.current&&(T.current=B,R(B))},[]),A=o||j,P=d||_,E=h.useRef(null),T=h.useRef(null),I=h.useRef(g),U=m!=null,Z=mp(m),se=mp(l),F=mp(p),L=h.useCallback(()=>{if(!E.current||!T.current)return;const B={placement:t,strategy:n,middleware:y};se.current&&(B.platform=se.current),c5(E.current,T.current,B).then(Y=>{const D={...Y,isPositioned:F.current!==!1};$.current&&!zu(I.current,D)&&(I.current=D,xf.flushSync(()=>{b(D)}))})},[y,t,n,se,F]);Nu(()=>{p===!1&&I.current.isPositioned&&(I.current.isPositioned=!1,b(B=>({...B,isPositioned:!1})))},[p]);const $=h.useRef(!1);Nu(()=>($.current=!0,()=>{$.current=!1}),[]),Nu(()=>{if(A&&(E.current=A),P&&(T.current=P),A&&P){if(Z.current)return Z.current(A,P,L);L()}},[A,P,L,Z,U]);const W=h.useMemo(()=>({reference:E,floating:T,setReference:k,setFloating:N}),[k,N]),O=h.useMemo(()=>({reference:A,floating:P}),[A,P]),q=h.useMemo(()=>{const B={position:n,left:0,top:0};if(!O.floating)return B;const Y=aw(O.floating,g.x),D=aw(O.floating,g.y);return f?{...B,transform:"translate("+Y+"px, "+D+"px)",...Zj(O.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:Y,top:D}},[n,f,O.floating,g.x,g.y]);return h.useMemo(()=>({...g,update:L,refs:W,elements:O,floatingStyles:q}),[g,L,W,O,q])}const u5=e=>{function t(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:e,fn(n){const{element:s,padding:l}=typeof e=="function"?e(n):e;return s&&t(s)?s.current!=null?nw({element:s.current,padding:l}).fn(n):{}:s?nw({element:s,padding:l}).fn(n):{}}}},f5=(e,t)=>({...a5(e),options:[e,t]}),h5=(e,t)=>({...r5(e),options:[e,t]}),m5=(e,t)=>({...o5(e),options:[e,t]}),p5=(e,t)=>({...s5(e),options:[e,t]}),g5=(e,t)=>({...i5(e),options:[e,t]}),x5=(e,t)=>({...l5(e),options:[e,t]}),b5=(e,t)=>({...u5(e),options:[e,t]});var v5="Arrow",Xj=h.forwardRef((e,t)=>{const{children:n,width:s=10,height:l=5,...o}=e;return a.jsx(Na.svg,{...o,ref:t,width:s,height:l,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?n:a.jsx("polygon",{points:"0,0 30,0 15,10"})})});Xj.displayName=v5;var y5=Xj;function w5(e,t){const n=h.createContext(t),s=o=>{const{children:d,...f}=o,m=h.useMemo(()=>f,Object.values(f));return a.jsx(n.Provider,{value:m,children:d})};s.displayName=e+"Provider";function l(o){const d=h.useContext(n);if(d)return d;if(t!==void 0)return t;throw new Error(`\`${o}\` must be used within \`${e}\``)}return[s,l]}function Qj(e,t=[]){let n=[];function s(o,d){const f=h.createContext(d),m=n.length;n=[...n,d];const p=b=>{const{scope:y,children:w,...j}=b,S=y?.[e]?.[m]||f,_=h.useMemo(()=>j,Object.values(j));return a.jsx(S.Provider,{value:_,children:w})};p.displayName=o+"Provider";function g(b,y){const w=y?.[e]?.[m]||f,j=h.useContext(w);if(j)return j;if(d!==void 0)return d;throw new Error(`\`${b}\` must be used within \`${o}\``)}return[p,g]}const l=()=>{const o=n.map(d=>h.createContext(d));return function(f){const m=f?.[e]||o;return h.useMemo(()=>({[`__scope${e}`]:{...f,[e]:m}}),[f,m])}};return l.scopeName=e,[s,j5(l,...t)]}function j5(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const s=e.map(l=>({useScope:l(),scopeName:l.scopeName}));return function(o){const d=s.reduce((f,{useScope:m,scopeName:p})=>{const b=m(o)[`__scope${p}`];return{...f,...b}},{});return h.useMemo(()=>({[`__scope${t.scopeName}`]:d}),[d])}};return n.scopeName=t.scopeName,n}var Wp=globalThis?.document?h.useLayoutEffect:()=>{};function S5(e){const[t,n]=h.useState(void 0);return Wp(()=>{if(e){n({width:e.offsetWidth,height:e.offsetHeight});const s=new ResizeObserver(l=>{if(!Array.isArray(l)||!l.length)return;const o=l[0];let d,f;if("borderBoxSize"in o){const m=o.borderBoxSize,p=Array.isArray(m)?m[0]:m;d=p.inlineSize,f=p.blockSize}else d=e.offsetWidth,f=e.offsetHeight;n({width:d,height:f})});return s.observe(e,{box:"border-box"}),()=>s.unobserve(e)}else n(void 0)},[e]),t}var Vg="Popper",[e2,Sf]=Qj(Vg),[N5,t2]=e2(Vg),n2=e=>{const{__scopePopper:t,children:n}=e,[s,l]=h.useState(null);return a.jsx(N5,{scope:t,anchor:s,onAnchorChange:l,children:n})};n2.displayName=Vg;var a2="PopperAnchor",r2=h.forwardRef((e,t)=>{const{__scopePopper:n,virtualRef:s,...l}=e,o=t2(a2,n),d=h.useRef(null),f=Tr(t,d);return h.useEffect(()=>{o.onAnchorChange(s?.current||d.current)}),s?null:a.jsx(Na.div,{...l,ref:f})});r2.displayName=a2;var Gg="PopperContent",[_5,C5]=e2(Gg),s2=h.forwardRef((e,t)=>{const{__scopePopper:n,side:s="bottom",sideOffset:l=0,align:o="center",alignOffset:d=0,arrowPadding:f=0,avoidCollisions:m=!0,collisionBoundary:p=[],collisionPadding:g=0,sticky:b="partial",hideWhenDetached:y=!1,updatePositionStrategy:w="optimized",onPlaced:j,...S}=e,_=t2(Gg,n),[R,k]=h.useState(null),N=Tr(t,Se=>k(Se)),[A,P]=h.useState(null),E=S5(A),T=E?.width??0,I=E?.height??0,U=s+(o!=="center"?"-"+o:""),Z=typeof g=="number"?g:{top:0,right:0,bottom:0,left:0,...g},se=Array.isArray(p)?p:[p],F=se.length>0,L={padding:Z,boundary:se.filter(R5),altBoundary:F},{refs:$,floatingStyles:W,placement:O,isPositioned:q,middlewareData:B}=d5({strategy:"fixed",placement:U,whileElementsMounted:(...Se)=>n5(...Se,{animationFrame:w==="always"}),elements:{reference:_.anchor},middleware:[f5({mainAxis:l+I,alignmentAxis:d}),m&&h5({mainAxis:!0,crossAxis:!1,limiter:b==="partial"?m5():void 0,...L}),m&&p5({...L}),g5({...L,apply:({elements:Se,rects:_e,availableWidth:ge,availableHeight:be})=>{const{width:Ae,height:ke}=_e.reference,ye=Se.floating.style;ye.setProperty("--radix-popper-available-width",`${ge}px`),ye.setProperty("--radix-popper-available-height",`${be}px`),ye.setProperty("--radix-popper-anchor-width",`${Ae}px`),ye.setProperty("--radix-popper-anchor-height",`${ke}px`)}}),A&&b5({element:A,padding:f}),A5({arrowWidth:T,arrowHeight:I}),y&&x5({strategy:"referenceHidden",...L})]}),[Y,D]=o2(O),V=Er(j);Wp(()=>{q&&V?.()},[q,V]);const J=B.arrow?.x,ne=B.arrow?.y,X=B.arrow?.centerOffset!==0,[ce,fe]=h.useState();return Wp(()=>{R&&fe(window.getComputedStyle(R).zIndex)},[R]),a.jsx("div",{ref:$.setFloating,"data-radix-popper-content-wrapper":"",style:{...W,transform:q?W.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:ce,"--radix-popper-transform-origin":[B.transformOrigin?.x,B.transformOrigin?.y].join(" "),...B.hide?.referenceHidden&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:a.jsx(_5,{scope:n,placedSide:Y,onArrowChange:P,arrowX:J,arrowY:ne,shouldHideArrow:X,children:a.jsx(Na.div,{"data-side":Y,"data-align":D,...S,ref:N,style:{...S.style,animation:q?void 0:"none"}})})})});s2.displayName=Gg;var i2="PopperArrow",E5={top:"bottom",right:"left",bottom:"top",left:"right"},l2=h.forwardRef(function(t,n){const{__scopePopper:s,...l}=t,o=C5(i2,s),d=E5[o.placedSide];return a.jsx("span",{ref:o.onArrowChange,style:{position:"absolute",left:o.arrowX,top:o.arrowY,[d]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[o.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[o.placedSide],visibility:o.shouldHideArrow?"hidden":void 0},children:a.jsx(y5,{...l,ref:n,style:{...l.style,display:"block"}})})});l2.displayName=i2;function R5(e){return e!==null}var A5=e=>({name:"transformOrigin",options:e,fn(t){const{placement:n,rects:s,middlewareData:l}=t,d=l.arrow?.centerOffset!==0,f=d?0:e.arrowWidth,m=d?0:e.arrowHeight,[p,g]=o2(n),b={start:"0%",center:"50%",end:"100%"}[g],y=(l.arrow?.x??0)+f/2,w=(l.arrow?.y??0)+m/2;let j="",S="";return p==="bottom"?(j=d?b:`${y}px`,S=`${-m}px`):p==="top"?(j=d?b:`${y}px`,S=`${s.floating.height+m}px`):p==="right"?(j=`${-m}px`,S=d?b:`${w}px`):p==="left"&&(j=`${s.floating.width+m}px`,S=d?b:`${w}px`),{data:{x:j,y:S}}}});function o2(e){const[t,n="center"]=e.split("-");return[t,n]}var c2=n2,Yg=r2,d2=s2,u2=l2,P5=globalThis?.document?h.useLayoutEffect:()=>{},k5="Portal",Nf=h.forwardRef((e,t)=>{const{container:n,...s}=e,[l,o]=h.useState(!1);P5(()=>o(!0),[]);const d=n||l&&globalThis?.document?.body;return d?QR.createPortal(a.jsx(Na.div,{...s,ref:t}),d):null});Nf.displayName=k5;var T5=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},tl=new WeakMap,Qd=new WeakMap,eu={},pp=0,f2=function(e){return e&&(e.host||f2(e.parentNode))},D5=function(e,t){return t.map(function(n){if(e.contains(n))return n;var s=f2(n);return s&&e.contains(s)?s:(console.error("aria-hidden",n,"in not contained inside",e,". Doing nothing"),null)}).filter(function(n){return!!n})},M5=function(e,t,n,s){var l=D5(t,Array.isArray(e)?e:[e]);eu[n]||(eu[n]=new WeakMap);var o=eu[n],d=[],f=new Set,m=new Set(l),p=function(b){!b||f.has(b)||(f.add(b),p(b.parentNode))};l.forEach(p);var g=function(b){!b||m.has(b)||Array.prototype.forEach.call(b.children,function(y){if(f.has(y))g(y);else try{var w=y.getAttribute(s),j=w!==null&&w!=="false",S=(tl.get(y)||0)+1,_=(o.get(y)||0)+1;tl.set(y,S),o.set(y,_),d.push(y),S===1&&j&&Qd.set(y,!0),_===1&&y.setAttribute(n,"true"),j||y.setAttribute(s,"true")}catch(R){console.error("aria-hidden: cannot operate on ",y,R)}})};return g(t),f.clear(),pp++,function(){d.forEach(function(b){var y=tl.get(b)-1,w=o.get(b)-1;tl.set(b,y),o.set(b,w),y||(Qd.has(b)||b.removeAttribute(s),Qd.delete(b)),w||b.removeAttribute(n)}),pp--,pp||(tl=new WeakMap,tl=new WeakMap,Qd=new WeakMap,eu={})}},Kg=function(e,t,n){n===void 0&&(n="data-aria-hidden");var s=Array.from(Array.isArray(e)?e:[e]),l=T5(e);return l?(s.push.apply(s,Array.from(l.querySelectorAll("[aria-live]"))),M5(s,l,n,"aria-hidden")):function(){return null}},_u="right-scroll-bar-position",Cu="width-before-scroll-bar",O5="with-scroll-bars-hidden",L5="--removed-body-scroll-bar-size";function U5(e){return e}function $5(e,t){t===void 0&&(t=U5);var n=[],s=!1,l={read:function(){if(s)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(o){var d=t(o,s);return n.push(d),function(){n=n.filter(function(f){return f!==d})}},assignSyncMedium:function(o){for(s=!0;n.length;){var d=n;n=[],d.forEach(o)}n={push:function(f){return o(f)},filter:function(){return n}}},assignMedium:function(o){s=!0;var d=[];if(n.length){var f=n;n=[],f.forEach(o),d=n}var m=function(){var g=d;d=[],g.forEach(o)},p=function(){return Promise.resolve().then(m)};p(),n={push:function(g){d.push(g),p()},filter:function(g){return d=d.filter(g),n}}}};return l}function F5(e){e===void 0&&(e={});var t=$5(null);return t.options=Ce({async:!0,ssr:!1},e),t}var h2=F5();function gp(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function I5(e,t){var n=h.useState(function(){return{value:e,callback:t,facade:{get current(){return n.value},set current(s){var l=n.value;l!==s&&(n.value=s,n.callback(s,l))}}}})[0];return n.callback=t,n.facade}var B5=typeof window<"u"?h.useLayoutEffect:h.useEffect,rw=new WeakMap;function z5(e,t){var n=I5(null,function(s){return e.forEach(function(l){return gp(l,s)})});return B5(function(){var s=rw.get(n);if(s){var l=new Set(s),o=new Set(e),d=n.current;l.forEach(function(f){o.has(f)||gp(f,null)}),o.forEach(function(f){l.has(f)||gp(f,d)})}rw.set(n,e)},[e]),n}var xp=function(){},_f=h.forwardRef(function(e,t){var n=h.useRef(null),s=h.useState({onScrollCapture:xp,onWheelCapture:xp,onTouchMoveCapture:xp}),l=s[0],o=s[1],d=e.forwardProps,f=e.children,m=e.className,p=e.removeScrollBar,g=e.enabled,b=e.shards,y=e.sideCar,w=e.noIsolation,j=e.inert,S=e.allowPinchZoom,_=e.as,R=_===void 0?"div":_,k=e.gapMode,N=$l(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),A=y,P=z5([n,t]),E=Ce(Ce({},N),l);return h.createElement(h.Fragment,null,g&&h.createElement(A,{sideCar:h2,removeScrollBar:p,shards:b,noIsolation:w,inert:j,setCallbacks:o,allowPinchZoom:!!S,lockRef:n,gapMode:k}),d?h.cloneElement(h.Children.only(f),Ce(Ce({},E),{ref:P})):h.createElement(R,Ce({},E,{className:m,ref:P}),f))});_f.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};_f.classNames={fullWidth:Cu,zeroRight:_u};var q5=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function H5(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=q5();return t&&e.setAttribute("nonce",t),e}function V5(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function G5(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var Y5=function(){var e=0,t=null;return{add:function(n){e==0&&(t=H5())&&(V5(t,n),G5(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},K5=function(){var e=Y5();return function(t,n){h.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&n])}},m2=function(){var e=K5(),t=function(n){var s=n.styles,l=n.dynamic;return e(s,l),null};return t},W5={left:0,top:0,right:0,gap:0},bp=function(e){return parseInt(e||"",10)||0},J5=function(e){var t=window.getComputedStyle(document.body),n=t[e==="padding"?"paddingLeft":"marginLeft"],s=t[e==="padding"?"paddingTop":"marginTop"],l=t[e==="padding"?"paddingRight":"marginRight"];return[bp(n),bp(s),bp(l)]},Z5=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return W5;var t=J5(e),n=document.documentElement.clientWidth,s=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,s-n+t[2]-t[0])}},X5=m2(),jl="data-scroll-locked",Q5=function(e,t,n,s){var l=e.left,o=e.top,d=e.right,f=e.gap;return n===void 0&&(n="margin"),`
  .`.concat(O5,` {
   overflow: hidden `).concat(s,`;
   padding-right: `).concat(f,"px ").concat(s,`;
  }
  body[`).concat(jl,`] {
    overflow: hidden `).concat(s,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(s,";"),n==="margin"&&`
    padding-left: `.concat(l,`px;
    padding-top: `).concat(o,`px;
    padding-right: `).concat(d,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(f,"px ").concat(s,`;
    `),n==="padding"&&"padding-right: ".concat(f,"px ").concat(s,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(_u,` {
    right: `).concat(f,"px ").concat(s,`;
  }
  
  .`).concat(Cu,` {
    margin-right: `).concat(f,"px ").concat(s,`;
  }
  
  .`).concat(_u," .").concat(_u,` {
    right: 0 `).concat(s,`;
  }
  
  .`).concat(Cu," .").concat(Cu,` {
    margin-right: 0 `).concat(s,`;
  }
  
  body[`).concat(jl,`] {
    `).concat(L5,": ").concat(f,`px;
  }
`)},sw=function(){var e=parseInt(document.body.getAttribute(jl)||"0",10);return isFinite(e)?e:0},eP=function(){h.useEffect(function(){return document.body.setAttribute(jl,(sw()+1).toString()),function(){var e=sw()-1;e<=0?document.body.removeAttribute(jl):document.body.setAttribute(jl,e.toString())}},[])},tP=function(e){var t=e.noRelative,n=e.noImportant,s=e.gapMode,l=s===void 0?"margin":s;eP();var o=h.useMemo(function(){return Z5(l)},[l]);return h.createElement(X5,{styles:Q5(o,!t,l,n?"":"!important")})},Jp=!1;if(typeof window<"u")try{var tu=Object.defineProperty({},"passive",{get:function(){return Jp=!0,!0}});window.addEventListener("test",tu,tu),window.removeEventListener("test",tu,tu)}catch{Jp=!1}var nl=Jp?{passive:!1}:!1,nP=function(e){return e.tagName==="TEXTAREA"},p2=function(e,t){if(!(e instanceof Element))return!1;var n=window.getComputedStyle(e);return n[t]!=="hidden"&&!(n.overflowY===n.overflowX&&!nP(e)&&n[t]==="visible")},aP=function(e){return p2(e,"overflowY")},rP=function(e){return p2(e,"overflowX")},iw=function(e,t){var n=t.ownerDocument,s=t;do{typeof ShadowRoot<"u"&&s instanceof ShadowRoot&&(s=s.host);var l=g2(e,s);if(l){var o=x2(e,s),d=o[1],f=o[2];if(d>f)return!0}s=s.parentNode}while(s&&s!==n.body);return!1},sP=function(e){var t=e.scrollTop,n=e.scrollHeight,s=e.clientHeight;return[t,n,s]},iP=function(e){var t=e.scrollLeft,n=e.scrollWidth,s=e.clientWidth;return[t,n,s]},g2=function(e,t){return e==="v"?aP(t):rP(t)},x2=function(e,t){return e==="v"?sP(t):iP(t)},lP=function(e,t){return e==="h"&&t==="rtl"?-1:1},oP=function(e,t,n,s,l){var o=lP(e,window.getComputedStyle(t).direction),d=o*s,f=n.target,m=t.contains(f),p=!1,g=d>0,b=0,y=0;do{var w=x2(e,f),j=w[0],S=w[1],_=w[2],R=S-_-o*j;(j||R)&&g2(e,f)&&(b+=R,y+=j),f instanceof ShadowRoot?f=f.host:f=f.parentNode}while(!m&&f!==document.body||m&&(t.contains(f)||t===f));return(g&&Math.abs(b)<1||!g&&Math.abs(y)<1)&&(p=!0),p},nu=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},lw=function(e){return[e.deltaX,e.deltaY]},ow=function(e){return e&&"current"in e?e.current:e},cP=function(e,t){return e[0]===t[0]&&e[1]===t[1]},dP=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},uP=0,al=[];function fP(e){var t=h.useRef([]),n=h.useRef([0,0]),s=h.useRef(),l=h.useState(uP++)[0],o=h.useState(m2)[0],d=h.useRef(e);h.useEffect(function(){d.current=e},[e]),h.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(l));var S=XR([e.lockRef.current],(e.shards||[]).map(ow)).filter(Boolean);return S.forEach(function(_){return _.classList.add("allow-interactivity-".concat(l))}),function(){document.body.classList.remove("block-interactivity-".concat(l)),S.forEach(function(_){return _.classList.remove("allow-interactivity-".concat(l))})}}},[e.inert,e.lockRef.current,e.shards]);var f=h.useCallback(function(S,_){if("touches"in S&&S.touches.length===2||S.type==="wheel"&&S.ctrlKey)return!d.current.allowPinchZoom;var R=nu(S),k=n.current,N="deltaX"in S?S.deltaX:k[0]-R[0],A="deltaY"in S?S.deltaY:k[1]-R[1],P,E=S.target,T=Math.abs(N)>Math.abs(A)?"h":"v";if("touches"in S&&T==="h"&&E.type==="range")return!1;var I=iw(T,E);if(!I)return!0;if(I?P=T:(P=T==="v"?"h":"v",I=iw(T,E)),!I)return!1;if(!s.current&&"changedTouches"in S&&(N||A)&&(s.current=P),!P)return!0;var U=s.current||P;return oP(U,_,S,U==="h"?N:A)},[]),m=h.useCallback(function(S){var _=S;if(!(!al.length||al[al.length-1]!==o)){var R="deltaY"in _?lw(_):nu(_),k=t.current.filter(function(P){return P.name===_.type&&(P.target===_.target||_.target===P.shadowParent)&&cP(P.delta,R)})[0];if(k&&k.should){_.cancelable&&_.preventDefault();return}if(!k){var N=(d.current.shards||[]).map(ow).filter(Boolean).filter(function(P){return P.contains(_.target)}),A=N.length>0?f(_,N[0]):!d.current.noIsolation;A&&_.cancelable&&_.preventDefault()}}},[]),p=h.useCallback(function(S,_,R,k){var N={name:S,delta:_,target:R,should:k,shadowParent:hP(R)};t.current.push(N),setTimeout(function(){t.current=t.current.filter(function(A){return A!==N})},1)},[]),g=h.useCallback(function(S){n.current=nu(S),s.current=void 0},[]),b=h.useCallback(function(S){p(S.type,lw(S),S.target,f(S,e.lockRef.current))},[]),y=h.useCallback(function(S){p(S.type,nu(S),S.target,f(S,e.lockRef.current))},[]);h.useEffect(function(){return al.push(o),e.setCallbacks({onScrollCapture:b,onWheelCapture:b,onTouchMoveCapture:y}),document.addEventListener("wheel",m,nl),document.addEventListener("touchmove",m,nl),document.addEventListener("touchstart",g,nl),function(){al=al.filter(function(S){return S!==o}),document.removeEventListener("wheel",m,nl),document.removeEventListener("touchmove",m,nl),document.removeEventListener("touchstart",g,nl)}},[]);var w=e.removeScrollBar,j=e.inert;return h.createElement(h.Fragment,null,j?h.createElement(o,{styles:dP(l)}):null,w?h.createElement(tP,{gapMode:e.gapMode}):null)}function hP(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}var b2=function(e){var t=e.sideCar,n=$l(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var s=t.read();if(!s)throw new Error("Sidecar medium not found");return h.createElement(s,Ce({},n))};b2.isSideCarExport=!0;function mP(e,t){return e.useMedium(t),b2}var pP=mP(h2,fP),v2=h.forwardRef(function(e,t){return h.createElement(_f,Ce({},e,{ref:t,sideCar:pP}))});v2.classNames=_f.classNames;var Wg=v2;function At(e,t,{checkForDefaultPrevented:n=!0}={}){return function(l){if(e?.(l),n===!1||!l.defaultPrevented)return t?.(l)}}function cw(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function Tc(...e){return t=>{let n=!1;const s=e.map(l=>{const o=cw(l,t);return!n&&typeof o=="function"&&(n=!0),o});if(n)return()=>{for(let l=0;l<s.length;l++){const o=s[l];typeof o=="function"?o():cw(e[l],null)}}}}function Pr(...e){return h.useCallback(Tc(...e),e)}function Cf(e,t=[]){let n=[];function s(o,d){const f=h.createContext(d),m=n.length;n=[...n,d];const p=b=>{const{scope:y,children:w,...j}=b,S=y?.[e]?.[m]||f,_=h.useMemo(()=>j,Object.values(j));return a.jsx(S.Provider,{value:_,children:w})};p.displayName=o+"Provider";function g(b,y){const w=y?.[e]?.[m]||f,j=h.useContext(w);if(j)return j;if(d!==void 0)return d;throw new Error(`\`${b}\` must be used within \`${o}\``)}return[p,g]}const l=()=>{const o=n.map(d=>h.createContext(d));return function(f){const m=f?.[e]||o;return h.useMemo(()=>({[`__scope${e}`]:{...f,[e]:m}}),[f,m])}};return l.scopeName=e,[s,gP(l,...t)]}function gP(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const s=e.map(l=>({useScope:l(),scopeName:l.scopeName}));return function(o){const d=s.reduce((f,{useScope:m,scopeName:p})=>{const b=m(o)[`__scope${p}`];return{...f,...b}},{});return h.useMemo(()=>({[`__scope${t.scopeName}`]:d}),[d])}};return n.scopeName=t.scopeName,n}var xP=globalThis?.document?h.useLayoutEffect:()=>{},bP=Ll[" useInsertionEffect ".trim().toString()]||xP;function y2({prop:e,defaultProp:t,onChange:n=()=>{},caller:s}){const[l,o,d]=vP({defaultProp:t,onChange:n}),f=e!==void 0,m=f?e:l;{const g=h.useRef(e!==void 0);h.useEffect(()=>{const b=g.current;b!==f&&console.warn(`${s} is changing from ${b?"controlled":"uncontrolled"} to ${f?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),g.current=f},[f,s])}const p=h.useCallback(g=>{if(f){const b=yP(g)?g(e):g;b!==e&&d.current?.(b)}else o(g)},[f,e,o,d]);return[m,p]}function vP({defaultProp:e,onChange:t}){const[n,s]=h.useState(e),l=h.useRef(n),o=h.useRef(t);return bP(()=>{o.current=t},[t]),h.useEffect(()=>{l.current!==n&&(o.current?.(n),l.current=n)},[n,l]),[n,s,o]}function yP(e){return typeof e=="function"}function wP(e){const t=jP(e),n=h.forwardRef((s,l)=>{const{children:o,...d}=s,f=h.Children.toArray(o),m=f.find(NP);if(m){const p=m.props.children,g=f.map(b=>b===m?h.Children.count(p)>1?h.Children.only(null):h.isValidElement(p)?p.props.children:null:b);return a.jsx(t,{...d,ref:l,children:h.isValidElement(p)?h.cloneElement(p,void 0,g):null})}return a.jsx(t,{...d,ref:l,children:o})});return n.displayName=`${e}.Slot`,n}function jP(e){const t=h.forwardRef((n,s)=>{const{children:l,...o}=n;if(h.isValidElement(l)){const d=CP(l),f=_P(o,l.props);return l.type!==h.Fragment&&(f.ref=s?Tc(s,d):d),h.cloneElement(l,f)}return h.Children.count(l)>1?h.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var SP=Symbol("radix.slottable");function NP(e){return h.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===SP}function _P(e,t){const n={...t};for(const s in t){const l=e[s],o=t[s];/^on[A-Z]/.test(s)?l&&o?n[s]=(...f)=>{o(...f),l(...f)}:l&&(n[s]=l):s==="style"?n[s]={...l,...o}:s==="className"&&(n[s]=[l,o].filter(Boolean).join(" "))}return{...e,...n}}function CP(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var EP=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Cs=EP.reduce((e,t)=>{const n=wP(`Primitive.${t}`),s=h.forwardRef((l,o)=>{const{asChild:d,...f}=l,m=d?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),a.jsx(m,{...f,ref:o})});return s.displayName=`Primitive.${t}`,{...e,[t]:s}},{});function RP(e,t){e&&xf.flushSync(()=>e.dispatchEvent(t))}function Zp(e){const t=AP(e),n=h.forwardRef((s,l)=>{const{children:o,...d}=s,f=h.Children.toArray(o),m=f.find(kP);if(m){const p=m.props.children,g=f.map(b=>b===m?h.Children.count(p)>1?h.Children.only(null):h.isValidElement(p)?p.props.children:null:b);return a.jsx(t,{...d,ref:l,children:h.isValidElement(p)?h.cloneElement(p,void 0,g):null})}return a.jsx(t,{...d,ref:l,children:o})});return n.displayName=`${e}.Slot`,n}function AP(e){const t=h.forwardRef((n,s)=>{const{children:l,...o}=n;if(h.isValidElement(l)){const d=DP(l),f=TP(o,l.props);return l.type!==h.Fragment&&(f.ref=s?Tc(s,d):d),h.cloneElement(l,f)}return h.Children.count(l)>1?h.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var PP=Symbol("radix.slottable");function kP(e){return h.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===PP}function TP(e,t){const n={...t};for(const s in t){const l=e[s],o=t[s];/^on[A-Z]/.test(s)?l&&o?n[s]=(...f)=>{o(...f),l(...f)}:l&&(n[s]=l):s==="style"?n[s]={...l,...o}:s==="className"&&(n[s]=[l,o].filter(Boolean).join(" "))}return{...e,...n}}function DP(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}function w2(e){const t=e+"CollectionProvider",[n,s]=Cf(t),[l,o]=n(t,{collectionRef:{current:null},itemMap:new Map}),d=S=>{const{scope:_,children:R}=S,k=Me.useRef(null),N=Me.useRef(new Map).current;return a.jsx(l,{scope:_,itemMap:N,collectionRef:k,children:R})};d.displayName=t;const f=e+"CollectionSlot",m=Zp(f),p=Me.forwardRef((S,_)=>{const{scope:R,children:k}=S,N=o(f,R),A=Pr(_,N.collectionRef);return a.jsx(m,{ref:A,children:k})});p.displayName=f;const g=e+"CollectionItemSlot",b="data-radix-collection-item",y=Zp(g),w=Me.forwardRef((S,_)=>{const{scope:R,children:k,...N}=S,A=Me.useRef(null),P=Pr(_,A),E=o(g,R);return Me.useEffect(()=>(E.itemMap.set(A,{ref:A,...N}),()=>void E.itemMap.delete(A))),a.jsx(y,{[b]:"",ref:P,children:k})});w.displayName=g;function j(S){const _=o(e+"CollectionConsumer",S);return Me.useCallback(()=>{const k=_.collectionRef.current;if(!k)return[];const N=Array.from(k.querySelectorAll(`[${b}]`));return Array.from(_.itemMap.values()).sort((E,T)=>N.indexOf(E.ref.current)-N.indexOf(T.ref.current))},[_.collectionRef,_.itemMap])}return[{Provider:d,Slot:p,ItemSlot:w},j,s]}var MP=h.createContext(void 0);function j2(e){const t=h.useContext(MP);return e||t||"ltr"}var OP=globalThis?.document?h.useLayoutEffect:()=>{},LP=Ll[" useId ".trim().toString()]||(()=>{}),UP=0;function Xp(e){const[t,n]=h.useState(LP());return OP(()=>{n(s=>s??String(UP++))},[e]),t?`radix-${t}`:""}var dw=globalThis?.document?h.useLayoutEffect:()=>{};function $P(e,t){return h.useReducer((n,s)=>t[n][s]??n,e)}var Dc=e=>{const{present:t,children:n}=e,s=FP(t),l=typeof n=="function"?n({present:s.isPresent}):h.Children.only(n),o=Pr(s.ref,IP(l));return typeof n=="function"||s.isPresent?h.cloneElement(l,{ref:o}):null};Dc.displayName="Presence";function FP(e){const[t,n]=h.useState(),s=h.useRef({}),l=h.useRef(e),o=h.useRef("none"),d=e?"mounted":"unmounted",[f,m]=$P(d,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return h.useEffect(()=>{const p=au(s.current);o.current=f==="mounted"?p:"none"},[f]),dw(()=>{const p=s.current,g=l.current;if(g!==e){const y=o.current,w=au(p);e?m("MOUNT"):w==="none"||p?.display==="none"?m("UNMOUNT"):m(g&&y!==w?"ANIMATION_OUT":"UNMOUNT"),l.current=e}},[e,m]),dw(()=>{if(t){let p;const g=t.ownerDocument.defaultView??window,b=w=>{const S=au(s.current).includes(w.animationName);if(w.target===t&&S&&(m("ANIMATION_END"),!l.current)){const _=t.style.animationFillMode;t.style.animationFillMode="forwards",p=g.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=_)})}},y=w=>{w.target===t&&(o.current=au(s.current))};return t.addEventListener("animationstart",y),t.addEventListener("animationcancel",b),t.addEventListener("animationend",b),()=>{g.clearTimeout(p),t.removeEventListener("animationstart",y),t.removeEventListener("animationcancel",b),t.removeEventListener("animationend",b)}}else m("ANIMATION_END")},[t,m]),{isPresent:["mounted","unmountSuspended"].includes(f),ref:h.useCallback(p=>{p&&(s.current=getComputedStyle(p)),n(p)},[])}}function au(e){return e?.animationName||"none"}function IP(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var vp="rovingFocusGroup.onEntryFocus",BP={bubbles:!1,cancelable:!0},Mc="RovingFocusGroup",[Qp,S2,zP]=w2(Mc),[qP,N2]=Cf(Mc,[zP]),[HP,VP]=qP(Mc),_2=h.forwardRef((e,t)=>a.jsx(Qp.Provider,{scope:e.__scopeRovingFocusGroup,children:a.jsx(Qp.Slot,{scope:e.__scopeRovingFocusGroup,children:a.jsx(GP,{...e,ref:t})})}));_2.displayName=Mc;var GP=h.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,orientation:s,loop:l=!1,dir:o,currentTabStopId:d,defaultCurrentTabStopId:f,onCurrentTabStopIdChange:m,onEntryFocus:p,preventScrollOnEntryFocus:g=!1,...b}=e,y=h.useRef(null),w=Pr(t,y),j=j2(o),[S,_]=y2({prop:d,defaultProp:f??null,onChange:m,caller:Mc}),[R,k]=h.useState(!1),N=Er(p),A=S2(n),P=h.useRef(!1),[E,T]=h.useState(0);return h.useEffect(()=>{const I=y.current;if(I)return I.addEventListener(vp,N),()=>I.removeEventListener(vp,N)},[N]),a.jsx(HP,{scope:n,orientation:s,dir:j,loop:l,currentTabStopId:S,onItemFocus:h.useCallback(I=>_(I),[_]),onItemShiftTab:h.useCallback(()=>k(!0),[]),onFocusableItemAdd:h.useCallback(()=>T(I=>I+1),[]),onFocusableItemRemove:h.useCallback(()=>T(I=>I-1),[]),children:a.jsx(Cs.div,{tabIndex:R||E===0?-1:0,"data-orientation":s,...b,ref:w,style:{outline:"none",...e.style},onMouseDown:At(e.onMouseDown,()=>{P.current=!0}),onFocus:At(e.onFocus,I=>{const U=!P.current;if(I.target===I.currentTarget&&U&&!R){const Z=new CustomEvent(vp,BP);if(I.currentTarget.dispatchEvent(Z),!Z.defaultPrevented){const se=A().filter(O=>O.focusable),F=se.find(O=>O.active),L=se.find(O=>O.id===S),W=[F,L,...se].filter(Boolean).map(O=>O.ref.current);R2(W,g)}}P.current=!1}),onBlur:At(e.onBlur,()=>k(!1))})})}),C2="RovingFocusGroupItem",E2=h.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,focusable:s=!0,active:l=!1,tabStopId:o,children:d,...f}=e,m=Xp(),p=o||m,g=VP(C2,n),b=g.currentTabStopId===p,y=S2(n),{onFocusableItemAdd:w,onFocusableItemRemove:j}=g;return h.useEffect(()=>{if(s)return w(),()=>j()},[s,w,j]),a.jsx(Qp.ItemSlot,{scope:n,id:p,focusable:s,active:l,children:a.jsx(Cs.span,{tabIndex:b?0:-1,"data-orientation":g.orientation,...f,ref:t,onMouseDown:At(e.onMouseDown,S=>{s?g.onItemFocus(p):S.preventDefault()}),onFocus:At(e.onFocus,()=>g.onItemFocus(p)),onKeyDown:At(e.onKeyDown,S=>{if(S.key==="Tab"&&S.shiftKey){g.onItemShiftTab();return}if(S.target!==S.currentTarget)return;const _=WP(S,g.orientation,g.dir);if(_!==void 0){if(S.metaKey||S.ctrlKey||S.altKey||S.shiftKey)return;S.preventDefault();let k=y().filter(N=>N.focusable).map(N=>N.ref.current);if(_==="last")k.reverse();else if(_==="prev"||_==="next"){_==="prev"&&k.reverse();const N=k.indexOf(S.currentTarget);k=g.loop?JP(k,N+1):k.slice(N+1)}setTimeout(()=>R2(k))}}),children:typeof d=="function"?d({isCurrentTabStop:b}):d})})});E2.displayName=C2;var YP={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function KP(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function WP(e,t,n){const s=KP(e.key,n);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(s))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(s)))return YP[s]}function R2(e,t=!1){const n=document.activeElement;for(const s of e)if(s===n||(s.focus({preventScroll:t}),document.activeElement!==n))return}function JP(e,t){return e.map((n,s)=>e[(t+s)%e.length])}var ZP=_2,XP=E2,eg=["Enter"," "],QP=["ArrowDown","PageUp","Home"],A2=["ArrowUp","PageDown","End"],e6=[...QP,...A2],t6={ltr:[...eg,"ArrowRight"],rtl:[...eg,"ArrowLeft"]},n6={ltr:["ArrowLeft"],rtl:["ArrowRight"]},Oc="Menu",[jc,a6,r6]=w2(Oc),[gi,P2]=Cf(Oc,[r6,Sf,N2]),Ef=Sf(),k2=N2(),[s6,xi]=gi(Oc),[i6,Lc]=gi(Oc),T2=e=>{const{__scopeMenu:t,open:n=!1,children:s,dir:l,onOpenChange:o,modal:d=!0}=e,f=Ef(t),[m,p]=h.useState(null),g=h.useRef(!1),b=Er(o),y=j2(l);return h.useEffect(()=>{const w=()=>{g.current=!0,document.addEventListener("pointerdown",j,{capture:!0,once:!0}),document.addEventListener("pointermove",j,{capture:!0,once:!0})},j=()=>g.current=!1;return document.addEventListener("keydown",w,{capture:!0}),()=>{document.removeEventListener("keydown",w,{capture:!0}),document.removeEventListener("pointerdown",j,{capture:!0}),document.removeEventListener("pointermove",j,{capture:!0})}},[]),a.jsx(c2,{...f,children:a.jsx(s6,{scope:t,open:n,onOpenChange:b,content:m,onContentChange:p,children:a.jsx(i6,{scope:t,onClose:h.useCallback(()=>b(!1),[b]),isUsingKeyboardRef:g,dir:y,modal:d,children:s})})})};T2.displayName=Oc;var l6="MenuAnchor",Jg=h.forwardRef((e,t)=>{const{__scopeMenu:n,...s}=e,l=Ef(n);return a.jsx(Yg,{...l,...s,ref:t})});Jg.displayName=l6;var Zg="MenuPortal",[o6,D2]=gi(Zg,{forceMount:void 0}),M2=e=>{const{__scopeMenu:t,forceMount:n,children:s,container:l}=e,o=xi(Zg,t);return a.jsx(o6,{scope:t,forceMount:n,children:a.jsx(Dc,{present:n||o.open,children:a.jsx(Nf,{asChild:!0,container:l,children:s})})})};M2.displayName=Zg;var va="MenuContent",[c6,Xg]=gi(va),O2=h.forwardRef((e,t)=>{const n=D2(va,e.__scopeMenu),{forceMount:s=n.forceMount,...l}=e,o=xi(va,e.__scopeMenu),d=Lc(va,e.__scopeMenu);return a.jsx(jc.Provider,{scope:e.__scopeMenu,children:a.jsx(Dc,{present:s||o.open,children:a.jsx(jc.Slot,{scope:e.__scopeMenu,children:d.modal?a.jsx(d6,{...l,ref:t}):a.jsx(u6,{...l,ref:t})})})})}),d6=h.forwardRef((e,t)=>{const n=xi(va,e.__scopeMenu),s=h.useRef(null),l=Pr(t,s);return h.useEffect(()=>{const o=s.current;if(o)return Kg(o)},[]),a.jsx(Qg,{...e,ref:l,trapFocus:n.open,disableOutsidePointerEvents:n.open,disableOutsideScroll:!0,onFocusOutside:At(e.onFocusOutside,o=>o.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>n.onOpenChange(!1)})}),u6=h.forwardRef((e,t)=>{const n=xi(va,e.__scopeMenu);return a.jsx(Qg,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>n.onOpenChange(!1)})}),f6=Zp("MenuContent.ScrollLock"),Qg=h.forwardRef((e,t)=>{const{__scopeMenu:n,loop:s=!1,trapFocus:l,onOpenAutoFocus:o,onCloseAutoFocus:d,disableOutsidePointerEvents:f,onEntryFocus:m,onEscapeKeyDown:p,onPointerDownOutside:g,onFocusOutside:b,onInteractOutside:y,onDismiss:w,disableOutsideScroll:j,...S}=e,_=xi(va,n),R=Lc(va,n),k=Ef(n),N=k2(n),A=a6(n),[P,E]=h.useState(null),T=h.useRef(null),I=Pr(t,T,_.onContentChange),U=h.useRef(0),Z=h.useRef(""),se=h.useRef(0),F=h.useRef(null),L=h.useRef("right"),$=h.useRef(0),W=j?Wg:h.Fragment,O=j?{as:f6,allowPinchZoom:!0}:void 0,q=Y=>{const D=Z.current+Y,V=A().filter(Se=>!Se.disabled),J=document.activeElement,ne=V.find(Se=>Se.ref.current===J)?.textValue,X=V.map(Se=>Se.textValue),ce=N6(X,D,ne),fe=V.find(Se=>Se.textValue===ce)?.ref.current;(function Se(_e){Z.current=_e,window.clearTimeout(U.current),_e!==""&&(U.current=window.setTimeout(()=>Se(""),1e3))})(D),fe&&setTimeout(()=>fe.focus())};h.useEffect(()=>()=>window.clearTimeout(U.current),[]),Ug();const B=h.useCallback(Y=>L.current===F.current?.side&&C6(Y,F.current?.area),[]);return a.jsx(c6,{scope:n,searchRef:Z,onItemEnter:h.useCallback(Y=>{B(Y)&&Y.preventDefault()},[B]),onItemLeave:h.useCallback(Y=>{B(Y)||(T.current?.focus(),E(null))},[B]),onTriggerLeave:h.useCallback(Y=>{B(Y)&&Y.preventDefault()},[B]),pointerGraceTimerRef:se,onPointerGraceIntentChange:h.useCallback(Y=>{F.current=Y},[]),children:a.jsx(W,{...O,children:a.jsx(vf,{asChild:!0,trapped:l,onMountAutoFocus:At(o,Y=>{Y.preventDefault(),T.current?.focus({preventScroll:!0})}),onUnmountAutoFocus:d,children:a.jsx(bf,{asChild:!0,disableOutsidePointerEvents:f,onEscapeKeyDown:p,onPointerDownOutside:g,onFocusOutside:b,onInteractOutside:y,onDismiss:w,children:a.jsx(ZP,{asChild:!0,...N,dir:R.dir,orientation:"vertical",loop:s,currentTabStopId:P,onCurrentTabStopIdChange:E,onEntryFocus:At(m,Y=>{R.isUsingKeyboardRef.current||Y.preventDefault()}),preventScrollOnEntryFocus:!0,children:a.jsx(d2,{role:"menu","aria-orientation":"vertical","data-state":Z2(_.open),"data-radix-menu-content":"",dir:R.dir,...k,...S,ref:I,style:{outline:"none",...S.style},onKeyDown:At(S.onKeyDown,Y=>{const V=Y.target.closest("[data-radix-menu-content]")===Y.currentTarget,J=Y.ctrlKey||Y.altKey||Y.metaKey,ne=Y.key.length===1;V&&(Y.key==="Tab"&&Y.preventDefault(),!J&&ne&&q(Y.key));const X=T.current;if(Y.target!==X||!e6.includes(Y.key))return;Y.preventDefault();const fe=A().filter(Se=>!Se.disabled).map(Se=>Se.ref.current);A2.includes(Y.key)&&fe.reverse(),j6(fe)}),onBlur:At(e.onBlur,Y=>{Y.currentTarget.contains(Y.target)||(window.clearTimeout(U.current),Z.current="")}),onPointerMove:At(e.onPointerMove,Sc(Y=>{const D=Y.target,V=$.current!==Y.clientX;if(Y.currentTarget.contains(D)&&V){const J=Y.clientX>$.current?"right":"left";L.current=J,$.current=Y.clientX}}))})})})})})})});O2.displayName=va;var h6="MenuGroup",ex=h.forwardRef((e,t)=>{const{__scopeMenu:n,...s}=e;return a.jsx(Cs.div,{role:"group",...s,ref:t})});ex.displayName=h6;var m6="MenuLabel",L2=h.forwardRef((e,t)=>{const{__scopeMenu:n,...s}=e;return a.jsx(Cs.div,{...s,ref:t})});L2.displayName=m6;var qu="MenuItem",uw="menu.itemSelect",Rf=h.forwardRef((e,t)=>{const{disabled:n=!1,onSelect:s,...l}=e,o=h.useRef(null),d=Lc(qu,e.__scopeMenu),f=Xg(qu,e.__scopeMenu),m=Pr(t,o),p=h.useRef(!1),g=()=>{const b=o.current;if(!n&&b){const y=new CustomEvent(uw,{bubbles:!0,cancelable:!0});b.addEventListener(uw,w=>s?.(w),{once:!0}),RP(b,y),y.defaultPrevented?p.current=!1:d.onClose()}};return a.jsx(U2,{...l,ref:m,disabled:n,onClick:At(e.onClick,g),onPointerDown:b=>{e.onPointerDown?.(b),p.current=!0},onPointerUp:At(e.onPointerUp,b=>{p.current||b.currentTarget?.click()}),onKeyDown:At(e.onKeyDown,b=>{const y=f.searchRef.current!=="";n||y&&b.key===" "||eg.includes(b.key)&&(b.currentTarget.click(),b.preventDefault())})})});Rf.displayName=qu;var U2=h.forwardRef((e,t)=>{const{__scopeMenu:n,disabled:s=!1,textValue:l,...o}=e,d=Xg(qu,n),f=k2(n),m=h.useRef(null),p=Pr(t,m),[g,b]=h.useState(!1),[y,w]=h.useState("");return h.useEffect(()=>{const j=m.current;j&&w((j.textContent??"").trim())},[o.children]),a.jsx(jc.ItemSlot,{scope:n,disabled:s,textValue:l??y,children:a.jsx(XP,{asChild:!0,...f,focusable:!s,children:a.jsx(Cs.div,{role:"menuitem","data-highlighted":g?"":void 0,"aria-disabled":s||void 0,"data-disabled":s?"":void 0,...o,ref:p,onPointerMove:At(e.onPointerMove,Sc(j=>{s?d.onItemLeave(j):(d.onItemEnter(j),j.defaultPrevented||j.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:At(e.onPointerLeave,Sc(j=>d.onItemLeave(j))),onFocus:At(e.onFocus,()=>b(!0)),onBlur:At(e.onBlur,()=>b(!1))})})})}),p6="MenuCheckboxItem",$2=h.forwardRef((e,t)=>{const{checked:n=!1,onCheckedChange:s,...l}=e;return a.jsx(q2,{scope:e.__scopeMenu,checked:n,children:a.jsx(Rf,{role:"menuitemcheckbox","aria-checked":Hu(n)?"mixed":n,...l,ref:t,"data-state":nx(n),onSelect:At(l.onSelect,()=>s?.(Hu(n)?!0:!n),{checkForDefaultPrevented:!1})})})});$2.displayName=p6;var F2="MenuRadioGroup",[g6,x6]=gi(F2,{value:void 0,onValueChange:()=>{}}),I2=h.forwardRef((e,t)=>{const{value:n,onValueChange:s,...l}=e,o=Er(s);return a.jsx(g6,{scope:e.__scopeMenu,value:n,onValueChange:o,children:a.jsx(ex,{...l,ref:t})})});I2.displayName=F2;var B2="MenuRadioItem",z2=h.forwardRef((e,t)=>{const{value:n,...s}=e,l=x6(B2,e.__scopeMenu),o=n===l.value;return a.jsx(q2,{scope:e.__scopeMenu,checked:o,children:a.jsx(Rf,{role:"menuitemradio","aria-checked":o,...s,ref:t,"data-state":nx(o),onSelect:At(s.onSelect,()=>l.onValueChange?.(n),{checkForDefaultPrevented:!1})})})});z2.displayName=B2;var tx="MenuItemIndicator",[q2,b6]=gi(tx,{checked:!1}),H2=h.forwardRef((e,t)=>{const{__scopeMenu:n,forceMount:s,...l}=e,o=b6(tx,n);return a.jsx(Dc,{present:s||Hu(o.checked)||o.checked===!0,children:a.jsx(Cs.span,{...l,ref:t,"data-state":nx(o.checked)})})});H2.displayName=tx;var v6="MenuSeparator",V2=h.forwardRef((e,t)=>{const{__scopeMenu:n,...s}=e;return a.jsx(Cs.div,{role:"separator","aria-orientation":"horizontal",...s,ref:t})});V2.displayName=v6;var y6="MenuArrow",G2=h.forwardRef((e,t)=>{const{__scopeMenu:n,...s}=e,l=Ef(n);return a.jsx(u2,{...l,...s,ref:t})});G2.displayName=y6;var w6="MenuSub",[_F,Y2]=gi(w6),rc="MenuSubTrigger",K2=h.forwardRef((e,t)=>{const n=xi(rc,e.__scopeMenu),s=Lc(rc,e.__scopeMenu),l=Y2(rc,e.__scopeMenu),o=Xg(rc,e.__scopeMenu),d=h.useRef(null),{pointerGraceTimerRef:f,onPointerGraceIntentChange:m}=o,p={__scopeMenu:e.__scopeMenu},g=h.useCallback(()=>{d.current&&window.clearTimeout(d.current),d.current=null},[]);return h.useEffect(()=>g,[g]),h.useEffect(()=>{const b=f.current;return()=>{window.clearTimeout(b),m(null)}},[f,m]),a.jsx(Jg,{asChild:!0,...p,children:a.jsx(U2,{id:l.triggerId,"aria-haspopup":"menu","aria-expanded":n.open,"aria-controls":l.contentId,"data-state":Z2(n.open),...e,ref:Tc(t,l.onTriggerChange),onClick:b=>{e.onClick?.(b),!(e.disabled||b.defaultPrevented)&&(b.currentTarget.focus(),n.open||n.onOpenChange(!0))},onPointerMove:At(e.onPointerMove,Sc(b=>{o.onItemEnter(b),!b.defaultPrevented&&!e.disabled&&!n.open&&!d.current&&(o.onPointerGraceIntentChange(null),d.current=window.setTimeout(()=>{n.onOpenChange(!0),g()},100))})),onPointerLeave:At(e.onPointerLeave,Sc(b=>{g();const y=n.content?.getBoundingClientRect();if(y){const w=n.content?.dataset.side,j=w==="right",S=j?-5:5,_=y[j?"left":"right"],R=y[j?"right":"left"];o.onPointerGraceIntentChange({area:[{x:b.clientX+S,y:b.clientY},{x:_,y:y.top},{x:R,y:y.top},{x:R,y:y.bottom},{x:_,y:y.bottom}],side:w}),window.clearTimeout(f.current),f.current=window.setTimeout(()=>o.onPointerGraceIntentChange(null),300)}else{if(o.onTriggerLeave(b),b.defaultPrevented)return;o.onPointerGraceIntentChange(null)}})),onKeyDown:At(e.onKeyDown,b=>{const y=o.searchRef.current!=="";e.disabled||y&&b.key===" "||t6[s.dir].includes(b.key)&&(n.onOpenChange(!0),n.content?.focus(),b.preventDefault())})})})});K2.displayName=rc;var W2="MenuSubContent",J2=h.forwardRef((e,t)=>{const n=D2(va,e.__scopeMenu),{forceMount:s=n.forceMount,...l}=e,o=xi(va,e.__scopeMenu),d=Lc(va,e.__scopeMenu),f=Y2(W2,e.__scopeMenu),m=h.useRef(null),p=Pr(t,m);return a.jsx(jc.Provider,{scope:e.__scopeMenu,children:a.jsx(Dc,{present:s||o.open,children:a.jsx(jc.Slot,{scope:e.__scopeMenu,children:a.jsx(Qg,{id:f.contentId,"aria-labelledby":f.triggerId,...l,ref:p,align:"start",side:d.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:g=>{d.isUsingKeyboardRef.current&&m.current?.focus(),g.preventDefault()},onCloseAutoFocus:g=>g.preventDefault(),onFocusOutside:At(e.onFocusOutside,g=>{g.target!==f.trigger&&o.onOpenChange(!1)}),onEscapeKeyDown:At(e.onEscapeKeyDown,g=>{d.onClose(),g.preventDefault()}),onKeyDown:At(e.onKeyDown,g=>{const b=g.currentTarget.contains(g.target),y=n6[d.dir].includes(g.key);b&&y&&(o.onOpenChange(!1),f.trigger?.focus(),g.preventDefault())})})})})})});J2.displayName=W2;function Z2(e){return e?"open":"closed"}function Hu(e){return e==="indeterminate"}function nx(e){return Hu(e)?"indeterminate":e?"checked":"unchecked"}function j6(e){const t=document.activeElement;for(const n of e)if(n===t||(n.focus(),document.activeElement!==t))return}function S6(e,t){return e.map((n,s)=>e[(t+s)%e.length])}function N6(e,t,n){const l=t.length>1&&Array.from(t).every(p=>p===t[0])?t[0]:t,o=n?e.indexOf(n):-1;let d=S6(e,Math.max(o,0));l.length===1&&(d=d.filter(p=>p!==n));const m=d.find(p=>p.toLowerCase().startsWith(l.toLowerCase()));return m!==n?m:void 0}function _6(e,t){const{x:n,y:s}=e;let l=!1;for(let o=0,d=t.length-1;o<t.length;d=o++){const f=t[o],m=t[d],p=f.x,g=f.y,b=m.x,y=m.y;g>s!=y>s&&n<(b-p)*(s-g)/(y-g)+p&&(l=!l)}return l}function C6(e,t){if(!t)return!1;const n={x:e.clientX,y:e.clientY};return _6(n,t)}function Sc(e){return t=>t.pointerType==="mouse"?e(t):void 0}var E6=T2,R6=Jg,A6=M2,P6=O2,k6=ex,T6=L2,D6=Rf,M6=$2,O6=I2,L6=z2,U6=H2,$6=V2,F6=G2,I6=K2,B6=J2,Af="DropdownMenu",[z6,CF]=Cf(Af,[P2]),Fn=P2(),[q6,X2]=z6(Af),Q2=e=>{const{__scopeDropdownMenu:t,children:n,dir:s,open:l,defaultOpen:o,onOpenChange:d,modal:f=!0}=e,m=Fn(t),p=h.useRef(null),[g,b]=y2({prop:l,defaultProp:o??!1,onChange:d,caller:Af});return a.jsx(q6,{scope:t,triggerId:Xp(),triggerRef:p,contentId:Xp(),open:g,onOpenChange:b,onOpenToggle:h.useCallback(()=>b(y=>!y),[b]),modal:f,children:a.jsx(E6,{...m,open:g,onOpenChange:b,dir:s,modal:f,children:n})})};Q2.displayName=Af;var eS="DropdownMenuTrigger",tS=h.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,disabled:s=!1,...l}=e,o=X2(eS,n),d=Fn(n);return a.jsx(R6,{asChild:!0,...d,children:a.jsx(Cs.button,{type:"button",id:o.triggerId,"aria-haspopup":"menu","aria-expanded":o.open,"aria-controls":o.open?o.contentId:void 0,"data-state":o.open?"open":"closed","data-disabled":s?"":void 0,disabled:s,...l,ref:Tc(t,o.triggerRef),onPointerDown:At(e.onPointerDown,f=>{!s&&f.button===0&&f.ctrlKey===!1&&(o.onOpenToggle(),o.open||f.preventDefault())}),onKeyDown:At(e.onKeyDown,f=>{s||(["Enter"," "].includes(f.key)&&o.onOpenToggle(),f.key==="ArrowDown"&&o.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(f.key)&&f.preventDefault())})})})});tS.displayName=eS;var H6="DropdownMenuPortal",nS=e=>{const{__scopeDropdownMenu:t,...n}=e,s=Fn(t);return a.jsx(A6,{...s,...n})};nS.displayName=H6;var aS="DropdownMenuContent",rS=h.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...s}=e,l=X2(aS,n),o=Fn(n),d=h.useRef(!1);return a.jsx(P6,{id:l.contentId,"aria-labelledby":l.triggerId,...o,...s,ref:t,onCloseAutoFocus:At(e.onCloseAutoFocus,f=>{d.current||l.triggerRef.current?.focus(),d.current=!1,f.preventDefault()}),onInteractOutside:At(e.onInteractOutside,f=>{const m=f.detail.originalEvent,p=m.button===0&&m.ctrlKey===!0,g=m.button===2||p;(!l.modal||g)&&(d.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});rS.displayName=aS;var V6="DropdownMenuGroup",G6=h.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...s}=e,l=Fn(n);return a.jsx(k6,{...l,...s,ref:t})});G6.displayName=V6;var Y6="DropdownMenuLabel",K6=h.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...s}=e,l=Fn(n);return a.jsx(T6,{...l,...s,ref:t})});K6.displayName=Y6;var W6="DropdownMenuItem",sS=h.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...s}=e,l=Fn(n);return a.jsx(D6,{...l,...s,ref:t})});sS.displayName=W6;var J6="DropdownMenuCheckboxItem",Z6=h.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...s}=e,l=Fn(n);return a.jsx(M6,{...l,...s,ref:t})});Z6.displayName=J6;var X6="DropdownMenuRadioGroup",Q6=h.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...s}=e,l=Fn(n);return a.jsx(O6,{...l,...s,ref:t})});Q6.displayName=X6;var ek="DropdownMenuRadioItem",tk=h.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...s}=e,l=Fn(n);return a.jsx(L6,{...l,...s,ref:t})});tk.displayName=ek;var nk="DropdownMenuItemIndicator",ak=h.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...s}=e,l=Fn(n);return a.jsx(U6,{...l,...s,ref:t})});ak.displayName=nk;var rk="DropdownMenuSeparator",sk=h.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...s}=e,l=Fn(n);return a.jsx($6,{...l,...s,ref:t})});sk.displayName=rk;var ik="DropdownMenuArrow",lk=h.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...s}=e,l=Fn(n);return a.jsx(F6,{...l,...s,ref:t})});lk.displayName=ik;var ok="DropdownMenuSubTrigger",ck=h.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...s}=e,l=Fn(n);return a.jsx(I6,{...l,...s,ref:t})});ck.displayName=ok;var dk="DropdownMenuSubContent",uk=h.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...s}=e,l=Fn(n);return a.jsx(B6,{...l,...s,ref:t,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});uk.displayName=dk;var fk=Q2,hk=tS,mk=nS,pk=rS,gk=sS,ax=pk,xk=gk,rx=mk,sx=fk,ix=hk;function oc(e,t,{checkForDefaultPrevented:n=!0}={}){return function(l){if(e?.(l),n===!1||!l.defaultPrevented)return t?.(l)}}function fw(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function iS(...e){return t=>{let n=!1;const s=e.map(l=>{const o=fw(l,t);return!n&&typeof o=="function"&&(n=!0),o});if(n)return()=>{for(let l=0;l<s.length;l++){const o=s[l];typeof o=="function"?o():fw(e[l],null)}}}}function lx(...e){return h.useCallback(iS(...e),e)}function bk(e,t=[]){let n=[];function s(o,d){const f=h.createContext(d),m=n.length;n=[...n,d];const p=b=>{const{scope:y,children:w,...j}=b,S=y?.[e]?.[m]||f,_=h.useMemo(()=>j,Object.values(j));return a.jsx(S.Provider,{value:_,children:w})};p.displayName=o+"Provider";function g(b,y){const w=y?.[e]?.[m]||f,j=h.useContext(w);if(j)return j;if(d!==void 0)return d;throw new Error(`\`${b}\` must be used within \`${o}\``)}return[p,g]}const l=()=>{const o=n.map(d=>h.createContext(d));return function(f){const m=f?.[e]||o;return h.useMemo(()=>({[`__scope${e}`]:{...f,[e]:m}}),[f,m])}};return l.scopeName=e,[s,vk(l,...t)]}function vk(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const s=e.map(l=>({useScope:l(),scopeName:l.scopeName}));return function(o){const d=s.reduce((f,{useScope:m,scopeName:p})=>{const b=m(o)[`__scope${p}`];return{...f,...b}},{});return h.useMemo(()=>({[`__scope${t.scopeName}`]:d}),[d])}};return n.scopeName=t.scopeName,n}var yk=globalThis?.document?h.useLayoutEffect:()=>{},wk=Ll[" useId ".trim().toString()]||(()=>{}),jk=0;function Sk(e){const[t,n]=h.useState(wk());return yk(()=>{n(s=>s??String(jk++))},[e]),e||(t?`radix-${t}`:"")}var hw=globalThis?.document?h.useLayoutEffect:()=>{};function Nk(e,t){return h.useReducer((n,s)=>t[n][s]??n,e)}var ox=e=>{const{present:t,children:n}=e,s=_k(t),l=typeof n=="function"?n({present:s.isPresent}):h.Children.only(n),o=lx(s.ref,Ck(l));return typeof n=="function"||s.isPresent?h.cloneElement(l,{ref:o}):null};ox.displayName="Presence";function _k(e){const[t,n]=h.useState(),s=h.useRef({}),l=h.useRef(e),o=h.useRef("none"),d=e?"mounted":"unmounted",[f,m]=Nk(d,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return h.useEffect(()=>{const p=ru(s.current);o.current=f==="mounted"?p:"none"},[f]),hw(()=>{const p=s.current,g=l.current;if(g!==e){const y=o.current,w=ru(p);e?m("MOUNT"):w==="none"||p?.display==="none"?m("UNMOUNT"):m(g&&y!==w?"ANIMATION_OUT":"UNMOUNT"),l.current=e}},[e,m]),hw(()=>{if(t){let p;const g=t.ownerDocument.defaultView??window,b=w=>{const S=ru(s.current).includes(w.animationName);if(w.target===t&&S&&(m("ANIMATION_END"),!l.current)){const _=t.style.animationFillMode;t.style.animationFillMode="forwards",p=g.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=_)})}},y=w=>{w.target===t&&(o.current=ru(s.current))};return t.addEventListener("animationstart",y),t.addEventListener("animationcancel",b),t.addEventListener("animationend",b),()=>{g.clearTimeout(p),t.removeEventListener("animationstart",y),t.removeEventListener("animationcancel",b),t.removeEventListener("animationend",b)}}else m("ANIMATION_END")},[t,m]),{isPresent:["mounted","unmountSuspended"].includes(f),ref:h.useCallback(p=>{p&&(s.current=getComputedStyle(p)),n(p)},[])}}function ru(e){return e?.animationName||"none"}function Ck(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}function lS(e){const t=Ek(e),n=h.forwardRef((s,l)=>{const{children:o,...d}=s,f=h.Children.toArray(o),m=f.find(Ak);if(m){const p=m.props.children,g=f.map(b=>b===m?h.Children.count(p)>1?h.Children.only(null):h.isValidElement(p)?p.props.children:null:b);return a.jsx(t,{...d,ref:l,children:h.isValidElement(p)?h.cloneElement(p,void 0,g):null})}return a.jsx(t,{...d,ref:l,children:o})});return n.displayName=`${e}.Slot`,n}function Ek(e){const t=h.forwardRef((n,s)=>{const{children:l,...o}=n;if(h.isValidElement(l)){const d=kk(l),f=Pk(o,l.props);return l.type!==h.Fragment&&(f.ref=s?iS(s,d):d),h.cloneElement(l,f)}return h.Children.count(l)>1?h.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var Rk=Symbol("radix.slottable");function Ak(e){return h.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===Rk}function Pk(e,t){const n={...t};for(const s in t){const l=e[s],o=t[s];/^on[A-Z]/.test(s)?l&&o?n[s]=(...f)=>{o(...f),l(...f)}:l&&(n[s]=l):s==="style"?n[s]={...l,...o}:s==="className"&&(n[s]=[l,o].filter(Boolean).join(" "))}return{...e,...n}}function kk(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var Tk=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],oS=Tk.reduce((e,t)=>{const n=lS(`Primitive.${t}`),s=h.forwardRef((l,o)=>{const{asChild:d,...f}=l,m=d?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),a.jsx(m,{...f,ref:o})});return s.displayName=`Primitive.${t}`,{...e,[t]:s}},{}),Dk=globalThis?.document?h.useLayoutEffect:()=>{},Mk=Ll[" useInsertionEffect ".trim().toString()]||Dk;function Ok({prop:e,defaultProp:t,onChange:n=()=>{},caller:s}){const[l,o,d]=Lk({defaultProp:t,onChange:n}),f=e!==void 0,m=f?e:l;{const g=h.useRef(e!==void 0);h.useEffect(()=>{const b=g.current;b!==f&&console.warn(`${s} is changing from ${b?"controlled":"uncontrolled"} to ${f?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),g.current=f},[f,s])}const p=h.useCallback(g=>{if(f){const b=Uk(g)?g(e):g;b!==e&&d.current?.(b)}else o(g)},[f,e,o,d]);return[m,p]}function Lk({defaultProp:e,onChange:t}){const[n,s]=h.useState(e),l=h.useRef(n),o=h.useRef(t);return Mk(()=>{o.current=t},[t]),h.useEffect(()=>{l.current!==n&&(o.current?.(n),l.current=n)},[n,l]),[n,s,o]}function Uk(e){return typeof e=="function"}var Pf="Popover",[cS,EF]=bk(Pf,[Sf]),Uc=Sf(),[$k,Es]=cS(Pf),dS=e=>{const{__scopePopover:t,children:n,open:s,defaultOpen:l,onOpenChange:o,modal:d=!1}=e,f=Uc(t),m=h.useRef(null),[p,g]=h.useState(!1),[b,y]=Ok({prop:s,defaultProp:l??!1,onChange:o,caller:Pf});return a.jsx(c2,{...f,children:a.jsx($k,{scope:t,contentId:Sk(),triggerRef:m,open:b,onOpenChange:y,onOpenToggle:h.useCallback(()=>y(w=>!w),[y]),hasCustomAnchor:p,onCustomAnchorAdd:h.useCallback(()=>g(!0),[]),onCustomAnchorRemove:h.useCallback(()=>g(!1),[]),modal:d,children:n})})};dS.displayName=Pf;var uS="PopoverAnchor",Fk=h.forwardRef((e,t)=>{const{__scopePopover:n,...s}=e,l=Es(uS,n),o=Uc(n),{onCustomAnchorAdd:d,onCustomAnchorRemove:f}=l;return h.useEffect(()=>(d(),()=>f()),[d,f]),a.jsx(Yg,{...o,...s,ref:t})});Fk.displayName=uS;var fS="PopoverTrigger",hS=h.forwardRef((e,t)=>{const{__scopePopover:n,...s}=e,l=Es(fS,n),o=Uc(n),d=lx(t,l.triggerRef),f=a.jsx(oS.button,{type:"button","aria-haspopup":"dialog","aria-expanded":l.open,"aria-controls":l.contentId,"data-state":bS(l.open),...s,ref:d,onClick:oc(e.onClick,l.onOpenToggle)});return l.hasCustomAnchor?f:a.jsx(Yg,{asChild:!0,...o,children:f})});hS.displayName=fS;var cx="PopoverPortal",[Ik,Bk]=cS(cx,{forceMount:void 0}),mS=e=>{const{__scopePopover:t,forceMount:n,children:s,container:l}=e,o=Es(cx,t);return a.jsx(Ik,{scope:t,forceMount:n,children:a.jsx(ox,{present:n||o.open,children:a.jsx(Nf,{asChild:!0,container:l,children:s})})})};mS.displayName=cx;var _l="PopoverContent",pS=h.forwardRef((e,t)=>{const n=Bk(_l,e.__scopePopover),{forceMount:s=n.forceMount,...l}=e,o=Es(_l,e.__scopePopover);return a.jsx(ox,{present:s||o.open,children:o.modal?a.jsx(qk,{...l,ref:t}):a.jsx(Hk,{...l,ref:t})})});pS.displayName=_l;var zk=lS("PopoverContent.RemoveScroll"),qk=h.forwardRef((e,t)=>{const n=Es(_l,e.__scopePopover),s=h.useRef(null),l=lx(t,s),o=h.useRef(!1);return h.useEffect(()=>{const d=s.current;if(d)return Kg(d)},[]),a.jsx(Wg,{as:zk,allowPinchZoom:!0,children:a.jsx(gS,{...e,ref:l,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:oc(e.onCloseAutoFocus,d=>{d.preventDefault(),o.current||n.triggerRef.current?.focus()}),onPointerDownOutside:oc(e.onPointerDownOutside,d=>{const f=d.detail.originalEvent,m=f.button===0&&f.ctrlKey===!0,p=f.button===2||m;o.current=p},{checkForDefaultPrevented:!1}),onFocusOutside:oc(e.onFocusOutside,d=>d.preventDefault(),{checkForDefaultPrevented:!1})})})}),Hk=h.forwardRef((e,t)=>{const n=Es(_l,e.__scopePopover),s=h.useRef(!1),l=h.useRef(!1);return a.jsx(gS,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:o=>{e.onCloseAutoFocus?.(o),o.defaultPrevented||(s.current||n.triggerRef.current?.focus(),o.preventDefault()),s.current=!1,l.current=!1},onInteractOutside:o=>{e.onInteractOutside?.(o),o.defaultPrevented||(s.current=!0,o.detail.originalEvent.type==="pointerdown"&&(l.current=!0));const d=o.target;n.triggerRef.current?.contains(d)&&o.preventDefault(),o.detail.originalEvent.type==="focusin"&&l.current&&o.preventDefault()}})}),gS=h.forwardRef((e,t)=>{const{__scopePopover:n,trapFocus:s,onOpenAutoFocus:l,onCloseAutoFocus:o,disableOutsidePointerEvents:d,onEscapeKeyDown:f,onPointerDownOutside:m,onFocusOutside:p,onInteractOutside:g,...b}=e,y=Es(_l,n),w=Uc(n);return Ug(),a.jsx(vf,{asChild:!0,loop:!0,trapped:s,onMountAutoFocus:l,onUnmountAutoFocus:o,children:a.jsx(bf,{asChild:!0,disableOutsidePointerEvents:d,onInteractOutside:g,onEscapeKeyDown:f,onPointerDownOutside:m,onFocusOutside:p,onDismiss:()=>y.onOpenChange(!1),children:a.jsx(d2,{"data-state":bS(y.open),role:"dialog",id:y.contentId,...w,...b,ref:t,style:{...b.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),xS="PopoverClose",Vk=h.forwardRef((e,t)=>{const{__scopePopover:n,...s}=e,l=Es(xS,n);return a.jsx(oS.button,{type:"button",...s,ref:t,onClick:oc(e.onClick,()=>l.onOpenChange(!1))})});Vk.displayName=xS;var Gk="PopoverArrow",Yk=h.forwardRef((e,t)=>{const{__scopePopover:n,...s}=e,l=Uc(n);return a.jsx(u2,{...l,...s,ref:t})});Yk.displayName=Gk;function bS(e){return e?"open":"closed"}var Kk=dS,Wk=hS,Jk=mS,Zk=pS,Xk=Zk,Qk=Jk,eT=Kk,tT=Wk;function nT(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var vS={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(e){(function(){var t={}.hasOwnProperty;function n(){for(var o="",d=0;d<arguments.length;d++){var f=arguments[d];f&&(o=l(o,s(f)))}return o}function s(o){if(typeof o=="string"||typeof o=="number")return o;if(typeof o!="object")return"";if(Array.isArray(o))return n.apply(null,o);if(o.toString!==Object.prototype.toString&&!o.toString.toString().includes("[native code]"))return o.toString();var d="";for(var f in o)t.call(o,f)&&o[f]&&(d=l(d,f));return d}function l(o,d){return d?o?o+" "+d:o+d:o}e.exports?(n.default=n,e.exports=n):window.classNames=n})()})(vS);var aT=vS.exports,kf=nT(aT);function dx(e,t){t===void 0&&(t={});var n=t.insertAt;if(!(!e||typeof document>"u")){var s=document.head||document.getElementsByTagName("head")[0],l=document.createElement("style");l.type="text/css",n==="top"&&s.firstChild?s.insertBefore(l,s.firstChild):s.appendChild(l),l.styleSheet?l.styleSheet.cssText=e:l.appendChild(document.createTextNode(e))}}var rT=`/* HACK: NextJS does not always load stylesheets in a stable order; this ensures that no matter
   which order these styles are loaded, this component has the lowest precedence. Thus this ensures adding a
   Tailwind class will always override this style. */
@layer {
  .icon-wrapper-module_root__-l6uP {
    flex: 0 0 auto;
    display: inline-flex;
    align-items: center;
  }
}
`,sT={root:"icon-wrapper-module_root__-l6uP"};dx(rT,{insertAt:"top"});var Re=Me.forwardRef(function(t,n){var s=t.className,l=$l(t,["className"]);return Me.createElement("span",Ce({ref:n,className:kf(s,sT.root)},l))}),Nr=h.forwardRef(function(t,n){return h.createElement(Re,Ce({ref:n},t),h.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"},h.createElement("path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z"}),h.createElement("path",{d:"M12 9v4"}),h.createElement("path",{d:"M12 17h.01"})))}),ux=h.forwardRef(function(t,n){return h.createElement(Re,Ce({ref:n},t),h.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"},h.createElement("path",{d:"m3 16 4 4 4-4"}),h.createElement("path",{d:"M7 20V4"}),h.createElement("path",{d:"m21 8-4-4-4 4"}),h.createElement("path",{d:"M17 4v16"})))}),iT=h.forwardRef(function(t,n){return h.createElement(Re,Ce({ref:n},t),h.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"},h.createElement("path",{d:"M12 5v14"}),h.createElement("path",{d:"m19 12-7 7-7-7"})))}),lT=h.forwardRef(function(t,n){return h.createElement(Re,Ce({ref:n},t),h.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"},h.createElement("path",{d:"M3.85 8.62a4 4 0 0 1 4.78-4.77 4 4 0 0 1 6.74 0 4 4 0 0 1 4.78 4.78 4 4 0 0 1 0 6.74 4 4 0 0 1-4.77 4.78 4 4 0 0 1-6.75 0 4 4 0 0 1-4.78-4.77 4 4 0 0 1 0-6.76Z"}),h.createElement("line",{x1:12,x2:12,y1:16,y2:12}),h.createElement("line",{x1:12,x2:12.01,y1:8,y2:8})))}),Vu=h.forwardRef(function(t,n){return h.createElement(Re,Ce({ref:n},t),h.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"},h.createElement("line",{x1:18,x2:18,y1:20,y2:10}),h.createElement("line",{x1:12,x2:12,y1:20,y2:4}),h.createElement("line",{x1:6,x2:6,y1:20,y2:14})))}),oT=h.forwardRef(function(t,n){return h.createElement(Re,Ce({ref:n},t),h.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"},h.createElement("path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9"}),h.createElement("path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0"})))}),cT=h.forwardRef(function(t,n){return h.createElement(Re,Ce({ref:n},t),h.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"},h.createElement("path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z"}),h.createElement("path",{d:"m3.3 7 8.7 5 8.7-5"}),h.createElement("path",{d:"M12 22V12"})))}),dT=h.forwardRef(function(t,n){return h.createElement(Re,Ce({ref:n},t),h.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"},h.createElement("rect",{width:16,height:20,x:4,y:2,rx:2}),h.createElement("line",{x1:8,x2:16,y1:6,y2:6}),h.createElement("line",{x1:16,x2:16,y1:14,y2:18}),h.createElement("path",{d:"M16 10h.01"}),h.createElement("path",{d:"M12 10h.01"}),h.createElement("path",{d:"M8 10h.01"}),h.createElement("path",{d:"M12 14h.01"}),h.createElement("path",{d:"M8 14h.01"}),h.createElement("path",{d:"M12 18h.01"}),h.createElement("path",{d:"M8 18h.01"})))}),yS=h.forwardRef(function(t,n){return h.createElement(Re,Ce({ref:n},t),h.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"},h.createElement("rect",{width:18,height:18,x:3,y:4,rx:2,ry:2}),h.createElement("line",{x1:16,x2:16,y1:2,y2:6}),h.createElement("line",{x1:8,x2:8,y1:2,y2:6}),h.createElement("line",{x1:3,x2:21,y1:10,y2:10})))}),uT=h.forwardRef(function(t,n){return h.createElement(Re,Ce({ref:n},t),h.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"},h.createElement("path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z"}),h.createElement("circle",{cx:12,cy:13,r:3})))}),mw=h.forwardRef(function(t,n){return h.createElement(Re,Ce({ref:n},t),h.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"},h.createElement("path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14"}),h.createElement("polyline",{points:"22 4 12 14.01 9 11.01"})))}),Tn=h.forwardRef(function(t,n){return h.createElement(Re,Ce({ref:n},t),h.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"},h.createElement("polyline",{points:"20 6 9 17 4 12"})))}),si=h.forwardRef(function(t,n){return h.createElement(Re,Ce({ref:n},t),h.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"},h.createElement("path",{d:"m6 9 6 6 6-6"})))}),fT=h.forwardRef(function(t,n){return h.createElement(Re,Ce({ref:n},t),h.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"},h.createElement("path",{d:"m9 18 6-6-6-6"})))}),ii=h.forwardRef(function(t,n){return h.createElement(Re,Ce({ref:n},t),h.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"},h.createElement("path",{d:"m18 15-6-6-6 6"})))}),hT=h.forwardRef(function(t,n){return h.createElement(Re,Ce({ref:n},t),h.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"},h.createElement("path",{d:"m11 17-5-5 5-5"}),h.createElement("path",{d:"m18 17-5-5 5-5"})))}),mT=h.forwardRef(function(t,n){return h.createElement(Re,Ce({ref:n},t),h.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"},h.createElement("path",{d:"m6 17 5-5-5-5"}),h.createElement("path",{d:"m13 17 5-5-5-5"})))}),Tf=h.forwardRef(function(t,n){return h.createElement(Re,Ce({ref:n},t),h.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"},h.createElement("circle",{cx:12,cy:12,r:10}),h.createElement("polyline",{points:"12 6 12 12 16 14"})))}),pT=h.forwardRef(function(t,n){return h.createElement(Re,Ce({ref:n},t),h.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"},h.createElement("rect",{width:14,height:14,x:8,y:8,rx:2,ry:2}),h.createElement("path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"})))}),Cl=h.forwardRef(function(t,n){return h.createElement(Re,Ce({ref:n},t),h.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"},h.createElement("line",{x1:12,x2:12,y1:2,y2:22}),h.createElement("path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"})))}),_r=h.forwardRef(function(t,n){return h.createElement(Re,Ce({ref:n},t),h.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"},h.createElement("path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"}),h.createElement("polyline",{points:"7 10 12 15 17 10"}),h.createElement("line",{x1:12,x2:12,y1:15,y2:3})))}),gT=h.forwardRef(function(t,n){return h.createElement(Re,Ce({ref:n},t),h.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"},h.createElement("path",{d:"M17 3a2.828 2.828 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5L17 3z"})))}),Df=h.forwardRef(function(t,n){return h.createElement(Re,Ce({ref:n},t),h.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"},h.createElement("path",{d:"M12 20h9"}),h.createElement("path",{d:"M16.5 3.5a2.121 2.121 0 0 1 3 3L7 19l-4 1 1-4L16.5 3.5z"})))}),xT=h.forwardRef(function(t,n){return h.createElement(Re,Ce({ref:n},t),h.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"},h.createElement("path",{d:"m7 21-4.3-4.3c-1-1-1-2.5 0-3.4l9.6-9.6c1-1 2.5-1 3.4 0l5.6 5.6c1 1 1 2.5 0 3.4L13 21"}),h.createElement("path",{d:"M22 21H7"}),h.createElement("path",{d:"m5 11 9 9"})))}),El=h.forwardRef(function(t,n){return h.createElement(Re,Ce({ref:n},t),h.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"},h.createElement("path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z"}),h.createElement("circle",{cx:12,cy:12,r:3})))}),fx=h.forwardRef(function(t,n){return h.createElement(Re,Ce({ref:n},t),h.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"},h.createElement("path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z"}),h.createElement("polyline",{points:"14 2 14 8 20 8"}),h.createElement("line",{x1:16,x2:8,y1:13,y2:13}),h.createElement("line",{x1:16,x2:8,y1:17,y2:17}),h.createElement("line",{x1:10,x2:8,y1:9,y2:9})))}),pw=h.forwardRef(function(t,n){return h.createElement(Re,Ce({ref:n},t),h.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"},h.createElement("path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z"}),h.createElement("polyline",{points:"14 2 14 8 20 8"})))}),bT=h.forwardRef(function(t,n){return h.createElement(Re,Ce({ref:n},t),h.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"},h.createElement("path",{d:"M15 22v-4a4.8 4.8 0 0 0-1-3.5c3 0 6-2 6-5.5.08-1.25-.27-2.48-1-3.5.28-1.15.28-2.35 0-3.5 0 0-1 0-3 1.5-2.64-.5-5.36-.5-8 0C6 2 5 2 5 2c-.3 1.15-.3 2.35 0 3.5A5.403 5.403 0 0 0 4 9c0 3.5 3 5.5 6 5.5-.39.49-.68 1.05-.85 1.65-.17.6-.22 1.23-.15 1.85v4"}),h.createElement("path",{d:"M9 18c-4.51 2-5-2-7-2"})))}),tg=h.forwardRef(function(t,n){return h.createElement(Re,Ce({ref:n},t),h.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"},h.createElement("circle",{cx:12,cy:12,r:10}),h.createElement("path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20"}),h.createElement("path",{d:"M2 12h20"})))}),Sl=h.forwardRef(function(t,n){return h.createElement(Re,Ce({ref:n},t),h.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"},h.createElement("rect",{x:3,y:3,width:18,height:18,rx:2,ry:2}),h.createElement("line",{x1:3,y1:9,x2:21,y2:9}),h.createElement("line",{x1:3,y1:15,x2:21,y2:15}),h.createElement("line",{x1:9,y1:3,x2:9,y2:21}),h.createElement("line",{x1:15,y1:3,x2:15,y2:21})))}),Gu=h.forwardRef(function(t,n){return h.createElement(Re,Ce({ref:n},t),h.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"},h.createElement("path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"}),h.createElement("polyline",{points:"9 22 9 12 15 12 15 22"})))}),vT=h.forwardRef(function(t,n){return h.createElement(Re,Ce({ref:n},t),h.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"},h.createElement("path",{d:"M12 6v4"}),h.createElement("path",{d:"M14 14h-4"}),h.createElement("path",{d:"M14 18h-4"}),h.createElement("path",{d:"M14 8h-4"}),h.createElement("path",{d:"M18 12h2a2 2 0 0 1 2 2v6a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2v-9a2 2 0 0 1 2-2h2"}),h.createElement("path",{d:"M18 22V4a2 2 0 0 0-2-2H8a2 2 0 0 0-2 2v18"})))}),sc=h.forwardRef(function(t,n){return h.createElement(Re,Ce({ref:n},t),h.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"},h.createElement("rect",{width:18,height:18,x:3,y:3,rx:2,ry:2}),h.createElement("circle",{cx:9,cy:9,r:2}),h.createElement("path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21"})))}),Yu=h.forwardRef(function(t,n){return h.createElement(Re,Ce({ref:n},t),h.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"},h.createElement("polyline",{points:"22 12 16 12 14 15 10 15 8 12 2 12"}),h.createElement("path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z"})))}),ng=h.forwardRef(function(t,n){return h.createElement(Re,Ce({ref:n},t),h.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"},h.createElement("circle",{cx:12,cy:12,r:10}),h.createElement("path",{d:"M12 16v-4"}),h.createElement("path",{d:"M12 8h.01"})))}),Ku=h.forwardRef(function(t,n){return h.createElement(Re,Ce({ref:n},t),h.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"},h.createElement("path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}),h.createElement("polyline",{points:"16 17 21 12 16 7"}),h.createElement("line",{x1:21,x2:9,y1:12,y2:12})))}),wS=h.forwardRef(function(t,n){return h.createElement(Re,Ce({ref:n},t),h.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"},h.createElement("path",{d:"M13 12h8"}),h.createElement("path",{d:"M13 18h8"}),h.createElement("path",{d:"M13 6h8"}),h.createElement("path",{d:"M3 12h1"}),h.createElement("path",{d:"M3 18h1"}),h.createElement("path",{d:"M3 6h1"}),h.createElement("path",{d:"M8 12h1"}),h.createElement("path",{d:"M8 18h1"}),h.createElement("path",{d:"M8 6h1"})))}),hx=h.forwardRef(function(t,n){return h.createElement(Re,Ce({ref:n},t),h.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"},h.createElement("line",{x1:4,x2:20,y1:12,y2:12}),h.createElement("line",{x1:4,x2:20,y1:6,y2:6}),h.createElement("line",{x1:4,x2:20,y1:18,y2:18})))}),yT=h.forwardRef(function(t,n){return h.createElement(Re,Ce({ref:n},t),h.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"},h.createElement("rect",{width:4,height:16,x:6,y:4}),h.createElement("rect",{width:4,height:16,x:14,y:4})))}),wT=h.forwardRef(function(t,n){return h.createElement(Re,Ce({ref:n},t),h.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"},h.createElement("path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z"})))}),jT=h.forwardRef(function(t,n){return h.createElement(Re,Ce({ref:n},t),h.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"},h.createElement("path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"})))}),ST=h.forwardRef(function(t,n){return h.createElement(Re,Ce({ref:n},t),h.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"},h.createElement("polygon",{points:"5 3 19 12 5 21 5 3"})))}),NT=h.forwardRef(function(t,n){return h.createElement(Re,Ce({ref:n},t),h.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"},h.createElement("circle",{cx:12,cy:12,r:10}),h.createElement("path",{d:"M8 12h8"}),h.createElement("path",{d:"M12 8v8"})))}),ui=h.forwardRef(function(t,n){return h.createElement(Re,Ce({ref:n},t),h.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"},h.createElement("path",{d:"M5 12h14"}),h.createElement("path",{d:"M12 5v14"})))}),Cr=h.forwardRef(function(t,n){return h.createElement(Re,Ce({ref:n},t),h.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"},h.createElement("polyline",{points:"6 9 6 2 18 2 18 9"}),h.createElement("path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2"}),h.createElement("rect",{width:12,height:8,x:6,y:14})))}),$n=h.forwardRef(function(t,n){return h.createElement(Re,Ce({ref:n},t),h.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"},h.createElement("path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8"}),h.createElement("path",{d:"M21 3v5h-5"}),h.createElement("path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16"}),h.createElement("path",{d:"M8 16H3v5"})))}),_T=h.forwardRef(function(t,n){return h.createElement(Re,Ce({ref:n},t),h.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"},h.createElement("path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8"}),h.createElement("path",{d:"M3 3v5h5"})))}),Mf=h.forwardRef(function(t,n){return h.createElement(Re,Ce({ref:n},t),h.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"},h.createElement("path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z"}),h.createElement("polyline",{points:"17 21 17 13 7 13 7 21"}),h.createElement("polyline",{points:"7 3 7 8 15 8"})))}),Dr=h.forwardRef(function(t,n){return h.createElement(Re,Ce({ref:n},t),h.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"},h.createElement("circle",{cx:11,cy:11,r:8}),h.createElement("path",{d:"m21 21-4.3-4.3"})))}),Wu=h.forwardRef(function(t,n){return h.createElement(Re,Ce({ref:n},t),h.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"},h.createElement("path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z"}),h.createElement("circle",{cx:12,cy:12,r:3})))}),CT=h.forwardRef(function(t,n){return h.createElement(Re,Ce({ref:n},t),h.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"},h.createElement("polygon",{points:"19 20 9 12 19 4 19 20"}),h.createElement("line",{x1:5,x2:5,y1:19,y2:5})))}),ET=h.forwardRef(function(t,n){return h.createElement(Re,Ce({ref:n},t),h.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"},h.createElement("polygon",{points:"5 4 15 12 5 20 5 4"}),h.createElement("line",{x1:19,x2:19,y1:5,y2:19})))}),RT=h.forwardRef(function(t,n){return h.createElement(Re,Ce({ref:n},t),h.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"},h.createElement("rect",{width:3,height:8,x:13,y:2,rx:1.5}),h.createElement("path",{d:"M19 8.5V10h1.5A1.5 1.5 0 1 0 19 8.5"}),h.createElement("rect",{width:3,height:8,x:8,y:14,rx:1.5}),h.createElement("path",{d:"M5 15.5V14H3.5A1.5 1.5 0 1 0 5 15.5"}),h.createElement("rect",{width:8,height:3,x:14,y:13,rx:1.5}),h.createElement("path",{d:"M15.5 19H14v1.5a1.5 1.5 0 1 0 1.5-1.5"}),h.createElement("rect",{width:8,height:3,x:2,y:8,rx:1.5}),h.createElement("path",{d:"M8.5 5H10V3.5A1.5 1.5 0 1 0 8.5 5"})))}),ag=h.forwardRef(function(t,n){return h.createElement(Re,Ce({ref:n},t),h.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"},h.createElement("path",{d:"m8 14-6 6h9v-3"}),h.createElement("path",{d:"M18.37 3.63 8 14l3 3L21.37 6.63a2.12 2.12 0 1 0-3-3Z"})))}),AT=h.forwardRef(function(t,n){return h.createElement(Re,Ce({ref:n},t),h.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"},h.createElement("path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}),h.createElement("path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z"})))}),Ju=h.forwardRef(function(t,n){return h.createElement(Re,Ce({ref:n},t),h.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"},h.createElement("polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"})))}),PT=h.forwardRef(function(t,n){return h.createElement(Re,Ce({ref:n},t),h.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"},h.createElement("path",{d:"M12 2H2v10l9.29 9.29c.94.94 2.48.94 3.42 0l6.58-6.58c.94-.94.94-2.48 0-3.42L12 2Z"}),h.createElement("path",{d:"M7 7h.01"})))}),yp=h.forwardRef(function(t,n){return h.createElement(Re,Ce({ref:n},t),h.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"},h.createElement("path",{d:"M3 6h18"}),h.createElement("path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6"}),h.createElement("path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2"}),h.createElement("line",{x1:10,x2:10,y1:11,y2:17}),h.createElement("line",{x1:14,x2:14,y1:11,y2:17})))}),kT=h.forwardRef(function(t,n){return h.createElement(Re,Ce({ref:n},t),h.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"},h.createElement("path",{d:"M3 6h18"}),h.createElement("path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6"}),h.createElement("path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2"})))}),TT=h.forwardRef(function(t,n){return h.createElement(Re,Ce({ref:n},t),h.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"},h.createElement("polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7"}),h.createElement("polyline",{points:"16 17 22 17 22 11"})))}),DT=h.forwardRef(function(t,n){return h.createElement(Re,Ce({ref:n},t),h.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"},h.createElement("path",{d:"M5 18H3c-.6 0-1-.4-1-1V7c0-.6.4-1 1-1h10c.6 0 1 .4 1 1v11"}),h.createElement("path",{d:"M14 9h4l4 4v4c0 .6-.4 1-1 1h-2"}),h.createElement("circle",{cx:7,cy:18,r:2}),h.createElement("path",{d:"M15 18H9"}),h.createElement("circle",{cx:17,cy:18,r:2})))}),MT=h.forwardRef(function(t,n){return h.createElement(Re,Ce({ref:n},t),h.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"},h.createElement("path",{d:"M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z"})))}),OT=h.forwardRef(function(t,n){return h.createElement(Re,Ce({ref:n},t),h.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"},h.createElement("path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"}),h.createElement("polyline",{points:"17 8 12 3 7 8"}),h.createElement("line",{x1:12,x2:12,y1:3,y2:15})))}),li=h.forwardRef(function(t,n){return h.createElement(Re,Ce({ref:n},t),h.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"},h.createElement("path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2"}),h.createElement("circle",{cx:12,cy:7,r:4})))}),gw=h.forwardRef(function(t,n){return h.createElement(Re,Ce({ref:n},t),h.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"},h.createElement("path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2"}),h.createElement("circle",{cx:9,cy:7,r:4}),h.createElement("path",{d:"M22 21v-2a4 4 0 0 0-3-3.87"}),h.createElement("path",{d:"M16 3.13a4 4 0 0 1 0 7.75"})))}),wp=h.forwardRef(function(t,n){return h.createElement(Re,Ce({ref:n},t),h.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"},h.createElement("path",{d:"m22 8-6 4 6 4V8Z"}),h.createElement("rect",{width:14,height:12,x:2,y:6,rx:2,ry:2})))}),xw=h.forwardRef(function(t,n){return h.createElement(Re,Ce({ref:n},t),h.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"},h.createElement("circle",{cx:12,cy:12,r:10}),h.createElement("path",{d:"m15 9-6 6"}),h.createElement("path",{d:"m9 9 6 6"})))}),sn=h.forwardRef(function(t,n){return h.createElement(Re,Ce({ref:n},t),h.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"},h.createElement("path",{d:"M18 6 6 18"}),h.createElement("path",{d:"m6 6 12 12"})))}),LT=`/* HACK: NextJS does not always load stylesheets in a stable order; this ensures that no matter
   which order these styles are loaded, this component has the lowest precedence. Thus this ensures adding a
   Tailwind class will always override this style. */
@layer {
  .loader-module_root__-0Kak {
    display: inline-block;
  }
}

/* Taken from https://metajunaid.github.io/SpinBolt/ */
.loader-module_root__-0Kak {
  /* NOTE: color must be set by the caller */
  height: 1em;
  width: 1em;
  position: relative;
  border: 0.2em solid;
  border-radius: 50%;
  border-top-color: transparent;
  animation: loader-module_rotate__pyoeU 1s linear infinite;
  flex: 0 0 auto;
}

@keyframes loader-module_rotate__pyoeU {
  0% {
    transform: rotate(0);
  }
  100% {
    transform: rotate(360deg);
  }
}
`,UT={root:"loader-module_root__-0Kak"};dx(LT,{insertAt:"top"});var Of=Me.forwardRef(function(t,n){var s=t.className,l=$l(t,["className"]);return Me.createElement("div",Ce({ref:n,className:kf(s,UT.root)},l))}),Zu=globalThis?.document?h.useLayoutEffect:()=>{},$T=Ll[" useId ".trim().toString()]||(()=>{}),FT=0;function jp(e){const[t,n]=h.useState($T());return Zu(()=>{n(s=>s??String(FT++))},[e]),e||(t?`radix-${t}`:"")}var IT=Ll[" useInsertionEffect ".trim().toString()]||Zu;function BT({prop:e,defaultProp:t,onChange:n=()=>{},caller:s}){const[l,o,d]=zT({defaultProp:t,onChange:n}),f=e!==void 0,m=f?e:l;{const g=h.useRef(e!==void 0);h.useEffect(()=>{const b=g.current;b!==f&&console.warn(`${s} is changing from ${b?"controlled":"uncontrolled"} to ${f?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),g.current=f},[f,s])}const p=h.useCallback(g=>{if(f){const b=qT(g)?g(e):g;b!==e&&d.current?.(b)}else o(g)},[f,e,o,d]);return[m,p]}function zT({defaultProp:e,onChange:t}){const[n,s]=h.useState(e),l=h.useRef(n),o=h.useRef(t);return IT(()=>{o.current=t},[t]),h.useEffect(()=>{l.current!==n&&(o.current?.(n),l.current=n)},[n,l]),[n,s,o]}function qT(e){return typeof e=="function"}function HT(e,t){return h.useReducer((n,s)=>t[n][s]??n,e)}var Lf=e=>{const{present:t,children:n}=e,s=VT(t),l=typeof n=="function"?n({present:s.isPresent}):h.Children.only(n),o=Tr(s.ref,GT(l));return typeof n=="function"||s.isPresent?h.cloneElement(l,{ref:o}):null};Lf.displayName="Presence";function VT(e){const[t,n]=h.useState(),s=h.useRef({}),l=h.useRef(e),o=h.useRef("none"),d=e?"mounted":"unmounted",[f,m]=HT(d,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return h.useEffect(()=>{const p=su(s.current);o.current=f==="mounted"?p:"none"},[f]),Zu(()=>{const p=s.current,g=l.current;if(g!==e){const y=o.current,w=su(p);e?m("MOUNT"):w==="none"||p?.display==="none"?m("UNMOUNT"):m(g&&y!==w?"ANIMATION_OUT":"UNMOUNT"),l.current=e}},[e,m]),Zu(()=>{if(t){let p;const g=t.ownerDocument.defaultView??window,b=w=>{const S=su(s.current).includes(w.animationName);if(w.target===t&&S&&(m("ANIMATION_END"),!l.current)){const _=t.style.animationFillMode;t.style.animationFillMode="forwards",p=g.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=_)})}},y=w=>{w.target===t&&(o.current=su(s.current))};return t.addEventListener("animationstart",y),t.addEventListener("animationcancel",b),t.addEventListener("animationend",b),()=>{g.clearTimeout(p),t.removeEventListener("animationstart",y),t.removeEventListener("animationcancel",b),t.removeEventListener("animationend",b)}}else m("ANIMATION_END")},[t,m]),{isPresent:["mounted","unmountSuspended"].includes(f),ref:h.useCallback(p=>{p&&(s.current=getComputedStyle(p)),n(p)},[])}}function su(e){return e?.animationName||"none"}function GT(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var Uf="Dialog",[jS,RF]=Qj(Uf),[YT,$a]=jS(Uf),SS=e=>{const{__scopeDialog:t,children:n,open:s,defaultOpen:l,onOpenChange:o,modal:d=!0}=e,f=h.useRef(null),m=h.useRef(null),[p,g]=BT({prop:s,defaultProp:l??!1,onChange:o,caller:Uf});return a.jsx(YT,{scope:t,triggerRef:f,contentRef:m,contentId:jp(),titleId:jp(),descriptionId:jp(),open:p,onOpenChange:g,onOpenToggle:h.useCallback(()=>g(b=>!b),[g]),modal:d,children:n})};SS.displayName=Uf;var NS="DialogTrigger",KT=h.forwardRef((e,t)=>{const{__scopeDialog:n,...s}=e,l=$a(NS,n),o=Tr(t,l.triggerRef);return a.jsx(Na.button,{type:"button","aria-haspopup":"dialog","aria-expanded":l.open,"aria-controls":l.contentId,"data-state":gx(l.open),...s,ref:o,onClick:vs(e.onClick,l.onOpenToggle)})});KT.displayName=NS;var mx="DialogPortal",[WT,_S]=jS(mx,{forceMount:void 0}),CS=e=>{const{__scopeDialog:t,forceMount:n,children:s,container:l}=e,o=$a(mx,t);return a.jsx(WT,{scope:t,forceMount:n,children:h.Children.map(s,d=>a.jsx(Lf,{present:n||o.open,children:a.jsx(Nf,{asChild:!0,container:l,children:d})}))})};CS.displayName=mx;var Xu="DialogOverlay",ES=h.forwardRef((e,t)=>{const n=_S(Xu,e.__scopeDialog),{forceMount:s=n.forceMount,...l}=e,o=$a(Xu,e.__scopeDialog);return o.modal?a.jsx(Lf,{present:s||o.open,children:a.jsx(ZT,{...l,ref:t})}):null});ES.displayName=Xu;var JT=$j("DialogOverlay.RemoveScroll"),ZT=h.forwardRef((e,t)=>{const{__scopeDialog:n,...s}=e,l=$a(Xu,n);return a.jsx(Wg,{as:JT,allowPinchZoom:!0,shards:[l.contentRef],children:a.jsx(Na.div,{"data-state":gx(l.open),...s,ref:t,style:{pointerEvents:"auto",...s.style}})})}),fi="DialogContent",RS=h.forwardRef((e,t)=>{const n=_S(fi,e.__scopeDialog),{forceMount:s=n.forceMount,...l}=e,o=$a(fi,e.__scopeDialog);return a.jsx(Lf,{present:s||o.open,children:o.modal?a.jsx(XT,{...l,ref:t}):a.jsx(QT,{...l,ref:t})})});RS.displayName=fi;var XT=h.forwardRef((e,t)=>{const n=$a(fi,e.__scopeDialog),s=h.useRef(null),l=Tr(t,n.contentRef,s);return h.useEffect(()=>{const o=s.current;if(o)return Kg(o)},[]),a.jsx(AS,{...e,ref:l,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:vs(e.onCloseAutoFocus,o=>{o.preventDefault(),n.triggerRef.current?.focus()}),onPointerDownOutside:vs(e.onPointerDownOutside,o=>{const d=o.detail.originalEvent,f=d.button===0&&d.ctrlKey===!0;(d.button===2||f)&&o.preventDefault()}),onFocusOutside:vs(e.onFocusOutside,o=>o.preventDefault())})}),QT=h.forwardRef((e,t)=>{const n=$a(fi,e.__scopeDialog),s=h.useRef(!1),l=h.useRef(!1);return a.jsx(AS,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:o=>{e.onCloseAutoFocus?.(o),o.defaultPrevented||(s.current||n.triggerRef.current?.focus(),o.preventDefault()),s.current=!1,l.current=!1},onInteractOutside:o=>{e.onInteractOutside?.(o),o.defaultPrevented||(s.current=!0,o.detail.originalEvent.type==="pointerdown"&&(l.current=!0));const d=o.target;n.triggerRef.current?.contains(d)&&o.preventDefault(),o.detail.originalEvent.type==="focusin"&&l.current&&o.preventDefault()}})}),AS=h.forwardRef((e,t)=>{const{__scopeDialog:n,trapFocus:s,onOpenAutoFocus:l,onCloseAutoFocus:o,...d}=e,f=$a(fi,n),m=h.useRef(null),p=Tr(t,m);return Ug(),a.jsxs(a.Fragment,{children:[a.jsx(vf,{asChild:!0,loop:!0,trapped:s,onMountAutoFocus:l,onUnmountAutoFocus:o,children:a.jsx(bf,{role:"dialog",id:f.contentId,"aria-describedby":f.descriptionId,"aria-labelledby":f.titleId,"data-state":gx(f.open),...d,ref:p,onDismiss:()=>f.onOpenChange(!1)})}),a.jsxs(a.Fragment,{children:[a.jsx(nD,{titleId:f.titleId}),a.jsx(rD,{contentRef:m,descriptionId:f.descriptionId})]})]})}),px="DialogTitle",PS=h.forwardRef((e,t)=>{const{__scopeDialog:n,...s}=e,l=$a(px,n);return a.jsx(Na.h2,{id:l.titleId,...s,ref:t})});PS.displayName=px;var kS="DialogDescription",eD=h.forwardRef((e,t)=>{const{__scopeDialog:n,...s}=e,l=$a(kS,n);return a.jsx(Na.p,{id:l.descriptionId,...s,ref:t})});eD.displayName=kS;var TS="DialogClose",tD=h.forwardRef((e,t)=>{const{__scopeDialog:n,...s}=e,l=$a(TS,n);return a.jsx(Na.button,{type:"button",...s,ref:t,onClick:vs(e.onClick,()=>l.onOpenChange(!1))})});tD.displayName=TS;function gx(e){return e?"open":"closed"}var DS="DialogTitleWarning",[AF,MS]=w5(DS,{contentName:fi,titleName:px,docsSlug:"dialog"}),nD=({titleId:e})=>{const t=MS(DS),n=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return h.useEffect(()=>{e&&(document.getElementById(e)||console.error(n))},[n,e]),null},aD="DialogDescriptionWarning",rD=({contentRef:e,descriptionId:t})=>{const s=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${MS(aD).contentName}}.`;return h.useEffect(()=>{const l=e.current?.getAttribute("aria-describedby");t&&l&&(document.getElementById(t)||console.warn(s))},[s,e,t]),null},sD=SS,iD=CS,lD=ES,oD=RS,cD=PS;function bw(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function dD(...e){return t=>{let n=!1;const s=e.map(l=>{const o=bw(l,t);return!n&&typeof o=="function"&&(n=!0),o});if(n)return()=>{for(let l=0;l<s.length;l++){const o=s[l];typeof o=="function"?o():bw(e[l],null)}}}}var OS=h.forwardRef((e,t)=>{const{children:n,...s}=e,l=h.Children.toArray(n),o=l.find(fD);if(o){const d=o.props.children,f=l.map(m=>m===o?h.Children.count(d)>1?h.Children.only(null):h.isValidElement(d)?d.props.children:null:m);return a.jsx(rg,{...s,ref:t,children:h.isValidElement(d)?h.cloneElement(d,void 0,f):null})}return a.jsx(rg,{...s,ref:t,children:n})});OS.displayName="Slot";var rg=h.forwardRef((e,t)=>{const{children:n,...s}=e;if(h.isValidElement(n)){const l=mD(n);return h.cloneElement(n,{...hD(s,n.props),ref:t?dD(t,l):l})}return h.Children.count(n)>1?h.Children.only(null):null});rg.displayName="SlotClone";var uD=({children:e})=>a.jsx(a.Fragment,{children:e});function fD(e){return h.isValidElement(e)&&e.type===uD}function hD(e,t){const n={...t};for(const s in t){const l=e[s],o=t[s];/^on[A-Z]/.test(s)?l&&o?n[s]=(...f)=>{o(...f),l(...f)}:l&&(n[s]=l):s==="style"?n[s]={...l,...o}:s==="className"&&(n[s]=[l,o].filter(Boolean).join(" "))}return{...e,...n}}function mD(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var pD=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],gD=pD.reduce((e,t)=>{const n=h.forwardRef((s,l)=>{const{asChild:o,...d}=s,f=o?OS:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),a.jsx(f,{...d,ref:l})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{}),xD="VisuallyHidden",LS=h.forwardRef((e,t)=>a.jsx(gD.span,{...e,ref:t,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...e.style}}));LS.displayName=xD;var bD=LS,vD=`/* HACK: NextJS does not always load stylesheets in a stable order; this ensures that no matter
   which order these styles are loaded, this component has the lowest precedence. Thus this ensures adding a
   Tailwind class will always override this style. */
@layer {
  .dialog-module_root__KADY5 {
    position: fixed;
    top: 0;
    left: 0;
    bottom: 0;
    right: 0;
  }
}
`,yD={root:"dialog-module_root__KADY5"};dx(vD,{insertAt:"top"});var wD=Me.forwardRef(function(t,n){var s=t.className,l=t.defaultOpen,o=t.open,d=t.onOpenChange,f=t.modal,m=t.title,p=m===void 0?"":m,g=$l(t,["className","defaultOpen","open","onOpenChange","modal","title"]);return Me.createElement(sD,{defaultOpen:l,open:o,onOpenChange:d,modal:f},Me.createElement(iD,null,Me.createElement(lD,Ce({ref:n,asChild:!0,className:kf(s,yD.root)},g))),Me.createElement(bD,{asChild:!0},Me.createElement(cD,null,p)))}),jD=Me.forwardRef(function(t,n){var s=t["aria-describedby"],l=s===void 0?void 0:s,o=t.onOpenAutoFocus,d=t.initialFocusRef,f=$l(t,["aria-describedby","onOpenAutoFocus","initialFocusRef"]),m=h.useCallback(function(p){var g;d&&(p.preventDefault(),(g=d.current)===null||g===void 0||g.focus()),o?.(p)},[d,o]);return Me.createElement(oD,Ce({"aria-describedby":l,ref:n,asChild:!0,onOpenAutoFocus:m},f))});const xx="-";function SD(e){const t=_D(e),{conflictingClassGroups:n,conflictingClassGroupModifiers:s}=e;function l(d){const f=d.split(xx);return f[0]===""&&f.length!==1&&f.shift(),US(f,t)||ND(d)}function o(d,f){const m=n[d]||[];return f&&s[d]?[...m,...s[d]]:m}return{getClassGroupId:l,getConflictingClassGroupIds:o}}function US(e,t){if(e.length===0)return t.classGroupId;const n=e[0],s=t.nextPart.get(n),l=s?US(e.slice(1),s):void 0;if(l)return l;if(t.validators.length===0)return;const o=e.join(xx);return t.validators.find(({validator:d})=>d(o))?.classGroupId}const vw=/^\[(.+)\]$/;function ND(e){if(vw.test(e)){const t=vw.exec(e)[1],n=t?.substring(0,t.indexOf(":"));if(n)return"arbitrary.."+n}}function _D(e){const{theme:t,prefix:n}=e,s={nextPart:new Map,validators:[]};return ED(Object.entries(e.classGroups),n).forEach(([o,d])=>{sg(d,s,o,t)}),s}function sg(e,t,n,s){e.forEach(l=>{if(typeof l=="string"){const o=l===""?t:yw(t,l);o.classGroupId=n;return}if(typeof l=="function"){if(CD(l)){sg(l(s),t,n,s);return}t.validators.push({validator:l,classGroupId:n});return}Object.entries(l).forEach(([o,d])=>{sg(d,yw(t,o),n,s)})})}function yw(e,t){let n=e;return t.split(xx).forEach(s=>{n.nextPart.has(s)||n.nextPart.set(s,{nextPart:new Map,validators:[]}),n=n.nextPart.get(s)}),n}function CD(e){return e.isThemeGetter}function ED(e,t){return t?e.map(([n,s])=>{const l=s.map(o=>typeof o=="string"?t+o:typeof o=="object"?Object.fromEntries(Object.entries(o).map(([d,f])=>[t+d,f])):o);return[n,l]}):e}function RD(e){if(e<1)return{get:()=>{},set:()=>{}};let t=0,n=new Map,s=new Map;function l(o,d){n.set(o,d),t++,t>e&&(t=0,s=n,n=new Map)}return{get(o){let d=n.get(o);if(d!==void 0)return d;if((d=s.get(o))!==void 0)return l(o,d),d},set(o,d){n.has(o)?n.set(o,d):l(o,d)}}}const $S="!";function AD(e){const t=e.separator,n=t.length===1,s=t[0],l=t.length;return function(d){const f=[];let m=0,p=0,g;for(let S=0;S<d.length;S++){let _=d[S];if(m===0){if(_===s&&(n||d.slice(S,S+l)===t)){f.push(d.slice(p,S)),p=S+l;continue}if(_==="/"){g=S;continue}}_==="["?m++:_==="]"&&m--}const b=f.length===0?d:d.substring(p),y=b.startsWith($S),w=y?b.substring(1):b,j=g&&g>p?g-p:void 0;return{modifiers:f,hasImportantModifier:y,baseClassName:w,maybePostfixModifierPosition:j}}}function PD(e){if(e.length<=1)return e;const t=[];let n=[];return e.forEach(s=>{s[0]==="["?(t.push(...n.sort(),s),n=[]):n.push(s)}),t.push(...n.sort()),t}function kD(e){return{cache:RD(e.cacheSize),splitModifiers:AD(e),...SD(e)}}const TD=/\s+/;function DD(e,t){const{splitModifiers:n,getClassGroupId:s,getConflictingClassGroupIds:l}=t,o=new Set;return e.trim().split(TD).map(d=>{const{modifiers:f,hasImportantModifier:m,baseClassName:p,maybePostfixModifierPosition:g}=n(d);let b=s(g?p.substring(0,g):p),y=!!g;if(!b){if(!g)return{isTailwindClass:!1,originalClassName:d};if(b=s(p),!b)return{isTailwindClass:!1,originalClassName:d};y=!1}const w=PD(f).join(":");return{isTailwindClass:!0,modifierId:m?w+$S:w,classGroupId:b,originalClassName:d,hasPostfixModifier:y}}).reverse().filter(d=>{if(!d.isTailwindClass)return!0;const{modifierId:f,classGroupId:m,hasPostfixModifier:p}=d,g=f+m;return o.has(g)?!1:(o.add(g),l(m,p).forEach(b=>o.add(f+b)),!0)}).reverse().map(d=>d.originalClassName).join(" ")}function MD(){let e=0,t,n,s="";for(;e<arguments.length;)(t=arguments[e++])&&(n=FS(t))&&(s&&(s+=" "),s+=n);return s}function FS(e){if(typeof e=="string")return e;let t,n="";for(let s=0;s<e.length;s++)e[s]&&(t=FS(e[s]))&&(n&&(n+=" "),n+=t);return n}function OD(e,...t){let n,s,l,o=d;function d(m){const p=t.reduce((g,b)=>b(g),e());return n=kD(p),s=n.cache.get,l=n.cache.set,o=f,f(m)}function f(m){const p=s(m);if(p)return p;const g=DD(m,n);return l(m,g),g}return function(){return o(MD.apply(null,arguments))}}function Vt(e){const t=n=>n[e]||[];return t.isThemeGetter=!0,t}const IS=/^\[(?:([a-z-]+):)?(.+)\]$/i,LD=/^\d+\/\d+$/,UD=new Set(["px","full","screen"]),$D=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,FD=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,ID=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,BD=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,zD=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/;function vr(e){return ni(e)||UD.has(e)||LD.test(e)}function os(e){return Bl(e,"length",JD)}function ni(e){return!!e&&!Number.isNaN(Number(e))}function iu(e){return Bl(e,"number",ni)}function Ko(e){return!!e&&Number.isInteger(Number(e))}function qD(e){return e.endsWith("%")&&ni(e.slice(0,-1))}function at(e){return IS.test(e)}function cs(e){return $D.test(e)}const HD=new Set(["length","size","percentage"]);function VD(e){return Bl(e,HD,BS)}function GD(e){return Bl(e,"position",BS)}const YD=new Set(["image","url"]);function KD(e){return Bl(e,YD,XD)}function WD(e){return Bl(e,"",ZD)}function Wo(){return!0}function Bl(e,t,n){const s=IS.exec(e);return s?s[1]?typeof t=="string"?s[1]===t:t.has(s[1]):n(s[2]):!1}function JD(e){return FD.test(e)&&!ID.test(e)}function BS(){return!1}function ZD(e){return BD.test(e)}function XD(e){return zD.test(e)}function QD(){const e=Vt("colors"),t=Vt("spacing"),n=Vt("blur"),s=Vt("brightness"),l=Vt("borderColor"),o=Vt("borderRadius"),d=Vt("borderSpacing"),f=Vt("borderWidth"),m=Vt("contrast"),p=Vt("grayscale"),g=Vt("hueRotate"),b=Vt("invert"),y=Vt("gap"),w=Vt("gradientColorStops"),j=Vt("gradientColorStopPositions"),S=Vt("inset"),_=Vt("margin"),R=Vt("opacity"),k=Vt("padding"),N=Vt("saturate"),A=Vt("scale"),P=Vt("sepia"),E=Vt("skew"),T=Vt("space"),I=Vt("translate"),U=()=>["auto","contain","none"],Z=()=>["auto","hidden","clip","visible","scroll"],se=()=>["auto",at,t],F=()=>[at,t],L=()=>["",vr,os],$=()=>["auto",ni,at],W=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],O=()=>["solid","dashed","dotted","double","none"],q=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],B=()=>["start","end","center","between","around","evenly","stretch"],Y=()=>["","0",at],D=()=>["auto","avoid","all","avoid-page","page","left","right","column"],V=()=>[ni,iu],J=()=>[ni,at];return{cacheSize:500,separator:":",theme:{colors:[Wo],spacing:[vr,os],blur:["none","",cs,at],brightness:V(),borderColor:[e],borderRadius:["none","","full",cs,at],borderSpacing:F(),borderWidth:L(),contrast:V(),grayscale:Y(),hueRotate:J(),invert:Y(),gap:F(),gradientColorStops:[e],gradientColorStopPositions:[qD,os],inset:se(),margin:se(),opacity:V(),padding:F(),saturate:V(),scale:V(),sepia:Y(),skew:J(),space:F(),translate:F()},classGroups:{aspect:[{aspect:["auto","square","video",at]}],container:["container"],columns:[{columns:[cs]}],"break-after":[{"break-after":D()}],"break-before":[{"break-before":D()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...W(),at]}],overflow:[{overflow:Z()}],"overflow-x":[{"overflow-x":Z()}],"overflow-y":[{"overflow-y":Z()}],overscroll:[{overscroll:U()}],"overscroll-x":[{"overscroll-x":U()}],"overscroll-y":[{"overscroll-y":U()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[S]}],"inset-x":[{"inset-x":[S]}],"inset-y":[{"inset-y":[S]}],start:[{start:[S]}],end:[{end:[S]}],top:[{top:[S]}],right:[{right:[S]}],bottom:[{bottom:[S]}],left:[{left:[S]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Ko,at]}],basis:[{basis:se()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",at]}],grow:[{grow:Y()}],shrink:[{shrink:Y()}],order:[{order:["first","last","none",Ko,at]}],"grid-cols":[{"grid-cols":[Wo]}],"col-start-end":[{col:["auto",{span:["full",Ko,at]},at]}],"col-start":[{"col-start":$()}],"col-end":[{"col-end":$()}],"grid-rows":[{"grid-rows":[Wo]}],"row-start-end":[{row:["auto",{span:[Ko,at]},at]}],"row-start":[{"row-start":$()}],"row-end":[{"row-end":$()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",at]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",at]}],gap:[{gap:[y]}],"gap-x":[{"gap-x":[y]}],"gap-y":[{"gap-y":[y]}],"justify-content":[{justify:["normal",...B()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...B(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...B(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[k]}],px:[{px:[k]}],py:[{py:[k]}],ps:[{ps:[k]}],pe:[{pe:[k]}],pt:[{pt:[k]}],pr:[{pr:[k]}],pb:[{pb:[k]}],pl:[{pl:[k]}],m:[{m:[_]}],mx:[{mx:[_]}],my:[{my:[_]}],ms:[{ms:[_]}],me:[{me:[_]}],mt:[{mt:[_]}],mr:[{mr:[_]}],mb:[{mb:[_]}],ml:[{ml:[_]}],"space-x":[{"space-x":[T]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[T]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",at,t]}],"min-w":[{"min-w":[at,t,"min","max","fit"]}],"max-w":[{"max-w":[at,t,"none","full","min","max","fit","prose",{screen:[cs]},cs]}],h:[{h:[at,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[at,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[at,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[at,t,"auto","min","max","fit"]}],"font-size":[{text:["base",cs,os]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",iu]}],"font-family":[{font:[Wo]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",at]}],"line-clamp":[{"line-clamp":["none",ni,iu]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",vr,at]}],"list-image":[{"list-image":["none",at]}],"list-style-type":[{list:["none","disc","decimal",at]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[R]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[R]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...O(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",vr,os]}],"underline-offset":[{"underline-offset":["auto",vr,at]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:F()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",at]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",at]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[R]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...W(),GD]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",VD]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},KD]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[j]}],"gradient-via-pos":[{via:[j]}],"gradient-to-pos":[{to:[j]}],"gradient-from":[{from:[w]}],"gradient-via":[{via:[w]}],"gradient-to":[{to:[w]}],rounded:[{rounded:[o]}],"rounded-s":[{"rounded-s":[o]}],"rounded-e":[{"rounded-e":[o]}],"rounded-t":[{"rounded-t":[o]}],"rounded-r":[{"rounded-r":[o]}],"rounded-b":[{"rounded-b":[o]}],"rounded-l":[{"rounded-l":[o]}],"rounded-ss":[{"rounded-ss":[o]}],"rounded-se":[{"rounded-se":[o]}],"rounded-ee":[{"rounded-ee":[o]}],"rounded-es":[{"rounded-es":[o]}],"rounded-tl":[{"rounded-tl":[o]}],"rounded-tr":[{"rounded-tr":[o]}],"rounded-br":[{"rounded-br":[o]}],"rounded-bl":[{"rounded-bl":[o]}],"border-w":[{border:[f]}],"border-w-x":[{"border-x":[f]}],"border-w-y":[{"border-y":[f]}],"border-w-s":[{"border-s":[f]}],"border-w-e":[{"border-e":[f]}],"border-w-t":[{"border-t":[f]}],"border-w-r":[{"border-r":[f]}],"border-w-b":[{"border-b":[f]}],"border-w-l":[{"border-l":[f]}],"border-opacity":[{"border-opacity":[R]}],"border-style":[{border:[...O(),"hidden"]}],"divide-x":[{"divide-x":[f]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[f]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[R]}],"divide-style":[{divide:O()}],"border-color":[{border:[l]}],"border-color-x":[{"border-x":[l]}],"border-color-y":[{"border-y":[l]}],"border-color-t":[{"border-t":[l]}],"border-color-r":[{"border-r":[l]}],"border-color-b":[{"border-b":[l]}],"border-color-l":[{"border-l":[l]}],"divide-color":[{divide:[l]}],"outline-style":[{outline:["",...O()]}],"outline-offset":[{"outline-offset":[vr,at]}],"outline-w":[{outline:[vr,os]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:L()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[R]}],"ring-offset-w":[{"ring-offset":[vr,os]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",cs,WD]}],"shadow-color":[{shadow:[Wo]}],opacity:[{opacity:[R]}],"mix-blend":[{"mix-blend":[...q(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":q()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[s]}],contrast:[{contrast:[m]}],"drop-shadow":[{"drop-shadow":["","none",cs,at]}],grayscale:[{grayscale:[p]}],"hue-rotate":[{"hue-rotate":[g]}],invert:[{invert:[b]}],saturate:[{saturate:[N]}],sepia:[{sepia:[P]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[s]}],"backdrop-contrast":[{"backdrop-contrast":[m]}],"backdrop-grayscale":[{"backdrop-grayscale":[p]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[g]}],"backdrop-invert":[{"backdrop-invert":[b]}],"backdrop-opacity":[{"backdrop-opacity":[R]}],"backdrop-saturate":[{"backdrop-saturate":[N]}],"backdrop-sepia":[{"backdrop-sepia":[P]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[d]}],"border-spacing-x":[{"border-spacing-x":[d]}],"border-spacing-y":[{"border-spacing-y":[d]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",at]}],duration:[{duration:J()}],ease:[{ease:["linear","in","out","in-out",at]}],delay:[{delay:J()}],animate:[{animate:["none","spin","ping","pulse","bounce",at]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[A]}],"scale-x":[{"scale-x":[A]}],"scale-y":[{"scale-y":[A]}],rotate:[{rotate:[Ko,at]}],"translate-x":[{"translate-x":[I]}],"translate-y":[{"translate-y":[I]}],"skew-x":[{"skew-x":[E]}],"skew-y":[{"skew-y":[E]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",at]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",at]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":F()}],"scroll-mx":[{"scroll-mx":F()}],"scroll-my":[{"scroll-my":F()}],"scroll-ms":[{"scroll-ms":F()}],"scroll-me":[{"scroll-me":F()}],"scroll-mt":[{"scroll-mt":F()}],"scroll-mr":[{"scroll-mr":F()}],"scroll-mb":[{"scroll-mb":F()}],"scroll-ml":[{"scroll-ml":F()}],"scroll-p":[{"scroll-p":F()}],"scroll-px":[{"scroll-px":F()}],"scroll-py":[{"scroll-py":F()}],"scroll-ps":[{"scroll-ps":F()}],"scroll-pe":[{"scroll-pe":F()}],"scroll-pt":[{"scroll-pt":F()}],"scroll-pr":[{"scroll-pr":F()}],"scroll-pb":[{"scroll-pb":F()}],"scroll-pl":[{"scroll-pl":F()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",at]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[vr,os,iu]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}}function zS(e){var t=OD(function(){var n=QD();return Ce(Ce({},n),{classGroups:Ce(Ce({},n.classGroups),{"subframe-font-mixins":e}),conflictingClassGroups:{"subframe-font-mixins":["font-size","leading","font-weight"],"font-size":["subframe-font-mixins"],leading:["subframe-font-mixins"],"font-weight":["subframe-font-mixins"]}})});return function(){for(var n=[],s=0;s<arguments.length;s++)n[s]=arguments[s];return t(kf.apply(void 0,n))}}zS(["text-label","text-label-bold","text-body","text-body-bold","text-subheader","text-section-header","text-header","text-monospace-body","text-caption","text-caption-bold","text-heading-3","text-heading-2","text-heading-1"]);const Ue=zS(["text-caption","text-caption-bold","text-body","text-body-bold","text-heading-3","text-heading-2","text-heading-1","text-monospace-body","cursor-none"]),e8=Me.forwardRef(function({variant:t="brand-primary",size:n="medium",children:s,icon:l=null,iconRight:o=null,loading:d=!1,className:f,type:m="button",...p},g){return a.jsxs("button",{className:Ue("group/btn w-full flex h-8 cursor-pointer items-center justify-center gap-2 rounded-md border-none bg-brand-600 px-3 hover:bg-brand-500 active:bg-brand-600 disabled:cursor-default disabled:bg-neutral-200 hover:disabled:cursor-default hover:disabled:bg-neutral-200 active:disabled:cursor-default active:disabled:bg-neutral-200",{"h-6 w-auto flex-row flex-nowrap gap-1 px-2 py-0":n==="small","h-10 w-auto px-4 py-0":n==="large","bg-transparent hover:bg-[#ffffff29] active:bg-[#ffffff3d]":t==="inverse","bg-transparent hover:bg-error-50 active:bg-error-100":t==="destructive-tertiary","bg-error-50 hover:bg-error-100 active:bg-error-50":t==="destructive-secondary","bg-error-600 hover:bg-error-500 active:bg-error-600":t==="destructive-primary","bg-transparent hover:bg-neutral-100 active:bg-neutral-200":t==="neutral-tertiary","border border-solid border-neutral-border bg-default-background hover:bg-neutral-50 active:bg-default-background":t==="neutral-secondary","bg-neutral-100 hover:bg-neutral-200 active:bg-neutral-100":t==="neutral-primary","bg-transparent hover:bg-brand-50 active:bg-brand-100":t==="brand-tertiary","bg-brand-50 hover:bg-brand-100 active:bg-brand-50":t==="brand-secondary","bg-success-600 hover:bg-success-500 active:bg-success-600":t==="success-primary","bg-success-50 hover:bg-success-100 active:bg-success-50":t==="success-secondary","bg-transparent hover:bg-success-50 active:bg-success-100":t==="success-tertiary"},f),ref:g,type:m,...p,children:[l?a.jsx(Re,{className:Ue("text-body font-body text-white group-disabled/btn:text-neutral-400",{hidden:d,"text-body font-body":n==="small","text-heading-3 font-heading-3":n==="large","text-white":t==="inverse","text-error-700":t==="destructive-tertiary"||t==="destructive-secondary","text-neutral-700":t==="neutral-tertiary"||t==="neutral-secondary"||t==="neutral-primary","text-brand-700":t==="brand-tertiary"||t==="brand-secondary","text-success-700":t==="success-tertiary"||t==="success-secondary"}),children:l}):null,a.jsx("div",{className:Ue("hidden h-4 w-4 flex-none items-center justify-center gap-2",{flex:d,"h-3 w-3 flex-none":n==="small"}),children:a.jsx(Of,{className:Ue("text-caption font-caption text-white group-disabled/btn:text-neutral-400",{"inline-block font-['Inter'] text-[12px] font-[400] leading-[20px] tracking-normal":d,"text-caption font-caption":n==="small","text-error-700":t==="destructive-tertiary"||t==="destructive-secondary","text-neutral-700":t==="neutral-tertiary"||t==="neutral-secondary"||t==="neutral-primary","text-brand-700":t==="brand-tertiary"||t==="brand-secondary","text-success-700":t==="success-tertiary"||t==="success-secondary"})})}),s?a.jsx("span",{className:Ue("whitespace-nowrap text-body-bold font-body-bold text-white group-disabled/btn:text-neutral-400",{hidden:d,"text-caption-bold font-caption-bold":n==="small","text-body-bold font-body-bold":n==="large","text-white":t==="inverse","text-error-700":t==="destructive-tertiary"||t==="destructive-secondary","text-neutral-700":t==="neutral-tertiary"||t==="neutral-secondary"||t==="neutral-primary","text-brand-700":t==="brand-tertiary"||t==="brand-secondary","text-success-700":t==="success-tertiary"||t==="success-secondary"}),children:s}):null,o?a.jsx(Re,{className:Ue("text-body font-body text-white group-disabled/btn:text-neutral-400",{"text-body font-body":n==="small","text-heading-3 font-heading-3":n==="large","text-white":t==="inverse","text-error-700":t==="destructive-tertiary"||t==="destructive-secondary","text-neutral-700":t==="neutral-tertiary"||t==="neutral-secondary"||t==="neutral-primary","text-brand-700":t==="brand-tertiary"||t==="brand-secondary","text-success-700":t==="success-tertiary"||t==="success-secondary"}),children:o}):null]})}),de=e8,t8=Me.forwardRef(function({variant:t="brand",size:n="x-small",icon:s=a.jsx(Tn,{}),square:l=!1,className:o,...d},f){return a.jsx("div",{className:Ue("group/c5d68c0e flex h-5 w-5 items-center justify-center gap-2 rounded-full bg-brand-100",{"rounded-md":l,"h-6 w-6":n==="small","h-8 w-8":n==="medium","h-12 w-12":n==="large","h-16 w-16":n==="x-large","bg-warning-100":t==="warning","bg-success-100":t==="success","bg-error-100":t==="error","bg-neutral-100":t==="neutral"},o),ref:f,...d,children:s?a.jsx(Re,{className:Ue("font-['Inter'] text-[10px] font-[400] leading-[12px] text-brand-800",{"text-caption font-caption":n==="small","text-body font-body":n==="medium","text-heading-2 font-heading-2":n==="large","text-heading-1 font-heading-1":n==="x-large","text-warning-800":t==="warning","text-success-800":t==="success","text-error-800":t==="error","text-neutral-700":t==="neutral"}),children:s}):null})}),Sp=t8,n8=Me.forwardRef(function({variant:t="neutral",size:n="medium",icon:s=null,children:l,iconRight:o=null,className:d,type:f="button",...m},p){return a.jsxs("button",{className:Ue("group/a4ee726a flex cursor-pointer items-center gap-1 border-none bg-transparent",{"flex-row flex-nowrap gap-1":n==="large"},d),ref:p,type:f,...m,children:[s?a.jsx(Re,{className:Ue("text-body font-body text-neutral-700 group-hover/a4ee726a:text-brand-700 group-disabled/a4ee726a:text-neutral-400 group-hover/a4ee726a:group-disabled/a4ee726a:text-neutral-400",{"text-caption font-caption":n==="small","text-heading-3 font-heading-3":n==="large","text-white group-hover/a4ee726a:text-white":t==="inverse","text-brand-700 group-hover/a4ee726a:text-brand-700":t==="brand"}),children:s}):null,l?a.jsx("span",{className:Ue("text-body font-body text-neutral-700 group-hover/a4ee726a:text-brand-700 group-hover/a4ee726a:underline group-disabled/a4ee726a:text-neutral-400 group-hover/a4ee726a:group-disabled/a4ee726a:text-neutral-400 group-hover/a4ee726a:group-disabled/a4ee726a:no-underline",{"text-caption font-caption":n==="small","text-heading-3 font-heading-3":n==="large","text-white group-hover/a4ee726a:text-white":t==="inverse","text-brand-700 group-hover/a4ee726a:text-brand-700":t==="brand"}),children:l}):null,o?a.jsx(Re,{className:Ue("text-body font-body text-neutral-700 group-hover/a4ee726a:text-brand-700 group-disabled/a4ee726a:text-neutral-400 group-hover/a4ee726a:group-disabled/a4ee726a:text-neutral-400",{"text-caption font-caption":n==="small","text-heading-3 font-heading-3":n==="large","text-white group-hover/a4ee726a:text-white":t==="inverse","text-brand-700 group-hover/a4ee726a:text-brand-700":t==="brand"}),children:o}):null]})}),un=n8,a8=Me.forwardRef(function({variant:t="neutral-tertiary",size:n="medium",icon:s=a.jsx(ui,{}),loading:l=!1,className:o,type:d="button",...f},m){return a.jsxs("button",{className:Ue("group/af9405b1 flex h-8 w-8 cursor-pointer items-center justify-center gap-2 rounded-md border-none bg-transparent hover:bg-neutral-100 active:bg-neutral-50 disabled:cursor-default disabled:bg-neutral-100 hover:disabled:cursor-default hover:disabled:bg-neutral-100 active:disabled:cursor-default active:disabled:bg-neutral-100",{"h-6 w-6":n==="small","h-10 w-10":n==="large","hover:bg-[#ffffff29] active:bg-[#ffffff3d]":t==="inverse","hover:bg-error-50 active:bg-error-100":t==="destructive-tertiary","bg-error-50 hover:bg-error-100 active:bg-error-50":t==="destructive-secondary","bg-error-600 hover:bg-error-500 active:bg-error-600":t==="destructive-primary","border border-solid border-neutral-border bg-white hover:bg-neutral-100 active:bg-white":t==="neutral-secondary","bg-neutral-100 hover:bg-neutral-200 active:bg-neutral-100":t==="neutral-primary","hover:bg-brand-50 active:bg-brand-100":t==="brand-tertiary","bg-brand-50 hover:bg-brand-100 active:bg-brand-50":t==="brand-secondary","bg-brand-600 hover:bg-brand-500 active:bg-brand-600":t==="brand-primary"},o),ref:m,type:d,...f,children:[s?a.jsx(Re,{className:Ue("text-heading-3 font-heading-3 text-neutral-700 group-disabled/af9405b1:text-neutral-400",{hidden:l,"text-body font-body":n==="small","text-heading-3 font-heading-3":n==="large","text-white group-hover/af9405b1:text-white":t==="inverse","text-error-700 group-hover/af9405b1:text-error-700 group-active/af9405b1:text-error-700":t==="destructive-tertiary"||t==="destructive-secondary","text-white group-hover/af9405b1:text-white group-active/af9405b1:text-white":t==="destructive-primary"||t==="brand-primary","text-neutral-700":t==="neutral-secondary","text-neutral-700 group-hover/af9405b1:text-neutral-700 group-active/af9405b1:text-neutral-700":t==="neutral-primary","text-brand-700 group-hover/af9405b1:text-brand-700 group-active/af9405b1:text-brand-700":t==="brand-tertiary"||t==="brand-secondary"}),children:s}):null,a.jsx(Of,{className:Ue("hidden text-caption font-caption text-neutral-700 group-disabled/af9405b1:text-neutral-400",{"inline-block":l,"text-caption font-caption":n==="small","text-white":t==="inverse"||t==="destructive-primary"||t==="brand-primary","text-error-700":t==="destructive-tertiary"||t==="destructive-secondary","text-neutral-700":t==="neutral-primary","text-brand-700":t==="brand-tertiary"||t==="brand-secondary"})})]})}),Jt=a8;Me.forwardRef(function({className:t,...n},s){return a.jsx("div",{className:Ue("flex w-full flex-col items-center justify-center gap-6 border-t border-solid border-neutral-100 px-6 py-24",t),ref:s,...n,children:a.jsxs("div",{className:"flex w-full max-w-[1280px] flex-col items-center gap-12",children:[a.jsxs("div",{className:"flex w-full flex-wrap items-start gap-6",children:[a.jsxs("div",{className:"flex min-w-[144px] grow shrink-0 basis-0 flex-col items-start gap-6",children:[a.jsx("span",{className:"w-full font-['Montserrat'] text-[14px] font-[600] leading-[20px] text-default-font -tracking-[0.01em]",children:"Product"}),a.jsxs("div",{className:"flex flex-col items-start gap-4",children:[a.jsx(un,{children:"Accounts"}),a.jsx(un,{children:"Business"}),a.jsx(un,{children:"Platform"}),a.jsx(un,{children:"Send & receive"})]})]}),a.jsxs("div",{className:"flex min-w-[144px] grow shrink-0 basis-0 flex-col items-start gap-6",children:[a.jsx("span",{className:"w-full font-['Montserrat'] text-[14px] font-[600] leading-[20px] text-default-font -tracking-[0.01em]",children:"Company"}),a.jsxs("div",{className:"flex flex-col items-start gap-4",children:[a.jsx(un,{children:"Team"}),a.jsx(un,{children:"Press"}),a.jsx(un,{children:"Careers"})]})]}),a.jsxs("div",{className:"flex min-w-[144px] grow shrink-0 basis-0 flex-col items-start gap-6",children:[a.jsx("span",{className:"w-full font-['Montserrat'] text-[14px] font-[600] leading-[20px] text-default-font -tracking-[0.01em]",children:"Resources"}),a.jsxs("div",{className:"flex flex-col items-start gap-4",children:[a.jsx(un,{children:"News"}),a.jsx(un,{children:"Blog"}),a.jsx(un,{children:"Help Center"})]})]}),a.jsxs("div",{className:"flex min-w-[144px] grow shrink-0 basis-0 flex-col items-start gap-4 self-stretch",children:[a.jsx("span",{className:"w-full font-['Montserrat'] text-[14px] font-[600] leading-[20px] text-default-font -tracking-[0.01em]",children:"Follow us"}),a.jsxs("div",{className:"flex w-full items-center gap-2",children:[a.jsx(Jt,{icon:a.jsx(MT,{})}),a.jsx(Jt,{icon:a.jsx(bT,{})}),a.jsx(Jt,{icon:a.jsx(RT,{})})]})]})]}),a.jsx("div",{className:"flex h-px w-full flex-none flex-col items-center gap-2 bg-neutral-200"}),a.jsxs("div",{className:"flex w-full flex-wrap items-start gap-6",children:[a.jsx("div",{className:"flex min-w-[144px] grow shrink-0 basis-0 items-start gap-2",children:a.jsx("img",{className:"h-6 flex-none object-cover",src:"https://res.cloudinary.com/subframe/image/upload/v1711417507/shared/y2rsnhq3mex4auk54aye.png"})}),a.jsxs("div",{className:"flex min-w-[144px] grow shrink-0 basis-0 flex-col items-start gap-4",children:[a.jsx(un,{children:"Legal"}),a.jsx(un,{children:"Give Feedback"})]}),a.jsxs("div",{className:"flex min-w-[144px] grow shrink-0 basis-0 flex-col items-start gap-4",children:[a.jsx(un,{children:"Privacy Policy"}),a.jsx(un,{children:"Terms of Service"})]}),a.jsxs("div",{className:"flex min-w-[144px] grow shrink-0 basis-0 flex-col items-start gap-4",children:[a.jsx(un,{children:"Cookie Policy"}),a.jsx(un,{children:"Site Map"})]})]}),a.jsxs("div",{className:"flex w-full max-w-[768px] flex-col items-center gap-4",children:[a.jsx("span",{className:"font-['Montserrat'] text-[14px] font-[500] leading-[20px] text-subtext-color text-center",children:" Lumina 2025"}),a.jsx("span",{className:"font-['Montserrat'] text-[14px] font-[500] leading-[20px] text-subtext-color text-center",children:"Lumina Clear Aligners"})]})]})})});function r8(){return a.jsx("div",{children:"About Page"})}const s8=Me.forwardRef(function({placeholder:t,className:n,...s},l){return a.jsx("input",{className:Ue("h-full w-full border-none bg-transparent text-body font-body text-default-font outline-none placeholder:text-neutral-400",n),placeholder:t,ref:l,...s})}),i8=Me.forwardRef(function({disabled:t=!1,error:n=!1,variant:s="outline",label:l,helpText:o,icon:d=null,iconRight:f=null,children:m,className:p,...g},b){return a.jsxs("label",{className:Ue("group/be48ca43 flex flex-col items-start gap-1",p),ref:b,...g,children:[l?a.jsx("span",{className:"text-caption-bold font-caption-bold text-default-font",children:l}):null,a.jsxs("div",{className:Ue("flex h-8 w-full flex-none items-center gap-1 rounded-md border border-solid border-neutral-border bg-default-background px-2 group-focus-within/be48ca43:border group-focus-within/be48ca43:border-solid group-focus-within/be48ca43:border-brand-primary",{"border border-solid border-neutral-100 bg-neutral-100 group-hover/be48ca43:border group-hover/be48ca43:border-solid group-hover/be48ca43:border-neutral-border group-focus-within/be48ca43:bg-default-background":s==="filled","border border-solid border-error-600":n,"border border-solid border-neutral-200 bg-neutral-200":t}),children:[d?a.jsx(Re,{className:"text-body font-body text-subtext-color",children:d}):null,m?a.jsx("div",{className:"flex grow shrink-0 basis-0 flex-col items-start self-stretch px-1",children:m}):null,f?a.jsx(Re,{className:Ue("text-body font-body text-subtext-color",{"text-error-500":n}),children:f}):null]}),o?a.jsx("span",{className:Ue("text-caption font-caption text-subtext-color",{"text-error-700":n}),children:o}):null]})}),Ee=Object.assign(i8,{Input:s8}),l8="modulepreload",o8=function(e){return"/"+e},ww={},$c=function(t,n,s){let l=Promise.resolve();if(n&&n.length>0){let p=function(g){return Promise.all(g.map(b=>Promise.resolve(b).then(y=>({status:"fulfilled",value:y}),y=>({status:"rejected",reason:y}))))};var d=p;document.getElementsByTagName("link");const f=document.querySelector("meta[property=csp-nonce]"),m=f?.nonce||f?.getAttribute("nonce");l=p(n.map(g=>{if(g=o8(g),g in ww)return;ww[g]=!0;const b=g.endsWith(".css"),y=b?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${g}"]${y}`))return;const w=document.createElement("link");if(w.rel=b?"stylesheet":l8,b||(w.as="script"),w.crossOrigin="",w.href=g,m&&w.setAttribute("nonce",m),document.head.appendChild(w),b)return new Promise((j,S)=>{w.addEventListener("load",j),w.addEventListener("error",()=>S(new Error(`Unable to preload CSS for ${g}`)))})}))}function o(f){const m=new Event("vite:preloadError",{cancelable:!0});if(m.payload=f,window.dispatchEvent(m),!m.defaultPrevented)throw f}return l.then(f=>{for(const m of f||[])m.status==="rejected"&&o(m.reason);return t().catch(o)})},c8=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>$c(async()=>{const{default:s}=await Promise.resolve().then(()=>zl);return{default:s}},[]).then(({default:s})=>s(...n)):t=fetch,(...n)=>t(...n)};class bx extends Error{constructor(t,n="FunctionsError",s){super(t),this.name=n,this.context=s}}class d8 extends bx{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class jw extends bx{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class Sw extends bx{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var ig;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(ig||(ig={}));var u8=function(e,t,n,s){function l(o){return o instanceof n?o:new n(function(d){d(o)})}return new(n||(n=Promise))(function(o,d){function f(g){try{p(s.next(g))}catch(b){d(b)}}function m(g){try{p(s.throw(g))}catch(b){d(b)}}function p(g){g.done?o(g.value):l(g.value).then(f,m)}p((s=s.apply(e,t||[])).next())})};class f8{constructor(t,{headers:n={},customFetch:s,region:l=ig.Any}={}){this.url=t,this.headers=n,this.region=l,this.fetch=c8(s)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,n={}){var s;return u8(this,void 0,void 0,function*(){try{const{headers:l,method:o,body:d}=n;let f={},{region:m}=n;m||(m=this.region);const p=new URL(`${this.url}/${t}`);m&&m!=="any"&&(f["x-region"]=m,p.searchParams.set("forceFunctionRegion",m));let g;d&&(l&&!Object.prototype.hasOwnProperty.call(l,"Content-Type")||!l)&&(typeof Blob<"u"&&d instanceof Blob||d instanceof ArrayBuffer?(f["Content-Type"]="application/octet-stream",g=d):typeof d=="string"?(f["Content-Type"]="text/plain",g=d):typeof FormData<"u"&&d instanceof FormData?g=d:(f["Content-Type"]="application/json",g=JSON.stringify(d)));const b=yield this.fetch(p.toString(),{method:o||"POST",headers:Object.assign(Object.assign(Object.assign({},f),this.headers),l),body:g}).catch(S=>{throw new d8(S)}),y=b.headers.get("x-relay-error");if(y&&y==="true")throw new jw(b);if(!b.ok)throw new Sw(b);let w=((s=b.headers.get("Content-Type"))!==null&&s!==void 0?s:"text/plain").split(";")[0].trim(),j;return w==="application/json"?j=yield b.json():w==="application/octet-stream"?j=yield b.blob():w==="text/event-stream"?j=b:w==="multipart/form-data"?j=yield b.formData():j=yield b.text(),{data:j,error:null,response:b}}catch(l){return{data:null,error:l,response:l instanceof Sw||l instanceof jw?l.context:void 0}}})}}var bn={},rl={},sl={},il={},ll={},ol={},h8=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Rl=h8();const m8=Rl.fetch,qS=Rl.fetch.bind(Rl),HS=Rl.Headers,p8=Rl.Request,g8=Rl.Response,zl=Object.freeze(Object.defineProperty({__proto__:null,Headers:HS,Request:p8,Response:g8,default:qS,fetch:m8},Symbol.toStringTag,{value:"Module"})),x8=LE(zl);var lu={},Nw;function VS(){if(Nw)return lu;Nw=1,Object.defineProperty(lu,"__esModule",{value:!0});class e extends Error{constructor(n){super(n.message),this.name="PostgrestError",this.details=n.details,this.hint=n.hint,this.code=n.code}}return lu.default=e,lu}var _w;function GS(){if(_w)return ol;_w=1;var e=ol&&ol.__importDefault||function(l){return l&&l.__esModule?l:{default:l}};Object.defineProperty(ol,"__esModule",{value:!0});const t=e(x8),n=e(VS());class s{constructor(o){this.shouldThrowOnError=!1,this.method=o.method,this.url=o.url,this.headers=o.headers,this.schema=o.schema,this.body=o.body,this.shouldThrowOnError=o.shouldThrowOnError,this.signal=o.signal,this.isMaybeSingle=o.isMaybeSingle,o.fetch?this.fetch=o.fetch:typeof fetch>"u"?this.fetch=t.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(o,d){return this.headers=Object.assign({},this.headers),this.headers[o]=d,this}then(o,d){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const f=this.fetch;let m=f(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async p=>{var g,b,y;let w=null,j=null,S=null,_=p.status,R=p.statusText;if(p.ok){if(this.method!=="HEAD"){const P=await p.text();P===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?j=P:j=JSON.parse(P))}const N=(g=this.headers.Prefer)===null||g===void 0?void 0:g.match(/count=(exact|planned|estimated)/),A=(b=p.headers.get("content-range"))===null||b===void 0?void 0:b.split("/");N&&A&&A.length>1&&(S=parseInt(A[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(j)&&(j.length>1?(w={code:"PGRST116",details:`Results contain ${j.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},j=null,S=null,_=406,R="Not Acceptable"):j.length===1?j=j[0]:j=null)}else{const N=await p.text();try{w=JSON.parse(N),Array.isArray(w)&&p.status===404&&(j=[],w=null,_=200,R="OK")}catch{p.status===404&&N===""?(_=204,R="No Content"):w={message:N}}if(w&&this.isMaybeSingle&&(!((y=w?.details)===null||y===void 0)&&y.includes("0 rows"))&&(w=null,_=200,R="OK"),w&&this.shouldThrowOnError)throw new n.default(w)}return{error:w,data:j,count:S,status:_,statusText:R}});return this.shouldThrowOnError||(m=m.catch(p=>{var g,b,y;return{error:{message:`${(g=p?.name)!==null&&g!==void 0?g:"FetchError"}: ${p?.message}`,details:`${(b=p?.stack)!==null&&b!==void 0?b:""}`,hint:"",code:`${(y=p?.code)!==null&&y!==void 0?y:""}`},data:null,count:null,status:0,statusText:""}})),m.then(o,d)}returns(){return this}overrideTypes(){return this}}return ol.default=s,ol}var Cw;function YS(){if(Cw)return ll;Cw=1;var e=ll&&ll.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(ll,"__esModule",{value:!0});const t=e(GS());class n extends t.default{select(l){let o=!1;const d=(l??"*").split("").map(f=>/\s/.test(f)&&!o?"":(f==='"'&&(o=!o),f)).join("");return this.url.searchParams.set("select",d),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(l,{ascending:o=!0,nullsFirst:d,foreignTable:f,referencedTable:m=f}={}){const p=m?`${m}.order`:"order",g=this.url.searchParams.get(p);return this.url.searchParams.set(p,`${g?`${g},`:""}${l}.${o?"asc":"desc"}${d===void 0?"":d?".nullsfirst":".nullslast"}`),this}limit(l,{foreignTable:o,referencedTable:d=o}={}){const f=typeof d>"u"?"limit":`${d}.limit`;return this.url.searchParams.set(f,`${l}`),this}range(l,o,{foreignTable:d,referencedTable:f=d}={}){const m=typeof f>"u"?"offset":`${f}.offset`,p=typeof f>"u"?"limit":`${f}.limit`;return this.url.searchParams.set(m,`${l}`),this.url.searchParams.set(p,`${o-l+1}`),this}abortSignal(l){return this.signal=l,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:l=!1,verbose:o=!1,settings:d=!1,buffers:f=!1,wal:m=!1,format:p="text"}={}){var g;const b=[l?"analyze":null,o?"verbose":null,d?"settings":null,f?"buffers":null,m?"wal":null].filter(Boolean).join("|"),y=(g=this.headers.Accept)!==null&&g!==void 0?g:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${p}; for="${y}"; options=${b};`,p==="json"?this:this}rollback(){var l;return((l=this.headers.Prefer)!==null&&l!==void 0?l:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}}return ll.default=n,ll}var Ew;function vx(){if(Ew)return il;Ew=1;var e=il&&il.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(il,"__esModule",{value:!0});const t=e(YS());class n extends t.default{eq(l,o){return this.url.searchParams.append(l,`eq.${o}`),this}neq(l,o){return this.url.searchParams.append(l,`neq.${o}`),this}gt(l,o){return this.url.searchParams.append(l,`gt.${o}`),this}gte(l,o){return this.url.searchParams.append(l,`gte.${o}`),this}lt(l,o){return this.url.searchParams.append(l,`lt.${o}`),this}lte(l,o){return this.url.searchParams.append(l,`lte.${o}`),this}like(l,o){return this.url.searchParams.append(l,`like.${o}`),this}likeAllOf(l,o){return this.url.searchParams.append(l,`like(all).{${o.join(",")}}`),this}likeAnyOf(l,o){return this.url.searchParams.append(l,`like(any).{${o.join(",")}}`),this}ilike(l,o){return this.url.searchParams.append(l,`ilike.${o}`),this}ilikeAllOf(l,o){return this.url.searchParams.append(l,`ilike(all).{${o.join(",")}}`),this}ilikeAnyOf(l,o){return this.url.searchParams.append(l,`ilike(any).{${o.join(",")}}`),this}is(l,o){return this.url.searchParams.append(l,`is.${o}`),this}in(l,o){const d=Array.from(new Set(o)).map(f=>typeof f=="string"&&new RegExp("[,()]").test(f)?`"${f}"`:`${f}`).join(",");return this.url.searchParams.append(l,`in.(${d})`),this}contains(l,o){return typeof o=="string"?this.url.searchParams.append(l,`cs.${o}`):Array.isArray(o)?this.url.searchParams.append(l,`cs.{${o.join(",")}}`):this.url.searchParams.append(l,`cs.${JSON.stringify(o)}`),this}containedBy(l,o){return typeof o=="string"?this.url.searchParams.append(l,`cd.${o}`):Array.isArray(o)?this.url.searchParams.append(l,`cd.{${o.join(",")}}`):this.url.searchParams.append(l,`cd.${JSON.stringify(o)}`),this}rangeGt(l,o){return this.url.searchParams.append(l,`sr.${o}`),this}rangeGte(l,o){return this.url.searchParams.append(l,`nxl.${o}`),this}rangeLt(l,o){return this.url.searchParams.append(l,`sl.${o}`),this}rangeLte(l,o){return this.url.searchParams.append(l,`nxr.${o}`),this}rangeAdjacent(l,o){return this.url.searchParams.append(l,`adj.${o}`),this}overlaps(l,o){return typeof o=="string"?this.url.searchParams.append(l,`ov.${o}`):this.url.searchParams.append(l,`ov.{${o.join(",")}}`),this}textSearch(l,o,{config:d,type:f}={}){let m="";f==="plain"?m="pl":f==="phrase"?m="ph":f==="websearch"&&(m="w");const p=d===void 0?"":`(${d})`;return this.url.searchParams.append(l,`${m}fts${p}.${o}`),this}match(l){return Object.entries(l).forEach(([o,d])=>{this.url.searchParams.append(o,`eq.${d}`)}),this}not(l,o,d){return this.url.searchParams.append(l,`not.${o}.${d}`),this}or(l,{foreignTable:o,referencedTable:d=o}={}){const f=d?`${d}.or`:"or";return this.url.searchParams.append(f,`(${l})`),this}filter(l,o,d){return this.url.searchParams.append(l,`${o}.${d}`),this}}return il.default=n,il}var Rw;function KS(){if(Rw)return sl;Rw=1;var e=sl&&sl.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(sl,"__esModule",{value:!0});const t=e(vx());class n{constructor(l,{headers:o={},schema:d,fetch:f}){this.url=l,this.headers=o,this.schema=d,this.fetch=f}select(l,{head:o=!1,count:d}={}){const f=o?"HEAD":"GET";let m=!1;const p=(l??"*").split("").map(g=>/\s/.test(g)&&!m?"":(g==='"'&&(m=!m),g)).join("");return this.url.searchParams.set("select",p),d&&(this.headers.Prefer=`count=${d}`),new t.default({method:f,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(l,{count:o,defaultToNull:d=!0}={}){const f="POST",m=[];if(this.headers.Prefer&&m.push(this.headers.Prefer),o&&m.push(`count=${o}`),d||m.push("missing=default"),this.headers.Prefer=m.join(","),Array.isArray(l)){const p=l.reduce((g,b)=>g.concat(Object.keys(b)),[]);if(p.length>0){const g=[...new Set(p)].map(b=>`"${b}"`);this.url.searchParams.set("columns",g.join(","))}}return new t.default({method:f,url:this.url,headers:this.headers,schema:this.schema,body:l,fetch:this.fetch,allowEmpty:!1})}upsert(l,{onConflict:o,ignoreDuplicates:d=!1,count:f,defaultToNull:m=!0}={}){const p="POST",g=[`resolution=${d?"ignore":"merge"}-duplicates`];if(o!==void 0&&this.url.searchParams.set("on_conflict",o),this.headers.Prefer&&g.push(this.headers.Prefer),f&&g.push(`count=${f}`),m||g.push("missing=default"),this.headers.Prefer=g.join(","),Array.isArray(l)){const b=l.reduce((y,w)=>y.concat(Object.keys(w)),[]);if(b.length>0){const y=[...new Set(b)].map(w=>`"${w}"`);this.url.searchParams.set("columns",y.join(","))}}return new t.default({method:p,url:this.url,headers:this.headers,schema:this.schema,body:l,fetch:this.fetch,allowEmpty:!1})}update(l,{count:o}={}){const d="PATCH",f=[];return this.headers.Prefer&&f.push(this.headers.Prefer),o&&f.push(`count=${o}`),this.headers.Prefer=f.join(","),new t.default({method:d,url:this.url,headers:this.headers,schema:this.schema,body:l,fetch:this.fetch,allowEmpty:!1})}delete({count:l}={}){const o="DELETE",d=[];return l&&d.push(`count=${l}`),this.headers.Prefer&&d.unshift(this.headers.Prefer),this.headers.Prefer=d.join(","),new t.default({method:o,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}}return sl.default=n,sl}var Jo={},Zo={},Aw;function b8(){return Aw||(Aw=1,Object.defineProperty(Zo,"__esModule",{value:!0}),Zo.version=void 0,Zo.version="0.0.0-automated"),Zo}var Pw;function v8(){if(Pw)return Jo;Pw=1,Object.defineProperty(Jo,"__esModule",{value:!0}),Jo.DEFAULT_HEADERS=void 0;const e=b8();return Jo.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${e.version}`},Jo}var kw;function y8(){if(kw)return rl;kw=1;var e=rl&&rl.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(rl,"__esModule",{value:!0});const t=e(KS()),n=e(vx()),s=v8();class l{constructor(d,{headers:f={},schema:m,fetch:p}={}){this.url=d,this.headers=Object.assign(Object.assign({},s.DEFAULT_HEADERS),f),this.schemaName=m,this.fetch=p}from(d){const f=new URL(`${this.url}/${d}`);return new t.default(f,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(d){return new l(this.url,{headers:this.headers,schema:d,fetch:this.fetch})}rpc(d,f={},{head:m=!1,get:p=!1,count:g}={}){let b;const y=new URL(`${this.url}/rpc/${d}`);let w;m||p?(b=m?"HEAD":"GET",Object.entries(f).filter(([S,_])=>_!==void 0).map(([S,_])=>[S,Array.isArray(_)?`{${_.join(",")}}`:`${_}`]).forEach(([S,_])=>{y.searchParams.append(S,_)})):(b="POST",w=f);const j=Object.assign({},this.headers);return g&&(j.Prefer=`count=${g}`),new n.default({method:b,url:y,headers:j,schema:this.schemaName,body:w,fetch:this.fetch,allowEmpty:!1})}}return rl.default=l,rl}var Tw;function w8(){if(Tw)return bn;Tw=1;var e=bn&&bn.__importDefault||function(f){return f&&f.__esModule?f:{default:f}};Object.defineProperty(bn,"__esModule",{value:!0}),bn.PostgrestError=bn.PostgrestBuilder=bn.PostgrestTransformBuilder=bn.PostgrestFilterBuilder=bn.PostgrestQueryBuilder=bn.PostgrestClient=void 0;const t=e(y8());bn.PostgrestClient=t.default;const n=e(KS());bn.PostgrestQueryBuilder=n.default;const s=e(vx());bn.PostgrestFilterBuilder=s.default;const l=e(YS());bn.PostgrestTransformBuilder=l.default;const o=e(GS());bn.PostgrestBuilder=o.default;const d=e(VS());return bn.PostgrestError=d.default,bn.default={PostgrestClient:t.default,PostgrestQueryBuilder:n.default,PostgrestFilterBuilder:s.default,PostgrestTransformBuilder:l.default,PostgrestBuilder:o.default,PostgrestError:d.default},bn}var j8=w8();const S8=Rg(j8),{PostgrestClient:N8,PostgrestQueryBuilder:PF,PostgrestFilterBuilder:kF,PostgrestTransformBuilder:TF,PostgrestBuilder:DF,PostgrestError:MF}=S8;function _8(){if(typeof WebSocket<"u")return WebSocket;if(typeof global.WebSocket<"u")return global.WebSocket;if(typeof window.WebSocket<"u")return window.WebSocket;if(typeof self.WebSocket<"u")return self.WebSocket;throw new Error("`WebSocket` is not supported in this environment")}const C8=_8(),E8="2.11.15",R8=`realtime-js/${E8}`,A8="1.0.0",WS=1e4,P8=1e3;var cc;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(cc||(cc={}));var kn;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(kn||(kn={}));var Ta;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(Ta||(Ta={}));var lg;(function(e){e.websocket="websocket"})(lg||(lg={}));var ei;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(ei||(ei={}));class k8{constructor(){this.HEADER_LENGTH=1}decode(t,n){return t.constructor===ArrayBuffer?n(this._binaryDecode(t)):n(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const n=new DataView(t),s=new TextDecoder;return this._decodeBroadcast(t,n,s)}_decodeBroadcast(t,n,s){const l=n.getUint8(1),o=n.getUint8(2);let d=this.HEADER_LENGTH+2;const f=s.decode(t.slice(d,d+l));d=d+l;const m=s.decode(t.slice(d,d+o));d=d+o;const p=JSON.parse(s.decode(t.slice(d,t.byteLength)));return{ref:null,topic:f,event:m,payload:p}}}class JS{constructor(t,n){this.callback=t,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var It;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(It||(It={}));const Dw=(e,t,n={})=>{var s;const l=(s=n.skipTypes)!==null&&s!==void 0?s:[];return Object.keys(t).reduce((o,d)=>(o[d]=T8(d,e,t,l),o),{})},T8=(e,t,n,s)=>{const l=t.find(f=>f.name===e),o=l?.type,d=n[e];return o&&!s.includes(o)?ZS(o,d):og(d)},ZS=(e,t)=>{if(e.charAt(0)==="_"){const n=e.slice(1,e.length);return L8(t,n)}switch(e){case It.bool:return D8(t);case It.float4:case It.float8:case It.int2:case It.int4:case It.int8:case It.numeric:case It.oid:return M8(t);case It.json:case It.jsonb:return O8(t);case It.timestamp:return U8(t);case It.abstime:case It.date:case It.daterange:case It.int4range:case It.int8range:case It.money:case It.reltime:case It.text:case It.time:case It.timestamptz:case It.timetz:case It.tsrange:case It.tstzrange:return og(t);default:return og(t)}},og=e=>e,D8=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},M8=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},O8=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},L8=(e,t)=>{if(typeof e!="string")return e;const n=e.length-1,s=e[n];if(e[0]==="{"&&s==="}"){let o;const d=e.slice(1,n);try{o=JSON.parse("["+d+"]")}catch{o=d?d.split(","):[]}return o.map(f=>ZS(t,f))}return e},U8=e=>typeof e=="string"?e.replace(" ","T"):e,XS=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")};class Np{constructor(t,n,s={},l=WS){this.channel=t,this.event=n,this.payload=s,this.timeout=l,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,n){var s;return this._hasReceived(t)&&n((s=this.receivedResp)===null||s===void 0?void 0:s.response),this.recHooks.push({status:t,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:n}){this.recHooks.filter(s=>s.status===t).forEach(s=>s.callback(n))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var Mw;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(Mw||(Mw={}));class dc{constructor(t,n){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const s=n?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(s.state,{},l=>{const{onJoin:o,onLeave:d,onSync:f}=this.caller;this.joinRef=this.channel._joinRef(),this.state=dc.syncState(this.state,l,o,d),this.pendingDiffs.forEach(m=>{this.state=dc.syncDiff(this.state,m,o,d)}),this.pendingDiffs=[],f()}),this.channel._on(s.diff,{},l=>{const{onJoin:o,onLeave:d,onSync:f}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(l):(this.state=dc.syncDiff(this.state,l,o,d),f())}),this.onJoin((l,o,d)=>{this.channel._trigger("presence",{event:"join",key:l,currentPresences:o,newPresences:d})}),this.onLeave((l,o,d)=>{this.channel._trigger("presence",{event:"leave",key:l,currentPresences:o,leftPresences:d})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,n,s,l){const o=this.cloneDeep(t),d=this.transformState(n),f={},m={};return this.map(o,(p,g)=>{d[p]||(m[p]=g)}),this.map(d,(p,g)=>{const b=o[p];if(b){const y=g.map(_=>_.presence_ref),w=b.map(_=>_.presence_ref),j=g.filter(_=>w.indexOf(_.presence_ref)<0),S=b.filter(_=>y.indexOf(_.presence_ref)<0);j.length>0&&(f[p]=j),S.length>0&&(m[p]=S)}else f[p]=g}),this.syncDiff(o,{joins:f,leaves:m},s,l)}static syncDiff(t,n,s,l){const{joins:o,leaves:d}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return s||(s=()=>{}),l||(l=()=>{}),this.map(o,(f,m)=>{var p;const g=(p=t[f])!==null&&p!==void 0?p:[];if(t[f]=this.cloneDeep(m),g.length>0){const b=t[f].map(w=>w.presence_ref),y=g.filter(w=>b.indexOf(w.presence_ref)<0);t[f].unshift(...y)}s(f,g,m)}),this.map(d,(f,m)=>{let p=t[f];if(!p)return;const g=m.map(b=>b.presence_ref);p=p.filter(b=>g.indexOf(b.presence_ref)<0),t[f]=p,l(f,p,m),p.length===0&&delete t[f]}),t}static map(t,n){return Object.getOwnPropertyNames(t).map(s=>n(s,t[s]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((n,s)=>{const l=t[s];return"metas"in l?n[s]=l.metas.map(o=>(o.presence_ref=o.phx_ref,delete o.phx_ref,delete o.phx_ref_prev,o)):n[s]=l,n},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Ow;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(Ow||(Ow={}));var Lw;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(Lw||(Lw={}));var jr;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(jr||(jr={}));class yx{constructor(t,n={config:{}},s){this.topic=t,this.params=n,this.socket=s,this.bindings={},this.state=kn.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new Np(this,Ta.join,this.params,this.timeout),this.rejoinTimer=new JS(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=kn.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(l=>l.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=kn.closed,this.socket._remove(this)}),this._onError(l=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,l),this.state=kn.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=kn.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Ta.reply,{},(l,o)=>{this._trigger(this._replyEventName(o),l)}),this.presence=new dc(this),this.broadcastEndpointURL=XS(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(t,n=this.timeout){var s,l;if(this.socket.isConnected()||this.socket.connect(),this.state==kn.closed){const{config:{broadcast:o,presence:d,private:f}}=this.params;this._onError(g=>t?.(jr.CHANNEL_ERROR,g)),this._onClose(()=>t?.(jr.CLOSED));const m={},p={broadcast:o,presence:d,postgres_changes:(l=(s=this.bindings.postgres_changes)===null||s===void 0?void 0:s.map(g=>g.filter))!==null&&l!==void 0?l:[],private:f};this.socket.accessTokenValue&&(m.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:p},m)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:g})=>{var b;if(this.socket.setAuth(),g===void 0){t?.(jr.SUBSCRIBED);return}else{const y=this.bindings.postgres_changes,w=(b=y?.length)!==null&&b!==void 0?b:0,j=[];for(let S=0;S<w;S++){const _=y[S],{filter:{event:R,schema:k,table:N,filter:A}}=_,P=g&&g[S];if(P&&P.event===R&&P.schema===k&&P.table===N&&P.filter===A)j.push(Object.assign(Object.assign({},_),{id:P.id}));else{this.unsubscribe(),this.state=kn.errored,t?.(jr.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=j,t&&t(jr.SUBSCRIBED);return}}).receive("error",g=>{this.state=kn.errored,t?.(jr.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(g).join(", ")||"error")))}).receive("timeout",()=>{t?.(jr.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,n={}){return await this.send({type:"presence",event:"track",payload:t},n.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,n,s){return this._on(t,n,s)}async send(t,n={}){var s,l;if(!this._canPush()&&t.type==="broadcast"){const{event:o,payload:d}=t,m={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:o,payload:d,private:this.private}]})};try{const p=await this._fetchWithTimeout(this.broadcastEndpointURL,m,(s=n.timeout)!==null&&s!==void 0?s:this.timeout);return await((l=p.body)===null||l===void 0?void 0:l.cancel()),p.ok?"ok":"error"}catch(p){return p.name==="AbortError"?"timed out":"error"}}else return new Promise(o=>{var d,f,m;const p=this._push(t.type,t,n.timeout||this.timeout);t.type==="broadcast"&&!(!((m=(f=(d=this.params)===null||d===void 0?void 0:d.config)===null||f===void 0?void 0:f.broadcast)===null||m===void 0)&&m.ack)&&o("ok"),p.receive("ok",()=>o("ok")),p.receive("error",()=>o("error")),p.receive("timeout",()=>o("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=kn.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Ta.close,"leave",this._joinRef())};this.joinPush.destroy();let s=null;return new Promise(l=>{s=new Np(this,Ta.leave,{},t),s.receive("ok",()=>{n(),l("ok")}).receive("timeout",()=>{n(),l("timed out")}).receive("error",()=>{l("error")}),s.send(),this._canPush()||s.trigger("ok",{})}).finally(()=>{s?.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.rejoinTimer&&clearTimeout(this.rejoinTimer.timer),this.joinPush.destroy()}async _fetchWithTimeout(t,n,s){const l=new AbortController,o=setTimeout(()=>l.abort(),s),d=await this.socket.fetch(t,Object.assign(Object.assign({},n),{signal:l.signal}));return clearTimeout(o),d}_push(t,n,s=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let l=new Np(this,t,n,s);return this._canPush()?l.send():(l.startTimeout(),this.pushBuffer.push(l)),l}_onMessage(t,n,s){return n}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,n,s){var l,o;const d=t.toLocaleLowerCase(),{close:f,error:m,leave:p,join:g}=Ta;if(s&&[f,m,p,g].indexOf(d)>=0&&s!==this._joinRef())return;let y=this._onMessage(d,n,s);if(n&&!y)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(d)?(l=this.bindings.postgres_changes)===null||l===void 0||l.filter(w=>{var j,S,_;return((j=w.filter)===null||j===void 0?void 0:j.event)==="*"||((_=(S=w.filter)===null||S===void 0?void 0:S.event)===null||_===void 0?void 0:_.toLocaleLowerCase())===d}).map(w=>w.callback(y,s)):(o=this.bindings[d])===null||o===void 0||o.filter(w=>{var j,S,_,R,k,N;if(["broadcast","presence","postgres_changes"].includes(d))if("id"in w){const A=w.id,P=(j=w.filter)===null||j===void 0?void 0:j.event;return A&&((S=n.ids)===null||S===void 0?void 0:S.includes(A))&&(P==="*"||P?.toLocaleLowerCase()===((_=n.data)===null||_===void 0?void 0:_.type.toLocaleLowerCase()))}else{const A=(k=(R=w?.filter)===null||R===void 0?void 0:R.event)===null||k===void 0?void 0:k.toLocaleLowerCase();return A==="*"||A===((N=n?.event)===null||N===void 0?void 0:N.toLocaleLowerCase())}else return w.type.toLocaleLowerCase()===d}).map(w=>{if(typeof y=="object"&&"ids"in y){const j=y.data,{schema:S,table:_,commit_timestamp:R,type:k,errors:N}=j;y=Object.assign(Object.assign({},{schema:S,table:_,commit_timestamp:R,eventType:k,new:{},old:{},errors:N}),this._getPayloadRecords(j))}w.callback(y,s)})}_isClosed(){return this.state===kn.closed}_isJoined(){return this.state===kn.joined}_isJoining(){return this.state===kn.joining}_isLeaving(){return this.state===kn.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,n,s){const l=t.toLocaleLowerCase(),o={type:l,filter:n,callback:s};return this.bindings[l]?this.bindings[l].push(o):this.bindings[l]=[o],this}_off(t,n){const s=t.toLocaleLowerCase();return this.bindings[s]=this.bindings[s].filter(l=>{var o;return!(((o=l.type)===null||o===void 0?void 0:o.toLocaleLowerCase())===s&&yx.isEqual(l.filter,n))}),this}static isEqual(t,n){if(Object.keys(t).length!==Object.keys(n).length)return!1;for(const s in t)if(t[s]!==n[s])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(Ta.close,{},t)}_onError(t){this._on(Ta.error,{},n=>t(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=kn.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const n={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(n.new=Dw(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(n.old=Dw(t.columns,t.old_record)),n}}const Uw=()=>{},$8=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class F8{constructor(t,n){var s;this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=WS,this.heartbeatIntervalMs=25e3,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Uw,this.ref=0,this.logger=Uw,this.conn=null,this.sendBuffer=[],this.serializer=new k8,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=o=>{let d;return o?d=o:typeof fetch>"u"?d=(...f)=>$c(async()=>{const{default:m}=await Promise.resolve().then(()=>zl);return{default:m}},void 0).then(({default:m})=>m(...f)):d=fetch,(...f)=>d(...f)},this.endPoint=`${t}/${lg.websocket}`,this.httpEndpoint=XS(t),n?.transport?this.transport=n.transport:this.transport=null,n?.params&&(this.params=n.params),n?.timeout&&(this.timeout=n.timeout),n?.logger&&(this.logger=n.logger),(n?.logLevel||n?.log_level)&&(this.logLevel=n.logLevel||n.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),n?.heartbeatIntervalMs&&(this.heartbeatIntervalMs=n.heartbeatIntervalMs);const l=(s=n?.params)===null||s===void 0?void 0:s.apikey;if(l&&(this.accessTokenValue=l,this.apiKey=l),this.reconnectAfterMs=n?.reconnectAfterMs?n.reconnectAfterMs:o=>[1e3,2e3,5e3,1e4][o-1]||1e4,this.encode=n?.encode?n.encode:(o,d)=>d(JSON.stringify(o)),this.decode=n?.decode?n.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new JS(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(n?.fetch),n?.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=n?.worker||!1,this.workerUrl=n?.workerUrl}this.accessToken=n?.accessToken||null}connect(){if(!this.conn){if(this.transport||(this.transport=C8),!this.transport)throw new Error("No transport provided");this.conn=new this.transport(this.endpointURL()),this.setupConnection()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:A8}))}disconnect(t,n){this.conn&&(this.conn.onclose=function(){},t?this.conn.close(t,n??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset(),this.channels.forEach(s=>s.teardown()))}getChannels(){return this.channels}async removeChannel(t){const n=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const t=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,n,s){this.logger(t,n,s)}connectionState(){switch(this.conn&&this.conn.readyState){case cc.connecting:return ei.Connecting;case cc.open:return ei.Open;case cc.closing:return ei.Closing;default:return ei.Closed}}isConnected(){return this.connectionState()===ei.Open}channel(t,n={config:{}}){const s=`realtime:${t}`,l=this.getChannels().find(o=>o.topic===s);if(l)return l;{const o=new yx(`realtime:${t}`,n,this);return this.channels.push(o),o}}push(t){const{topic:n,event:s,payload:l,ref:o}=t,d=()=>{this.encode(t,f=>{var m;(m=this.conn)===null||m===void 0||m.send(f)})};this.log("push",`${n} ${s} (${o})`,l),this.isConnected()?d():this.sendBuffer.push(d)}async setAuth(t=null){let n=t||this.accessToken&&await this.accessToken()||this.accessTokenValue;this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(s=>{const l={access_token:n,version:R8};n&&s.updateJoinPayload(l),s.joinedOnce&&s._isJoined()&&s._push(Ta.access_token,{access_token:n})}))}async sendHeartbeat(){var t;if(!this.isConnected()){this.heartbeatCallback("disconnected");return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),(t=this.conn)===null||t===void 0||t.close(P8,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),await this.setAuth()}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let n=this.channels.find(s=>s.topic===t&&(s._isJoined()||s._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${t}"`),n.unsubscribe())}_remove(t){this.channels=this.channels.filter(n=>n.topic!==t.topic)}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_onConnMessage(t){this.decode(t.data,n=>{let{topic:s,event:l,payload:o,ref:d}=n;s==="phoenix"&&l==="phx_reply"&&this.heartbeatCallback(n.payload.status=="ok"?"ok":"error"),d&&d===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${o.status||""} ${s} ${l} ${d&&"("+d+")"||""}`,o),Array.from(this.channels).filter(f=>f._isMember(s)).forEach(f=>f._trigger(l,o,d)),this.stateChangeCallbacks.message.forEach(f=>f(n))})}_onConnOpen(){this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this.stateChangeCallbacks.open.forEach(t=>t())}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){this.log("transport","close",t),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(n=>n(t))}_onConnError(t){this.log("transport",`${t}`),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(n=>n(t))}_triggerChanError(){this.channels.forEach(t=>t._trigger(Ta.error))}_appendParams(t,n){if(Object.keys(n).length===0)return t;const s=t.match(/\?/)?"&":"?",l=new URLSearchParams(n);return`${t}${s}${l}`}_workerObjectUrl(t){let n;if(t)n=t;else{const s=new Blob([$8],{type:"application/javascript"});n=URL.createObjectURL(s)}return n}}class wx extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function vn(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class I8 extends wx{constructor(t,n){super(t),this.name="StorageApiError",this.status=n}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class cg extends wx{constructor(t,n){super(t),this.name="StorageUnknownError",this.originalError=n}}var B8=function(e,t,n,s){function l(o){return o instanceof n?o:new n(function(d){d(o)})}return new(n||(n=Promise))(function(o,d){function f(g){try{p(s.next(g))}catch(b){d(b)}}function m(g){try{p(s.throw(g))}catch(b){d(b)}}function p(g){g.done?o(g.value):l(g.value).then(f,m)}p((s=s.apply(e,t||[])).next())})};const QS=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>$c(async()=>{const{default:s}=await Promise.resolve().then(()=>zl);return{default:s}},void 0).then(({default:s})=>s(...n)):t=fetch,(...n)=>t(...n)},z8=()=>B8(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield $c(()=>Promise.resolve().then(()=>zl),void 0)).Response:Response}),dg=e=>{if(Array.isArray(e))return e.map(n=>dg(n));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([n,s])=>{const l=n.replace(/([-_][a-z])/gi,o=>o.toUpperCase().replace(/[-_]/g,""));t[l]=dg(s)}),t};var bi=function(e,t,n,s){function l(o){return o instanceof n?o:new n(function(d){d(o)})}return new(n||(n=Promise))(function(o,d){function f(g){try{p(s.next(g))}catch(b){d(b)}}function m(g){try{p(s.throw(g))}catch(b){d(b)}}function p(g){g.done?o(g.value):l(g.value).then(f,m)}p((s=s.apply(e,t||[])).next())})};const _p=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),q8=(e,t,n)=>bi(void 0,void 0,void 0,function*(){const s=yield z8();e instanceof s&&!n?.noResolveJson?e.json().then(l=>{t(new I8(_p(l),e.status||500))}).catch(l=>{t(new cg(_p(l),l))}):t(new cg(_p(e),e))}),H8=(e,t,n,s)=>{const l={method:e,headers:t?.headers||{}};return e==="GET"?l:(l.headers=Object.assign({"Content-Type":"application/json"},t?.headers),s&&(l.body=JSON.stringify(s)),Object.assign(Object.assign({},l),n))};function Fc(e,t,n,s,l,o){return bi(this,void 0,void 0,function*(){return new Promise((d,f)=>{e(n,H8(t,s,l,o)).then(m=>{if(!m.ok)throw m;return s?.noResolveJson?m:m.json()}).then(m=>d(m)).catch(m=>q8(m,f,s))})})}function Qu(e,t,n,s){return bi(this,void 0,void 0,function*(){return Fc(e,"GET",t,n,s)})}function ps(e,t,n,s,l){return bi(this,void 0,void 0,function*(){return Fc(e,"POST",t,s,l,n)})}function V8(e,t,n,s,l){return bi(this,void 0,void 0,function*(){return Fc(e,"PUT",t,s,l,n)})}function G8(e,t,n,s){return bi(this,void 0,void 0,function*(){return Fc(e,"HEAD",t,Object.assign(Object.assign({},n),{noResolveJson:!0}),s)})}function eN(e,t,n,s,l){return bi(this,void 0,void 0,function*(){return Fc(e,"DELETE",t,s,l,n)})}var Gn=function(e,t,n,s){function l(o){return o instanceof n?o:new n(function(d){d(o)})}return new(n||(n=Promise))(function(o,d){function f(g){try{p(s.next(g))}catch(b){d(b)}}function m(g){try{p(s.throw(g))}catch(b){d(b)}}function p(g){g.done?o(g.value):l(g.value).then(f,m)}p((s=s.apply(e,t||[])).next())})};const Y8={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},$w={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class K8{constructor(t,n={},s,l){this.url=t,this.headers=n,this.bucketId=s,this.fetch=QS(l)}uploadOrUpdate(t,n,s,l){return Gn(this,void 0,void 0,function*(){try{let o;const d=Object.assign(Object.assign({},$w),l);let f=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(d.upsert)});const m=d.metadata;typeof Blob<"u"&&s instanceof Blob?(o=new FormData,o.append("cacheControl",d.cacheControl),m&&o.append("metadata",this.encodeMetadata(m)),o.append("",s)):typeof FormData<"u"&&s instanceof FormData?(o=s,o.append("cacheControl",d.cacheControl),m&&o.append("metadata",this.encodeMetadata(m))):(o=s,f["cache-control"]=`max-age=${d.cacheControl}`,f["content-type"]=d.contentType,m&&(f["x-metadata"]=this.toBase64(this.encodeMetadata(m)))),l?.headers&&(f=Object.assign(Object.assign({},f),l.headers));const p=this._removeEmptyFolders(n),g=this._getFinalPath(p),b=yield this.fetch(`${this.url}/object/${g}`,Object.assign({method:t,body:o,headers:f},d?.duplex?{duplex:d.duplex}:{})),y=yield b.json();return b.ok?{data:{path:p,id:y.Id,fullPath:y.Key},error:null}:{data:null,error:y}}catch(o){if(vn(o))return{data:null,error:o};throw o}})}upload(t,n,s){return Gn(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,n,s)})}uploadToSignedUrl(t,n,s,l){return Gn(this,void 0,void 0,function*(){const o=this._removeEmptyFolders(t),d=this._getFinalPath(o),f=new URL(this.url+`/object/upload/sign/${d}`);f.searchParams.set("token",n);try{let m;const p=Object.assign({upsert:$w.upsert},l),g=Object.assign(Object.assign({},this.headers),{"x-upsert":String(p.upsert)});typeof Blob<"u"&&s instanceof Blob?(m=new FormData,m.append("cacheControl",p.cacheControl),m.append("",s)):typeof FormData<"u"&&s instanceof FormData?(m=s,m.append("cacheControl",p.cacheControl)):(m=s,g["cache-control"]=`max-age=${p.cacheControl}`,g["content-type"]=p.contentType);const b=yield this.fetch(f.toString(),{method:"PUT",body:m,headers:g}),y=yield b.json();return b.ok?{data:{path:o,fullPath:y.Key},error:null}:{data:null,error:y}}catch(m){if(vn(m))return{data:null,error:m};throw m}})}createSignedUploadUrl(t,n){return Gn(this,void 0,void 0,function*(){try{let s=this._getFinalPath(t);const l=Object.assign({},this.headers);n?.upsert&&(l["x-upsert"]="true");const o=yield ps(this.fetch,`${this.url}/object/upload/sign/${s}`,{},{headers:l}),d=new URL(this.url+o.url),f=d.searchParams.get("token");if(!f)throw new wx("No token returned by API");return{data:{signedUrl:d.toString(),path:t,token:f},error:null}}catch(s){if(vn(s))return{data:null,error:s};throw s}})}update(t,n,s){return Gn(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,n,s)})}move(t,n,s){return Gn(this,void 0,void 0,function*(){try{return{data:yield ps(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:s?.destinationBucket},{headers:this.headers}),error:null}}catch(l){if(vn(l))return{data:null,error:l};throw l}})}copy(t,n,s){return Gn(this,void 0,void 0,function*(){try{return{data:{path:(yield ps(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:s?.destinationBucket},{headers:this.headers})).Key},error:null}}catch(l){if(vn(l))return{data:null,error:l};throw l}})}createSignedUrl(t,n,s){return Gn(this,void 0,void 0,function*(){try{let l=this._getFinalPath(t),o=yield ps(this.fetch,`${this.url}/object/sign/${l}`,Object.assign({expiresIn:n},s?.transform?{transform:s.transform}:{}),{headers:this.headers});const d=s?.download?`&download=${s.download===!0?"":s.download}`:"";return o={signedUrl:encodeURI(`${this.url}${o.signedURL}${d}`)},{data:o,error:null}}catch(l){if(vn(l))return{data:null,error:l};throw l}})}createSignedUrls(t,n,s){return Gn(this,void 0,void 0,function*(){try{const l=yield ps(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:t},{headers:this.headers}),o=s?.download?`&download=${s.download===!0?"":s.download}`:"";return{data:l.map(d=>Object.assign(Object.assign({},d),{signedUrl:d.signedURL?encodeURI(`${this.url}${d.signedURL}${o}`):null})),error:null}}catch(l){if(vn(l))return{data:null,error:l};throw l}})}download(t,n){return Gn(this,void 0,void 0,function*(){const l=typeof n?.transform<"u"?"render/image/authenticated":"object",o=this.transformOptsToQueryString(n?.transform||{}),d=o?`?${o}`:"";try{const f=this._getFinalPath(t);return{data:yield(yield Qu(this.fetch,`${this.url}/${l}/${f}${d}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(f){if(vn(f))return{data:null,error:f};throw f}})}info(t){return Gn(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{const s=yield Qu(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:dg(s),error:null}}catch(s){if(vn(s))return{data:null,error:s};throw s}})}exists(t){return Gn(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{return yield G8(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(s){if(vn(s)&&s instanceof cg){const l=s.originalError;if([400,404].includes(l?.status))return{data:!1,error:s}}throw s}})}getPublicUrl(t,n){const s=this._getFinalPath(t),l=[],o=n?.download?`download=${n.download===!0?"":n.download}`:"";o!==""&&l.push(o);const f=typeof n?.transform<"u"?"render/image":"object",m=this.transformOptsToQueryString(n?.transform||{});m!==""&&l.push(m);let p=l.join("&");return p!==""&&(p=`?${p}`),{data:{publicUrl:encodeURI(`${this.url}/${f}/public/${s}${p}`)}}}remove(t){return Gn(this,void 0,void 0,function*(){try{return{data:yield eN(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(n){if(vn(n))return{data:null,error:n};throw n}})}list(t,n,s){return Gn(this,void 0,void 0,function*(){try{const l=Object.assign(Object.assign(Object.assign({},Y8),n),{prefix:t||""});return{data:yield ps(this.fetch,`${this.url}/object/list/${this.bucketId}`,l,{headers:this.headers},s),error:null}}catch(l){if(vn(l))return{data:null,error:l};throw l}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const n=[];return t.width&&n.push(`width=${t.width}`),t.height&&n.push(`height=${t.height}`),t.resize&&n.push(`resize=${t.resize}`),t.format&&n.push(`format=${t.format}`),t.quality&&n.push(`quality=${t.quality}`),n.join("&")}}const W8="2.7.1",J8={"X-Client-Info":`storage-js/${W8}`};var cl=function(e,t,n,s){function l(o){return o instanceof n?o:new n(function(d){d(o)})}return new(n||(n=Promise))(function(o,d){function f(g){try{p(s.next(g))}catch(b){d(b)}}function m(g){try{p(s.throw(g))}catch(b){d(b)}}function p(g){g.done?o(g.value):l(g.value).then(f,m)}p((s=s.apply(e,t||[])).next())})};class Z8{constructor(t,n={},s){this.url=t,this.headers=Object.assign(Object.assign({},J8),n),this.fetch=QS(s)}listBuckets(){return cl(this,void 0,void 0,function*(){try{return{data:yield Qu(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(vn(t))return{data:null,error:t};throw t}})}getBucket(t){return cl(this,void 0,void 0,function*(){try{return{data:yield Qu(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(n){if(vn(n))return{data:null,error:n};throw n}})}createBucket(t,n={public:!1}){return cl(this,void 0,void 0,function*(){try{return{data:yield ps(this.fetch,`${this.url}/bucket`,{id:t,name:t,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(s){if(vn(s))return{data:null,error:s};throw s}})}updateBucket(t,n){return cl(this,void 0,void 0,function*(){try{return{data:yield V8(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(s){if(vn(s))return{data:null,error:s};throw s}})}emptyBucket(t){return cl(this,void 0,void 0,function*(){try{return{data:yield ps(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(vn(n))return{data:null,error:n};throw n}})}deleteBucket(t){return cl(this,void 0,void 0,function*(){try{return{data:yield eN(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(n){if(vn(n))return{data:null,error:n};throw n}})}}class X8 extends Z8{constructor(t,n={},s){super(t,n,s)}from(t){return new K8(this.url,this.headers,t,this.fetch)}}const Q8="2.50.3";let ic="";typeof Deno<"u"?ic="deno":typeof document<"u"?ic="web":typeof navigator<"u"&&navigator.product==="ReactNative"?ic="react-native":ic="node";const eM={"X-Client-Info":`supabase-js-${ic}/${Q8}`},tM={headers:eM},nM={schema:"public"},aM={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},rM={};var sM=function(e,t,n,s){function l(o){return o instanceof n?o:new n(function(d){d(o)})}return new(n||(n=Promise))(function(o,d){function f(g){try{p(s.next(g))}catch(b){d(b)}}function m(g){try{p(s.throw(g))}catch(b){d(b)}}function p(g){g.done?o(g.value):l(g.value).then(f,m)}p((s=s.apply(e,t||[])).next())})};const iM=e=>{let t;return e?t=e:typeof fetch>"u"?t=qS:t=fetch,(...n)=>t(...n)},lM=()=>typeof Headers>"u"?HS:Headers,oM=(e,t,n)=>{const s=iM(n),l=lM();return(o,d)=>sM(void 0,void 0,void 0,function*(){var f;const m=(f=yield t())!==null&&f!==void 0?f:e;let p=new l(d?.headers);return p.has("apikey")||p.set("apikey",e),p.has("Authorization")||p.set("Authorization",`Bearer ${m}`),s(o,Object.assign(Object.assign({},d),{headers:p}))})};var cM=function(e,t,n,s){function l(o){return o instanceof n?o:new n(function(d){d(o)})}return new(n||(n=Promise))(function(o,d){function f(g){try{p(s.next(g))}catch(b){d(b)}}function m(g){try{p(s.throw(g))}catch(b){d(b)}}function p(g){g.done?o(g.value):l(g.value).then(f,m)}p((s=s.apply(e,t||[])).next())})};function dM(e){return e.endsWith("/")?e:e+"/"}function uM(e,t){var n,s;const{db:l,auth:o,realtime:d,global:f}=e,{db:m,auth:p,realtime:g,global:b}=t,y={db:Object.assign(Object.assign({},m),l),auth:Object.assign(Object.assign({},p),o),realtime:Object.assign(Object.assign({},g),d),global:Object.assign(Object.assign(Object.assign({},b),f),{headers:Object.assign(Object.assign({},(n=b?.headers)!==null&&n!==void 0?n:{}),(s=f?.headers)!==null&&s!==void 0?s:{})}),accessToken:()=>cM(this,void 0,void 0,function*(){return""})};return e.accessToken?y.accessToken=e.accessToken:delete y.accessToken,y}const tN="2.70.0",bl=30*1e3,ug=3,Cp=ug*bl,fM="http://localhost:9999",hM="supabase.auth.token",mM={"X-Client-Info":`gotrue-js/${tN}`},fg="X-Supabase-Api-Version",nN={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},pM=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,gM=6e5;class jx extends Error{constructor(t,n,s){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=s}}function tt(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class xM extends jx{constructor(t,n,s){super(t,n,s),this.name="AuthApiError",this.status=n,this.code=s}}function bM(e){return tt(e)&&e.name==="AuthApiError"}class aN extends jx{constructor(t,n){super(t),this.name="AuthUnknownError",this.originalError=n}}class Rs extends jx{constructor(t,n,s,l){super(t,s,l),this.name=n,this.status=s}}class hs extends Rs{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function vM(e){return tt(e)&&e.name==="AuthSessionMissingError"}class ou extends Rs{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class cu extends Rs{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class du extends Rs{constructor(t,n=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function yM(e){return tt(e)&&e.name==="AuthImplicitGrantRedirectError"}class Fw extends Rs{constructor(t,n=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class hg extends Rs{constructor(t,n){super(t,"AuthRetryableFetchError",n,void 0)}}function Ep(e){return tt(e)&&e.name==="AuthRetryableFetchError"}class Iw extends Rs{constructor(t,n,s){super(t,"AuthWeakPasswordError",n,"weak_password"),this.reasons=s}}class uc extends Rs{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const ef="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Bw=` 	
\r=`.split(""),wM=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<Bw.length;t+=1)e[Bw[t].charCodeAt(0)]=-2;for(let t=0;t<ef.length;t+=1)e[ef[t].charCodeAt(0)]=t;return e})();function zw(e,t,n){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const s=t.queue>>t.queuedBits-6&63;n(ef[s]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const s=t.queue>>t.queuedBits-6&63;n(ef[s]),t.queuedBits-=6}}function rN(e,t,n){const s=wM[e];if(s>-1)for(t.queue=t.queue<<6|s,t.queuedBits+=6;t.queuedBits>=8;)n(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(s===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function qw(e){const t=[],n=d=>{t.push(String.fromCodePoint(d))},s={utf8seq:0,codepoint:0},l={queue:0,queuedBits:0},o=d=>{NM(d,s,n)};for(let d=0;d<e.length;d+=1)rN(e.charCodeAt(d),l,o);return t.join("")}function jM(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function SM(e,t){for(let n=0;n<e.length;n+=1){let s=e.charCodeAt(n);if(s>55295&&s<=56319){const l=(s-55296)*1024&65535;s=(e.charCodeAt(n+1)-56320&65535|l)+65536,n+=1}jM(s,t)}}function NM(e,t,n){if(t.utf8seq===0){if(e<=127){n(e);return}for(let s=1;s<6;s+=1)if((e>>7-s&1)===0){t.utf8seq=s;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&n(t.codepoint)}}function _M(e){const t=[],n={queue:0,queuedBits:0},s=l=>{t.push(l)};for(let l=0;l<e.length;l+=1)rN(e.charCodeAt(l),n,s);return new Uint8Array(t)}function CM(e){const t=[];return SM(e,n=>t.push(n)),new Uint8Array(t)}function EM(e){const t=[],n={queue:0,queuedBits:0},s=l=>{t.push(l)};return e.forEach(l=>zw(l,n,s)),zw(null,n,s),t.join("")}function RM(e){return Math.round(Date.now()/1e3)+e}function AM(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const ka=()=>typeof window<"u"&&typeof document<"u",Js={tested:!1,writable:!1},fc=()=>{if(!ka())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Js.tested)return Js.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),Js.tested=!0,Js.writable=!0}catch{Js.tested=!0,Js.writable=!1}return Js.writable};function PM(e){const t={},n=new URL(e);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((l,o)=>{t[o]=l})}catch{}return n.searchParams.forEach((s,l)=>{t[l]=s}),t}const sN=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>$c(async()=>{const{default:s}=await Promise.resolve().then(()=>zl);return{default:s}},void 0).then(({default:s})=>s(...n)):t=fetch,(...n)=>t(...n)},kM=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",iN=async(e,t,n)=>{await e.setItem(t,JSON.stringify(n))},uu=async(e,t)=>{const n=await e.getItem(t);if(!n)return null;try{return JSON.parse(n)}catch{return n}},fu=async(e,t)=>{await e.removeItem(t)};class $f{constructor(){this.promise=new $f.promiseConstructor((t,n)=>{this.resolve=t,this.reject=n})}}$f.promiseConstructor=Promise;function Rp(e){const t=e.split(".");if(t.length!==3)throw new uc("Invalid JWT structure");for(let s=0;s<t.length;s++)if(!pM.test(t[s]))throw new uc("JWT not in base64url format");return{header:JSON.parse(qw(t[0])),payload:JSON.parse(qw(t[1])),signature:_M(t[2]),raw:{header:t[0],payload:t[1]}}}async function TM(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function DM(e,t){return new Promise((s,l)=>{(async()=>{for(let o=0;o<1/0;o++)try{const d=await e(o);if(!t(o,null,d)){s(d);return}}catch(d){if(!t(o,d)){l(d);return}}})()})}function MM(e){return("0"+e.toString(16)).substr(-2)}function OM(){const t=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",s=n.length;let l="";for(let o=0;o<56;o++)l+=n.charAt(Math.floor(Math.random()*s));return l}return crypto.getRandomValues(t),Array.from(t,MM).join("")}async function LM(e){const n=new TextEncoder().encode(e),s=await crypto.subtle.digest("SHA-256",n),l=new Uint8Array(s);return Array.from(l).map(o=>String.fromCharCode(o)).join("")}async function UM(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const n=await LM(e);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function dl(e,t,n=!1){const s=OM();let l=s;n&&(l+="/PASSWORD_RECOVERY"),await iN(e,`${t}-code-verifier`,l);const o=await UM(s);return[o,s===o?"plain":"s256"]}const $M=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function FM(e){const t=e.headers.get(fg);if(!t||!t.match($M))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function IM(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function BM(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const zM=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function ul(e){if(!zM.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}var qM=function(e,t){var n={};for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&t.indexOf(s)<0&&(n[s]=e[s]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,s=Object.getOwnPropertySymbols(e);l<s.length;l++)t.indexOf(s[l])<0&&Object.prototype.propertyIsEnumerable.call(e,s[l])&&(n[s[l]]=e[s[l]]);return n};const Zs=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),HM=[502,503,504];async function Hw(e){var t;if(!kM(e))throw new hg(Zs(e),0);if(HM.includes(e.status))throw new hg(Zs(e),e.status);let n;try{n=await e.json()}catch(o){throw new aN(Zs(o),o)}let s;const l=FM(e);if(l&&l.getTime()>=nN["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?s=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(s=n.error_code),s){if(s==="weak_password")throw new Iw(Zs(n),e.status,((t=n.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(s==="session_not_found")throw new hs}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((o,d)=>o&&typeof d=="string",!0))throw new Iw(Zs(n),e.status,n.weak_password.reasons);throw new xM(Zs(n),e.status||500,s)}const VM=(e,t,n,s)=>{const l={method:e,headers:t?.headers||{}};return e==="GET"?l:(l.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t?.headers),l.body=JSON.stringify(s),Object.assign(Object.assign({},l),n))};async function gt(e,t,n,s){var l;const o=Object.assign({},s?.headers);o[fg]||(o[fg]=nN["2024-01-01"].name),s?.jwt&&(o.Authorization=`Bearer ${s.jwt}`);const d=(l=s?.query)!==null&&l!==void 0?l:{};s?.redirectTo&&(d.redirect_to=s.redirectTo);const f=Object.keys(d).length?"?"+new URLSearchParams(d).toString():"",m=await GM(e,t,n+f,{headers:o,noResolveJson:s?.noResolveJson},{},s?.body);return s?.xform?s?.xform(m):{data:Object.assign({},m),error:null}}async function GM(e,t,n,s,l,o){const d=VM(t,s,l,o);let f;try{f=await e(n,Object.assign({},d))}catch(m){throw console.error(m),new hg(Zs(m),0)}if(f.ok||await Hw(f),s?.noResolveJson)return f;try{return await f.json()}catch(m){await Hw(m)}}function wr(e){var t;let n=null;JM(e)&&(n=Object.assign({},e),e.expires_at||(n.expires_at=RM(e.expires_in)));const s=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:n,user:s},error:null}}function Vw(e){const t=wr(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((n,s)=>n&&typeof s=="string",!0)&&(t.data.weak_password=e.weak_password),t}function xs(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function YM(e){return{data:e,error:null}}function KM(e){const{action_link:t,email_otp:n,hashed_token:s,redirect_to:l,verification_type:o}=e,d=qM(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),f={action_link:t,email_otp:n,hashed_token:s,redirect_to:l,verification_type:o},m=Object.assign({},d);return{data:{properties:f,user:m},error:null}}function WM(e){return e}function JM(e){return e.access_token&&e.refresh_token&&e.expires_in}const Ap=["global","local","others"];var ZM=function(e,t){var n={};for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&t.indexOf(s)<0&&(n[s]=e[s]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,s=Object.getOwnPropertySymbols(e);l<s.length;l++)t.indexOf(s[l])<0&&Object.prototype.propertyIsEnumerable.call(e,s[l])&&(n[s[l]]=e[s[l]]);return n};class XM{constructor({url:t="",headers:n={},fetch:s}){this.url=t,this.headers=n,this.fetch=sN(s),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,n=Ap[0]){if(Ap.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Ap.join(", ")}`);try{return await gt(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(s){if(tt(s))return{data:null,error:s};throw s}}async inviteUserByEmail(t,n={}){try{return await gt(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:xs})}catch(s){if(tt(s))return{data:{user:null},error:s};throw s}}async generateLink(t){try{const{options:n}=t,s=ZM(t,["options"]),l=Object.assign(Object.assign({},s),n);return"newEmail"in s&&(l.new_email=s?.newEmail,delete l.newEmail),await gt(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:l,headers:this.headers,xform:KM,redirectTo:n?.redirectTo})}catch(n){if(tt(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(t){try{return await gt(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:xs})}catch(n){if(tt(n))return{data:{user:null},error:n};throw n}}async listUsers(t){var n,s,l,o,d,f,m;try{const p={nextPage:null,lastPage:0,total:0},g=await gt(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(s=(n=t?.page)===null||n===void 0?void 0:n.toString())!==null&&s!==void 0?s:"",per_page:(o=(l=t?.perPage)===null||l===void 0?void 0:l.toString())!==null&&o!==void 0?o:""},xform:WM});if(g.error)throw g.error;const b=await g.json(),y=(d=g.headers.get("x-total-count"))!==null&&d!==void 0?d:0,w=(m=(f=g.headers.get("link"))===null||f===void 0?void 0:f.split(","))!==null&&m!==void 0?m:[];return w.length>0&&(w.forEach(j=>{const S=parseInt(j.split(";")[0].split("=")[1].substring(0,1)),_=JSON.parse(j.split(";")[1].split("=")[1]);p[`${_}Page`]=S}),p.total=parseInt(y)),{data:Object.assign(Object.assign({},b),p),error:null}}catch(p){if(tt(p))return{data:{users:[]},error:p};throw p}}async getUserById(t){ul(t);try{return await gt(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:xs})}catch(n){if(tt(n))return{data:{user:null},error:n};throw n}}async updateUserById(t,n){ul(t);try{return await gt(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:n,headers:this.headers,xform:xs})}catch(s){if(tt(s))return{data:{user:null},error:s};throw s}}async deleteUser(t,n=!1){ul(t);try{return await gt(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:n},xform:xs})}catch(s){if(tt(s))return{data:{user:null},error:s};throw s}}async _listFactors(t){ul(t.userId);try{const{data:n,error:s}=await gt(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:l=>({data:{factors:l},error:null})});return{data:n,error:s}}catch(n){if(tt(n))return{data:null,error:n};throw n}}async _deleteFactor(t){ul(t.userId),ul(t.id);try{return{data:await gt(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(n){if(tt(n))return{data:null,error:n};throw n}}}const QM={getItem:e=>fc()?globalThis.localStorage.getItem(e):null,setItem:(e,t)=>{fc()&&globalThis.localStorage.setItem(e,t)},removeItem:e=>{fc()&&globalThis.localStorage.removeItem(e)}};function Gw(e={}){return{getItem:t=>e[t]||null,setItem:(t,n)=>{e[t]=n},removeItem:t=>{delete e[t]}}}function eO(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const fl={debug:!!(globalThis&&fc()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class lN extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class tO extends lN{}async function nO(e,t,n){fl.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const s=new globalThis.AbortController;return t>0&&setTimeout(()=>{s.abort(),fl.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:s.signal},async l=>{if(l){fl.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,l.name);try{return await n()}finally{fl.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,l.name)}}else{if(t===0)throw fl.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new tO(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(fl.debug)try{const o=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(o,null,"  "))}catch(o){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",o)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}eO();const aO={url:fM,storageKey:hM,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:mM,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function Yw(e,t,n){return await n()}class Nc{constructor(t){var n,s;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Nc.nextInstanceID,Nc.nextInstanceID+=1,this.instanceID>0&&ka()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const l=Object.assign(Object.assign({},aO),t);if(this.logDebugMessages=!!l.debug,typeof l.debug=="function"&&(this.logger=l.debug),this.persistSession=l.persistSession,this.storageKey=l.storageKey,this.autoRefreshToken=l.autoRefreshToken,this.admin=new XM({url:l.url,headers:l.headers,fetch:l.fetch}),this.url=l.url,this.headers=l.headers,this.fetch=sN(l.fetch),this.lock=l.lock||Yw,this.detectSessionInUrl=l.detectSessionInUrl,this.flowType=l.flowType,this.hasCustomAuthorizationHeader=l.hasCustomAuthorizationHeader,l.lock?this.lock=l.lock:ka()&&(!((n=globalThis?.navigator)===null||n===void 0)&&n.locks)?this.lock=nO:this.lock=Yw,this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?l.storage?this.storage=l.storage:fc()?this.storage=QM:(this.memoryStorage={},this.storage=Gw(this.memoryStorage)):(this.memoryStorage={},this.storage=Gw(this.memoryStorage)),ka()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(o){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",o)}(s=this.broadcastChannel)===null||s===void 0||s.addEventListener("message",async o=>{this._debug("received broadcast notification from other tab or client",o),await this._notifyAllSubscribers(o.data.event,o.data.session,!1)})}this.initialize()}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${tN}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const n=PM(window.location.href);let s="none";if(this._isImplicitGrantCallback(n)?s="implicit":await this._isPKCECallback(n)&&(s="pkce"),ka()&&this.detectSessionInUrl&&s!=="none"){const{data:l,error:o}=await this._getSessionFromURL(n,s);if(o){if(this._debug("#_initialize()","error detecting session from URL",o),yM(o)){const m=(t=o.details)===null||t===void 0?void 0:t.code;if(m==="identity_already_exists"||m==="identity_not_found"||m==="single_identity_not_deletable")return{error:o}}return await this._removeSession(),{error:o}}const{session:d,redirectType:f}=l;return this._debug("#_initialize()","detected session in URL",d,"redirect type",f),await this._saveSession(d),setTimeout(async()=>{f==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",d):await this._notifyAllSubscribers("SIGNED_IN",d)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return tt(n)?{error:n}:{error:new aN("Unexpected error during initialization",n)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var n,s,l;try{const o=await gt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(s=(n=t?.options)===null||n===void 0?void 0:n.data)!==null&&s!==void 0?s:{},gotrue_meta_security:{captcha_token:(l=t?.options)===null||l===void 0?void 0:l.captchaToken}},xform:wr}),{data:d,error:f}=o;if(f||!d)return{data:{user:null,session:null},error:f};const m=d.session,p=d.user;return d.session&&(await this._saveSession(d.session),await this._notifyAllSubscribers("SIGNED_IN",m)),{data:{user:p,session:m},error:null}}catch(o){if(tt(o))return{data:{user:null,session:null},error:o};throw o}}async signUp(t){var n,s,l;try{let o;if("email"in t){const{email:g,password:b,options:y}=t;let w=null,j=null;this.flowType==="pkce"&&([w,j]=await dl(this.storage,this.storageKey)),o=await gt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:y?.emailRedirectTo,body:{email:g,password:b,data:(n=y?.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:y?.captchaToken},code_challenge:w,code_challenge_method:j},xform:wr})}else if("phone"in t){const{phone:g,password:b,options:y}=t;o=await gt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:g,password:b,data:(s=y?.data)!==null&&s!==void 0?s:{},channel:(l=y?.channel)!==null&&l!==void 0?l:"sms",gotrue_meta_security:{captcha_token:y?.captchaToken}},xform:wr})}else throw new cu("You must provide either an email or phone number and a password");const{data:d,error:f}=o;if(f||!d)return{data:{user:null,session:null},error:f};const m=d.session,p=d.user;return d.session&&(await this._saveSession(d.session),await this._notifyAllSubscribers("SIGNED_IN",m)),{data:{user:p,session:m},error:null}}catch(o){if(tt(o))return{data:{user:null,session:null},error:o};throw o}}async signInWithPassword(t){try{let n;if("email"in t){const{email:o,password:d,options:f}=t;n=await gt(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:o,password:d,gotrue_meta_security:{captcha_token:f?.captchaToken}},xform:Vw})}else if("phone"in t){const{phone:o,password:d,options:f}=t;n=await gt(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:o,password:d,gotrue_meta_security:{captcha_token:f?.captchaToken}},xform:Vw})}else throw new cu("You must provide either an email or phone number and a password");const{data:s,error:l}=n;return l?{data:{user:null,session:null},error:l}:!s||!s.session||!s.user?{data:{user:null,session:null},error:new ou}:(s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),{data:Object.assign({user:s.user,session:s.session},s.weak_password?{weakPassword:s.weak_password}:null),error:l})}catch(n){if(tt(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(t){var n,s,l,o;return await this._handleProviderSignIn(t.provider,{redirectTo:(n=t.options)===null||n===void 0?void 0:n.redirectTo,scopes:(s=t.options)===null||s===void 0?void 0:s.scopes,queryParams:(l=t.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:(o=t.options)===null||o===void 0?void 0:o.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:n}=t;if(n==="solana")return await this.signInWithSolana(t);throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}async signInWithSolana(t){var n,s,l,o,d,f,m,p,g,b,y,w;let j,S;if("message"in t)j=t.message,S=t.signature;else{const{chain:_,wallet:R,statement:k,options:N}=t;let A;if(ka())if(typeof R=="object")A=R;else{const E=window;if("solana"in E&&typeof E.solana=="object"&&("signIn"in E.solana&&typeof E.solana.signIn=="function"||"signMessage"in E.solana&&typeof E.solana.signMessage=="function"))A=E.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof R!="object"||!N?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");A=R}const P=new URL((n=N?.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in A&&A.signIn){const E=await A.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},N?.signInWithSolana),{version:"1",domain:P.host,uri:P.href}),k?{statement:k}:null));let T;if(Array.isArray(E)&&E[0]&&typeof E[0]=="object")T=E[0];else if(E&&typeof E=="object"&&"signedMessage"in E&&"signature"in E)T=E;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in T&&"signature"in T&&(typeof T.signedMessage=="string"||T.signedMessage instanceof Uint8Array)&&T.signature instanceof Uint8Array)j=typeof T.signedMessage=="string"?T.signedMessage:new TextDecoder().decode(T.signedMessage),S=T.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in A)||typeof A.signMessage!="function"||!("publicKey"in A)||typeof A!="object"||!A.publicKey||!("toBase58"in A.publicKey)||typeof A.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");j=[`${P.host} wants you to sign in with your Solana account:`,A.publicKey.toBase58(),...k?["",k,""]:[""],"Version: 1",`URI: ${P.href}`,`Issued At: ${(l=(s=N?.signInWithSolana)===null||s===void 0?void 0:s.issuedAt)!==null&&l!==void 0?l:new Date().toISOString()}`,...!((o=N?.signInWithSolana)===null||o===void 0)&&o.notBefore?[`Not Before: ${N.signInWithSolana.notBefore}`]:[],...!((d=N?.signInWithSolana)===null||d===void 0)&&d.expirationTime?[`Expiration Time: ${N.signInWithSolana.expirationTime}`]:[],...!((f=N?.signInWithSolana)===null||f===void 0)&&f.chainId?[`Chain ID: ${N.signInWithSolana.chainId}`]:[],...!((m=N?.signInWithSolana)===null||m===void 0)&&m.nonce?[`Nonce: ${N.signInWithSolana.nonce}`]:[],...!((p=N?.signInWithSolana)===null||p===void 0)&&p.requestId?[`Request ID: ${N.signInWithSolana.requestId}`]:[],...!((b=(g=N?.signInWithSolana)===null||g===void 0?void 0:g.resources)===null||b===void 0)&&b.length?["Resources",...N.signInWithSolana.resources.map(T=>`- ${T}`)]:[]].join(`
`);const E=await A.signMessage(new TextEncoder().encode(j),"utf8");if(!E||!(E instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");S=E}}try{const{data:_,error:R}=await gt(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:j,signature:EM(S)},!((y=t.options)===null||y===void 0)&&y.captchaToken?{gotrue_meta_security:{captcha_token:(w=t.options)===null||w===void 0?void 0:w.captchaToken}}:null),xform:wr});if(R)throw R;return!_||!_.session||!_.user?{data:{user:null,session:null},error:new ou}:(_.session&&(await this._saveSession(_.session),await this._notifyAllSubscribers("SIGNED_IN",_.session)),{data:Object.assign({},_),error:R})}catch(_){if(tt(_))return{data:{user:null,session:null},error:_};throw _}}async _exchangeCodeForSession(t){const n=await uu(this.storage,`${this.storageKey}-code-verifier`),[s,l]=(n??"").split("/");try{const{data:o,error:d}=await gt(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:s},xform:wr});if(await fu(this.storage,`${this.storageKey}-code-verifier`),d)throw d;return!o||!o.session||!o.user?{data:{user:null,session:null,redirectType:null},error:new ou}:(o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",o.session)),{data:Object.assign(Object.assign({},o),{redirectType:l??null}),error:d})}catch(o){if(tt(o))return{data:{user:null,session:null,redirectType:null},error:o};throw o}}async signInWithIdToken(t){try{const{options:n,provider:s,token:l,access_token:o,nonce:d}=t,f=await gt(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:s,id_token:l,access_token:o,nonce:d,gotrue_meta_security:{captcha_token:n?.captchaToken}},xform:wr}),{data:m,error:p}=f;return p?{data:{user:null,session:null},error:p}:!m||!m.session||!m.user?{data:{user:null,session:null},error:new ou}:(m.session&&(await this._saveSession(m.session),await this._notifyAllSubscribers("SIGNED_IN",m.session)),{data:m,error:p})}catch(n){if(tt(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(t){var n,s,l,o,d;try{if("email"in t){const{email:f,options:m}=t;let p=null,g=null;this.flowType==="pkce"&&([p,g]=await dl(this.storage,this.storageKey));const{error:b}=await gt(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:f,data:(n=m?.data)!==null&&n!==void 0?n:{},create_user:(s=m?.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:m?.captchaToken},code_challenge:p,code_challenge_method:g},redirectTo:m?.emailRedirectTo});return{data:{user:null,session:null},error:b}}if("phone"in t){const{phone:f,options:m}=t,{data:p,error:g}=await gt(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:f,data:(l=m?.data)!==null&&l!==void 0?l:{},create_user:(o=m?.shouldCreateUser)!==null&&o!==void 0?o:!0,gotrue_meta_security:{captcha_token:m?.captchaToken},channel:(d=m?.channel)!==null&&d!==void 0?d:"sms"}});return{data:{user:null,session:null,messageId:p?.message_id},error:g}}throw new cu("You must provide either an email or phone number.")}catch(f){if(tt(f))return{data:{user:null,session:null},error:f};throw f}}async verifyOtp(t){var n,s;try{let l,o;"options"in t&&(l=(n=t.options)===null||n===void 0?void 0:n.redirectTo,o=(s=t.options)===null||s===void 0?void 0:s.captchaToken);const{data:d,error:f}=await gt(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:o}}),redirectTo:l,xform:wr});if(f)throw f;if(!d)throw new Error("An error occurred on token verification.");const m=d.session,p=d.user;return m?.access_token&&(await this._saveSession(m),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",m)),{data:{user:p,session:m},error:null}}catch(l){if(tt(l))return{data:{user:null,session:null},error:l};throw l}}async signInWithSSO(t){var n,s,l;try{let o=null,d=null;return this.flowType==="pkce"&&([o,d]=await dl(this.storage,this.storageKey)),await gt(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(s=(n=t.options)===null||n===void 0?void 0:n.redirectTo)!==null&&s!==void 0?s:void 0}),!((l=t?.options)===null||l===void 0)&&l.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:o,code_challenge_method:d}),headers:this.headers,xform:YM})}catch(o){if(tt(o))return{data:null,error:o};throw o}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:n},error:s}=t;if(s)throw s;if(!n)throw new hs;const{error:l}=await gt(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:l}})}catch(t){if(tt(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const n=`${this.url}/resend`;if("email"in t){const{email:s,type:l,options:o}=t,{error:d}=await gt(this.fetch,"POST",n,{headers:this.headers,body:{email:s,type:l,gotrue_meta_security:{captcha_token:o?.captchaToken}},redirectTo:o?.emailRedirectTo});return{data:{user:null,session:null},error:d}}else if("phone"in t){const{phone:s,type:l,options:o}=t,{data:d,error:f}=await gt(this.fetch,"POST",n,{headers:this.headers,body:{phone:s,type:l,gotrue_meta_security:{captcha_token:o?.captchaToken}}});return{data:{user:null,session:null,messageId:d?.message_id},error:f}}throw new cu("You must provide either an email or phone number and a type")}catch(n){if(tt(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(t,n){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const s=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),l=(async()=>(await s,await n()))();return this.pendingInLock.push((async()=>{try{await l}catch{}})()),l}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const s=n();for(this.pendingInLock.push((async()=>{try{await s}catch{}})()),await s;this.pendingInLock.length;){const l=[...this.pendingInLock];await Promise.all(l),this.pendingInLock.splice(0,l.length)}return await s}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await t(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const n=await uu(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?t=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const s=t.expires_at?t.expires_at*1e3-Date.now()<Cp:!1;if(this._debug("#__loadSession()",`session has${s?"":" not"} expired`,"expires_at",t.expires_at),!s){if(this.storage.isServer){let d=this.suppressGetSessionWarning;t=new Proxy(t,{get:(m,p,g)=>(!d&&p==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),d=!0,this.suppressGetSessionWarning=!0),Reflect.get(m,p,g))})}return{data:{session:t},error:null}}const{session:l,error:o}=await this._callRefreshToken(t.refresh_token);return o?{data:{session:null},error:o}:{data:{session:l},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await gt(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:xs}):await this._useSession(async n=>{var s,l,o;const{data:d,error:f}=n;if(f)throw f;return!(!((s=d.session)===null||s===void 0)&&s.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new hs}:await gt(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(o=(l=d.session)===null||l===void 0?void 0:l.access_token)!==null&&o!==void 0?o:void 0,xform:xs})})}catch(n){if(tt(n))return vM(n)&&(await this._removeSession(),await fu(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:n};throw n}}async updateUser(t,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,n))}async _updateUser(t,n={}){try{return await this._useSession(async s=>{const{data:l,error:o}=s;if(o)throw o;if(!l.session)throw new hs;const d=l.session;let f=null,m=null;this.flowType==="pkce"&&t.email!=null&&([f,m]=await dl(this.storage,this.storageKey));const{data:p,error:g}=await gt(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n?.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:f,code_challenge_method:m}),jwt:d.access_token,xform:xs});if(g)throw g;return d.user=p.user,await this._saveSession(d),await this._notifyAllSubscribers("USER_UPDATED",d),{data:{user:d.user},error:null}})}catch(s){if(tt(s))return{data:{user:null},error:s};throw s}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new hs;const n=Date.now()/1e3;let s=n,l=!0,o=null;const{payload:d}=Rp(t.access_token);if(d.exp&&(s=d.exp,l=s<=n),l){const{session:f,error:m}=await this._callRefreshToken(t.refresh_token);if(m)return{data:{user:null,session:null},error:m};if(!f)return{data:{user:null,session:null},error:null};o=f}else{const{data:f,error:m}=await this._getUser(t.access_token);if(m)throw m;o={access_token:t.access_token,refresh_token:t.refresh_token,user:f.user,token_type:"bearer",expires_in:s-n,expires_at:s},await this._saveSession(o),await this._notifyAllSubscribers("SIGNED_IN",o)}return{data:{user:o.user,session:o},error:null}}catch(n){if(tt(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async n=>{var s;if(!t){const{data:d,error:f}=n;if(f)throw f;t=(s=d.session)!==null&&s!==void 0?s:void 0}if(!t?.refresh_token)throw new hs;const{session:l,error:o}=await this._callRefreshToken(t.refresh_token);return o?{data:{user:null,session:null},error:o}:l?{data:{user:l.user,session:l},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if(tt(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromURL(t,n){try{if(!ka())throw new du("No browser detected.");if(t.error||t.error_description||t.error_code)throw new du(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new Fw("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new du("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new Fw("No code detected.");const{data:k,error:N}=await this._exchangeCodeForSession(t.code);if(N)throw N;const A=new URL(window.location.href);return A.searchParams.delete("code"),window.history.replaceState(window.history.state,"",A.toString()),{data:{session:k.session,redirectType:null},error:null}}const{provider_token:s,provider_refresh_token:l,access_token:o,refresh_token:d,expires_in:f,expires_at:m,token_type:p}=t;if(!o||!f||!d||!p)throw new du("No session defined in URL");const g=Math.round(Date.now()/1e3),b=parseInt(f);let y=g+b;m&&(y=parseInt(m));const w=y-g;w*1e3<=bl&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${w}s, should have been closer to ${b}s`);const j=y-b;g-j>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",j,y,g):g-j<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",j,y,g);const{data:S,error:_}=await this._getUser(o);if(_)throw _;const R={provider_token:s,provider_refresh_token:l,access_token:o,expires_in:b,expires_at:y,refresh_token:d,token_type:p,user:S.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:R,redirectType:t.type},error:null}}catch(s){if(tt(s))return{data:{session:null,redirectType:null},error:s};throw s}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const n=await uu(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&n)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async n=>{var s;const{data:l,error:o}=n;if(o)return{error:o};const d=(s=l.session)===null||s===void 0?void 0:s.access_token;if(d){const{error:f}=await this.admin.signOut(d,t);if(f&&!(bM(f)&&(f.status===404||f.status===401||f.status===403)))return{error:f}}return t!=="others"&&(await this._removeSession(),await fu(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const n=AM(),s={id:n,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,s),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:s}}}async _emitInitialSession(t){return await this._useSession(async n=>{var s,l;try{const{data:{session:o},error:d}=n;if(d)throw d;await((s=this.stateChangeEmitters.get(t))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",o)),this._debug("INITIAL_SESSION","callback id",t,"session",o)}catch(o){await((l=this.stateChangeEmitters.get(t))===null||l===void 0?void 0:l.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",o),console.error(o)}})}async resetPasswordForEmail(t,n={}){let s=null,l=null;this.flowType==="pkce"&&([s,l]=await dl(this.storage,this.storageKey,!0));try{return await gt(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:s,code_challenge_method:l,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(o){if(tt(o))return{data:null,error:o};throw o}}async getUserIdentities(){var t;try{const{data:n,error:s}=await this.getUser();if(s)throw s;return{data:{identities:(t=n.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(n){if(tt(n))return{data:null,error:n};throw n}}async linkIdentity(t){var n;try{const{data:s,error:l}=await this._useSession(async o=>{var d,f,m,p,g;const{data:b,error:y}=o;if(y)throw y;const w=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(d=t.options)===null||d===void 0?void 0:d.redirectTo,scopes:(f=t.options)===null||f===void 0?void 0:f.scopes,queryParams:(m=t.options)===null||m===void 0?void 0:m.queryParams,skipBrowserRedirect:!0});return await gt(this.fetch,"GET",w,{headers:this.headers,jwt:(g=(p=b.session)===null||p===void 0?void 0:p.access_token)!==null&&g!==void 0?g:void 0})});if(l)throw l;return ka()&&!(!((n=t.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(s?.url),{data:{provider:t.provider,url:s?.url},error:null}}catch(s){if(tt(s))return{data:{provider:t.provider,url:null},error:s};throw s}}async unlinkIdentity(t){try{return await this._useSession(async n=>{var s,l;const{data:o,error:d}=n;if(d)throw d;return await gt(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(l=(s=o.session)===null||s===void 0?void 0:s.access_token)!==null&&l!==void 0?l:void 0})})}catch(n){if(tt(n))return{data:null,error:n};throw n}}async _refreshAccessToken(t){const n=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(n,"begin");try{const s=Date.now();return await DM(async l=>(l>0&&await TM(200*Math.pow(2,l-1)),this._debug(n,"refreshing attempt",l),await gt(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:wr})),(l,o)=>{const d=200*Math.pow(2,l);return o&&Ep(o)&&Date.now()+d-s<bl})}catch(s){if(this._debug(n,"error",s),tt(s))return{data:{session:null,user:null},error:s};throw s}finally{this._debug(n,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,n){const s=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",n,"url",s),ka()&&!n.skipBrowserRedirect&&window.location.assign(s),{data:{provider:t,url:s},error:null}}async _recoverAndRefresh(){var t;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const s=await uu(this.storage,this.storageKey);if(this._debug(n,"session from storage",s),!this._isValidSession(s)){this._debug(n,"session is not valid"),s!==null&&await this._removeSession();return}const l=((t=s.expires_at)!==null&&t!==void 0?t:1/0)*1e3-Date.now()<Cp;if(this._debug(n,`session has${l?"":" not"} expired with margin of ${Cp}s`),l){if(this.autoRefreshToken&&s.refresh_token){const{error:o}=await this._callRefreshToken(s.refresh_token);o&&(console.error(o),Ep(o)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",s)}catch(s){this._debug(n,"error",s),console.error(s);return}finally{this._debug(n,"end")}}async _callRefreshToken(t){var n,s;if(!t)throw new hs;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const l=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(l,"begin");try{this.refreshingDeferred=new $f;const{data:o,error:d}=await this._refreshAccessToken(t);if(d)throw d;if(!o.session)throw new hs;await this._saveSession(o.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",o.session);const f={session:o.session,error:null};return this.refreshingDeferred.resolve(f),f}catch(o){if(this._debug(l,"error",o),tt(o)){const d={session:null,error:o};return Ep(o)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(d),d}throw(s=this.refreshingDeferred)===null||s===void 0||s.reject(o),o}finally{this.refreshingDeferred=null,this._debug(l,"end")}}async _notifyAllSubscribers(t,n,s=!0){const l=`#_notifyAllSubscribers(${t})`;this._debug(l,"begin",n,`broadcast = ${s}`);try{this.broadcastChannel&&s&&this.broadcastChannel.postMessage({event:t,session:n});const o=[],d=Array.from(this.stateChangeEmitters.values()).map(async f=>{try{await f.callback(t,n)}catch(m){o.push(m)}});if(await Promise.all(d),o.length>0){for(let f=0;f<o.length;f+=1)console.error(o[f]);throw o[0]}}finally{this._debug(l,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await iN(this.storage,this.storageKey,t)}async _removeSession(){this._debug("#_removeSession()"),await fu(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&ka()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",t)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),bl);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async n=>{const{data:{session:s}}=n;if(!s||!s.refresh_token||!s.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const l=Math.floor((s.expires_at*1e3-t)/bl);this._debug("#_autoRefreshTokenTick()",`access token expires in ${l} ticks, a tick lasts ${bl}ms, refresh threshold is ${ug} ticks`),l<=ug&&await this._callRefreshToken(s.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof lN)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!ka()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const n=`#_onVisibilityChanged(${t})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,n,s){const l=[`provider=${encodeURIComponent(n)}`];if(s?.redirectTo&&l.push(`redirect_to=${encodeURIComponent(s.redirectTo)}`),s?.scopes&&l.push(`scopes=${encodeURIComponent(s.scopes)}`),this.flowType==="pkce"){const[o,d]=await dl(this.storage,this.storageKey),f=new URLSearchParams({code_challenge:`${encodeURIComponent(o)}`,code_challenge_method:`${encodeURIComponent(d)}`});l.push(f.toString())}if(s?.queryParams){const o=new URLSearchParams(s.queryParams);l.push(o.toString())}return s?.skipBrowserRedirect&&l.push(`skip_http_redirect=${s.skipBrowserRedirect}`),`${t}?${l.join("&")}`}async _unenroll(t){try{return await this._useSession(async n=>{var s;const{data:l,error:o}=n;return o?{data:null,error:o}:await gt(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(s=l?.session)===null||s===void 0?void 0:s.access_token})})}catch(n){if(tt(n))return{data:null,error:n};throw n}}async _enroll(t){try{return await this._useSession(async n=>{var s,l;const{data:o,error:d}=n;if(d)return{data:null,error:d};const f=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:{issuer:t.issuer}),{data:m,error:p}=await gt(this.fetch,"POST",`${this.url}/factors`,{body:f,headers:this.headers,jwt:(s=o?.session)===null||s===void 0?void 0:s.access_token});return p?{data:null,error:p}:(t.factorType==="totp"&&(!((l=m?.totp)===null||l===void 0)&&l.qr_code)&&(m.totp.qr_code=`data:image/svg+xml;utf-8,${m.totp.qr_code}`),{data:m,error:null})})}catch(n){if(tt(n))return{data:null,error:n};throw n}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var s;const{data:l,error:o}=n;if(o)return{data:null,error:o};const{data:d,error:f}=await gt(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(s=l?.session)===null||s===void 0?void 0:s.access_token});return f?{data:null,error:f}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+d.expires_in},d)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",d),{data:d,error:f})})}catch(n){if(tt(n))return{data:null,error:n};throw n}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var s;const{data:l,error:o}=n;return o?{data:null,error:o}:await gt(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:this.headers,jwt:(s=l?.session)===null||s===void 0?void 0:s.access_token})})}catch(n){if(tt(n))return{data:null,error:n};throw n}})}async _challengeAndVerify(t){const{data:n,error:s}=await this._challenge({factorId:t.factorId});return s?{data:null,error:s}:await this._verify({factorId:t.factorId,challengeId:n.id,code:t.code})}async _listFactors(){const{data:{user:t},error:n}=await this.getUser();if(n)return{data:null,error:n};const s=t?.factors||[],l=s.filter(d=>d.factor_type==="totp"&&d.status==="verified"),o=s.filter(d=>d.factor_type==="phone"&&d.status==="verified");return{data:{all:s,totp:l,phone:o},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var n,s;const{data:{session:l},error:o}=t;if(o)return{data:null,error:o};if(!l)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:d}=Rp(l.access_token);let f=null;d.aal&&(f=d.aal);let m=f;((s=(n=l.user.factors)===null||n===void 0?void 0:n.filter(b=>b.status==="verified"))!==null&&s!==void 0?s:[]).length>0&&(m="aal2");const g=d.amr||[];return{data:{currentLevel:f,nextLevel:m,currentAuthenticationMethods:g},error:null}}))}async fetchJwk(t,n={keys:[]}){let s=n.keys.find(d=>d.kid===t);if(s||(s=this.jwks.keys.find(d=>d.kid===t),s&&this.jwks_cached_at+gM>Date.now()))return s;const{data:l,error:o}=await gt(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;if(!l.keys||l.keys.length===0)throw new uc("JWKS is empty");if(this.jwks=l,this.jwks_cached_at=Date.now(),s=l.keys.find(d=>d.kid===t),!s)throw new uc("No matching signing key found in JWKS");return s}async getClaims(t,n={keys:[]}){try{let s=t;if(!s){const{data:w,error:j}=await this.getSession();if(j||!w.session)return{data:null,error:j};s=w.session.access_token}const{header:l,payload:o,signature:d,raw:{header:f,payload:m}}=Rp(s);if(IM(o.exp),!l.kid||l.alg==="HS256"||!("crypto"in globalThis&&"subtle"in globalThis.crypto)){const{error:w}=await this.getUser(s);if(w)throw w;return{data:{claims:o,header:l,signature:d},error:null}}const p=BM(l.alg),g=await this.fetchJwk(l.kid,n),b=await crypto.subtle.importKey("jwk",g,p,!0,["verify"]);if(!await crypto.subtle.verify(p,b,d,CM(`${f}.${m}`)))throw new uc("Invalid JWT signature");return{data:{claims:o,header:l,signature:d},error:null}}catch(s){if(tt(s))return{data:null,error:s};throw s}}}Nc.nextInstanceID=0;const rO=Nc;class sO extends rO{constructor(t){super(t)}}var iO=function(e,t,n,s){function l(o){return o instanceof n?o:new n(function(d){d(o)})}return new(n||(n=Promise))(function(o,d){function f(g){try{p(s.next(g))}catch(b){d(b)}}function m(g){try{p(s.throw(g))}catch(b){d(b)}}function p(g){g.done?o(g.value):l(g.value).then(f,m)}p((s=s.apply(e,t||[])).next())})};class lO{constructor(t,n,s){var l,o,d;if(this.supabaseUrl=t,this.supabaseKey=n,!t)throw new Error("supabaseUrl is required.");if(!n)throw new Error("supabaseKey is required.");const f=dM(t),m=new URL(f);this.realtimeUrl=new URL("realtime/v1",m),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",m),this.storageUrl=new URL("storage/v1",m),this.functionsUrl=new URL("functions/v1",m);const p=`sb-${m.hostname.split(".")[0]}-auth-token`,g={db:nM,realtime:rM,auth:Object.assign(Object.assign({},aM),{storageKey:p}),global:tM},b=uM(s??{},g);this.storageKey=(l=b.auth.storageKey)!==null&&l!==void 0?l:"",this.headers=(o=b.global.headers)!==null&&o!==void 0?o:{},b.accessToken?(this.accessToken=b.accessToken,this.auth=new Proxy({},{get:(y,w)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(w)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((d=b.auth)!==null&&d!==void 0?d:{},this.headers,b.global.fetch),this.fetch=oM(n,this._getAccessToken.bind(this),b.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},b.realtime)),this.rest=new N8(new URL("rest/v1",m).href,{headers:this.headers,schema:b.db.schema,fetch:this.fetch}),b.accessToken||this._listenForAuthEvents()}get functions(){return new f8(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}get storage(){return new X8(this.storageUrl.href,this.headers,this.fetch)}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,n={},s={}){return this.rest.rpc(t,n,s)}channel(t,n={config:{}}){return this.realtime.channel(t,n)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,n;return iO(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:s}=yield this.auth.getSession();return(n=(t=s.session)===null||t===void 0?void 0:t.access_token)!==null&&n!==void 0?n:null})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:n,detectSessionInUrl:s,storage:l,storageKey:o,flowType:d,lock:f,debug:m},p,g){const b={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new sO({url:this.authUrl.href,headers:Object.assign(Object.assign({},b),p),storageKey:o,autoRefreshToken:t,persistSession:n,detectSessionInUrl:s,storage:l,flowType:d,lock:f,debug:m,fetch:g,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(t){return new F8(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,s)=>{this._handleTokenChanged(n,"CLIENT",s?.access_token)})}_handleTokenChanged(t,n,s){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==s?this.changedAccessToken=s:t==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const oO=(e,t,n)=>new lO(e,t,n),cO="https://aoqekaevjsxryyyelpes.supabase.co",dO="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImFvcWVrYWV2anN4cnl5eWVscGVzIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTA3MTAzODAsImV4cCI6MjA2NjI4NjM4MH0.uDOpDqBu-tLM023hG1zfNwoYB4t2NM-9wQFne3QOI50",ee=oO(cO,dO,{auth:{persistSession:!0}});function et({error:e}){const[t,n]=h.useState(!0);return t?a.jsx("div",{className:"rounded-md bg-red-50 p-4",children:a.jsxs("div",{className:"flex justify-between items-start",children:[a.jsx("div",{className:"flex-1",children:a.jsx("h3",{className:"text-sm font-medium text-red-800",children:e})}),a.jsx("button",{onClick:()=>n(!1),className:"ml-4 text-red-400 hover:text-red-600 transition-colors","aria-label":"Close error message",children:a.jsx("svg",{className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:a.jsx("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})})})]})}):null}let uO={data:""},fO=e=>typeof window=="object"?((e?e.querySelector("#_goober"):window._goober)||Object.assign((e||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:e||uO,hO=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,mO=/\/\*[^]*?\*\/|  +/g,Kw=/\n+/g,bs=(e,t)=>{let n="",s="",l="";for(let o in e){let d=e[o];o[0]=="@"?o[1]=="i"?n=o+" "+d+";":s+=o[1]=="f"?bs(d,o):o+"{"+bs(d,o[1]=="k"?"":t)+"}":typeof d=="object"?s+=bs(d,t?t.replace(/([^,])+/g,f=>o.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,m=>/&/.test(m)?m.replace(/&/g,f):f?f+" "+m:m)):o):d!=null&&(o=/^--/.test(o)?o:o.replace(/[A-Z]/g,"-$&").toLowerCase(),l+=bs.p?bs.p(o,d):o+":"+d+";")}return n+(t&&l?t+"{"+l+"}":l)+s},yr={},oN=e=>{if(typeof e=="object"){let t="";for(let n in e)t+=n+oN(e[n]);return t}return e},pO=(e,t,n,s,l)=>{let o=oN(e),d=yr[o]||(yr[o]=(m=>{let p=0,g=11;for(;p<m.length;)g=101*g+m.charCodeAt(p++)>>>0;return"go"+g})(o));if(!yr[d]){let m=o!==e?e:(p=>{let g,b,y=[{}];for(;g=hO.exec(p.replace(mO,""));)g[4]?y.shift():g[3]?(b=g[3].replace(Kw," ").trim(),y.unshift(y[0][b]=y[0][b]||{})):y[0][g[1]]=g[2].replace(Kw," ").trim();return y[0]})(e);yr[d]=bs(l?{["@keyframes "+d]:m}:m,n?"":"."+d)}let f=n&&yr.g?yr.g:null;return n&&(yr.g=yr[d]),((m,p,g,b)=>{b?p.data=p.data.replace(b,m):p.data.indexOf(m)===-1&&(p.data=g?m+p.data:p.data+m)})(yr[d],t,s,f),d},gO=(e,t,n)=>e.reduce((s,l,o)=>{let d=t[o];if(d&&d.call){let f=d(n),m=f&&f.props&&f.props.className||/^go/.test(f)&&f;d=m?"."+m:f&&typeof f=="object"?f.props?"":bs(f,""):f===!1?"":f}return s+l+(d??"")},"");function Ff(e){let t=this||{},n=e.call?e(t.p):e;return pO(n.unshift?n.raw?gO(n,[].slice.call(arguments,1),t.p):n.reduce((s,l)=>Object.assign(s,l&&l.call?l(t.p):l),{}):n,fO(t.target),t.g,t.o,t.k)}let cN,mg,pg;Ff.bind({g:1});let kr=Ff.bind({k:1});function xO(e,t,n,s){bs.p=t,cN=e,mg=n,pg=s}function As(e,t){let n=this||{};return function(){let s=arguments;function l(o,d){let f=Object.assign({},o),m=f.className||l.className;n.p=Object.assign({theme:mg&&mg()},f),n.o=/ *go\d+/.test(m),f.className=Ff.apply(n,s)+(m?" "+m:"");let p=e;return e[0]&&(p=f.as||e,delete f.as),pg&&p[0]&&pg(f),cN(p,f)}return l}}var bO=e=>typeof e=="function",tf=(e,t)=>bO(e)?e(t):e,vO=(()=>{let e=0;return()=>(++e).toString()})(),dN=(()=>{let e;return()=>{if(e===void 0&&typeof window<"u"){let t=matchMedia("(prefers-reduced-motion: reduce)");e=!t||t.matches}return e}})(),yO=20,uN=(e,t)=>{switch(t.type){case 0:return{...e,toasts:[t.toast,...e.toasts].slice(0,yO)};case 1:return{...e,toasts:e.toasts.map(o=>o.id===t.toast.id?{...o,...t.toast}:o)};case 2:let{toast:n}=t;return uN(e,{type:e.toasts.find(o=>o.id===n.id)?1:0,toast:n});case 3:let{toastId:s}=t;return{...e,toasts:e.toasts.map(o=>o.id===s||s===void 0?{...o,dismissed:!0,visible:!1}:o)};case 4:return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(o=>o.id!==t.toastId)};case 5:return{...e,pausedAt:t.time};case 6:let l=t.time-(e.pausedAt||0);return{...e,pausedAt:void 0,toasts:e.toasts.map(o=>({...o,pauseDuration:o.pauseDuration+l}))}}},Eu=[],ai={toasts:[],pausedAt:void 0},vi=e=>{ai=uN(ai,e),Eu.forEach(t=>{t(ai)})},wO={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},jO=(e={})=>{let[t,n]=h.useState(ai),s=h.useRef(ai);h.useEffect(()=>(s.current!==ai&&n(ai),Eu.push(n),()=>{let o=Eu.indexOf(n);o>-1&&Eu.splice(o,1)}),[]);let l=t.toasts.map(o=>{var d,f,m;return{...e,...e[o.type],...o,removeDelay:o.removeDelay||((d=e[o.type])==null?void 0:d.removeDelay)||e?.removeDelay,duration:o.duration||((f=e[o.type])==null?void 0:f.duration)||e?.duration||wO[o.type],style:{...e.style,...(m=e[o.type])==null?void 0:m.style,...o.style}}});return{...t,toasts:l}},SO=(e,t="blank",n)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:t,ariaProps:{role:"status","aria-live":"polite"},message:e,pauseDuration:0,...n,id:n?.id||vO()}),Ic=e=>(t,n)=>{let s=SO(t,e,n);return vi({type:2,toast:s}),s.id},Un=(e,t)=>Ic("blank")(e,t);Un.error=Ic("error");Un.success=Ic("success");Un.loading=Ic("loading");Un.custom=Ic("custom");Un.dismiss=e=>{vi({type:3,toastId:e})};Un.remove=e=>vi({type:4,toastId:e});Un.promise=(e,t,n)=>{let s=Un.loading(t.loading,{...n,...n?.loading});return typeof e=="function"&&(e=e()),e.then(l=>{let o=t.success?tf(t.success,l):void 0;return o?Un.success(o,{id:s,...n,...n?.success}):Un.dismiss(s),l}).catch(l=>{let o=t.error?tf(t.error,l):void 0;o?Un.error(o,{id:s,...n,...n?.error}):Un.dismiss(s)}),e};var NO=(e,t)=>{vi({type:1,toast:{id:e,height:t}})},_O=()=>{vi({type:5,time:Date.now()})},hc=new Map,CO=1e3,EO=(e,t=CO)=>{if(hc.has(e))return;let n=setTimeout(()=>{hc.delete(e),vi({type:4,toastId:e})},t);hc.set(e,n)},RO=e=>{let{toasts:t,pausedAt:n}=jO(e);h.useEffect(()=>{if(n)return;let o=Date.now(),d=t.map(f=>{if(f.duration===1/0)return;let m=(f.duration||0)+f.pauseDuration-(o-f.createdAt);if(m<0){f.visible&&Un.dismiss(f.id);return}return setTimeout(()=>Un.dismiss(f.id),m)});return()=>{d.forEach(f=>f&&clearTimeout(f))}},[t,n]);let s=h.useCallback(()=>{n&&vi({type:6,time:Date.now()})},[n]),l=h.useCallback((o,d)=>{let{reverseOrder:f=!1,gutter:m=8,defaultPosition:p}=d||{},g=t.filter(w=>(w.position||p)===(o.position||p)&&w.height),b=g.findIndex(w=>w.id===o.id),y=g.filter((w,j)=>j<b&&w.visible).length;return g.filter(w=>w.visible).slice(...f?[y+1]:[0,y]).reduce((w,j)=>w+(j.height||0)+m,0)},[t]);return h.useEffect(()=>{t.forEach(o=>{if(o.dismissed)EO(o.id,o.removeDelay);else{let d=hc.get(o.id);d&&(clearTimeout(d),hc.delete(o.id))}})},[t]),{toasts:t,handlers:{updateHeight:NO,startPause:_O,endPause:s,calculateOffset:l}}},AO=kr`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,PO=kr`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,kO=kr`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,TO=As("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${AO} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${PO} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${e=>e.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${kO} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,DO=kr`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,MO=As("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${e=>e.secondary||"#e0e0e0"};
  border-right-color: ${e=>e.primary||"#616161"};
  animation: ${DO} 1s linear infinite;
`,OO=kr`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,LO=kr`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,UO=As("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${OO} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${LO} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${e=>e.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,$O=As("div")`
  position: absolute;
`,FO=As("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,IO=kr`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,BO=As("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${IO} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,zO=({toast:e})=>{let{icon:t,type:n,iconTheme:s}=e;return t!==void 0?typeof t=="string"?h.createElement(BO,null,t):t:n==="blank"?null:h.createElement(FO,null,h.createElement(MO,{...s}),n!=="loading"&&h.createElement($O,null,n==="error"?h.createElement(TO,{...s}):h.createElement(UO,{...s})))},qO=e=>`
0% {transform: translate3d(0,${e*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,HO=e=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${e*-150}%,-1px) scale(.6); opacity:0;}
`,VO="0%{opacity:0;} 100%{opacity:1;}",GO="0%{opacity:1;} 100%{opacity:0;}",YO=As("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,KO=As("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,WO=(e,t)=>{let n=e.includes("top")?1:-1,[s,l]=dN()?[VO,GO]:[qO(n),HO(n)];return{animation:t?`${kr(s)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${kr(l)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},JO=h.memo(({toast:e,position:t,style:n,children:s})=>{let l=e.height?WO(e.position||t||"top-center",e.visible):{opacity:0},o=h.createElement(zO,{toast:e}),d=h.createElement(KO,{...e.ariaProps},tf(e.message,e));return h.createElement(YO,{className:e.className,style:{...l,...n,...e.style}},typeof s=="function"?s({icon:o,message:d}):h.createElement(h.Fragment,null,o,d))});xO(h.createElement);var ZO=({id:e,className:t,style:n,onHeightUpdate:s,children:l})=>{let o=h.useCallback(d=>{if(d){let f=()=>{let m=d.getBoundingClientRect().height;s(e,m)};f(),new MutationObserver(f).observe(d,{subtree:!0,childList:!0,characterData:!0})}},[e,s]);return h.createElement("div",{ref:o,className:t,style:n},l)},XO=(e,t)=>{let n=e.includes("top"),s=n?{top:0}:{bottom:0},l=e.includes("center")?{justifyContent:"center"}:e.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:dN()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${t*(n?1:-1)}px)`,...s,...l}},QO=Ff`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,hu=16,fN=({reverseOrder:e,position:t="top-center",toastOptions:n,gutter:s,children:l,containerStyle:o,containerClassName:d})=>{let{toasts:f,handlers:m}=RO(n);return h.createElement("div",{id:"_rht_toaster",style:{position:"fixed",zIndex:9999,top:hu,left:hu,right:hu,bottom:hu,pointerEvents:"none",...o},className:d,onMouseEnter:m.startPause,onMouseLeave:m.endPause},f.map(p=>{let g=p.position||t,b=m.calculateOffset(p,{reverseOrder:e,gutter:s,defaultPosition:t}),y=XO(g,b);return h.createElement(ZO,{id:p.id,key:p.id,onHeightUpdate:m.updateHeight,className:p.visible?QO:"",style:y},p.type==="custom"?tf(p.message,p):l?l(p):h.createElement(JO,{toast:p,position:g}))}))},xe=Un;const Ze=e=>typeof e=="string",Xo=()=>{let e,t;const n=new Promise((s,l)=>{e=s,t=l});return n.resolve=e,n.reject=t,n},Ww=e=>e==null?"":""+e,e7=(e,t,n)=>{e.forEach(s=>{t[s]&&(n[s]=t[s])})},t7=/###/g,Jw=e=>e&&e.indexOf("###")>-1?e.replace(t7,"."):e,Zw=e=>!e||Ze(e),mc=(e,t,n)=>{const s=Ze(t)?t.split("."):t;let l=0;for(;l<s.length-1;){if(Zw(e))return{};const o=Jw(s[l]);!e[o]&&n&&(e[o]=new n),Object.prototype.hasOwnProperty.call(e,o)?e=e[o]:e={},++l}return Zw(e)?{}:{obj:e,k:Jw(s[l])}},Xw=(e,t,n)=>{const{obj:s,k:l}=mc(e,t,Object);if(s!==void 0||t.length===1){s[l]=n;return}let o=t[t.length-1],d=t.slice(0,t.length-1),f=mc(e,d,Object);for(;f.obj===void 0&&d.length;)o=`${d[d.length-1]}.${o}`,d=d.slice(0,d.length-1),f=mc(e,d,Object),f?.obj&&typeof f.obj[`${f.k}.${o}`]<"u"&&(f.obj=void 0);f.obj[`${f.k}.${o}`]=n},n7=(e,t,n,s)=>{const{obj:l,k:o}=mc(e,t,Object);l[o]=l[o]||[],l[o].push(n)},nf=(e,t)=>{const{obj:n,k:s}=mc(e,t);if(n&&Object.prototype.hasOwnProperty.call(n,s))return n[s]},a7=(e,t,n)=>{const s=nf(e,n);return s!==void 0?s:nf(t,n)},hN=(e,t,n)=>{for(const s in t)s!=="__proto__"&&s!=="constructor"&&(s in e?Ze(e[s])||e[s]instanceof String||Ze(t[s])||t[s]instanceof String?n&&(e[s]=t[s]):hN(e[s],t[s],n):e[s]=t[s]);return e},hl=e=>e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");var r7={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};const s7=e=>Ze(e)?e.replace(/[&<>"'\/]/g,t=>r7[t]):e;class i7{constructor(t){this.capacity=t,this.regExpMap=new Map,this.regExpQueue=[]}getRegExp(t){const n=this.regExpMap.get(t);if(n!==void 0)return n;const s=new RegExp(t);return this.regExpQueue.length===this.capacity&&this.regExpMap.delete(this.regExpQueue.shift()),this.regExpMap.set(t,s),this.regExpQueue.push(t),s}}const l7=[" ",",","?","!",";"],o7=new i7(20),c7=(e,t,n)=>{t=t||"",n=n||"";const s=l7.filter(d=>t.indexOf(d)<0&&n.indexOf(d)<0);if(s.length===0)return!0;const l=o7.getRegExp(`(${s.map(d=>d==="?"?"\\?":d).join("|")})`);let o=!l.test(e);if(!o){const d=e.indexOf(n);d>0&&!l.test(e.substring(0,d))&&(o=!0)}return o},gg=(e,t,n=".")=>{if(!e)return;if(e[t])return Object.prototype.hasOwnProperty.call(e,t)?e[t]:void 0;const s=t.split(n);let l=e;for(let o=0;o<s.length;){if(!l||typeof l!="object")return;let d,f="";for(let m=o;m<s.length;++m)if(m!==o&&(f+=n),f+=s[m],d=l[f],d!==void 0){if(["string","number","boolean"].indexOf(typeof d)>-1&&m<s.length-1)continue;o+=m-o+1;break}l=d}return l},_c=e=>e?.replace("_","-"),d7={type:"logger",log(e){this.output("log",e)},warn(e){this.output("warn",e)},error(e){this.output("error",e)},output(e,t){console?.[e]?.apply?.(console,t)}};class af{constructor(t,n={}){this.init(t,n)}init(t,n={}){this.prefix=n.prefix||"i18next:",this.logger=t||d7,this.options=n,this.debug=n.debug}log(...t){return this.forward(t,"log","",!0)}warn(...t){return this.forward(t,"warn","",!0)}error(...t){return this.forward(t,"error","")}deprecate(...t){return this.forward(t,"warn","WARNING DEPRECATED: ",!0)}forward(t,n,s,l){return l&&!this.debug?null:(Ze(t[0])&&(t[0]=`${s}${this.prefix} ${t[0]}`),this.logger[n](t))}create(t){return new af(this.logger,{prefix:`${this.prefix}:${t}:`,...this.options})}clone(t){return t=t||this.options,t.prefix=t.prefix||this.prefix,new af(this.logger,t)}}var Ja=new af;class If{constructor(){this.observers={}}on(t,n){return t.split(" ").forEach(s=>{this.observers[s]||(this.observers[s]=new Map);const l=this.observers[s].get(n)||0;this.observers[s].set(n,l+1)}),this}off(t,n){if(this.observers[t]){if(!n){delete this.observers[t];return}this.observers[t].delete(n)}}emit(t,...n){this.observers[t]&&Array.from(this.observers[t].entries()).forEach(([l,o])=>{for(let d=0;d<o;d++)l(...n)}),this.observers["*"]&&Array.from(this.observers["*"].entries()).forEach(([l,o])=>{for(let d=0;d<o;d++)l.apply(l,[t,...n])})}}class Qw extends If{constructor(t,n={ns:["translation"],defaultNS:"translation"}){super(),this.data=t||{},this.options=n,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.options.ignoreJSONStructure===void 0&&(this.options.ignoreJSONStructure=!0)}addNamespaces(t){this.options.ns.indexOf(t)<0&&this.options.ns.push(t)}removeNamespaces(t){const n=this.options.ns.indexOf(t);n>-1&&this.options.ns.splice(n,1)}getResource(t,n,s,l={}){const o=l.keySeparator!==void 0?l.keySeparator:this.options.keySeparator,d=l.ignoreJSONStructure!==void 0?l.ignoreJSONStructure:this.options.ignoreJSONStructure;let f;t.indexOf(".")>-1?f=t.split("."):(f=[t,n],s&&(Array.isArray(s)?f.push(...s):Ze(s)&&o?f.push(...s.split(o)):f.push(s)));const m=nf(this.data,f);return!m&&!n&&!s&&t.indexOf(".")>-1&&(t=f[0],n=f[1],s=f.slice(2).join(".")),m||!d||!Ze(s)?m:gg(this.data?.[t]?.[n],s,o)}addResource(t,n,s,l,o={silent:!1}){const d=o.keySeparator!==void 0?o.keySeparator:this.options.keySeparator;let f=[t,n];s&&(f=f.concat(d?s.split(d):s)),t.indexOf(".")>-1&&(f=t.split("."),l=n,n=f[1]),this.addNamespaces(n),Xw(this.data,f,l),o.silent||this.emit("added",t,n,s,l)}addResources(t,n,s,l={silent:!1}){for(const o in s)(Ze(s[o])||Array.isArray(s[o]))&&this.addResource(t,n,o,s[o],{silent:!0});l.silent||this.emit("added",t,n,s)}addResourceBundle(t,n,s,l,o,d={silent:!1,skipCopy:!1}){let f=[t,n];t.indexOf(".")>-1&&(f=t.split("."),l=s,s=n,n=f[1]),this.addNamespaces(n);let m=nf(this.data,f)||{};d.skipCopy||(s=JSON.parse(JSON.stringify(s))),l?hN(m,s,o):m={...m,...s},Xw(this.data,f,m),d.silent||this.emit("added",t,n,s)}removeResourceBundle(t,n){this.hasResourceBundle(t,n)&&delete this.data[t][n],this.removeNamespaces(n),this.emit("removed",t,n)}hasResourceBundle(t,n){return this.getResource(t,n)!==void 0}getResourceBundle(t,n){return n||(n=this.options.defaultNS),this.getResource(t,n)}getDataByLanguage(t){return this.data[t]}hasLanguageSomeTranslations(t){const n=this.getDataByLanguage(t);return!!(n&&Object.keys(n)||[]).find(l=>n[l]&&Object.keys(n[l]).length>0)}toJSON(){return this.data}}var mN={processors:{},addPostProcessor(e){this.processors[e.name]=e},handle(e,t,n,s,l){return e.forEach(o=>{t=this.processors[o]?.process(t,n,s,l)??t}),t}};const pN=Symbol("i18next/PATH_KEY");function u7(){const e=[],t=Object.create(null);let n;return t.get=(s,l)=>(n?.revoke?.(),l===pN?e:(e.push(l),n=Proxy.revocable(s,t),n.proxy)),Proxy.revocable(Object.create(null),t).proxy}function xg(e,t){const{[pN]:n}=e(u7());return n.join(t?.keySeparator??".")}const e1={},Pp=e=>!Ze(e)&&typeof e!="boolean"&&typeof e!="number";class rf extends If{constructor(t,n={}){super(),e7(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],t,this),this.options=n,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.logger=Ja.create("translator")}changeLanguage(t){t&&(this.language=t)}exists(t,n={interpolation:{}}){const s={...n};if(t==null)return!1;const l=this.resolve(t,s);if(l?.res===void 0)return!1;const o=Pp(l.res);return!(s.returnObjects===!1&&o)}extractFromKey(t,n){let s=n.nsSeparator!==void 0?n.nsSeparator:this.options.nsSeparator;s===void 0&&(s=":");const l=n.keySeparator!==void 0?n.keySeparator:this.options.keySeparator;let o=n.ns||this.options.defaultNS||[];const d=s&&t.indexOf(s)>-1,f=!this.options.userDefinedKeySeparator&&!n.keySeparator&&!this.options.userDefinedNsSeparator&&!n.nsSeparator&&!c7(t,s,l);if(d&&!f){const m=t.match(this.interpolator.nestingRegexp);if(m&&m.length>0)return{key:t,namespaces:Ze(o)?[o]:o};const p=t.split(s);(s!==l||s===l&&this.options.ns.indexOf(p[0])>-1)&&(o=p.shift()),t=p.join(l)}return{key:t,namespaces:Ze(o)?[o]:o}}translate(t,n,s){let l=typeof n=="object"?{...n}:n;if(typeof l!="object"&&this.options.overloadTranslationOptionHandler&&(l=this.options.overloadTranslationOptionHandler(arguments)),typeof l=="object"&&(l={...l}),l||(l={}),t==null)return"";typeof t=="function"&&(t=xg(t,{...this.options,...l})),Array.isArray(t)||(t=[String(t)]);const o=l.returnDetails!==void 0?l.returnDetails:this.options.returnDetails,d=l.keySeparator!==void 0?l.keySeparator:this.options.keySeparator,{key:f,namespaces:m}=this.extractFromKey(t[t.length-1],l),p=m[m.length-1];let g=l.nsSeparator!==void 0?l.nsSeparator:this.options.nsSeparator;g===void 0&&(g=":");const b=l.lng||this.language,y=l.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(b?.toLowerCase()==="cimode")return y?o?{res:`${p}${g}${f}`,usedKey:f,exactUsedKey:f,usedLng:b,usedNS:p,usedParams:this.getUsedParamsDetails(l)}:`${p}${g}${f}`:o?{res:f,usedKey:f,exactUsedKey:f,usedLng:b,usedNS:p,usedParams:this.getUsedParamsDetails(l)}:f;const w=this.resolve(t,l);let j=w?.res;const S=w?.usedKey||f,_=w?.exactUsedKey||f,R=["[object Number]","[object Function]","[object RegExp]"],k=l.joinArrays!==void 0?l.joinArrays:this.options.joinArrays,N=!this.i18nFormat||this.i18nFormat.handleAsObject,A=l.count!==void 0&&!Ze(l.count),P=rf.hasDefaultValue(l),E=A?this.pluralResolver.getSuffix(b,l.count,l):"",T=l.ordinal&&A?this.pluralResolver.getSuffix(b,l.count,{ordinal:!1}):"",I=A&&!l.ordinal&&l.count===0,U=I&&l[`defaultValue${this.options.pluralSeparator}zero`]||l[`defaultValue${E}`]||l[`defaultValue${T}`]||l.defaultValue;let Z=j;N&&!j&&P&&(Z=U);const se=Pp(Z),F=Object.prototype.toString.apply(Z);if(N&&Z&&se&&R.indexOf(F)<0&&!(Ze(k)&&Array.isArray(Z))){if(!l.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");const L=this.options.returnedObjectHandler?this.options.returnedObjectHandler(S,Z,{...l,ns:m}):`key '${f} (${this.language})' returned an object instead of string.`;return o?(w.res=L,w.usedParams=this.getUsedParamsDetails(l),w):L}if(d){const L=Array.isArray(Z),$=L?[]:{},W=L?_:S;for(const O in Z)if(Object.prototype.hasOwnProperty.call(Z,O)){const q=`${W}${d}${O}`;P&&!j?$[O]=this.translate(q,{...l,defaultValue:Pp(U)?U[O]:void 0,joinArrays:!1,ns:m}):$[O]=this.translate(q,{...l,joinArrays:!1,ns:m}),$[O]===q&&($[O]=Z[O])}j=$}}else if(N&&Ze(k)&&Array.isArray(j))j=j.join(k),j&&(j=this.extendTranslation(j,t,l,s));else{let L=!1,$=!1;!this.isValidLookup(j)&&P&&(L=!0,j=U),this.isValidLookup(j)||($=!0,j=f);const O=(l.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&$?void 0:j,q=P&&U!==j&&this.options.updateMissing;if($||L||q){if(this.logger.log(q?"updateKey":"missingKey",b,p,f,q?U:j),d){const V=this.resolve(f,{...l,keySeparator:!1});V&&V.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let B=[];const Y=this.languageUtils.getFallbackCodes(this.options.fallbackLng,l.lng||this.language);if(this.options.saveMissingTo==="fallback"&&Y&&Y[0])for(let V=0;V<Y.length;V++)B.push(Y[V]);else this.options.saveMissingTo==="all"?B=this.languageUtils.toResolveHierarchy(l.lng||this.language):B.push(l.lng||this.language);const D=(V,J,ne)=>{const X=P&&ne!==j?ne:O;this.options.missingKeyHandler?this.options.missingKeyHandler(V,p,J,X,q,l):this.backendConnector?.saveMissing&&this.backendConnector.saveMissing(V,p,J,X,q,l),this.emit("missingKey",V,p,J,j)};this.options.saveMissing&&(this.options.saveMissingPlurals&&A?B.forEach(V=>{const J=this.pluralResolver.getSuffixes(V,l);I&&l[`defaultValue${this.options.pluralSeparator}zero`]&&J.indexOf(`${this.options.pluralSeparator}zero`)<0&&J.push(`${this.options.pluralSeparator}zero`),J.forEach(ne=>{D([V],f+ne,l[`defaultValue${ne}`]||U)})}):D(B,f,U))}j=this.extendTranslation(j,t,l,w,s),$&&j===f&&this.options.appendNamespaceToMissingKey&&(j=`${p}${g}${f}`),($||L)&&this.options.parseMissingKeyHandler&&(j=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?`${p}${g}${f}`:f,L?j:void 0,l))}return o?(w.res=j,w.usedParams=this.getUsedParamsDetails(l),w):j}extendTranslation(t,n,s,l,o){if(this.i18nFormat?.parse)t=this.i18nFormat.parse(t,{...this.options.interpolation.defaultVariables,...s},s.lng||this.language||l.usedLng,l.usedNS,l.usedKey,{resolved:l});else if(!s.skipInterpolation){s.interpolation&&this.interpolator.init({...s,interpolation:{...this.options.interpolation,...s.interpolation}});const m=Ze(t)&&(s?.interpolation?.skipOnVariables!==void 0?s.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);let p;if(m){const b=t.match(this.interpolator.nestingRegexp);p=b&&b.length}let g=s.replace&&!Ze(s.replace)?s.replace:s;if(this.options.interpolation.defaultVariables&&(g={...this.options.interpolation.defaultVariables,...g}),t=this.interpolator.interpolate(t,g,s.lng||this.language||l.usedLng,s),m){const b=t.match(this.interpolator.nestingRegexp),y=b&&b.length;p<y&&(s.nest=!1)}!s.lng&&l&&l.res&&(s.lng=this.language||l.usedLng),s.nest!==!1&&(t=this.interpolator.nest(t,(...b)=>o?.[0]===b[0]&&!s.context?(this.logger.warn(`It seems you are nesting recursively key: ${b[0]} in key: ${n[0]}`),null):this.translate(...b,n),s)),s.interpolation&&this.interpolator.reset()}const d=s.postProcess||this.options.postProcess,f=Ze(d)?[d]:d;return t!=null&&f?.length&&s.applyPostProcessor!==!1&&(t=mN.handle(f,t,n,this.options&&this.options.postProcessPassResolved?{i18nResolved:{...l,usedParams:this.getUsedParamsDetails(s)},...s}:s,this)),t}resolve(t,n={}){let s,l,o,d,f;return Ze(t)&&(t=[t]),t.forEach(m=>{if(this.isValidLookup(s))return;const p=this.extractFromKey(m,n),g=p.key;l=g;let b=p.namespaces;this.options.fallbackNS&&(b=b.concat(this.options.fallbackNS));const y=n.count!==void 0&&!Ze(n.count),w=y&&!n.ordinal&&n.count===0,j=n.context!==void 0&&(Ze(n.context)||typeof n.context=="number")&&n.context!=="",S=n.lngs?n.lngs:this.languageUtils.toResolveHierarchy(n.lng||this.language,n.fallbackLng);b.forEach(_=>{this.isValidLookup(s)||(f=_,!e1[`${S[0]}-${_}`]&&this.utils?.hasLoadedNamespace&&!this.utils?.hasLoadedNamespace(f)&&(e1[`${S[0]}-${_}`]=!0,this.logger.warn(`key "${l}" for languages "${S.join(", ")}" won't get resolved as namespace "${f}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),S.forEach(R=>{if(this.isValidLookup(s))return;d=R;const k=[g];if(this.i18nFormat?.addLookupKeys)this.i18nFormat.addLookupKeys(k,g,R,_,n);else{let A;y&&(A=this.pluralResolver.getSuffix(R,n.count,n));const P=`${this.options.pluralSeparator}zero`,E=`${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;if(y&&(n.ordinal&&A.indexOf(E)===0&&k.push(g+A.replace(E,this.options.pluralSeparator)),k.push(g+A),w&&k.push(g+P)),j){const T=`${g}${this.options.contextSeparator||"_"}${n.context}`;k.push(T),y&&(n.ordinal&&A.indexOf(E)===0&&k.push(T+A.replace(E,this.options.pluralSeparator)),k.push(T+A),w&&k.push(T+P))}}let N;for(;N=k.pop();)this.isValidLookup(s)||(o=N,s=this.getResource(R,_,N,n))}))})}),{res:s,usedKey:l,exactUsedKey:o,usedLng:d,usedNS:f}}isValidLookup(t){return t!==void 0&&!(!this.options.returnNull&&t===null)&&!(!this.options.returnEmptyString&&t==="")}getResource(t,n,s,l={}){return this.i18nFormat?.getResource?this.i18nFormat.getResource(t,n,s,l):this.resourceStore.getResource(t,n,s,l)}getUsedParamsDetails(t={}){const n=["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"],s=t.replace&&!Ze(t.replace);let l=s?t.replace:t;if(s&&typeof t.count<"u"&&(l.count=t.count),this.options.interpolation.defaultVariables&&(l={...this.options.interpolation.defaultVariables,...l}),!s){l={...l};for(const o of n)delete l[o]}return l}static hasDefaultValue(t){const n="defaultValue";for(const s in t)if(Object.prototype.hasOwnProperty.call(t,s)&&n===s.substring(0,n.length)&&t[s]!==void 0)return!0;return!1}}class t1{constructor(t){this.options=t,this.supportedLngs=this.options.supportedLngs||!1,this.logger=Ja.create("languageUtils")}getScriptPartFromCode(t){if(t=_c(t),!t||t.indexOf("-")<0)return null;const n=t.split("-");return n.length===2||(n.pop(),n[n.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(n.join("-"))}getLanguagePartFromCode(t){if(t=_c(t),!t||t.indexOf("-")<0)return t;const n=t.split("-");return this.formatLanguageCode(n[0])}formatLanguageCode(t){if(Ze(t)&&t.indexOf("-")>-1){let n;try{n=Intl.getCanonicalLocales(t)[0]}catch{}return n&&this.options.lowerCaseLng&&(n=n.toLowerCase()),n||(this.options.lowerCaseLng?t.toLowerCase():t)}return this.options.cleanCode||this.options.lowerCaseLng?t.toLowerCase():t}isSupportedCode(t){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(t=this.getLanguagePartFromCode(t)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(t)>-1}getBestMatchFromCodes(t){if(!t)return null;let n;return t.forEach(s=>{if(n)return;const l=this.formatLanguageCode(s);(!this.options.supportedLngs||this.isSupportedCode(l))&&(n=l)}),!n&&this.options.supportedLngs&&t.forEach(s=>{if(n)return;const l=this.getScriptPartFromCode(s);if(this.isSupportedCode(l))return n=l;const o=this.getLanguagePartFromCode(s);if(this.isSupportedCode(o))return n=o;n=this.options.supportedLngs.find(d=>{if(d===o)return d;if(!(d.indexOf("-")<0&&o.indexOf("-")<0)&&(d.indexOf("-")>0&&o.indexOf("-")<0&&d.substring(0,d.indexOf("-"))===o||d.indexOf(o)===0&&o.length>1))return d})}),n||(n=this.getFallbackCodes(this.options.fallbackLng)[0]),n}getFallbackCodes(t,n){if(!t)return[];if(typeof t=="function"&&(t=t(n)),Ze(t)&&(t=[t]),Array.isArray(t))return t;if(!n)return t.default||[];let s=t[n];return s||(s=t[this.getScriptPartFromCode(n)]),s||(s=t[this.formatLanguageCode(n)]),s||(s=t[this.getLanguagePartFromCode(n)]),s||(s=t.default),s||[]}toResolveHierarchy(t,n){const s=this.getFallbackCodes((n===!1?[]:n)||this.options.fallbackLng||[],t),l=[],o=d=>{d&&(this.isSupportedCode(d)?l.push(d):this.logger.warn(`rejecting language code not found in supportedLngs: ${d}`))};return Ze(t)&&(t.indexOf("-")>-1||t.indexOf("_")>-1)?(this.options.load!=="languageOnly"&&o(this.formatLanguageCode(t)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&o(this.getScriptPartFromCode(t)),this.options.load!=="currentOnly"&&o(this.getLanguagePartFromCode(t))):Ze(t)&&o(this.formatLanguageCode(t)),s.forEach(d=>{l.indexOf(d)<0&&o(this.formatLanguageCode(d))}),l}}const n1={zero:0,one:1,two:2,few:3,many:4,other:5},a1={select:e=>e===1?"one":"other",resolvedOptions:()=>({pluralCategories:["one","other"]})};class f7{constructor(t,n={}){this.languageUtils=t,this.options=n,this.logger=Ja.create("pluralResolver"),this.pluralRulesCache={}}addRule(t,n){this.rules[t]=n}clearCache(){this.pluralRulesCache={}}getRule(t,n={}){const s=_c(t==="dev"?"en":t),l=n.ordinal?"ordinal":"cardinal",o=JSON.stringify({cleanedCode:s,type:l});if(o in this.pluralRulesCache)return this.pluralRulesCache[o];let d;try{d=new Intl.PluralRules(s,{type:l})}catch{if(!Intl)return this.logger.error("No Intl support, please use an Intl polyfill!"),a1;if(!t.match(/-|_/))return a1;const m=this.languageUtils.getLanguagePartFromCode(t);d=this.getRule(m,n)}return this.pluralRulesCache[o]=d,d}needsPlural(t,n={}){let s=this.getRule(t,n);return s||(s=this.getRule("dev",n)),s?.resolvedOptions().pluralCategories.length>1}getPluralFormsOfKey(t,n,s={}){return this.getSuffixes(t,s).map(l=>`${n}${l}`)}getSuffixes(t,n={}){let s=this.getRule(t,n);return s||(s=this.getRule("dev",n)),s?s.resolvedOptions().pluralCategories.sort((l,o)=>n1[l]-n1[o]).map(l=>`${this.options.prepend}${n.ordinal?`ordinal${this.options.prepend}`:""}${l}`):[]}getSuffix(t,n,s={}){const l=this.getRule(t,s);return l?`${this.options.prepend}${s.ordinal?`ordinal${this.options.prepend}`:""}${l.select(n)}`:(this.logger.warn(`no plural rule found for: ${t}`),this.getSuffix("dev",n,s))}}const r1=(e,t,n,s=".",l=!0)=>{let o=a7(e,t,n);return!o&&l&&Ze(n)&&(o=gg(e,n,s),o===void 0&&(o=gg(t,n,s))),o},kp=e=>e.replace(/\$/g,"$$$$");class h7{constructor(t={}){this.logger=Ja.create("interpolator"),this.options=t,this.format=t?.interpolation?.format||(n=>n),this.init(t)}init(t={}){t.interpolation||(t.interpolation={escapeValue:!0});const{escape:n,escapeValue:s,useRawValueToEscape:l,prefix:o,prefixEscaped:d,suffix:f,suffixEscaped:m,formatSeparator:p,unescapeSuffix:g,unescapePrefix:b,nestingPrefix:y,nestingPrefixEscaped:w,nestingSuffix:j,nestingSuffixEscaped:S,nestingOptionsSeparator:_,maxReplaces:R,alwaysFormat:k}=t.interpolation;this.escape=n!==void 0?n:s7,this.escapeValue=s!==void 0?s:!0,this.useRawValueToEscape=l!==void 0?l:!1,this.prefix=o?hl(o):d||"{{",this.suffix=f?hl(f):m||"}}",this.formatSeparator=p||",",this.unescapePrefix=g?"":b||"-",this.unescapeSuffix=this.unescapePrefix?"":g||"",this.nestingPrefix=y?hl(y):w||hl("$t("),this.nestingSuffix=j?hl(j):S||hl(")"),this.nestingOptionsSeparator=_||",",this.maxReplaces=R||1e3,this.alwaysFormat=k!==void 0?k:!1,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){const t=(n,s)=>n?.source===s?(n.lastIndex=0,n):new RegExp(s,"g");this.regexp=t(this.regexp,`${this.prefix}(.+?)${this.suffix}`),this.regexpUnescape=t(this.regexpUnescape,`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`),this.nestingRegexp=t(this.nestingRegexp,`${this.nestingPrefix}((?:[^()"']+|"[^"]*"|'[^']*'|\\((?:[^()]|"[^"]*"|'[^']*')*\\))*?)${this.nestingSuffix}`)}interpolate(t,n,s,l){let o,d,f;const m=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{},p=w=>{if(w.indexOf(this.formatSeparator)<0){const R=r1(n,m,w,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(R,void 0,s,{...l,...n,interpolationkey:w}):R}const j=w.split(this.formatSeparator),S=j.shift().trim(),_=j.join(this.formatSeparator).trim();return this.format(r1(n,m,S,this.options.keySeparator,this.options.ignoreJSONStructure),_,s,{...l,...n,interpolationkey:S})};this.resetRegExp();const g=l?.missingInterpolationHandler||this.options.missingInterpolationHandler,b=l?.interpolation?.skipOnVariables!==void 0?l.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:w=>kp(w)},{regex:this.regexp,safeValue:w=>this.escapeValue?kp(this.escape(w)):kp(w)}].forEach(w=>{for(f=0;o=w.regex.exec(t);){const j=o[1].trim();if(d=p(j),d===void 0)if(typeof g=="function"){const _=g(t,o,l);d=Ze(_)?_:""}else if(l&&Object.prototype.hasOwnProperty.call(l,j))d="";else if(b){d=o[0];continue}else this.logger.warn(`missed to pass in variable ${j} for interpolating ${t}`),d="";else!Ze(d)&&!this.useRawValueToEscape&&(d=Ww(d));const S=w.safeValue(d);if(t=t.replace(o[0],S),b?(w.regex.lastIndex+=d.length,w.regex.lastIndex-=o[0].length):w.regex.lastIndex=0,f++,f>=this.maxReplaces)break}}),t}nest(t,n,s={}){let l,o,d;const f=(m,p)=>{const g=this.nestingOptionsSeparator;if(m.indexOf(g)<0)return m;const b=m.split(new RegExp(`${g}[ ]*{`));let y=`{${b[1]}`;m=b[0],y=this.interpolate(y,d);const w=y.match(/'/g),j=y.match(/"/g);((w?.length??0)%2===0&&!j||j.length%2!==0)&&(y=y.replace(/'/g,'"'));try{d=JSON.parse(y),p&&(d={...p,...d})}catch(S){return this.logger.warn(`failed parsing options string in nesting for key ${m}`,S),`${m}${g}${y}`}return d.defaultValue&&d.defaultValue.indexOf(this.prefix)>-1&&delete d.defaultValue,m};for(;l=this.nestingRegexp.exec(t);){let m=[];d={...s},d=d.replace&&!Ze(d.replace)?d.replace:d,d.applyPostProcessor=!1,delete d.defaultValue;const p=/{.*}/.test(l[1])?l[1].lastIndexOf("}")+1:l[1].indexOf(this.formatSeparator);if(p!==-1&&(m=l[1].slice(p).split(this.formatSeparator).map(g=>g.trim()).filter(Boolean),l[1]=l[1].slice(0,p)),o=n(f.call(this,l[1].trim(),d),d),o&&l[0]===t&&!Ze(o))return o;Ze(o)||(o=Ww(o)),o||(this.logger.warn(`missed to resolve ${l[1]} for nesting ${t}`),o=""),m.length&&(o=m.reduce((g,b)=>this.format(g,b,s.lng,{...s,interpolationkey:l[1].trim()}),o.trim())),t=t.replace(l[0],o),this.regexp.lastIndex=0}return t}}const m7=e=>{let t=e.toLowerCase().trim();const n={};if(e.indexOf("(")>-1){const s=e.split("(");t=s[0].toLowerCase().trim();const l=s[1].substring(0,s[1].length-1);t==="currency"&&l.indexOf(":")<0?n.currency||(n.currency=l.trim()):t==="relativetime"&&l.indexOf(":")<0?n.range||(n.range=l.trim()):l.split(";").forEach(d=>{if(d){const[f,...m]=d.split(":"),p=m.join(":").trim().replace(/^'+|'+$/g,""),g=f.trim();n[g]||(n[g]=p),p==="false"&&(n[g]=!1),p==="true"&&(n[g]=!0),isNaN(p)||(n[g]=parseInt(p,10))}})}return{formatName:t,formatOptions:n}},s1=e=>{const t={};return(n,s,l)=>{let o=l;l&&l.interpolationkey&&l.formatParams&&l.formatParams[l.interpolationkey]&&l[l.interpolationkey]&&(o={...o,[l.interpolationkey]:void 0});const d=s+JSON.stringify(o);let f=t[d];return f||(f=e(_c(s),l),t[d]=f),f(n)}},p7=e=>(t,n,s)=>e(_c(n),s)(t);class g7{constructor(t={}){this.logger=Ja.create("formatter"),this.options=t,this.init(t)}init(t,n={interpolation:{}}){this.formatSeparator=n.interpolation.formatSeparator||",";const s=n.cacheInBuiltFormats?s1:p7;this.formats={number:s((l,o)=>{const d=new Intl.NumberFormat(l,{...o});return f=>d.format(f)}),currency:s((l,o)=>{const d=new Intl.NumberFormat(l,{...o,style:"currency"});return f=>d.format(f)}),datetime:s((l,o)=>{const d=new Intl.DateTimeFormat(l,{...o});return f=>d.format(f)}),relativetime:s((l,o)=>{const d=new Intl.RelativeTimeFormat(l,{...o});return f=>d.format(f,o.range||"day")}),list:s((l,o)=>{const d=new Intl.ListFormat(l,{...o});return f=>d.format(f)})}}add(t,n){this.formats[t.toLowerCase().trim()]=n}addCached(t,n){this.formats[t.toLowerCase().trim()]=s1(n)}format(t,n,s,l={}){const o=n.split(this.formatSeparator);if(o.length>1&&o[0].indexOf("(")>1&&o[0].indexOf(")")<0&&o.find(f=>f.indexOf(")")>-1)){const f=o.findIndex(m=>m.indexOf(")")>-1);o[0]=[o[0],...o.splice(1,f)].join(this.formatSeparator)}return o.reduce((f,m)=>{const{formatName:p,formatOptions:g}=m7(m);if(this.formats[p]){let b=f;try{const y=l?.formatParams?.[l.interpolationkey]||{},w=y.locale||y.lng||l.locale||l.lng||s;b=this.formats[p](f,w,{...g,...l,...y})}catch(y){this.logger.warn(y)}return b}else this.logger.warn(`there was no format function for ${p}`);return f},t)}}const x7=(e,t)=>{e.pending[t]!==void 0&&(delete e.pending[t],e.pendingCount--)};class b7 extends If{constructor(t,n,s,l={}){super(),this.backend=t,this.store=n,this.services=s,this.languageUtils=s.languageUtils,this.options=l,this.logger=Ja.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=l.maxParallelReads||10,this.readingCalls=0,this.maxRetries=l.maxRetries>=0?l.maxRetries:5,this.retryTimeout=l.retryTimeout>=1?l.retryTimeout:350,this.state={},this.queue=[],this.backend?.init?.(s,l.backend,l)}queueLoad(t,n,s,l){const o={},d={},f={},m={};return t.forEach(p=>{let g=!0;n.forEach(b=>{const y=`${p}|${b}`;!s.reload&&this.store.hasResourceBundle(p,b)?this.state[y]=2:this.state[y]<0||(this.state[y]===1?d[y]===void 0&&(d[y]=!0):(this.state[y]=1,g=!1,d[y]===void 0&&(d[y]=!0),o[y]===void 0&&(o[y]=!0),m[b]===void 0&&(m[b]=!0)))}),g||(f[p]=!0)}),(Object.keys(o).length||Object.keys(d).length)&&this.queue.push({pending:d,pendingCount:Object.keys(d).length,loaded:{},errors:[],callback:l}),{toLoad:Object.keys(o),pending:Object.keys(d),toLoadLanguages:Object.keys(f),toLoadNamespaces:Object.keys(m)}}loaded(t,n,s){const l=t.split("|"),o=l[0],d=l[1];n&&this.emit("failedLoading",o,d,n),!n&&s&&this.store.addResourceBundle(o,d,s,void 0,void 0,{skipCopy:!0}),this.state[t]=n?-1:2,n&&s&&(this.state[t]=0);const f={};this.queue.forEach(m=>{n7(m.loaded,[o],d),x7(m,t),n&&m.errors.push(n),m.pendingCount===0&&!m.done&&(Object.keys(m.loaded).forEach(p=>{f[p]||(f[p]={});const g=m.loaded[p];g.length&&g.forEach(b=>{f[p][b]===void 0&&(f[p][b]=!0)})}),m.done=!0,m.errors.length?m.callback(m.errors):m.callback())}),this.emit("loaded",f),this.queue=this.queue.filter(m=>!m.done)}read(t,n,s,l=0,o=this.retryTimeout,d){if(!t.length)return d(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:t,ns:n,fcName:s,tried:l,wait:o,callback:d});return}this.readingCalls++;const f=(p,g)=>{if(this.readingCalls--,this.waitingReads.length>0){const b=this.waitingReads.shift();this.read(b.lng,b.ns,b.fcName,b.tried,b.wait,b.callback)}if(p&&g&&l<this.maxRetries){setTimeout(()=>{this.read.call(this,t,n,s,l+1,o*2,d)},o);return}d(p,g)},m=this.backend[s].bind(this.backend);if(m.length===2){try{const p=m(t,n);p&&typeof p.then=="function"?p.then(g=>f(null,g)).catch(f):f(null,p)}catch(p){f(p)}return}return m(t,n,f)}prepareLoading(t,n,s={},l){if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),l&&l();Ze(t)&&(t=this.languageUtils.toResolveHierarchy(t)),Ze(n)&&(n=[n]);const o=this.queueLoad(t,n,s,l);if(!o.toLoad.length)return o.pending.length||l(),null;o.toLoad.forEach(d=>{this.loadOne(d)})}load(t,n,s){this.prepareLoading(t,n,{},s)}reload(t,n,s){this.prepareLoading(t,n,{reload:!0},s)}loadOne(t,n=""){const s=t.split("|"),l=s[0],o=s[1];this.read(l,o,"read",void 0,void 0,(d,f)=>{d&&this.logger.warn(`${n}loading namespace ${o} for language ${l} failed`,d),!d&&f&&this.logger.log(`${n}loaded namespace ${o} for language ${l}`,f),this.loaded(t,d,f)})}saveMissing(t,n,s,l,o,d={},f=()=>{}){if(this.services?.utils?.hasLoadedNamespace&&!this.services?.utils?.hasLoadedNamespace(n)){this.logger.warn(`did not save key "${s}" as the namespace "${n}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(!(s==null||s==="")){if(this.backend?.create){const m={...d,isUpdate:o},p=this.backend.create.bind(this.backend);if(p.length<6)try{let g;p.length===5?g=p(t,n,s,l,m):g=p(t,n,s,l),g&&typeof g.then=="function"?g.then(b=>f(null,b)).catch(f):f(null,g)}catch(g){f(g)}else p(t,n,s,l,f,m)}!t||!t[0]||this.store.addResource(t[0],n,s,l)}}}const i1=()=>({debug:!1,initAsync:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:e=>{let t={};if(typeof e[1]=="object"&&(t=e[1]),Ze(e[1])&&(t.defaultValue=e[1]),Ze(e[2])&&(t.tDescription=e[2]),typeof e[2]=="object"||typeof e[3]=="object"){const n=e[3]||e[2];Object.keys(n).forEach(s=>{t[s]=n[s]})}return t},interpolation:{escapeValue:!0,format:e=>e,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0},cacheInBuiltFormats:!0}),l1=e=>(Ze(e.ns)&&(e.ns=[e.ns]),Ze(e.fallbackLng)&&(e.fallbackLng=[e.fallbackLng]),Ze(e.fallbackNS)&&(e.fallbackNS=[e.fallbackNS]),e.supportedLngs?.indexOf?.("cimode")<0&&(e.supportedLngs=e.supportedLngs.concat(["cimode"])),typeof e.initImmediate=="boolean"&&(e.initAsync=e.initImmediate),e),mu=()=>{},v7=e=>{Object.getOwnPropertyNames(Object.getPrototypeOf(e)).forEach(n=>{typeof e[n]=="function"&&(e[n]=e[n].bind(e))})};class pc extends If{constructor(t={},n){if(super(),this.options=l1(t),this.services={},this.logger=Ja,this.modules={external:[]},v7(this),n&&!this.isInitialized&&!t.isClone){if(!this.options.initAsync)return this.init(t,n),this;setTimeout(()=>{this.init(t,n)},0)}}init(t={},n){this.isInitializing=!0,typeof t=="function"&&(n=t,t={}),t.defaultNS==null&&t.ns&&(Ze(t.ns)?t.defaultNS=t.ns:t.ns.indexOf("translation")<0&&(t.defaultNS=t.ns[0]));const s=i1();this.options={...s,...this.options,...l1(t)},this.options.interpolation={...s.interpolation,...this.options.interpolation},t.keySeparator!==void 0&&(this.options.userDefinedKeySeparator=t.keySeparator),t.nsSeparator!==void 0&&(this.options.userDefinedNsSeparator=t.nsSeparator);const l=p=>p?typeof p=="function"?new p:p:null;if(!this.options.isClone){this.modules.logger?Ja.init(l(this.modules.logger),this.options):Ja.init(null,this.options);let p;this.modules.formatter?p=this.modules.formatter:p=g7;const g=new t1(this.options);this.store=new Qw(this.options.resources,this.options);const b=this.services;b.logger=Ja,b.resourceStore=this.store,b.languageUtils=g,b.pluralResolver=new f7(g,{prepend:this.options.pluralSeparator,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),this.options.interpolation.format&&this.options.interpolation.format!==s.interpolation.format&&this.logger.deprecate("init: you are still using the legacy format function, please use the new approach: https://www.i18next.com/translation-function/formatting"),p&&(!this.options.interpolation.format||this.options.interpolation.format===s.interpolation.format)&&(b.formatter=l(p),b.formatter.init&&b.formatter.init(b,this.options),this.options.interpolation.format=b.formatter.format.bind(b.formatter)),b.interpolator=new h7(this.options),b.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},b.backendConnector=new b7(l(this.modules.backend),b.resourceStore,b,this.options),b.backendConnector.on("*",(w,...j)=>{this.emit(w,...j)}),this.modules.languageDetector&&(b.languageDetector=l(this.modules.languageDetector),b.languageDetector.init&&b.languageDetector.init(b,this.options.detection,this.options)),this.modules.i18nFormat&&(b.i18nFormat=l(this.modules.i18nFormat),b.i18nFormat.init&&b.i18nFormat.init(this)),this.translator=new rf(this.services,this.options),this.translator.on("*",(w,...j)=>{this.emit(w,...j)}),this.modules.external.forEach(w=>{w.init&&w.init(this)})}if(this.format=this.options.interpolation.format,n||(n=mu),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){const p=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);p.length>0&&p[0]!=="dev"&&(this.options.lng=p[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined"),["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(p=>{this[p]=(...g)=>this.store[p](...g)}),["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach(p=>{this[p]=(...g)=>(this.store[p](...g),this)});const f=Xo(),m=()=>{const p=(g,b)=>{this.isInitializing=!1,this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),f.resolve(b),n(g,b)};if(this.languages&&!this.isInitialized)return p(null,this.t.bind(this));this.changeLanguage(this.options.lng,p)};return this.options.resources||!this.options.initAsync?m():setTimeout(m,0),f}loadResources(t,n=mu){let s=n;const l=Ze(t)?t:this.language;if(typeof t=="function"&&(s=t),!this.options.resources||this.options.partialBundledLanguages){if(l?.toLowerCase()==="cimode"&&(!this.options.preload||this.options.preload.length===0))return s();const o=[],d=f=>{if(!f||f==="cimode")return;this.services.languageUtils.toResolveHierarchy(f).forEach(p=>{p!=="cimode"&&o.indexOf(p)<0&&o.push(p)})};l?d(l):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(m=>d(m)),this.options.preload?.forEach?.(f=>d(f)),this.services.backendConnector.load(o,this.options.ns,f=>{!f&&!this.resolvedLanguage&&this.language&&this.setResolvedLanguage(this.language),s(f)})}else s(null)}reloadResources(t,n,s){const l=Xo();return typeof t=="function"&&(s=t,t=void 0),typeof n=="function"&&(s=n,n=void 0),t||(t=this.languages),n||(n=this.options.ns),s||(s=mu),this.services.backendConnector.reload(t,n,o=>{l.resolve(),s(o)}),l}use(t){if(!t)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!t.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return t.type==="backend"&&(this.modules.backend=t),(t.type==="logger"||t.log&&t.warn&&t.error)&&(this.modules.logger=t),t.type==="languageDetector"&&(this.modules.languageDetector=t),t.type==="i18nFormat"&&(this.modules.i18nFormat=t),t.type==="postProcessor"&&mN.addPostProcessor(t),t.type==="formatter"&&(this.modules.formatter=t),t.type==="3rdParty"&&this.modules.external.push(t),this}setResolvedLanguage(t){if(!(!t||!this.languages)&&!(["cimode","dev"].indexOf(t)>-1)){for(let n=0;n<this.languages.length;n++){const s=this.languages[n];if(!(["cimode","dev"].indexOf(s)>-1)&&this.store.hasLanguageSomeTranslations(s)){this.resolvedLanguage=s;break}}!this.resolvedLanguage&&this.languages.indexOf(t)<0&&this.store.hasLanguageSomeTranslations(t)&&(this.resolvedLanguage=t,this.languages.unshift(t))}}changeLanguage(t,n){this.isLanguageChangingTo=t;const s=Xo();this.emit("languageChanging",t);const l=f=>{this.language=f,this.languages=this.services.languageUtils.toResolveHierarchy(f),this.resolvedLanguage=void 0,this.setResolvedLanguage(f)},o=(f,m)=>{m?this.isLanguageChangingTo===t&&(l(m),this.translator.changeLanguage(m),this.isLanguageChangingTo=void 0,this.emit("languageChanged",m),this.logger.log("languageChanged",m)):this.isLanguageChangingTo=void 0,s.resolve((...p)=>this.t(...p)),n&&n(f,(...p)=>this.t(...p))},d=f=>{!t&&!f&&this.services.languageDetector&&(f=[]);const m=Ze(f)?f:f&&f[0],p=this.store.hasLanguageSomeTranslations(m)?m:this.services.languageUtils.getBestMatchFromCodes(Ze(f)?[f]:f);p&&(this.language||l(p),this.translator.language||this.translator.changeLanguage(p),this.services.languageDetector?.cacheUserLanguage?.(p)),this.loadResources(p,g=>{o(g,p)})};return!t&&this.services.languageDetector&&!this.services.languageDetector.async?d(this.services.languageDetector.detect()):!t&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect.length===0?this.services.languageDetector.detect().then(d):this.services.languageDetector.detect(d):d(t),s}getFixedT(t,n,s){const l=(o,d,...f)=>{let m;typeof d!="object"?m=this.options.overloadTranslationOptionHandler([o,d].concat(f)):m={...d},m.lng=m.lng||l.lng,m.lngs=m.lngs||l.lngs,m.ns=m.ns||l.ns,m.keyPrefix!==""&&(m.keyPrefix=m.keyPrefix||s||l.keyPrefix);const p=this.options.keySeparator||".";let g;return m.keyPrefix&&Array.isArray(o)?g=o.map(b=>(typeof b=="function"&&(b=xg(b,{...this.options,...d})),`${m.keyPrefix}${p}${b}`)):(typeof o=="function"&&(o=xg(o,{...this.options,...d})),g=m.keyPrefix?`${m.keyPrefix}${p}${o}`:o),this.t(g,m)};return Ze(t)?l.lng=t:l.lngs=t,l.ns=n,l.keyPrefix=s,l}t(...t){return this.translator?.translate(...t)}exists(...t){return this.translator?.exists(...t)}setDefaultNamespace(t){this.options.defaultNS=t}hasLoadedNamespace(t,n={}){if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;const s=n.lng||this.resolvedLanguage||this.languages[0],l=this.options?this.options.fallbackLng:!1,o=this.languages[this.languages.length-1];if(s.toLowerCase()==="cimode")return!0;const d=(f,m)=>{const p=this.services.backendConnector.state[`${f}|${m}`];return p===-1||p===0||p===2};if(n.precheck){const f=n.precheck(this,d);if(f!==void 0)return f}return!!(this.hasResourceBundle(s,t)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||d(s,t)&&(!l||d(o,t)))}loadNamespaces(t,n){const s=Xo();return this.options.ns?(Ze(t)&&(t=[t]),t.forEach(l=>{this.options.ns.indexOf(l)<0&&this.options.ns.push(l)}),this.loadResources(l=>{s.resolve(),n&&n(l)}),s):(n&&n(),Promise.resolve())}loadLanguages(t,n){const s=Xo();Ze(t)&&(t=[t]);const l=this.options.preload||[],o=t.filter(d=>l.indexOf(d)<0&&this.services.languageUtils.isSupportedCode(d));return o.length?(this.options.preload=l.concat(o),this.loadResources(d=>{s.resolve(),n&&n(d)}),s):(n&&n(),Promise.resolve())}dir(t){if(t||(t=this.resolvedLanguage||(this.languages?.length>0?this.languages[0]:this.language)),!t)return"rtl";try{const l=new Intl.Locale(t);if(l&&l.getTextInfo){const o=l.getTextInfo();if(o&&o.direction)return o.direction}}catch{}const n=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"],s=this.services?.languageUtils||new t1(i1());return t.toLowerCase().indexOf("-latn")>1?"ltr":n.indexOf(s.getLanguagePartFromCode(t))>-1||t.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(t={},n){const s=new pc(t,n);return s.createInstance=pc.createInstance,s}cloneInstance(t={},n=mu){const s=t.forkResourceStore;s&&delete t.forkResourceStore;const l={...this.options,...t,isClone:!0},o=new pc(l);if((t.debug!==void 0||t.prefix!==void 0)&&(o.logger=o.logger.clone(t)),["store","services","language"].forEach(f=>{o[f]=this[f]}),o.services={...this.services},o.services.utils={hasLoadedNamespace:o.hasLoadedNamespace.bind(o)},s){const f=Object.keys(this.store.data).reduce((m,p)=>(m[p]={...this.store.data[p]},m[p]=Object.keys(m[p]).reduce((g,b)=>(g[b]={...m[p][b]},g),m[p]),m),{});o.store=new Qw(f,l),o.services.resourceStore=o.store}return o.translator=new rf(o.services,l),o.translator.on("*",(f,...m)=>{o.emit(f,...m)}),o.init(l,n),o.translator.options=l,o.translator.backendConnector.services.utils={hasLoadedNamespace:o.hasLoadedNamespace.bind(o)},o}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}const Dn=pc.createInstance();Dn.createInstance;Dn.dir;Dn.init;Dn.loadResources;Dn.reloadResources;Dn.use;Dn.changeLanguage;Dn.getFixedT;Dn.t;Dn.exists;Dn.setDefaultNamespace;Dn.hasLoadedNamespace;Dn.loadNamespaces;Dn.loadLanguages;const y7=(e,t,n,s)=>{const l=[n,{code:t,...s||{}}];if(e?.services?.logger?.forward)return e.services.logger.forward(l,"warn","react-i18next::",!0);hi(l[0])&&(l[0]=`react-i18next:: ${l[0]}`),e?.services?.logger?.warn?e.services.logger.warn(...l):console?.warn&&console.warn(...l)},o1={},gN=(e,t,n,s)=>{hi(n)&&o1[n]||(hi(n)&&(o1[n]=new Date),y7(e,t,n,s))},xN=(e,t)=>()=>{if(e.isInitialized)t();else{const n=()=>{setTimeout(()=>{e.off("initialized",n)},0),t()};e.on("initialized",n)}},bg=(e,t,n)=>{e.loadNamespaces(t,xN(e,n))},c1=(e,t,n,s)=>{if(hi(n)&&(n=[n]),e.options.preload&&e.options.preload.indexOf(t)>-1)return bg(e,n,s);n.forEach(l=>{e.options.ns.indexOf(l)<0&&e.options.ns.push(l)}),e.loadLanguages(t,xN(e,s))},w7=(e,t,n={})=>!t.languages||!t.languages.length?(gN(t,"NO_LANGUAGES","i18n.languages were undefined or empty",{languages:t.languages}),!0):t.hasLoadedNamespace(e,{lng:n.lng,precheck:(s,l)=>{if(n.bindI18n&&n.bindI18n.indexOf("languageChanging")>-1&&s.services.backendConnector.backend&&s.isLanguageChangingTo&&!l(s.isLanguageChangingTo,e))return!1}}),hi=e=>typeof e=="string",j7=e=>typeof e=="object"&&e!==null,S7=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,N7={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"","&#169;":"","&reg;":"","&#174;":"","&hellip;":"","&#8230;":"","&#x2F;":"/","&#47;":"/"},_7=e=>N7[e],C7=e=>e.replace(S7,_7);let vg={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:C7};const E7=(e={})=>{vg={...vg,...e}},R7=()=>vg;let bN;const A7=e=>{bN=e},P7=()=>bN,k7={type:"3rdParty",init(e){E7(e.options.react),A7(e)}},T7=h.createContext();class D7{constructor(){this.usedNamespaces={}}addUsedNamespaces(t){t.forEach(n=>{this.usedNamespaces[n]||(this.usedNamespaces[n]=!0)})}getUsedNamespaces(){return Object.keys(this.usedNamespaces)}}var Tp={exports:{}},Dp={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var d1;function M7(){if(d1)return Dp;d1=1;var e=Rc();function t(b,y){return b===y&&(b!==0||1/b===1/y)||b!==b&&y!==y}var n=typeof Object.is=="function"?Object.is:t,s=e.useState,l=e.useEffect,o=e.useLayoutEffect,d=e.useDebugValue;function f(b,y){var w=y(),j=s({inst:{value:w,getSnapshot:y}}),S=j[0].inst,_=j[1];return o(function(){S.value=w,S.getSnapshot=y,m(S)&&_({inst:S})},[b,w,y]),l(function(){return m(S)&&_({inst:S}),b(function(){m(S)&&_({inst:S})})},[b]),d(w),w}function m(b){var y=b.getSnapshot;b=b.value;try{var w=y();return!n(b,w)}catch{return!0}}function p(b,y){return y()}var g=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?p:f;return Dp.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:g,Dp}var u1;function O7(){return u1||(u1=1,Tp.exports=M7()),Tp.exports}var L7=O7();const U7=(e,t)=>hi(t)?t:j7(t)&&hi(t.defaultValue)?t.defaultValue:Array.isArray(e)?e[e.length-1]:e,$7={t:U7,ready:!1},F7=()=>()=>{},ve=(e,t={})=>{const{i18n:n}=t,{i18n:s,defaultNS:l}=h.useContext(T7)||{},o=n||s||P7();o&&!o.reportNamespaces&&(o.reportNamespaces=new D7),o||gN(o,"NO_I18NEXT_INSTANCE","useTranslation: You will need to pass in an i18next instance by using initReactI18next");const d=h.useMemo(()=>({...R7(),...o?.options?.react,...t}),[o,t]),{useSuspense:f,keyPrefix:m}=d,p=h.useMemo(()=>{const A=l||o?.options?.defaultNS;return hi(A)?[A]:A||["translation"]},[e,l,o]);o?.reportNamespaces?.addUsedNamespaces?.(p);const g=h.useRef(0),b=h.useCallback(A=>{if(!o)return F7;const{bindI18n:P,bindI18nStore:E}=d,T=()=>{g.current+=1,A()};return P&&o.on(P,T),E&&o.store.on(E,T),()=>{P&&P.split(" ").forEach(I=>o.off(I,T)),E&&E.split(" ").forEach(I=>o.store.off(I,T))}},[o,d]),y=h.useRef(),w=h.useCallback(()=>{if(!o)return $7;const A=!!(o.isInitialized||o.initializedStoreOnce)&&p.every(Z=>w7(Z,o,d)),P=t.lng||o.language,E=g.current,T=y.current;if(T&&T.ready===A&&T.lng===P&&T.keyPrefix===m&&T.revision===E)return T;const U={t:o.getFixedT(P,d.nsMode==="fallback"?p:p[0],m),ready:A,lng:P,keyPrefix:m,revision:E};return y.current=U,U},[o,p,m,d,t.lng]),[j,S]=h.useState(0),{t:_,ready:R}=L7.useSyncExternalStore(b,w,w);h.useEffect(()=>{if(o&&!R&&!f){const A=()=>S(P=>P+1);t.lng?c1(o,t.lng,p,A):bg(o,p,A)}},[o,t.lng,p,R,f,j]);const k=o||{},N=h.useMemo(()=>{const A=[_,k,R];return A.t=_,A.i18n=k,A.ready=R,A},[_,k,R]);if(o&&f&&!R)throw new Promise(A=>{const P=()=>A();t.lng?c1(o,t.lng,p,P):bg(o,p,P)});return N},I7=({isOpen:e,onClose:t,onSubmit:n})=>{const{t:s,i18n:l}=ve(),o=l.language==="ar",[d,f]=h.useState({full_name:"",clinic:"",phone:"",email:"",address:"",language_preference:"en"}),[m,p]=h.useState(!1),[g,b]=h.useState(null),[y,w]=h.useState(!1),j=_=>{f({...d,[_.target.name]:_.target.value})},S=async _=>{_.preventDefault(),b(null),p(!0);try{if(!d.full_name||!d.email||!d.clinic)throw new Error(s("login.signUpDialog.errors.requiredFields"));await n(d),w(!0),setTimeout(()=>{w(!1),f({full_name:"",clinic:"",phone:"",email:"",address:"",language_preference:"en"}),t()},2e3)}catch(R){b(R.message)}finally{p(!1)}};return e?a.jsx("div",{className:"fixed inset-0 z-50 flex items-end md:items-center justify-center bg-black bg-opacity-50 p-0 md:p-4",children:a.jsxs("div",{className:"relative w-full max-w-2xl bg-white rounded-t-xl md:rounded-lg shadow-xl max-h-[92vh] overflow-y-auto",children:[a.jsxs("div",{className:"sticky top-0 z-10 bg-white border-b px-6 py-4 flex items-center justify-between",children:[a.jsx("h2",{className:"text-xl md:text-2xl font-bold text-gray-900",children:s("login.signUpDialog.title")}),a.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600 p-2",children:a.jsx(sn,{className:"w-6 h-6"})})]}),a.jsx("div",{className:"p-5 md:p-6 space-y-4",children:y?a.jsxs("div",{className:"rounded-md bg-green-50 p-4 text-center",children:[a.jsx("h3",{className:"text-sm font-medium text-green-800",children:s("login.signUpDialog.successTitle")}),a.jsx("p",{className:"mt-2 text-sm text-green-700",children:s("login.signUpDialog.successMessage")})]}):a.jsxs(a.Fragment,{children:[g&&a.jsx("div",{className:"rounded-md bg-red-50 p-4",children:a.jsx("h3",{className:"text-sm font-medium text-red-800",children:g})}),a.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:[s("login.signUpDialog.fullName")," ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"text",name:"full_name",required:!0,value:d.full_name,onChange:j,className:"w-full px-3 py-3 md:py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-indigo-600",placeholder:s("login.signUpDialog.fullNamePlaceholder")})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:[s("login.signUpDialog.email")," ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"email",name:"email",required:!0,value:d.email,onChange:j,className:"w-full px-3 py-3 md:py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-indigo-600",placeholder:s("login.signUpDialog.emailPlaceholder")})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:[s("login.signUpDialog.clinicName")," ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"text",name:"clinic",required:!0,value:d.clinic,onChange:j,className:"w-full px-3 py-3 md:py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-indigo-600",placeholder:s("login.signUpDialog.clinicNamePlaceholder")})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:s("login.signUpDialog.phoneNumber")}),a.jsx("input",{type:"tel",name:"phone",value:d.phone,onChange:j,className:`w-full px-3 py-3 md:py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-indigo-600 ${o?"text-right":""}`,placeholder:s("login.signUpDialog.phoneNumberPlaceholder"),dir:"ltr"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:s("login.signUpDialog.clinicAddress")}),a.jsx("textarea",{name:"address",rows:"2",value:d.address,onChange:j,className:"w-full px-3 py-3 md:py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-indigo-600",placeholder:s("login.signUpDialog.clinicAddressPlaceholder")})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:[s("login.signUpDialog.languagePreference")," ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsxs("select",{name:"language_preference",required:!0,value:d.language_preference,onChange:j,className:"w-full px-3 py-3 md:py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-indigo-600 bg-white",children:[a.jsx("option",{value:"en",children:s("settings.english")}),a.jsx("option",{value:"ar",children:s("settings.arabic")})]})]})]}),a.jsxs("div",{className:"flex flex-col md:flex-row gap-3 pt-4 pb-6 md:pb-0",children:[a.jsx("button",{type:"button",onClick:S,disabled:m,className:"order-1 md:order-2 flex-1 px-4 py-3 bg-brand-600 text-white rounded-md hover:bg-brand-700 font-medium disabled:bg-brand-400",children:s(m?"login.signUpDialog.submitting":"login.signUpDialog.submitButton")}),a.jsx("button",{type:"button",onClick:t,className:"order-2 md:order-1 flex-1 px-4 py-3 border border-gray-300 rounded-md text-gray-700 hover:bg-gray-50 font-medium",children:s("common.cancel")})]})]})})]})}):null},yi=e=>e==="admin"||e==="super_admin",Bf=e=>e==="super_admin";function f1(){const{t:e}=ve(),[t,n]=h.useState(""),[s,l]=h.useState(""),[o,d]=h.useState(!1),[f,m]=h.useState(null),[p,g]=h.useState(!1),b=ln(),y=async j=>{if(j.preventDefault(),!t||!s){m(e("login.errors.emptyFields"));return}try{m(null),d(!0);const{data:S,error:_}=await ee.auth.signInWithPassword({email:t,password:s});if(_)throw _;const R=S.user?.app_metadata?.role||"user";yi(R)?b("/admin/dashboard"):b("/app/dashboard")}catch(S){m(S.message)}finally{d(!1)}},w=async j=>{try{const{error:S}=await ee.from("signup_requests").insert([{...j,status:"pending"}]);if(S)throw S}catch(S){throw new Error(S.message||e("login.errors.submitFailed"))}};return a.jsxs("div",{className:"flex w-full min-h-screen items-stretch bg-default-background",children:[a.jsxs("div",{className:"hidden md:flex grow shrink-0 basis-0 flex-col items-start justify-between bg-brand-600 px-12 py-12",children:[a.jsx(rt,{to:"/",children:a.jsx("img",{className:"h-20 flex-none object-cover",src:"./logo-2.png",alt:"Logo"})}),a.jsxs("div",{className:"flex flex-col items-start gap-2",children:[a.jsx("span",{className:"text-2xl font-medium text-white",children:e("login.welcomeBack")}),a.jsx("span",{className:"text-xl text-neutral-200",children:e("login.subtitle")})]}),a.jsx("img",{className:"w-full flex-none rounded-lg",src:"https://res.cloudinary.com/subframe/image/upload/v1751625442/uploads/16759/dtha82l1njnh9ohl9b9k.jpg",alt:"Illustration"})]}),a.jsxs("div",{className:"flex grow shrink-0 basis-0 items-center justify-center px-6 py-8 md:px-12",children:[a.jsxs("div",{className:"flex w-full max-w-[384px] flex-col items-center justify-center gap-8",children:[a.jsx("div",{className:"md:hidden mb-4",children:a.jsx(rt,{to:"/",children:a.jsx("img",{className:"h-20 object-contain",src:"./logo.png",alt:"Lumina Logo"})})}),a.jsxs("div",{className:"flex w-full flex-col items-start gap-2 text-center md:text-start",children:[a.jsx("span",{className:"w-full text-xl font-medium text-default-font",children:e("auth.signIn")}),a.jsx("span",{className:"w-full text-body text-subtext-color",children:e("login.enterCredentials")})]}),a.jsxs("form",{onSubmit:y,className:"flex w-full flex-col items-start gap-6",children:[f&&a.jsx("div",{className:"rounded-md bg-red-50 w-full p-4",children:a.jsx("h3",{className:"text-sm font-medium text-red-800",children:f})}),a.jsx(Ee,{className:"w-full",label:e("auth.email"),children:a.jsx(Ee.Input,{type:"email",required:!0,value:t,onChange:j=>n(j.target.value),placeholder:e("login.emailPlaceholder")})}),a.jsx(Ee,{className:"w-full",label:e("auth.password"),children:a.jsx(Ee.Input,{type:"password",required:!0,value:s,onChange:j=>l(j.target.value),placeholder:e("login.passwordPlaceholder")})}),a.jsx(de,{type:"submit",disabled:o,className:"bg-brand-600 w-full",size:"large",children:e(o?"login.signingIn":"auth.signIn")})]}),a.jsxs("div",{className:"flex flex-col items-center gap-4 text-sm",children:[a.jsxs("div",{className:"flex flex-wrap justify-center gap-1",children:[a.jsx("span",{className:"text-default-font",children:e("auth.dontHaveAccount")}),a.jsx(un,{variant:"brand",size:"small",className:"text-sky-600 p-0 h-auto",onClick:()=>g(!0),children:e("login.requestAccess")})]}),a.jsxs("div",{className:"flex flex-wrap justify-center gap-1",children:[a.jsx("span",{className:"text-default-font",children:e("login.forgotPasswordText")}),a.jsx(rt,{to:"/reset-password",children:a.jsx(un,{variant:"brand",size:"small",className:"text-sky-600 p-0 h-auto",children:e("login.resetPassword")})})]})]})]}),a.jsx(I7,{isOpen:p,onClose:()=>g(!1),onSubmit:w})]})]})}const Ru=Me.forwardRef(function({children:t,selected:n=!1,className:s,...l},o){return a.jsx("div",{className:Ue("group/8596eb9f flex h-8 cursor-pointer flex-col items-center justify-center gap-4 rounded-full px-4",{"bg-brand-200":n},s),ref:o,...l,children:t?a.jsx("span",{className:"font-['Montserrat'] text-[15px] font-[600] leading-[20px] text-brand-900",children:t}):null})}),B7=Me.forwardRef(function({className:t,...n},s){return a.jsxs("div",{className:Ue("flex w-full max-w-[1280px] flex-wrap items-center gap-4",t),ref:s,...n,children:[a.jsx("div",{className:"flex h-12 flex-col items-start justify-center gap-2 px-4",children:a.jsx("img",{className:"h-6 flex-none object-cover",src:"https://res.cloudinary.com/subframe/image/upload/v1751625200/uploads/16759/jpef3z487npyabdeeipn.png"})}),a.jsxs("div",{className:"flex min-w-[320px] grow shrink-0 basis-0 flex-wrap items-center gap-1",children:[a.jsx(Su,{to:"/",children:a.jsx(Ru,{selected:!0,children:"Home"})}),a.jsx(Su,{to:"/features",children:a.jsx(Ru,{children:"Features"})}),a.jsx(Su,{to:"/about",children:a.jsx(Ru,{children:"About"})})]}),a.jsx(un,{children:"Pricing"}),a.jsx(un,{children:"Contact"}),a.jsx("div",{className:"flex items-center gap-2 px-2",children:a.jsx(rt,{to:"/login",children:a.jsx(de,{variant:"brand-tertiary",children:"Log in"})})})]})}),z7=Object.assign(B7,{NavItem:Ru}),Xs=Me.forwardRef(function({children:t,selected:n=!1,className:s,...l},o){return a.jsx("div",{className:Ue("group/7fb2f0a4 flex h-8 cursor-pointer flex-col items-center justify-center gap-4 rounded-full px-4",{"bg-brand-200":n},s),ref:o,...l,children:t?a.jsx("span",{className:"font-['Montserrat'] text-[15px] font-[600] leading-[20px] text-brand-900",children:t}):null})}),q7=Me.forwardRef(function({className:t,...n},s){return a.jsxs("div",{className:Ue("flex w-full max-w-[1280px] flex-wrap items-center justify-between",t),ref:s,...n,children:[a.jsx("div",{className:"flex h-12 flex-col items-start justify-center gap-2 px-4",children:a.jsx("img",{className:"h-6 flex-none object-cover",src:"https://res.cloudinary.com/subframe/image/upload/v1751625200/uploads/16759/jpef3z487npyabdeeipn.png"})}),a.jsxs("div",{className:"flex items-center gap-2 px-2",children:[a.jsx(de,{children:"Sign up"}),a.jsxs(eT,{children:[a.jsx(tT,{asChild:!0,children:a.jsx(Jt,{icon:a.jsx(hx,{})})}),a.jsx(Qk,{children:a.jsx(Xk,{side:"bottom",align:"end",sideOffset:4,asChild:!0,children:a.jsxs("div",{className:"flex min-w-[320px] flex-col items-start gap-2 rounded-md border border-solid border-neutral-border bg-default-background px-3 py-3 shadow-lg",children:[a.jsx(Xs,{className:"h-8 w-full flex-none",children:"Product"}),a.jsx(Xs,{className:"h-8 w-full flex-none",children:"Features"}),a.jsx(Xs,{className:"h-8 w-full flex-none",children:"About"}),a.jsx(Xs,{className:"h-8 w-full flex-none",children:"Pricing"}),a.jsx(Xs,{className:"h-8 w-full flex-none",children:"Help"}),a.jsx(Xs,{className:"h-8 w-full flex-none",children:"Login"})]})})})]})]})]})}),H7=Object.assign(q7,{NavItem:Xs});function V7(){return a.jsxs("div",{className:"flex w-full flex-col items-center justify-center gap-2 bg-default-background px-6 py-6 mobile:px-2 mobile:py-2",children:[a.jsx(z7,{className:"mobile:hidden"}),a.jsx(H7,{className:"hidden mobile:flex"})]})}function G7(){const[e,t]=h.useState(null),[n,s]=h.useState(!0);return h.useEffect(()=>{const{data:{subscription:l}}=ee.auth.onAuthStateChange((o,d)=>{t(d?.user||null),s(!1)});return ee.auth.getSession().then(({data:{session:o}})=>{t(o?.user||null),s(!1)}),()=>{l.unsubscribe()}},[]),a.jsxs("div",{className:"",children:[a.jsx(V7,{}),a.jsx("main",{className:"layout",children:a.jsx(Mg,{})})]})}function Y7(){return a.jsx("div",{children:"Features Page"})}const K7=Me.forwardRef(function({children:t,clickable:n=!1,className:s,onClick:l,...o},d){return a.jsx("tr",{className:Ue("group/5d119f8d border-t border-solid border-neutral-border",{"hover:bg-neutral-50 cursor-pointer":n},s),ref:d,onClick:l,...o,children:t})}),W7=Me.forwardRef(function({children:t,className:n,...s},l){return a.jsx("td",{...s,children:a.jsx("div",{className:Ue("flex min-h-12 w-full items-center gap-1 px-3 py-2",n),ref:l,children:t})})}),J7=Me.forwardRef(function({children:t,className:n,...s},l){return a.jsx("tr",{className:n,ref:l,...s,children:t})}),Z7=Me.forwardRef(function({children:t,icon:n=null,className:s,...l},o){return a.jsx("th",{...l,children:a.jsxs("div",{className:Ue("flex min-h-8 w-full items-center gap-1 px-3 py-2",s),ref:o,children:[t?a.jsx("span",{className:"whitespace-nowrap text-caption-bold font-caption-bold text-subtext-color",children:t}):null,n?a.jsx(Re,{className:"text-caption font-caption text-subtext-color",children:n}):null]})})}),X7=Me.forwardRef(function({header:t,children:n,className:s,...l},o){return a.jsxs("table",{className:Ue("w-full",s),ref:o,...l,children:[a.jsx("thead",{children:t}),a.jsx("tbody",{className:"border-b border-solid border-neutral-border",children:n})]})}),z=Object.assign(X7,{Row:K7,Cell:W7,HeaderRow:J7,HeaderCell:Z7}),Q7=Me.forwardRef(function({size:t="medium",className:n,...s},l){return a.jsx(Of,{className:Ue("group/f2e570c8 text-body font-body text-brand-600 cursor-none",{"text-heading-2 font-heading-2":t==="large","text-caption font-caption":t==="small"},n),ref:l,...s})}),Qt=Q7;function ql({children:e,submit:t=!0}){const{t:n}=ve();return a.jsxs("div",{className:"flex w-full items-center justify-between",children:[a.jsx("span",{className:"text-heading-1 font-heading-1 text-default-font",children:e}),t&&a.jsx(rt,{to:"/app/cases/new",className:"hidden md:block",children:a.jsx(de,{size:"large",icon:a.jsx(ui,{}),className:"h-9",children:n("caseSubmit.submitCaseButton")})})]})}function Da(e){return typeof e!="string"||e.length===0?e:e.charAt(0).toUpperCase()+e.slice(1).toLowerCase()}function zt(e){return Da(e??"")}const eL=Me.forwardRef(function({variant:t="brand",icon:n=null,children:s,iconRight:l=null,className:o,...d},f){return a.jsxs("div",{className:Ue("group/97bdb082 flex h-6 items-center gap-1 rounded-full border border-solid border-brand-100 bg-brand-100 px-2",{"border border-solid border-success-100 bg-success-100":t==="success","border border-solid border-warning-100 bg-warning-100":t==="warning","border border-solid border-error-100 bg-error-100":t==="error","border border-solid border-neutral-100 bg-neutral-100":t==="neutral"},o),ref:f,...d,children:[n?a.jsx(Re,{className:Ue("text-caption font-caption text-brand-700",{"text-success-800":t==="success","text-warning-800":t==="warning","text-error-700":t==="error","text-neutral-700":t==="neutral"}),children:n}):null,s?a.jsx("span",{className:Ue("whitespace-nowrap text-caption font-caption text-brand-800",{"text-success-800":t==="success","text-warning-800":t==="warning","text-error-800":t==="error","text-neutral-700":t==="neutral"}),children:s}):null,l?a.jsx(Re,{className:Ue("text-caption font-caption text-brand-700",{"text-success-800":t==="success","text-warning-800":t==="warning","text-error-700":t==="error","text-neutral-700":t==="neutral"}),children:l}):null]})}),qe=eL,tL={completed:"success",accepted:"success",approved:"success",delivered:"success",rejected:"error",patient_rejected:"error",user_rejected:"error",awaiting_patient_approval:"warning",awaiting_user_approval:"warning"};function Mr({status:e}){const{t}=ve(),n=s=>({submitted:t("caseStatusBadge.submitted"),accepted:t("caseStatusBadge.accepted"),under_review:t("caseStatusBadge.underReview"),rejected:t("caseStatusBadge.rejected"),awaiting_patient_approval:t("caseStatusBadge.awaitingApproval"),patient_rejected:t("caseStatusBadge.patientRejected"),awaiting_user_approval:t("caseStatusBadge.awaitingApproval"),user_rejected:t("caseStatusBadge.userRejected"),approved:t("caseStatusBadge.approved"),in_production:t("caseStatusBadge.inProduction"),ready_for_delivery:t("caseStatusBadge.readyForDelivery"),delivered:t("caseStatusBadge.delivered"),completed:t("caseStatusBadge.completed")})[s]||s;return a.jsx(qe,{variant:tL[e],children:n(e)})}const nL=(e,t=[])=>{const n=parseFloat(e.total_cost||0);if(n<=0)return{remainingAmount:0,paymentStatus:"not_applicable",totalPaid:0,paymentPercentage:0};const l=t.filter(m=>m.case_id===e.id).reduce((m,p)=>m+parseFloat(p.allocated_amount||0),0),o=Math.max(0,n-l),d=n>0?l/n*100:0;let f;return o===0&&l>0?f="paid":l>0?f="partially_paid":f="unpaid",{remainingAmount:o,paymentStatus:f,totalPaid:l,paymentPercentage:Math.round(d*100)/100}},vN=()=>{const[e,t]=h.useState([]),[n,s]=h.useState(!0),[l,o]=h.useState(null),[d,f]=h.useState(0),[m,p]=h.useState(0),[g,b]=h.useState(0),[y,w]=h.useState(0),[j,S]=h.useState(0),_=h.useCallback(async()=>{try{s(!0),o(null);const{data:{user:R},error:k}=await ee.auth.getUser();if(k)throw k;if(!R)throw new Error("Not authenticated");const{data:N,error:A}=await ee.from("cases").select(`
          id,
          first_name,
          last_name,
          total_cost,
          created_at,
          status,
          payment_status,
          aligner_material,
          printing_method,
          upper_jaw_aligners,
          lower_jaw_aligners,
          estimated_duration_months,
          refinement_number,
          treatment_arch,
          is_urgent,
          case_study_fee,
          aligners_price,
          delivery_charges,
          user_note,
          admin_note
        `).eq("user_id",R.id).order("created_at",{ascending:!1});if(A)throw A;const P=(N||[]).map(L=>L.id);let E=[];if(P.length>0){const{data:L,error:$}=await ee.from("payment_case_allocations").select("case_id, allocated_amount").in("case_id",P);if($)throw $;E=L||[]}const T=(N||[]).map(L=>{const $=nL(L,E);return{...L,...$,case_id:`CASE-${L.id}`,patient_name:`${L.first_name||""} ${L.last_name||""}`.trim()||"Unknown Patient",case_date:L.created_at,amount:parseFloat(L.total_cost||0),treatment_type:`${L.aligner_material||"Standard"} - ${L.treatment_arch?L.treatment_arch==="both"?"both arches":`${L.treatment_arch} arch only`:"Both Arches"}`,aligners_count:`${L.upper_jaw_aligners||0}U / ${L.lower_jaw_aligners||0}L`,duration:L.estimated_duration_months?`${L.estimated_duration_months} months`:"TBD",is_refinement:L.refinement_number>0,refinement_info:L.refinement_number>0?`Refinement #${L.refinement_number}`:null,urgency:L.is_urgent?"Urgent":"Standard",case_study_fee:parseFloat(L.case_study_fee||0),aligners_price:parseFloat(L.aligners_price||0),delivery_charges:parseFloat(L.delivery_charges||0)}}),I=T.length,U=T.reduce((L,$)=>L+$.remainingAmount,0),Z=T.reduce((L,$)=>L+$.totalPaid,0),se=T.filter(L=>L.remainingAmount>0).length,F=T.filter(L=>L.remainingAmount===0&&L.totalPaid>0).length;t(T),f(I),p(U),b(Z),w(se),S(F)}catch(R){console.error("Error fetching doctor billing data:",R),o(R.message||"Failed to load billing data")}finally{s(!1)}},[]);return h.useEffect(()=>{_()},[_]),{cases:e,loading:n,error:l,totalCases:d,totalDue:m,totalPaid:g,pendingCases:y,completedCases:j,refetchBillingData:_}},yN=({totalCases:e,totalDue:t,totalPaid:n,isDashboard:s=!1,pendingCases:l,completedCases:o,submittedCases:d,withButtons:f=!1})=>a.jsx(a.Fragment,{children:a.jsxs("div",{className:"flex w-full flex-wrap items-start gap-4",children:[s===!0?a.jsx(sL,{submittedCases:d}):null,a.jsx(aL,{totalCases:e}),a.jsx(iL,{completedCases:o}),a.jsx(rL,{totalDue:t})]})}),aL=({totalCases:e})=>{const{t}=ve();return a.jsx("div",{className:"flex min-w-[240px] grow shrink-0 basis-0 flex-col items-start gap-6 rounded-md border border-solid border-neutral-border bg-default-background px-8 py-8 shadow-sm",children:a.jsxs("div",{className:"flex w-full flex-col items-start gap-2",children:[a.jsx("span",{className:"text-body font-body text-subtext-color",children:t("dashboard.totalCases")}),a.jsxs("div",{className:"flex items-end gap-2",children:[a.jsx("span",{className:"text-heading-1 font-heading-1 text-brand-700",children:e===null?a.jsx(Qt,{size:"small"}):e}),a.jsx("span",{className:"text-body font-body text-subtext-color pb-1",children:t("billingStats.allTime")})]})]})})},rL=({totalDue:e})=>{const{t}=ve();return a.jsx("div",{className:"flex min-w-[240px] grow shrink-0 basis-0 flex-col items-start gap-6 rounded-md border border-solid border-neutral-border bg-default-background px-8 py-8 shadow-sm",children:a.jsxs("div",{className:"flex w-full flex-col items-start gap-2",children:[a.jsx("span",{className:"text-body font-body text-subtext-color",children:t("doctorBillingStats.amountDue")}),a.jsxs("div",{className:"flex items-end gap-2",children:[a.jsxs("span",{className:"text-heading-1 font-heading-1 text-error-600",children:["$",e?.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})]}),a.jsx("span",{className:"text-body font-body text-subtext-color pb-1",children:t("billingStats.outstanding")})]})]})})},sL=({submittedCases:e})=>{const{t}=ve();return a.jsx("div",{className:"flex min-w-[240px] grow shrink-0 basis-0 flex-col items-start gap-6 rounded-md border border-solid border-neutral-border bg-default-background px-8 py-8 shadow-sm",children:a.jsxs("div",{className:"flex w-full flex-col items-start gap-2",children:[a.jsx("span",{className:"text-body font-body text-subtext-color",children:t("dashboard.pendingReview")}),a.jsxs("div",{className:"flex items-end gap-2",children:[a.jsx("span",{className:"text-heading-1 font-heading-1 text-error-600",children:e}),a.jsx("span",{className:"text-body font-body text-subtext-color pb-1",children:t("doctorBillingStats.cases")})]})]})})},iL=({completedCases:e})=>{const{t}=ve();return a.jsx("div",{className:"flex min-w-[240px] grow shrink-0 basis-0 flex-col items-start gap-6 rounded-md border border-solid border-neutral-border bg-default-background px-8 py-8 shadow-sm",children:a.jsxs("div",{className:"flex w-full flex-col items-start gap-2",children:[a.jsx("span",{className:"text-body font-body text-subtext-color",children:t("dashboard.completedBy3DA")}),a.jsxs("div",{className:"flex items-end gap-2",children:[a.jsx("span",{className:"text-heading-1 font-heading-1 text-success-600",children:e===null?a.jsx(Qt,{size:"small"}):e?.toLocaleString("en-US")}),a.jsx("span",{className:"text-body font-body text-subtext-color pb-1",children:t("doctorBillingStats.finished")})]})]})})};function nr(e=768){const[t,n]=h.useState(!1);return h.useEffect(()=>{const s=window.matchMedia(`(max-width: ${e}px)`),l=()=>n(s.matches);return l(),s.addEventListener("change",l),()=>s.removeEventListener("change",l)},[e]),t}function lL(){const{t:e}=ve(),t=nr(),{totalCases:n,recentCases:s,casesError:l,submittedCases:o,completedCases:d,profile:f}=pi(),{totalDue:m,loading:p}=vN(),g=Pj(),b=ln(),y=g.state==="loading";return a.jsxs(a.Fragment,{children:[l&&a.jsx(et,{error:l}),a.jsxs(ql,{children:[e("dashboard.hello")," ",f.full_name]}),!t&&p?a.jsx("div",{className:"flex w-full h-full min-h-[150px] justify-center items-center",children:a.jsx(Qt,{size:"medium"})}):!t&&a.jsx(yN,{totalDue:m,isDashboard:!0,submittedCases:o,completedCases:d,totalCases:n}),a.jsxs("div",{className:"flex w-full items-center justify-between gap-4",children:[a.jsx("span",{className:"text-heading-2 font-heading-2 text-default-font",children:e("dashboard.recentCases")}),a.jsx("div",{className:"flex-shrink-0 max-w-[300px] min-w-[200px]",children:a.jsx(Ee,{variant:"filled",label:"",helpText:"",icon:a.jsx(Dr,{}),children:a.jsx(Ee.Input,{placeholder:e("dashboard.searchCases"),value:""})})})]}),a.jsx(z,{header:a.jsxs(z.HeaderRow,{children:[a.jsx(z.HeaderCell,{children:e("cases.patientName")}),a.jsx(z.HeaderCell,{children:e("cases.status")}),a.jsx(z.HeaderCell,{children:e("cases.submissionDate")}),a.jsx(z.HeaderCell,{children:e("cases.caseId")})]}),children:y?a.jsx(z.Row,{children:a.jsx(z.Cell,{colSpan:4,children:a.jsx("div",{className:"flex w-full h-full min-h-[100px] justify-center items-center",children:a.jsx(Qt,{size:"medium"})})})}):s.length===0?a.jsx(z.Row,{children:a.jsx(z.Cell,{colSpan:4,children:a.jsx("div",{className:"text-center py-8",children:a.jsx("span",{className:"text-neutral-500",children:e("dashboard.noCases")})})})}):s.map(w=>a.jsxs(z.Row,{clickable:!0,onClick:()=>{b(`/app/cases/${w.id}`)},children:[a.jsx(z.Cell,{children:a.jsxs("span",{className:"whitespace-nowrap text-body-bold font-body-bold text-neutral-700",children:[zt(w.first_name)," ",zt(w.last_name)]})}),a.jsx(z.Cell,{children:a.jsx(Mr,{status:w.status})}),a.jsx(z.Cell,{children:a.jsx("span",{className:"whitespace-nowrap text-body font-body text-neutral-500",children:w.created_at?new Date(w.created_at).toLocaleDateString():"-"})}),a.jsx(z.Cell,{children:a.jsxs("span",{className:"whitespace-nowrap text-body-bold font-body-bold text-neutral-700",children:["CASE-",w.id]})})]},w.id))})]})}const oL=()=>{const[e,t]=h.useState(""),[n,s]=h.useState(""),[l,o]=h.useState(!1),[,d]=h.useState(null),[,f]=h.useState(null),m=ln();h.useEffect(()=>{(async()=>{const{data:b}=await ee.auth.getSession();(!b?.session||!b?.session?.user?.aal==="aal1")&&m("/signin")})()},[m]);const p=async g=>{if(g.preventDefault(),!e||!n){d(null),xe.error("Please enter both fields");return}if(e!==n){d(null),xe.error("Passwords do not match");return}if(e.length<6){d(null),xe.error("Password must be at least 6 characters");return}try{d(null),o(!0);const{error:b}=await ee.auth.updateUser({password:e});if(b)throw b;xe.success("Password updated successfully!"),f(null),t(""),s(""),setTimeout(()=>{m("/app/dashboard")},2e3)}catch(b){console.error("Error updating password:",b.message),xe.error(b.message),d(null)}finally{o(!1)}};return a.jsx("div",{className:"flex min-h-screen items-center justify-center bg-gray-50 px-4 py-12 sm:px-6 lg:px-8",children:a.jsxs("div",{className:"w-full max-w-md space-y-8",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"mt-6 text-center text-3xl font-bold tracking-tight text-gray-900",children:"Update your password"}),a.jsx("p",{className:"mt-2 text-center text-sm text-gray-600",children:"Please enter your new password below."})]}),a.jsxs("form",{className:"mt-8 space-y-6",onSubmit:p,children:[a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700",children:"New Password"}),a.jsx("input",{id:"password",name:"password",type:"password",autoComplete:"new-password",required:!0,value:e,onChange:g=>t(g.target.value),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-sky-500 focus:ring-sky-500 sm:text-sm p-2 border",placeholder:""})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-gray-700",children:"Confirm New Password"}),a.jsx("input",{id:"confirmPassword",name:"confirmPassword",type:"password",autoComplete:"new-password",required:!0,value:n,onChange:g=>s(g.target.value),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-sky-500 focus:ring-sky-500 sm:text-sm p-2 border",placeholder:""})]})]}),a.jsx("div",{children:a.jsx(de,{type:"submit",disabled:l,className:"bg-sky-600 hover:bg-sky-500 active:bg-sky-600 w-full flex-none",size:"large",children:l?"Updating password...":"Update password"})})]})]})})},cL=()=>{const{t:e}=ve(),[t,n]=h.useState(""),[s,l]=h.useState(!1),[o,d]=h.useState(null),[f,m]=h.useState(null),p=async g=>{if(g.preventDefault(),!t){d(null),xe.error(e("resetPassword.errors.emailRequired"));return}try{d(null),l(!0);const{error:b}=await ee.auth.resetPasswordForEmail(t,{redirectTo:`${window.location.origin}/update-password`});if(b)throw b;xe.success(e("resetPassword.success.instructionsSent")),m(null),n("")}catch(b){console.error("Error resetting password:",b.message),xe.error(b.message),d(null)}finally{l(!1)}};return a.jsx("div",{className:"flex min-h-screen items-center justify-center bg-gray-50 px-4 py-12 sm:px-6 lg:px-8",children:a.jsxs("div",{className:"w-full max-w-md space-y-8",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"mt-6 text-center text-3xl font-bold tracking-tight text-gray-900",children:e("resetPassword.title")}),a.jsx("p",{className:"mt-2 text-center text-sm text-gray-600",children:e("resetPassword.subtitle")})]}),a.jsxs("form",{className:"mt-8 space-y-6",onSubmit:p,children:[a.jsxs("div",{children:[a.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:e("resetPassword.emailLabel")}),a.jsx("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,value:t,onChange:g=>n(g.target.value),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-sky-500 focus:ring-sky-500 sm:text-sm p-2 border",placeholder:e("resetPassword.emailPlaceholder")})]}),a.jsx("div",{children:a.jsx(de,{type:"submit",disabled:s,size:"large",className:"bg-brand-600 hover:bg-brand-500 active:bg-brand-600 w-full flex-none",children:e(s?"resetPassword.sending":"resetPassword.sendButton")})}),a.jsx("div",{className:"text-sm text-center",children:a.jsx(rt,{to:"/login",className:"font-medium text-brand-600 hover:text-brand-500 active:text-brand-600",children:e("resetPassword.backToSignIn")})})]})]})})},wN=({title:e,status:t,meta:n,right:s})=>a.jsx("div",{className:"rounded-lg border bg-white p-4 shadow-sm w-full",children:a.jsxs("div",{className:"flex items-start justify-between",children:[a.jsxs("div",{children:[a.jsx("div",{className:"text-body-bold text-neutral-900",children:e}),a.jsx("div",{className:"mt-1 text-xs text-neutral-500",children:n})]}),s]})}),dL=({cases:e})=>{const t=ln();return a.jsx("div",{className:"flex flex-col gap-3 w-full",children:e.map(n=>a.jsx("button",{onClick:()=>t(`/app/cases/${n.id}`),children:a.jsx(wN,{title:`${n.first_name} ${n.last_name}`,meta:new Date(n.created_at).toLocaleDateString(),right:a.jsx(Mr,{status:n.status})})},n.id))})},uL=({cases:e,loading:t})=>{const n=ln(),{t:s}=ve();return a.jsx(z,{header:a.jsxs(z.HeaderRow,{children:[a.jsx(z.HeaderCell,{children:s("cases.patientName")}),a.jsx(z.HeaderCell,{children:s("cases.status")}),a.jsx(z.HeaderCell,{children:s("cases.submissionDate")}),a.jsx(z.HeaderCell,{children:s("cases.caseId")})]}),children:t?a.jsx(z.Row,{children:a.jsx(z.Cell,{colSpan:4,children:a.jsx("div",{className:"flex min-h-[100px] justify-center items-center",children:a.jsx(Qt,{size:"medium"})})})}):e.length===0?a.jsx(z.Row,{children:a.jsx(z.Cell,{colSpan:4,children:a.jsx("div",{className:"text-center py-8 text-neutral-500",children:s("cases.noCases")})})}):e.map(l=>a.jsxs(z.Row,{clickable:!0,onClick:()=>n(`/app/cases/${l.id}`),children:[a.jsxs(z.Cell,{children:[zt(l.first_name)," ",zt(l.last_name)]}),a.jsx(z.Cell,{children:a.jsx(Mr,{status:l.status})}),a.jsx(z.Cell,{children:new Date(l.created_at).toLocaleDateString()}),a.jsxs(z.Cell,{children:["CASE-",l.id]})]},l.id))})},Qo=10,Mp=e=>[{value:"created_at_desc",label:e("cases.filters.newestFirst"),column:"created_at",ascending:!1},{value:"created_at_asc",label:e("cases.filters.oldestFirst"),column:"created_at",ascending:!0},{value:"name_asc",label:e("cases.filters.patientAZ"),column:"first_name",ascending:!0},{value:"name_desc",label:e("cases.filters.patientZA"),column:"first_name",ascending:!1},{value:"status_asc",label:e("cases.filters.statusAZ"),column:"status",ascending:!0},{value:"status_desc",label:e("cases.filters.statusZA"),column:"status",ascending:!1}],fL=()=>{const{t:e}=ve(),t=nr(),n=[{value:"submitted",label:e("cases.filters.submitted")},{value:"accepted",label:e("caseStatusBadge.accepted")},{value:"rejected",label:e("cases.filters.rejected")},{value:"awaiting_user_approval",label:e("cases.filters.awaitingApproval")},{value:"user_rejected",label:e("cases.filters.rejectedByDoctor")},{value:"approved",label:e("cases.filters.approved")},{value:"in_production",label:e("cases.filters.inProduction")},{value:"ready_for_delivery",label:e("cases.filters.readyForDelivery")},{value:"delivered",label:e("cases.filters.delivered")},{value:"completed",label:e("cases.filters.completed")}],s=[{value:"today",label:e("cases.filters.today")},{value:"week",label:e("cases.filters.thisWeek")},{value:"month",label:e("cases.filters.thisMonth")},{value:"quarter",label:e("cases.filters.thisQuarter")},{value:"year",label:e("cases.filters.thisYear")}],[l,o]=h.useState([]),[d,f]=h.useState(!0),[m,p]=h.useState(!1),[g,b]=h.useState(null),[y,w]=h.useState(1),[j,S]=h.useState(0),[_,R]=h.useState(""),[k,N]=h.useState(""),[A,P]=h.useState(""),[E,T]=h.useState(""),[I,U]=h.useState("created_at_desc"),[Z,se]=h.useState(!1),[F,L]=h.useState(!1),[$,W]=h.useState(!1),O=h.useRef(null),q=h.useRef(null),B=h.useRef(null);h.useEffect(()=>{const ge=be=>{O.current&&!O.current.contains(be.target)&&se(!1),q.current&&!q.current.contains(be.target)&&L(!1),B.current&&!B.current.contains(be.target)&&W(!1)};return document.addEventListener("mousedown",ge),()=>document.removeEventListener("mousedown",ge)},[]);const Y=ge=>{const be=new Date,Ae=new Date(be.getFullYear(),be.getMonth(),be.getDate()),ke=new Date(Ae),ye=new Date(ke),$e=new Date(Ae.getFullYear(),Ae.getMonth(),1),Ne=new Date(Ae.getFullYear(),Ae.getMonth()+1,1),Pe=Math.floor(Ae.getMonth()/3),Fe=new Date(Ae.getFullYear(),Pe*3,1),jt=new Date(Ae.getFullYear(),Pe*3+3,1),xt=new Date(Ae.getFullYear(),0,1),we=new Date(Ae.getFullYear()+1,0,1);switch(ge){case"today":return{start:Ae,end:new Date(Ae.getTime()+24*60*60*1e3)};case"week":return ke.setDate(Ae.getDate()-Ae.getDay()),ye.setDate(ke.getDate()+7),{start:ke,end:ye};case"month":return{start:$e,end:Ne};case"quarter":return{start:Fe,end:jt};case"year":return{start:xt,end:we};default:return null}},D=h.useCallback(async(ge=!1)=>{try{ge?p(!0):f(!0);const{data:{user:be}}=await ee.auth.getUser();if(!be)throw new et("User not authenticated");const Ae=Mp(e).find(we=>we.value===I),ke=Ae?.column||"created_at",ye=Ae?.ascending||!1,$e=(y-1)*Qo,Ne=$e+Qo-1;let Pe=ee.from("cases").select("*",{count:"exact"}).order(ke,{ascending:ye}).range($e,Ne);if(_.length>=3&&(Pe=Pe.or(`first_name.ilike.%${_}%,last_name.ilike.%${_}%`)),A&&(Pe=Pe.eq("status",A)),E){const we=Y(E);we&&(Pe=Pe.gte("created_at",we.start.toISOString()).lt("created_at",we.end.toISOString()))}const{data:Fe,error:jt,count:xt}=await Pe;if(jt)throw jt;o(Fe||[]),S(xt||0),b(null)}catch(be){console.error("Error fetching cases:",be),b(be.message||"Failed to fetch cases"),o([]),S(0)}finally{f(!1),p(!1)}},[y,_,A,E,I,e]);h.useEffect(()=>{D()},[D]),h.useEffect(()=>{const ge=setTimeout(()=>{k.trim()!==_&&(w(1),R(k.trim()))},300);return()=>clearTimeout(ge)},[k,_]);const V=()=>{D(!0)},J=()=>{P(""),T(""),U("created_at_desc"),N(""),R(""),w(1)},ne=ge=>{P(ge),w(1),se(!1)},X=ge=>{T(ge),w(1),L(!1)},ce=ge=>{U(ge),w(1)},fe=A||E||_||I!=="created_at_desc",Se=()=>A?n.find(be=>be.value===A)?.label||A:e("cases.filters.status"),_e=()=>E?s.find(be=>be.value===E)?.label||E:e("cases.filters.date");return a.jsxs(a.Fragment,{children:[g&&a.jsx(et,{error:g}),a.jsx(ql,{children:e("cases.title")}),a.jsxs("div",{className:"flex w-full flex-col gap-3 md:flex-row md:items-center md:justify-between",children:[a.jsxs("div",{className:"flex items-center gap-2 overflow-x-auto md:overflow-visible md:flex-1 scrollbar-hide",children:[a.jsx("div",{className:"w-full md:flex-grow md:max-w-[300px] md:min-w-[200px]",children:a.jsx(Ee,{className:"w-full",variant:"filled",label:"",helpText:"",icon:a.jsx(Dr,{}),children:a.jsx(Ee.Input,{placeholder:e("cases.searchPatientOrDoctor"),value:k,onChange:ge=>N(ge.target.value)})})}),a.jsxs("div",{className:"flex-shrink-0 relative",ref:O,children:[a.jsx(de,{size:"sm",variant:A?"neutral-secondary":"neutral-tertiary",className:"px-3",iconRight:Z?a.jsx(ii,{}):a.jsx(si,{}),onClick:()=>{se(!Z),L(!1)},children:Se()}),Z&&a.jsx("div",{className:"absolute top-full left-0 mt-1 bg-white border border-neutral-border rounded-md shadow-lg z-10 min-w-[160px]",children:a.jsxs("div",{className:"py-1",children:[a.jsx("button",{className:"w-full text-left px-3 py-2 text-sm hover:bg-neutral-50 text-neutral-700",onClick:()=>ne(""),children:e("cases.filters.allStatuses")}),n.map(ge=>a.jsx("button",{className:`w-full text-left px-3 py-2 text-sm hover:bg-neutral-50 ${A===ge.value?"bg-neutral-100 text-neutral-900":"text-neutral-700"}`,onClick:()=>ne(ge.value),children:ge.label},ge.value))]})})]}),a.jsxs("div",{className:"flex-shrink-0 relative",ref:q,children:[a.jsx(de,{size:"sm",variant:E?"neutral-secondary":"neutral-tertiary",className:"px-3",iconRight:F?a.jsx(ii,{}):a.jsx(si,{}),onClick:()=>{L(!F),se(!1)},children:_e()}),F&&a.jsx("div",{className:"absolute top-full left-0 mt-1 bg-white border border-neutral-border rounded-md shadow-lg z-10 min-w-[140px]",children:a.jsxs("div",{className:"py-1",children:[a.jsx("button",{className:"w-full text-left px-3 py-2 text-sm hover:bg-neutral-50 text-neutral-700",onClick:()=>X(""),children:e("cases.filters.allDates")}),s.map(ge=>a.jsx("button",{className:`w-full text-left px-3 py-2 text-sm hover:bg-neutral-50 ${E===ge.value?"bg-neutral-100 text-neutral-900":"text-neutral-700"}`,onClick:()=>X(ge.value),children:ge.label},ge.value))]})})]}),fe&&a.jsx(de,{size:"sm",variant:"neutral-tertiary",className:"px-2 w-auto",onClick:J,icon:a.jsx(sn,{}),children:a.jsx("span",{className:"hidden md:inline",children:e("cases.filters.clearFilters")})})]}),a.jsxs("div",{className:"flex items-center gap-2 flex-shrink-0 self-end md:self-auto",children:[a.jsx(Jt,{icon:a.jsx($n,{className:m?"animate-spin":""}),onClick:V,disabled:m}),a.jsxs("div",{className:"relative",ref:B,children:[a.jsx(Jt,{icon:a.jsx(ux,{}),onClick:()=>W(!$)}),$&&a.jsx("div",{className:"absolute top-full right-0 mt-1 bg-white border border-neutral-border rounded-md shadow-lg z-10 min-w-[200px]",children:a.jsxs("div",{className:"p-4",children:[a.jsx("h3",{className:"text-sm font-medium text-neutral-900 mb-3",children:e("cases.filters.sortBy")}),a.jsx("div",{className:"space-y-2",children:Mp(e).map(ge=>a.jsxs("label",{className:"flex items-center",children:[a.jsx("input",{type:"radio",name:"sort",value:ge.value,checked:I===ge.value,onChange:be=>ce(be.target.value),className:"mr-2"}),a.jsx("span",{className:"text-sm text-neutral-700",children:ge.label})]},ge.value))})]})})]})]})]}),fe&&a.jsxs("div",{className:"flex flex-wrap gap-2 items-center",children:[a.jsx("span",{className:"text-xs text-neutral-600",children:e("cases.filters.activeFilters")}),A&&a.jsxs(qe,{variant:"neutral",className:"text-xs",children:[e("cases.filters.status"),": ",Se(),a.jsx("button",{onClick:()=>{P(""),w(1)},className:"ml-1 hover:text-neutral-800",children:""})]}),E&&a.jsxs(qe,{variant:"neutral",className:"text-xs",children:[e("cases.filters.date"),": ",_e(),a.jsx("button",{onClick:()=>{T(""),w(1)},className:"ml-1 hover:text-neutral-800",children:""})]}),_&&a.jsxs(qe,{variant:"neutral",className:"text-xs",children:[e("common.search"),': "',_,'"',a.jsx("button",{onClick:()=>{R(""),N(""),w(1)},className:"ml-1 hover:text-neutral-800",children:""})]}),I!=="created_at_desc"&&a.jsxs(qe,{variant:"neutral",className:"text-xs",children:[e("cases.filters.sortBy"),":"," ",Mp(e).find(ge=>ge.value===I)?.label]})]}),t?a.jsx(dL,{cases:l,loading:d}):a.jsx(uL,{cases:l,loading:d}),a.jsxs("div",{className:"flex w-full items-center justify-between",children:[a.jsx("span",{className:"text-body font-body text-subtext-color",children:j===0?e("casesPage.noCasesToShow"):e("cases.showing")+" "+Math.min((y-1)*Qo+1,j)+" - "+Math.min(y*Qo,j)+" "+e("cases.of")+" "+j+" "+e("cases.cases")}),a.jsxs("div",{className:"flex gap-2 w-full md:w-auto",children:[y>1&&a.jsx(de,{variant:"neutral-secondary",onClick:()=>w(y-1),disabled:d||m,className:"flex-1 md:flex-none",children:e("common.previous")}),y*Qo<j&&a.jsx(de,{variant:"neutral-secondary",onClick:()=>w(y+1),disabled:d||m,className:"flex-1 md:flex-none",children:e("common.next")})]})]})]})};async function hL({params:e}){const{caseId:t}=e,{data:n,error:s}=await ee.from("cases").select("*").eq("id",t).single();return s?(console.error("Error loading case:",s),{error:s.message,caseData:null}):{caseData:{...n,first_name:Da(n.first_name),last_name:Da(n.last_name)}}}function Hl(){const[e,t]=h.useState(null),[n,s]=h.useState(!0);return h.useEffect(()=>{(async()=>{const{data:{session:o}}=await ee.auth.getSession(),d=o?.user;d&&t(d.app_metadata?.role||"user"),s(!1)})()},[]),{role:e,loading:n}}function h1({role:e,children:t,redirectTo:n="/unauthorized"}){const{role:s,loading:l}=Hl();if(l)return a.jsx(Qt,{size:"large"});let o=!1;return e==="admin"?o=yi(s):e==="super_admin"?o=Bf(s):o=s===e,o?t:a.jsx(gR,{to:n,replace:!0})}function wi({children:e,submit:t,createUser:n,onCreateUser:s}){const{t:l}=ve();return a.jsxs("div",{className:"flex w-full items-center justify-between",children:[a.jsx("span",{className:"text-heading-1 font-heading-1 text-default-font",children:e}),t&&a.jsx(rt,{to:"/admin/cases/new",className:"hidden md:block",children:a.jsx(de,{size:"large",icon:a.jsx(ui,{}),className:"h-9",children:l("caseSubmit.submitCaseButton")})}),n&&a.jsx(de,{size:"large",icon:a.jsx(ui,{}),onClick:s,className:"h-9",children:l("signUpRequestPage.createUserButton")})]})}const mL=Me.forwardRef(function({variant:t="brand",size:n="medium",children:s,image:l,square:o=!1,className:d,...f},m){return a.jsxs("div",{className:Ue("group/bec25ae6 flex h-8 w-8 flex-col items-center justify-center gap-2 overflow-hidden rounded-full bg-brand-100 relative",{"rounded-md":o,"h-5 w-5":n==="x-small","h-6 w-6":n==="small","h-12 w-12":n==="large","h-16 w-16":n==="x-large","bg-warning-100":t==="warning","bg-success-100":t==="success","bg-error-100":t==="error","bg-neutral-100":t==="neutral"},d),ref:m,...f,children:[s?a.jsx("span",{className:Ue("line-clamp-1 w-full font-['Inter'] text-[14px] font-[500] leading-[14px] text-brand-800 text-center absolute",{"font-['Inter'] text-[10px] font-[500] leading-[10px] tracking-normal":n==="x-small"||n==="small","font-['Inter'] text-[18px] font-[500] leading-[18px] tracking-normal":n==="large","font-['Inter'] text-[24px] font-[500] leading-[24px] tracking-normal":n==="x-large","text-warning-800":t==="warning","text-success-800":t==="success","text-error-800":t==="error","text-neutral-800":t==="neutral"}),children:s}):null,l?a.jsx("img",{className:Ue("h-8 w-8 flex-none object-cover absolute",{"h-5 w-5 flex-none":n==="x-small","h-6 w-6 flex-none":n==="small","h-12 w-12 flex-none":n==="large","h-16 w-16 flex-none":n==="x-large"}),src:l}):null]})}),Ps=mL,jN=({totalEarnings:e,totalDue:t,totalExpenses:n,onReceivePayment:s,onMakePayment:l,withButtons:o=!0})=>a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"flex w-full flex-wrap items-start gap-4",children:[e!=null&&a.jsx(pL,{totalEarnings:e}),t!=null&&a.jsx(gL,{totalDue:t}),n!=null&&a.jsx(xL,{totalExpenses:n})]}),o&&a.jsxs("div",{className:"flex w-full flex-wrap items-start gap-4",children:[a.jsx(bL,{onReceivePayment:s}),l&&a.jsx(vL,{onMakePayment:l})]})]}),pL=({totalEarnings:e})=>{const{t}=ve();return a.jsx("div",{className:"flex min-w-[240px] grow shrink-0 basis-0 flex-col items-start gap-6 rounded-md border border-solid border-neutral-border bg-default-background px-8 py-8 shadow-sm",children:a.jsxs("div",{className:"flex w-full flex-col items-start gap-2",children:[a.jsx("span",{className:"text-body font-body text-subtext-color",children:t("billingStats.netIncome")}),a.jsxs("div",{className:"flex items-end gap-2",children:[a.jsxs("span",{className:"text-heading-1 font-heading-1 text-success-600",children:["$",e.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})]}),a.jsx("span",{className:"text-body font-body text-subtext-color pb-1",children:t("billingStats.allTime")})]})]})})},gL=({totalDue:e})=>{const{t}=ve();return a.jsx("div",{className:"flex min-w-[240px] grow shrink-0 basis-0 flex-col items-start gap-6 rounded-md border border-solid border-neutral-border bg-default-background px-8 py-8 shadow-sm",children:a.jsxs("div",{className:"flex w-full flex-col items-start gap-2",children:[a.jsx("span",{className:"text-body font-body text-subtext-color",children:t("billingStats.duePayments")}),a.jsxs("div",{className:"flex items-end gap-2",children:[a.jsxs("span",{className:"text-heading-1 font-heading-1 text-error-600",children:["$",e.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})]}),a.jsx("span",{className:"text-body font-body text-subtext-color pb-1",children:t("billingStats.outstanding")})]})]})})},xL=({totalExpenses:e})=>{const{t}=ve();return a.jsx("div",{className:"flex min-w-[240px] grow shrink-0 basis-0 flex-col items-start gap-6 rounded-md border border-solid border-neutral-border bg-default-background px-8 py-8 shadow-sm",children:a.jsxs("div",{className:"flex w-full flex-col items-start gap-2",children:[a.jsx("span",{className:"text-body font-body text-subtext-color",children:t("billingStats.totalExpenses")}),a.jsxs("div",{className:"flex items-end gap-2",children:[a.jsxs("span",{className:"text-heading-1 font-heading-1 text-warning-600",children:["$",e.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})]}),a.jsx("span",{className:"text-body font-body text-subtext-color pb-1",children:t("billingStats.allTime")})]})]})})},bL=({onReceivePayment:e})=>{const{t}=ve();return a.jsx(de,{className:"h-10 w-auto flex-none",icon:a.jsx(iT,{}),onClick:e,variant:"success-primary",children:t("billingStats.receivePayment")})},vL=({onMakePayment:e})=>{const{t}=ve();return a.jsx(de,{className:"h-10 w-auto flex-none",variant:"destructive-primary",icon:a.jsx(TT,{}),onClick:e,children:t("billingStats.recordExpense")})},SN=(e,t=[])=>{const n=parseFloat(e.total_cost||0);if(n<=0)return{remainingAmount:0,paymentStatus:"not_applicable",totalPaid:0,paymentPercentage:0};const l=t.filter(m=>m.case_id===e.id).reduce((m,p)=>m+parseFloat(p.allocated_amount||0),0),o=Math.max(0,n-l),d=n>0?l/n*100:0;let f;return o===0&&l>0?f="paid":l>0?f="partially_paid":f="unpaid",{remainingAmount:o,paymentStatus:f,totalPaid:l,paymentPercentage:Math.round(d*100)/100}},NN=()=>{const[e,t]=h.useState([]),[n,s]=h.useState(!0),[l,o]=h.useState(null),[d,f]=h.useState(0),[m,p]=h.useState(0),[g,b]=h.useState(0),y=h.useCallback(async()=>{try{s(!0),o(null);const{data:w,error:j}=await ee.from("profiles").select(`
          id,
          full_name,
          avatar_url,
          phone,
          clinic,
          cases:cases!user_id (
            id,
            total_cost,
            created_at,
            status,
            first_name,
            last_name
          )
        `).eq("role","user");if(j)throw j;const{data:S,error:_}=await ee.from("payment_case_allocations").select("case_id, allocated_amount");if(_)throw _;const{data:R,error:k}=await ee.from("payments").select("doctor_id, created_at, amount, type").order("created_at",{ascending:!1});if(k)throw k;const N=w.map(I=>{const U=I.cases.map($=>{const W=SN($,S||[]);return{...$,...W}}),Z=U.filter($=>$.remainingAmount>0),se=Z.reduce(($,W)=>$+W.remainingAmount,0),F=R.filter($=>$.doctor_id===I.id&&$.type==="payment"),L=F.length>0?F[0].created_at:null;return{...I,cases:U,totalCases:I.cases.length,unpaidCasesCount:Z.length,totalDueAmount:se,lastPaymentDate:L,paymentStatus:se>0?"due":"current"}});t(N);const A=N.reduce((I,U)=>I+U.totalDueAmount,0),P=(R||[]).filter(I=>I.type==="expense").reduce((I,U)=>I+parseFloat(U.amount||0),0),T=(R||[]).filter(I=>I.type==="payment").reduce((I,U)=>I+parseFloat(U.amount||0),0)-P;f(T),p(A),b(P)}catch(w){console.error("Error fetching billing data:",w),o(w.message||"Failed to load billing data")}finally{s(!1)}},[]);return h.useEffect(()=>{y()},[y]),{doctors:e,loading:n,error:l,totalEarnings:d,totalDue:m,totalExpenses:g,refetchBillingData:y}},yL=()=>{const[e,t]=h.useState([]),[n,s]=h.useState(!1),l=h.useCallback(async o=>{if(!o){t([]);return}try{s(!0);const{data:d,error:f}=await ee.from("cases").select("*").eq("user_id",o);if(f)throw f;const m=(d||[]).map(y=>y.id),{data:p,error:g}=await ee.from("payment_case_allocations").select("case_id, allocated_amount").in("case_id",m);if(g)throw g;const b=(d||[]).map(y=>{const w=SN(y,p||[]);return{...y,...w}}).filter(y=>y.remainingAmount>0);t(b)}catch(d){console.error("Error fetching doctor cases:",d),xe.error("Failed to load doctor cases"),t([])}finally{s(!1)}},[]);return{doctorCases:e,loadingCases:n,loadDoctorCases:l}},wL=e=>{const[t,n]=h.useState(!1),s=h.useCallback(async l=>{const{selectedDoctor:o,paymentAmount:d,selectedCases:f,doctorCases:m,paymentNotes:p}=l;if(!d||parseFloat(d)<=0)return xe.error("Please enter a valid payment amount"),!1;if(o&&f.size===0)return xe.error("Please select at least one case for this doctor"),!1;try{n(!0);const g=parseFloat(d),{data:{user:b}}=await ee.auth.getUser(),{data:y,error:w}=await ee.from("payments").insert({doctor_id:o?.id||null,amount:g,admin_id:b.id,notes:p.trim()||null,type:"payment"}).select().single();if(w)throw w;if(o&&f.size>0){const j=m.filter(k=>f.has(k.id)).reduce((k,N)=>k+N.remainingAmount,0),S=Math.max(0,g-j),_=m.filter(k=>!f.has(k.id)),R=[];if(j>0)for(const k of f){const N=m.find(A=>A.id===k);if(N){const A=N.remainingAmount/j,P=Math.min(g*A,N.remainingAmount);R.push({payment_id:y.id,case_id:k,allocated_amount:P})}}if(S>0&&_.length>0){const k=S/_.length;for(const N of _){const A=Math.min(k,N.remainingAmount);R.push({payment_id:y.id,case_id:N.id,allocated_amount:A})}}if(R.length>0){const{error:k}=await ee.from("payment_case_allocations").insert(R);if(k)throw k}}return xe.success("Payment processed successfully!"),setTimeout(()=>{e()},1e3),y}catch(g){return console.error("Payment processing failed:",g),xe.error(g.message||"Failed to process payment"),!1}finally{n(!1)}},[e]);return{processingPayment:t,processPayment:s}};function jL(){const{t:e}=ve(),t=nr(),{totalCases:n,recentCases:s,casesError:l,submittedCases:o,completedCases:d}=pi(),{role:f}=Hl(),m=Bf(f),{totalEarnings:p,totalDue:g,totalExpenses:b,loading:y}=NN(),w=Pj(),j=ln(),S=w.state==="loading";return a.jsxs(a.Fragment,{children:[l&&a.jsx(et,{error:l}),a.jsx(wi,{submit:!0,children:e("dashboard.title")}),!t&&a.jsxs("div",{className:"flex w-full flex-wrap items-start gap-4",children:[a.jsxs("div",{className:"flex grow shrink-0 basis-0 flex-col items-start gap-2 rounded-md border border-solid border-neutral-border bg-default-background px-6 py-6",children:[a.jsx("span",{className:"text-caption-bold font-caption-bold text-subtext-color",children:e("dashboard.totalCases")}),a.jsx("span",{className:"text-heading-2 font-heading-2 text-default-font",children:n===null?a.jsx("div",{className:"flex items-center h-8",children:a.jsx(Qt,{size:"small"})}):n})]}),a.jsxs("div",{className:"flex grow shrink-0 basis-0 flex-col items-start gap-2 rounded-md border border-solid border-neutral-border bg-default-background px-6 py-6",children:[a.jsx("span",{className:"text-caption-bold font-caption-bold text-subtext-color",children:e("dashboard.pendingReview")}),a.jsx("span",{className:"text-heading-2 font-heading-2 text-warning-700",children:o===null?a.jsx("div",{className:"flex items-center h-8",children:a.jsx(Qt,{size:"small"})}):o})]}),a.jsxs("div",{className:"flex grow shrink-0 basis-0 flex-col items-start gap-2 rounded-md border border-solid border-neutral-border bg-default-background px-6 py-6",children:[a.jsx("span",{className:"text-caption-bold font-caption-bold text-subtext-color",children:e("dashboard.completedBy3DA")}),a.jsx("span",{className:"text-heading-2 font-heading-2 text-success-700",children:d===null?a.jsx("div",{className:"flex items-center h-8",children:a.jsx(Qt,{size:"small"})}):d})]})]}),a.jsxs("div",{className:"flex w-full items-center justify-between gap-4",children:[a.jsx("span",{className:"text-heading-2 font-heading-2 text-default-font",children:e("dashboard.recentCases")}),a.jsx("div",{className:"flex-shrink-0 max-w-[300px] min-w-[200px]",children:a.jsx(Ee,{variant:"filled",label:"",helpText:"",icon:a.jsx(Dr,{}),children:a.jsx(Ee.Input,{placeholder:e("dashboard.searchCases"),value:""})})})]}),a.jsx(z,{header:a.jsxs(z.HeaderRow,{children:[a.jsx(z.HeaderCell,{children:e("cases.patient")}),a.jsx(z.HeaderCell,{children:e("cases.doctor")}),a.jsx(z.HeaderCell,{children:e("cases.clinic")}),a.jsx(z.HeaderCell,{children:e("cases.phone")}),a.jsx(z.HeaderCell,{children:e("cases.status")}),a.jsx(z.HeaderCell,{children:e("cases.submissionDate")}),a.jsx(z.HeaderCell,{children:e("cases.caseId")})]}),children:S?a.jsx(z.Row,{children:a.jsx(z.Cell,{colSpan:7,children:a.jsx("div",{className:"flex w-full h-full min-h-[100px] justify-center items-center",children:a.jsx(Qt,{size:"medium"})})})}):s.length===0?a.jsx(z.Row,{children:a.jsx(z.Cell,{colSpan:7,children:a.jsx("div",{className:"text-center py-8",children:a.jsx("span",{className:"text-neutral-500",children:e("dashboard.noCases")})})})}):s.map(_=>a.jsxs(z.Row,{clickable:!0,onClick:()=>{j(`/admin/cases/${_.id}`)},children:[a.jsx(z.Cell,{children:a.jsxs("span",{className:"whitespace-nowrap text-body-bold font-body-bold text-neutral-700",children:[zt(_.first_name)," ",zt(_.last_name)]})}),a.jsx(z.Cell,{children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Ps,{size:"small",image:_.profiles?.avatar_url||void 0,children:!_.profiles?.avatar_url&&a.jsxs(a.Fragment,{children:[zt(_.profiles?.full_name?.split(" ")[0]?.[0]),zt(_.profiles?.full_name?.split(" ").slice(-1)[0]?.[0])]})}),a.jsx("span",{className:"whitespace-nowrap text-body font-body text-neutral-700",children:zt(_.profiles?.full_name)||"-"})]})}),a.jsx(z.Cell,{children:a.jsx("span",{className:"whitespace-nowrap text-body font-body text-neutral-500",children:_.profiles?.clinic||"-"})}),a.jsx(z.Cell,{children:a.jsx("span",{className:"whitespace-nowrap text-body font-body text-neutral-500",children:_.profiles?.phone||"-"})}),a.jsx(z.Cell,{children:a.jsx(Mr,{status:_.status})}),a.jsx(z.Cell,{children:a.jsx("span",{className:"whitespace-nowrap text-body font-body text-neutral-500",children:_.created_at?new Date(_.created_at).toLocaleDateString():"-"})}),a.jsx(z.Cell,{children:a.jsx("span",{className:"whitespace-nowrap text-body font-body text-neutral-500",children:_.id?`CASE-${_.id}`:"-"})})]},_.id))}),m&&a.jsxs(a.Fragment,{children:[a.jsx("span",{className:"text-heading-2 font-heading-2 text-default-font",children:e("dashboard.paymentOverview")}),y?a.jsx("div",{className:"flex w-full h-full min-h-[150px] justify-center items-center",children:a.jsx(Qt,{size:"medium"})}):a.jsx(jN,{totalEarnings:p,totalDue:g,totalExpenses:b,withButtons:!1})]})]})}function m1({children:e}){const t=ln(),[n,s]=h.useState(null),[l,o]=h.useState(!0);if(h.useEffect(()=>{(async()=>{const{data:m}=await ee.auth.getUser();s(m.user),o(!1)})();const{data:f}=ee.auth.onAuthStateChange((m,p)=>{s(p?.user||null),o(!1)});return()=>{f.subscription.unsubscribe()}},[]),l)return a.jsx(Qt,{size:"large"});if(!n){t("/login");return}return e}const SL=Me.forwardRef(function({icon:t=a.jsx(ui,{}),children:n,selected:s=!1,rightSlot:l,className:o,...d},f){return a.jsxs("div",{className:Ue("group/ca0dc365 flex w-full cursor-pointer items-center gap-4 rounded-full px-5 py-4 hover:bg-neutral-50 active:bg-neutral-100",{"bg-brand-50 hover:bg-brand-50 active:bg-brand-100":s},o),ref:f,...d,children:[t?a.jsx(Re,{className:Ue("text-heading-2 font-heading-2 text-default-font",{"text-brand-700":s}),children:t}):null,n?a.jsx("span",{className:Ue("line-clamp-1 grow shrink-0 basis-0 text-body-bold font-body-bold text-default-font",{"text-brand-700":s}),children:n}):null,l?a.jsx("div",{className:"flex items-center",children:l}):null]})}),NL=Me.forwardRef(function({header:t,footer:n,children:s,className:l,...o},d){return a.jsxs("nav",{className:Ue("flex h-full w-60 flex-col items-start border-r border-solid border-neutral-border bg-default-background",l),ref:d,...o,children:[t?a.jsx("div",{className:"flex w-full flex-col items-start gap-2 px-8 pt-8 pb-6",children:t}):null,s?a.jsx("div",{className:"flex w-full grow shrink-0 basis-0 flex-col items-start gap-1 px-4 py-4 overflow-auto",children:s}):null,n?a.jsx("div",{className:"flex w-full flex-col items-start justify-end gap-2 px-4 py-4",children:n}):null]})}),Bt=Object.assign(NL,{NavItem:SL}),_L=Me.forwardRef(function({children:t,icon:n=a.jsx(Ju,{}),className:s,...l},o){return a.jsx(xk,{asChild:!0,...l,children:a.jsxs("div",{className:Ue("group/adcae8d6 flex flex-row-reverse h-8 w-full cursor-pointer items-center gap-2 rounded-md px-3 hover:bg-neutral-100 active:bg-neutral-50 data-[highlighted]:bg-neutral-100",s),ref:o,children:[n?a.jsx(Re,{className:"text-body font-body text-default-font",children:n}):null,t?a.jsx("span",{className:"line-clamp-1 grow shrink-0 basis-0 text-body font-body text-default-font group-hover/adcae8d6:text-default-font",children:t}):null]})})}),CL=Me.forwardRef(function({className:t,...n},s){return a.jsx("div",{className:Ue("flex w-full items-start gap-2 px-1 py-1",t),ref:s,...n,children:a.jsx("div",{className:"flex h-px grow shrink-0 basis-0 flex-col items-center gap-2 bg-neutral-200"})})}),EL=Me.forwardRef(function({children:t,className:n,dir:s,...l},o){return t?a.jsx("div",{className:Ue("flex min-w-[192px] flex-col items-start rounded-md border border-solid border-neutral-border bg-default-background px-1 py-1 shadow-lg",n),ref:o,dir:s,...l,children:t}):null}),gc=Object.assign(EL,{DropdownItem:_L,DropdownDivider:CL}),RL=Me.forwardRef(function({children:t,className:n,initialBadgeCount:s,initialUserId:l,...o},d){const f=er(),{t:m}=ve(),[p,g]=h.useState(s??0),[b,y]=h.useState(!0),[w,j]=h.useState(!1),{hash:S,pathname:_,search:R}=f,k=ln(),[N,A]=h.useState(null);return h.useEffect(()=>{j(!1)},[_]),h.useEffect(()=>{(async()=>{const{data:{user:E}}=await ee.auth.getUser(),{data:T}=await ee.from("profiles").select("avatar_url").eq("id",E?.id).single();A(T?.avatar_url)})()},[]),h.useEffect(()=>{let P=!0;return(async()=>{const{data:{user:E},error:T}=await ee.auth.getUser(),I=l||E?.id;if(T||!I){P&&y(!1);return}const U=`unread_count_${I}`,Z=localStorage.getItem(U);P&&Z!=null&&g(Number(Z));const{count:se,error:F}=await ee.from("notifications").select("*",{count:"exact",head:!0}).eq("recipient_id",I).eq("status","unread");!F&&P&&(g(se||0),localStorage.setItem(U,String(se||0))),P&&y(!1)})(),()=>{P=!1}},[]),h.useEffect(()=>{let P=!0;return(async()=>{const{data:{user:E}}=await ee.auth.getUser(),T=l||E?.id;if(!T||!P)return;const I=`unread_count_${T}`,U=ee.channel("notifications_changes_app").on("postgres_changes",{event:"*",schema:"public",table:"notifications",filter:`recipient_id=eq.${T}`},Z=>{const se=Z.eventType,F=Z.new,L=Z.old;let $=0;se==="INSERT"?F?.recipient_id===T&&F?.status==="unread"&&($=1):se==="UPDATE"?F?.recipient_id===T&&(L?.status==="unread"&&F?.status!=="unread"&&($=-1),L?.status!=="unread"&&F?.status==="unread"&&($=1)):se==="DELETE"&&L?.recipient_id===T&&L?.status==="unread"&&($=-1),$!==0&&g(W=>{const O=Math.max(0,(W||0)+$);return localStorage.setItem(I,String(O)),O})}).subscribe();return()=>{ee.removeChannel(U)}})(),()=>{P=!1}},[]),a.jsxs("div",{className:Ue("flex h-screen w-full flex-col md:flex-row items-center",n),ref:d,children:[a.jsxs("div",{className:"flex md:hidden w-full items-center justify-between px-4 py-3 border-b border-component-divider bg-default-background z-20",children:[a.jsx("img",{className:"h-8",src:"/logo.png",alt:"logo"}),a.jsx("button",{onClick:()=>j(!w),className:"p-2 text-subtext-color",children:w?a.jsx(sn,{}):a.jsx(hx,{})})]}),a.jsxs(Bt,{className:"hidden md:flex",header:a.jsx("img",{className:"flex-none",src:"/logo.png"}),footer:a.jsxs(sx,{children:[a.jsx(ix,{asChild:!0,children:a.jsx("div",{className:"cursor-pointer",children:a.jsx(Ps,{image:N||"/logo.png"})})}),a.jsx(rx,{children:a.jsx(ax,{side:"top",align:"end",sideOffset:8,asChild:!0,children:a.jsxs(gc,{children:[a.jsx(Bt.NavItem,{icon:a.jsx(li,{}),onClick:()=>{k("/app/profile")},children:m("navigation.profile")}),a.jsx(Bt.NavItem,{icon:a.jsx(Wu,{}),onClick:()=>{k("/app/settings")},children:m("navigation.settings")}),a.jsx(Bt.NavItem,{icon:a.jsx(Ku,{}),onClick:async()=>{await ee.auth.signOut(),k("/")},children:m("navigation.signOut")})]})})})]}),children:[a.jsx(rt,{to:"/app/dashboard",children:a.jsx(Bt.NavItem,{icon:a.jsx(Gu,{}),selected:_==="/app/dashboard",children:m("navigation.home")})}),a.jsx(rt,{to:"/app/cases",children:a.jsx(Bt.NavItem,{icon:a.jsx(Yu,{}),selected:_.startsWith("/app/cases"),rightSlot:p>0?a.jsx(qe,{variant:"error",className:"ml-2 px-2 py-0 text-xs rounded-full",children:p}):null,children:m("navigation.cases")})}),a.jsx(rt,{to:"/app/billing",children:a.jsx(Bt.NavItem,{selected:_.startsWith("/app/billing"),icon:a.jsx(Vu,{}),children:m("navigation.billing")})})]}),w&&a.jsxs("div",{className:"fixed inset-0 z-30 flex md:hidden",children:[a.jsx("div",{className:"fixed inset-0 bg-overlay-background/50 backdrop-blur-sm",onClick:()=>j(!1)}),a.jsx("div",{className:"relative flex w-64 flex-col bg-default-background shadow-xl animate-in slide-in-from-left duration-200",children:a.jsxs("div",{className:"p-4 pt-20 flex flex-col gap-2",children:[a.jsx(rt,{to:"/app/dashboard",children:a.jsx(Bt.NavItem,{icon:a.jsx(Gu,{}),selected:_==="/app/dashboard",children:m("navigation.home")})}),a.jsx(rt,{to:"/app/cases",children:a.jsx(Bt.NavItem,{icon:a.jsx(Yu,{}),selected:_.startsWith("/app/cases"),rightSlot:p>0?a.jsx(qe,{variant:"error",children:p}):null,children:m("navigation.cases")})}),a.jsx(rt,{to:"/app/billing",children:a.jsx(Bt.NavItem,{icon:a.jsx(Vu,{}),selected:_.startsWith("/app/billing"),children:m("navigation.billing")})}),a.jsx(rt,{to:"/app/profile",children:a.jsx(Bt.NavItem,{icon:a.jsx(li,{}),selected:_.startsWith("/app/profile"),children:m("navigation.profile")})}),a.jsx(rt,{to:"/app/settings",children:a.jsx(Bt.NavItem,{icon:a.jsx(Wu,{}),selected:_.startsWith("/app/settings"),children:m("navigation.settings")})}),a.jsx("hr",{className:"my-2 border-component-divider"}),a.jsxs("button",{onClick:async()=>{await ee.auth.signOut(),k("/")},className:"flex items-center gap-2 p-3 text-error-color",children:[a.jsx(Ku,{})," ",m("navigation.signOut")]})]})})]}),a.jsx(fN,{position:"top-right"}),t?a.jsx("div",{className:"flex grow shrink-0 basis-0 flex-col items-start gap-4 self-stretch overflow-y-auto bg-default-background w-full",children:t}):null]})}),AL=RL;function PL(){const{initialBadgeCount:e,userId:t}=pi()||{};return a.jsx(AL,{initialBadgeCount:e,initialUserId:t,children:a.jsx("div",{className:"container max-w-none flex w-full flex-col items-start gap-4 bg-default-background py-12",children:a.jsx(Mg,{})})})}const kL=Me.forwardRef(function({children:t,className:n,initialBadgeCount:s,initialUserId:l,...o},d){const{t:f}=ve(),m=er(),{pathname:p}=m,g=ln(),[b,y]=h.useState(s??0),[w,j]=h.useState(!0),[S,_]=h.useState(0),[R,k]=h.useState(!0),[N,A]=h.useState(!1);return h.useEffect(()=>{A(!1)},[p]),h.useEffect(()=>{let P=!0;return(async()=>{const{data:{user:E},error:T}=await ee.auth.getUser(),I=l||E?.id;if(T||!I){P&&j(!1);return}const U=`unread_count_${I}`,Z=localStorage.getItem(U);P&&Z!=null&&y(Number(Z));const{count:se,error:F}=await ee.from("notifications").select("*",{count:"exact",head:!0}).eq("recipient_id",I).eq("status","unread");!F&&P&&(y(se||0),localStorage.setItem(U,String(se||0))),P&&j(!1)})(),()=>{P=!1}},[]),h.useEffect(()=>{let P=!0;return(async()=>{const E="signup_request_count",T=localStorage.getItem(E);P&&T!=null&&_(Number(T));const{count:I,error:U}=await ee.from("signup_requests").select("*",{count:"exact",head:!0}).eq("status","pending");!U&&P&&(_(I||0),localStorage.setItem(E,String(I||0))),P&&k(!1)})(),()=>{P=!1}},[]),a.jsxs("div",{className:Ue("flex h-screen w-full flex-col md:flex-row items-center",n),ref:d,children:[a.jsxs("div",{className:"flex md:hidden sticky top-0 w-full items-center justify-between px-4 py-3 border-b border-component-divider bg-default-background z-30",children:[a.jsx("img",{className:"h-8",src:"/logo.png",alt:"logo"}),a.jsx("button",{onClick:()=>A(!N),className:"p-2 text-subtext-color",children:N?a.jsx(sn,{}):a.jsx(hx,{})})]}),a.jsxs(Bt,{className:"hidden md:flex",header:a.jsx("img",{className:"flex-none",src:"/logo.png"}),footer:a.jsxs(sx,{children:[a.jsx(ix,{asChild:!0,children:a.jsx("div",{className:"cursor-pointer",children:a.jsx(Ps,{image:"/logo.png"})})}),a.jsx(rx,{children:a.jsx(ax,{side:"top",align:"end",sideOffset:8,asChild:!0,children:a.jsxs(gc,{children:[a.jsx(Bt.NavItem,{icon:a.jsx(Wu,{}),onClick:()=>g("/admin/settings"),children:f("navigation.settings")}),a.jsx(Bt.NavItem,{icon:a.jsx(Ku,{}),onClick:async()=>{await ee.auth.signOut(),g("/")},children:f("navigation.signOut")})]})})})]}),children:[a.jsx(rt,{to:"/admin/dashboard",children:a.jsx(Bt.NavItem,{icon:a.jsx(Gu,{}),selected:p==="/admin/dashboard",children:f("navigation.home")})}),a.jsx(rt,{to:"/admin/doctors",children:a.jsx(Bt.NavItem,{icon:a.jsx(gw,{}),selected:p.startsWith("/admin/doctors"),children:f("navigation.doctors")})}),a.jsx(rt,{to:"/admin/cases",children:a.jsx(Bt.NavItem,{icon:a.jsx(Yu,{}),selected:p.startsWith("/admin/cases"),rightSlot:b>0?a.jsx(qe,{variant:"error",className:"ml-2 px-2 py-0 text-xs rounded-full",children:b}):null,children:f("navigation.cases")})}),a.jsx(rt,{to:"/admin/signup-requests",children:a.jsx(Bt.NavItem,{icon:a.jsx(li,{}),selected:p.startsWith("/admin/signup-requests"),rightSlot:S>0?a.jsx(qe,{variant:"error",className:"ml-2 px-2 py-0 text-xs rounded-full",children:S}):null,children:f("navigation.signUpRequests")})}),a.jsx(rt,{to:"/admin/billing",children:a.jsx(Bt.NavItem,{selected:p.startsWith("/admin/billing"),icon:a.jsx(Vu,{}),children:f("navigation.billing")})})]}),N&&a.jsxs("div",{className:"fixed inset-0 z-20 flex md:hidden",children:[a.jsx("div",{className:"fixed inset-0 bg-overlay-background/50 backdrop-blur-sm",onClick:()=>A(!1)}),a.jsx("div",{className:"relative flex w-64 flex-col bg-default-background shadow-xl animate-in slide-in-from-left duration-200",children:a.jsxs("div",{className:"p-4 pt-20 flex flex-col gap-2",children:[a.jsx(rt,{to:"/admin/dashboard",children:a.jsx(Bt.NavItem,{icon:a.jsx(Gu,{}),selected:p==="/admin/dashboard",children:f("navigation.home")})}),a.jsx(rt,{to:"/admin/doctors",children:a.jsx(Bt.NavItem,{icon:a.jsx(gw,{}),selected:p.startsWith("/admin/doctors"),children:f("navigation.doctors")})}),a.jsx(rt,{to:"/admin/cases",children:a.jsx(Bt.NavItem,{icon:a.jsx(Yu,{}),selected:p.startsWith("/admin/cases"),rightSlot:b>0?a.jsx(qe,{variant:"error",children:b}):null,children:f("navigation.cases")})}),a.jsx(rt,{to:"/admin/signup-requests",children:a.jsx(Bt.NavItem,{icon:a.jsx(li,{}),selected:p.startsWith("/admin/signup-requests"),rightSlot:S>0?a.jsx(qe,{variant:"error",children:S}):null,children:f("navigation.signUpRequests")})}),a.jsx(rt,{to:"/admin/billing",children:a.jsx(Bt.NavItem,{icon:a.jsx(Vu,{}),selected:p.startsWith("/admin/billing"),children:f("navigation.billing")})}),a.jsx(rt,{to:"/admin/settings",children:a.jsx(Bt.NavItem,{icon:a.jsx(Wu,{}),selected:p.startsWith("/admin/settings"),children:f("navigation.settings")})}),a.jsx("hr",{className:"my-2 border-component-divider"}),a.jsxs("button",{onClick:async()=>{await ee.auth.signOut(),g("/")},className:"flex items-center gap-2 p-3 text-error-color",children:[a.jsx(Ku,{})," ",f("navigation.signOut")]})]})})]}),a.jsx(fN,{position:"top-right"}),t?a.jsx("div",{className:"flex grow shrink-0 basis-0 flex-col items-start gap-4 self-stretch overflow-y-auto bg-default-background w-full",children:t}):null]})}),TL=kL;function DL(){const{initialBadgeCount:e,userId:t}=pi()||{};return a.jsx(TL,{initialBadgeCount:e,initialUserId:t,children:a.jsx("div",{className:"container max-w-none flex w-full flex-col items-start gap-4 bg-default-background py-12",children:a.jsx(Mg,{})})})}async function ML(){const{data:{user:e}}=await ee.auth.getUser();if(!e)throw Kn("/login");const{count:t,error:n}=await ee.from("notifications").select("*",{count:"exact",head:!0}).eq("recipient_id",e.id).eq("status","unread");return{initialBadgeCount:n?0:t||0,userId:e.id}}async function OL(){const{data:{user:e}}=await ee.auth.getUser();if(!e)throw Kn("/login");const{data:t,error:n}=await ee.from("profiles").select("role").eq("id",e.id).single();if(n||!yi(t?.role))throw Kn("/unauthorized");const{count:s,error:l}=await ee.from("notifications").select("*",{count:"exact",head:!0}).eq("recipient_id",e.id).eq("status","unread");return{initialBadgeCount:l?0:s||0,userId:e.id,userRole:t?.role}}function LL(){return a.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen text-center p-6",children:[a.jsx("h1",{className:"text-5xl font-bold text-gray-800 mb-4",children:"404"}),a.jsx("p",{className:"text-lg text-gray-600 mb-6",children:"Sorry, the page youre looking for doesnt exist."}),a.jsx(rt,{to:"/",className:"px-4 py-2 bg-sky-600 text-white rounded hover:bg-sky-700 transition",children:"Go Home"})]})}function UL(){return a.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen text-center p-6",children:[a.jsx("h1",{className:"text-4xl font-semibold text-red-600 mb-4",children:"Access Denied"}),a.jsx("p",{className:"text-lg text-gray-600 mb-6",children:"You dont have permission to view this page."}),a.jsx(rt,{to:"/",className:"px-4 py-2 bg-gray-800 text-white rounded hover:bg-gray-900 transition",children:"Return to Home"})]})}async function $L(){const{data:{user:e}}=await ee.auth.getUser();if(!e)throw Kn("/unauthorized");const{data:t}=await ee.from("profiles").select("*").eq("id",e.id).single(),{count:n,error:s}=await ee.from("cases").select("*",{count:"exact",head:!0}).eq("user_id",e.id),{count:l,error:o}=await ee.from("cases").select("*",{count:"exact",head:!0}).eq("user_id",e.id).eq("status","submitted"),{count:d,error:f}=await ee.from("cases").select("*",{count:"exact",head:!0}).eq("user_id",e.id).eq("status","completed"),{data:m,error:p}=await ee.from("cases").select("*").eq("user_id",e.id).order("created_at",{ascending:!1}).limit(3);return{totalCases:s?"":n,submittedCases:o?"":l,completedCases:f?"_":d,recentCases:m||[],casesError:p?.message||null,submittedError:o?.message||null,profile:t||"_"}}function _N({variant:e="dropdown"}){const{i18n:t,t:n}=ve(),s=async l=>{try{t.changeLanguage(l),localStorage.setItem("language",l),document.dir=l==="ar"?"rtl":"ltr",document.documentElement.lang=l;const{data:{user:o}}=await ee.auth.getUser();if(o){const{error:d}=await ee.from("profiles").update({language_preference:l}).eq("id",o.id);d?(console.error("Error saving language preference:",d),xe.error("Failed to save language preference")):xe.success(l==="ar"?"    ":"Language preference saved successfully")}window.location.reload()}catch(o){console.error("Error changing language:",o),xe.error("Failed to change language")}};return e==="cards"?a.jsxs("div",{className:"flex w-full flex-col gap-4",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(tg,{className:"w-5 h-5 text-subtext-color"}),a.jsx("span",{className:"text-heading-3 font-heading-3 text-default-font",children:n("settings.language")})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("button",{onClick:()=>s("en"),className:`flex flex-col items-start gap-2 rounded-md border p-4 transition-all ${t.language==="en"?"border-brand-600 bg-brand-50":"border-neutral-border bg-default-background hover:border-neutral-400"}`,children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"text-2xl",children:""}),a.jsx("span",{className:"text-body-bold font-body-bold text-default-font",children:"English"})]}),t.language==="en"&&a.jsx("span",{className:"text-caption text-brand-600",children:" Current Language"})]}),a.jsxs("button",{onClick:()=>s("ar"),className:`flex flex-col items-start gap-2 rounded-md border p-4 transition-all ${t.language==="ar"?"border-brand-600 bg-brand-50":"border-neutral-border bg-default-background hover:border-neutral-400"}`,children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"text-2xl",children:""}),a.jsx("span",{className:"text-body-bold font-body-bold text-default-font",children:""})]}),t.language==="ar"&&a.jsx("span",{className:"text-caption text-brand-600",children:"  "})]})]})]}):a.jsxs("div",{className:"relative group",children:[a.jsxs("button",{className:"flex items-center gap-2 px-3 py-2 rounded-md hover:bg-neutral-100 transition-colors",children:[a.jsx(tg,{className:"w-5 h-5"}),a.jsx("span",{className:"text-body font-body",children:t.language==="ar"?"":"English"})]}),a.jsxs("div",{className:"absolute top-full right-0 mt-1 hidden group-hover:block bg-white border border-neutral-border rounded-md shadow-lg z-50 min-w-[150px]",children:[a.jsxs("button",{onClick:()=>s("en"),className:`w-full text-left px-4 py-2 hover:bg-neutral-50 flex items-center gap-2 ${t.language==="en"?"bg-brand-50 text-brand-600":""}`,children:[a.jsx("span",{children:""}),a.jsx("span",{children:"English"})]}),a.jsxs("button",{onClick:()=>s("ar"),className:`w-full text-left px-4 py-2 hover:bg-neutral-50 flex items-center gap-2 ${t.language==="ar"?"bg-brand-50 text-brand-600":""}`,children:[a.jsx("span",{children:""}),a.jsx("span",{children:""})]})]})]})}function FL(){const{t:e}=ve(),[t,n]=h.useState(""),[s,l]=h.useState(""),[o,d]=h.useState(!1),[f,m]=h.useState(null),p=y=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(y.trim()),g=async()=>{if(!p(t)){xe.error(e("settings.errors.invalidEmail"));return}d(!0),m(null);const{error:y}=await ee.auth.updateUser({email:t});y?(xe.error(y.message),m(y.message)):(xe.success(e("settings.success.emailUpdated")),n("")),d(!1)},b=async()=>{if(s.length<6){xe.error(e("settings.errors.passwordTooShort"));return}d(!0),m(null);const{error:y}=await ee.auth.updateUser({password:s});y?(xe.error(y.message),m(y.message)):(xe.success(e("settings.success.passwordUpdated")),l("")),d(!1)};return a.jsxs(a.Fragment,{children:[f&&a.jsx(et,{error:f}),a.jsx(ql,{submit:!1,children:e("settings.title")}),a.jsx("p",{className:"text-body font-body text-subtext-color",children:e("settings.subtitle")}),a.jsxs("div",{className:"flex w-full flex-col items-start gap-6",children:[a.jsx("span",{className:"text-heading-2 font-heading-2 text-default-font",children:e("settings.language")}),a.jsx("div",{className:"flex w-full flex-col gap-6 rounded-md border border-solid border-neutral-border bg-default-background px-6 py-6 shadow-sm",children:a.jsx(_N,{variant:"cards"})})]}),a.jsxs("div",{className:"flex w-full flex-col items-start gap-6",children:[a.jsx("span",{className:"text-heading-2 font-heading-2 text-default-font",children:e("settings.updateEmail")}),a.jsxs("div",{className:"flex w-full flex-col gap-6 rounded-md border border-solid border-neutral-border bg-default-background px-6 py-6 shadow-sm",children:[a.jsxs("div",{children:[a.jsx("span",{className:"text-heading-3 font-heading-3 text-default-font",children:e("settings.updateEmail")}),a.jsx("span",{className:"block text-body font-body text-subtext-color",children:e("settings.emailDescription")})]}),a.jsx(Ee,{className:"w-full",label:e("settings.newEmail"),children:a.jsx(Ee.Input,{type:"email",placeholder:e("settings.emailPlaceholder"),value:t,onChange:y=>n(y.target.value)})}),a.jsx(de,{className:"w-auto",onClick:g,disabled:o,loading:o,children:e("settings.updateEmail")})]})]}),a.jsxs("div",{className:"flex w-full flex-col items-start gap-6",children:[a.jsx("span",{className:"text-heading-2 font-heading-2 text-default-font",children:e("settings.changePassword")}),a.jsxs("div",{className:"flex w-full flex-col gap-6 rounded-md border border-solid border-neutral-border bg-default-background px-6 py-6 shadow-sm",children:[a.jsxs("div",{children:[a.jsx("span",{className:"text-heading-3 font-heading-3 text-default-font",children:e("settings.changePassword")}),a.jsx("span",{className:"block text-body font-body text-subtext-color",children:e("settings.passwordDescription")})]}),a.jsx(Ee,{className:"w-full",label:e("settings.newPassword"),children:a.jsx(Ee.Input,{type:"password",placeholder:e("settings.passwordPlaceholder"),value:s,onChange:y=>l(y.target.value)})}),a.jsx(de,{className:"w-auto",onClick:b,disabled:o,loading:o,children:e("settings.changePassword")})]})]})]})}function IL(){const{t:e,i18n:t}=ve(),n=t.language==="ar",s=ln(),l=h.useRef(null),[o,d]=h.useState(!0),[f,m]=h.useState(!1),[p,g]=h.useState(!1),[b,y]=h.useState(null),[w,j]=h.useState({full_name:"",email:"",phone:"",clinic:"",address:"",avatar_url:""});h.useEffect(()=>{(async()=>{d(!0),y(null);try{const{data:{user:N}}=await ee.auth.getUser(),{data:A,error:P}=await ee.from("profiles").select("*").eq("id",N.id).single();if(P)throw P;A&&j({full_name:A.full_name||"",email:A.email||N.email||"",phone:A.phone||"",clinic:A.clinic||"",address:A.address||"",avatar_url:A.avatar_url||""})}catch(N){console.error("Error fetching profile:",N),y(N.message),xe.error(e("profile.errors.fetchFailed"))}finally{d(!1)}})()},[e]);const S=k=>{j({...w,[k.target.name]:k.target.value})},_=async()=>{m(!0),y(null);try{const{data:{user:k}}=await ee.auth.getUser(),{error:N}=await ee.from("profiles").update({full_name:w.full_name,phone:w.phone,clinic:w.clinic,address:w.address,avatar_url:w.avatar_url}).eq("id",k.id);if(N)throw N;xe.success(e("profile.success.updated"))}catch(k){console.error("Error updating profile:",k),y(k.message),xe.error(e("profile.errors.updateFailed"))}finally{m(!1)}},R=async k=>{const N=k.target.files?.[0];if(N){g(!0),y(null);try{const{data:{user:A}}=await ee.auth.getUser(),E=(se=>se.normalize("NFD").replace(/[\u0300-\u036f]/g,"").replace(/[^\w.-]/g,"_"))(N.name),T=`${A.id}/${Date.now()}-${E}`,{error:I}=await ee.storage.from("avatars").upload(T,N,{upsert:!1,contentType:N.type||"image/jpeg"});if(I)throw I;const{data:U}=ee.storage.from("avatars").getPublicUrl(T);j(se=>({...se,avatar_url:U.publicUrl}));const{error:Z}=await ee.from("profiles").update({avatar_url:U.publicUrl}).eq("id",A.id);if(Z)throw Z;xe.success(e("profile.success.avatarUpdated"))}catch(A){console.error("Avatar upload error:",A),y(A.message),xe.error(A?.message||e("profile.errors.avatarFailed"))}finally{g(!1)}}};return a.jsxs(a.Fragment,{children:[b&&a.jsx(et,{error:b}),a.jsx(ql,{submit:!1,children:e("profile.title")}),a.jsx("p",{className:"text-body font-body text-subtext-color",children:e("profile.subtitle")}),o?a.jsx("div",{className:"flex w-full h-full min-h-[200px] justify-center items-center",children:a.jsx(Qt,{size:"medium"})}):a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"flex w-full flex-col items-start gap-6",children:[a.jsx("span",{className:"text-heading-2 font-heading-2 text-default-font",children:e("profile.profilePhoto")}),a.jsxs("div",{className:"flex w-full flex-col gap-6 rounded-md border border-solid border-neutral-border bg-default-background px-6 py-6 shadow-sm",children:[a.jsx("div",{children:a.jsx("span",{className:"block text-body font-body text-subtext-color",children:e("profile.avatarDescription")})}),a.jsx("div",{className:"flex w-full items-center justify-center gap-4",children:a.jsxs("div",{className:"flex flex-col items-center gap-2",children:[a.jsx(Ps,{size:"x-large",image:w.avatar_url,children:w.full_name?.charAt(0)}),a.jsx(Jt,{icon:a.jsx(uT,{}),onClick:()=>l.current?.click(),disabled:p}),p&&a.jsx("span",{className:"text-caption text-subtext-color",children:e("common.loading")}),a.jsx("input",{ref:l,type:"file",accept:"image/*",onChange:R,hidden:!0})]})})]})]}),a.jsxs("div",{className:"flex w-full flex-col items-start gap-6",children:[a.jsx("span",{className:"text-heading-2 font-heading-2 text-default-font",children:e("profile.personalInformation")}),a.jsxs("div",{className:"flex w-full flex-col gap-6 rounded-md border border-solid border-neutral-border bg-default-background px-6 py-6 shadow-sm",children:[a.jsx(Ee,{className:"w-full",label:e("profile.fullName"),children:a.jsx(Ee.Input,{name:"full_name",placeholder:e("profile.fullNamePlaceholder"),value:w.full_name,onChange:S})}),a.jsx(Ee,{className:"w-full",label:e("profile.email"),children:a.jsx(Ee.Input,{name:"email",placeholder:e("profile.emailPlaceholder"),value:w.email,onChange:S,disabled:!0})}),a.jsx(Ee,{className:"w-full",label:e("profile.phoneNumber"),children:a.jsx(Ee.Input,{name:"phone",placeholder:e("profile.phonePlaceholder"),value:w.phone,onChange:S,className:` ${n?"text-right":""}`,style:{direction:"ltr"}})}),a.jsx(Ee,{className:"w-full",label:e("profile.clinicName"),children:a.jsx(Ee.Input,{name:"clinic",placeholder:e("profile.clinicPlaceholder"),value:w.clinic,onChange:S})}),a.jsx(Ee,{className:"w-full",label:e("profile.clinicAddress"),children:a.jsx(Ee.Input,{name:"address",placeholder:e("profile.addressPlaceholder"),value:w.address,onChange:S})}),a.jsxs("div",{className:"flex w-full items-center justify-end gap-3",children:[a.jsx(de,{className:"w-auto",variant:"neutral-secondary",onClick:()=>s(-1),children:e("common.cancel")}),a.jsx(de,{className:"w-auto",onClick:_,loading:f,children:e("profile.saveChanges")})]})]})]})]})]})}async function BL(){const{data:{user:e}}=await ee.auth.getUser();if(!e)throw Kn("/login");const{data:t,error:n}=await ee.from("profiles").select("role").eq("id",e.id).single();if(n||!yi(t?.role))throw Kn("/unauthorized");const[s,l,o,d]=await Promise.all([ee.from("cases").select("id",{count:"exact",head:!0}),ee.from("cases").select("id",{count:"exact",head:!0}).eq("status","submitted"),ee.from("cases").select("id",{count:"exact",head:!0}).eq("status","completed"),ee.from("cases").select("id, first_name, last_name, status, created_at, user_id, profiles:user_id (full_name, avatar_url, clinic, phone)").order("created_at",{ascending:!1}).limit(5)]),{count:f,error:m}=s,{count:p,error:g}=l,{count:b,error:y}=o,{data:w,error:j}=d,S=(w||[]).map(_=>({..._,first_name:Da(_.first_name),last_name:Da(_.last_name),profiles:_.profiles?{..._.profiles,full_name:Da(_.profiles.full_name)}:_.profiles}));return{totalCases:m?"":f,submittedCases:g?"":p,completedCases:y?"":b,recentCases:S,casesError:j?.message||null,submittedError:g?.message||null,completedError:y?.message||null,userRole:t?.role}}const zL=({cases:e,loading:t,hasActiveFilters:n})=>{const s=ln(),{t:l}=ve();return a.jsx(z,{header:a.jsxs(z.HeaderRow,{children:[a.jsx(z.HeaderCell,{children:l("cases.patient")}),a.jsx(z.HeaderCell,{children:l("cases.doctor")}),a.jsx(z.HeaderCell,{children:l("cases.clinic")}),a.jsx(z.HeaderCell,{children:l("cases.filters.material")}),a.jsx(z.HeaderCell,{children:l("cases.phone")}),a.jsx(z.HeaderCell,{children:l("cases.status")}),a.jsx(z.HeaderCell,{children:l("cases.submitted")}),a.jsx(z.HeaderCell,{children:l("cases.caseId")})]}),children:t?a.jsx(z.Row,{children:a.jsx(z.Cell,{colSpan:8,children:a.jsx("div",{className:"flex w-full h-full min-h-[100px] justify-center items-center",children:a.jsx(Of,{size:"medium"})})})}):e.length===0?a.jsx(z.Row,{children:a.jsx(z.Cell,{colSpan:8,children:a.jsx("div",{className:"text-center py-8",children:a.jsx("span",{className:"text-neutral-500",children:l(n?"cases.noMatchingCases":"cases.noCases")})})})}):e.map(o=>a.jsxs(z.Row,{clickable:!0,onClick:()=>s(`/admin/cases/${o.id}`),children:[a.jsx(z.Cell,{children:a.jsxs("span",{className:"whitespace-nowrap text-body-bold font-body-bold text-neutral-700",children:[o.first_name," ",o.last_name]})}),a.jsx(z.Cell,{children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Ps,{size:"small",image:o.profiles?.avatar_url||void 0,children:!o.profiles?.avatar_url&&a.jsxs(a.Fragment,{children:[zt(o.profiles?.full_name?.split(" ")[0]?.[0]),zt(o.profiles?.full_name?.split(" ").slice(-1)[0]?.[0])]})}),a.jsx("span",{className:"whitespace-nowrap text-body font-body text-neutral-700",children:o.profiles?.full_name||"-"})]})}),a.jsx(z.Cell,{children:a.jsx("span",{className:"whitespace-nowrap text-body font-body text-neutral-500",children:o.profiles?.clinic||"-"})}),a.jsx(z.Cell,{children:a.jsx("span",{className:"whitespace-nowrap text-body font-body text-neutral-700",children:o.aligner_material||"-"})}),a.jsx(z.Cell,{children:a.jsx("span",{className:"whitespace-nowrap text-body font-body text-neutral-500",style:{direction:"ltr"},children:o.profiles?.phone||"-"})}),a.jsx(z.Cell,{children:a.jsx(Mr,{status:o.status})}),a.jsx(z.Cell,{children:a.jsx("span",{className:"whitespace-nowrap text-body font-body text-neutral-500",children:o.created_at?new Date(o.created_at).toLocaleDateString():"-"})}),a.jsx(z.Cell,{children:a.jsx("span",{className:"whitespace-nowrap text-body font-body text-neutral-500",children:o.id?`CASE-${o.id}`:"-"})})]},o.id))})},qL=({cases:e})=>{const t=ln();return a.jsx("div",{className:"flex flex-col gap-3 w-full",children:e.map(n=>a.jsx("button",{onClick:()=>t(`/admin/cases/${n.id}`),children:a.jsx(wN,{title:`${n.first_name} ${n.last_name}`,meta:`${n.profiles?.full_name}  ${n.profiles?.clinic}`,right:a.jsx(Mr,{status:n.status})})},n.id))})},ec=10,HL=e=>[{value:"submitted",label:e("cases.filters.submitted")},{value:"rejected",label:e("cases.filters.rejected")},{value:"awaiting_user_approval",label:e("cases.filters.awaitingApproval")},{value:"user_rejected",label:e("cases.filters.rejectedByDoctor")},{value:"approved",label:e("cases.filters.approved")},{value:"in_production",label:e("cases.filters.inProduction")},{value:"ready_for_delivery",label:e("cases.filters.readyForDelivery")},{value:"delivered",label:e("cases.filters.delivered")},{value:"completed",label:e("cases.filters.completed")}],VL=e=>[{value:"today",label:e("cases.filters.today")},{value:"week",label:e("cases.filters.thisWeek")},{value:"month",label:e("cases.filters.thisMonth")},{value:"quarter",label:e("cases.filters.thisQuarter")},{value:"year",label:e("cases.filters.thisYear")}],GL=e=>[{value:"created_at_desc",label:e("cases.filters.newestFirst"),column:"created_at",ascending:!1},{value:"created_at_asc",label:e("cases.filters.oldestFirst"),column:"created_at",ascending:!0},{value:"patient_name_asc",label:e("cases.filters.patientAZ"),column:"first_name",ascending:!0},{value:"patient_name_desc",label:e("cases.filters.patientZA"),column:"first_name",ascending:!1},{value:"doctor_name_asc",label:e("cases.filters.doctorAZ"),column:"profiles(full_name)",ascending:!0},{value:"doctor_name_desc",label:e("cases.filters.doctorZA"),column:"profiles(full_name)",ascending:!1},{value:"status_asc",label:e("cases.filters.statusAZ"),column:"status",ascending:!0},{value:"status_desc",label:e("cases.filters.statusZA"),column:"status",ascending:!1}],YL=()=>{const[e,t]=h.useState([]),n=nr(),[s,l]=h.useState(!0),[o,d]=h.useState(!1),[f,m]=h.useState(null),[p,g]=h.useState(1),[b,y]=h.useState(0),[w,j]=h.useState(""),[S,_]=h.useState(""),[R,k]=h.useState([]),{t:N}=ve(),A=h.useMemo(()=>HL(N),[N]),P=h.useMemo(()=>VL(N),[N]),E=h.useMemo(()=>GL(N),[N]),[T,I]=h.useState(""),[U,Z]=h.useState(""),[se,F]=h.useState(""),[L,$]=h.useState("created_at_desc"),[W,O]=h.useState(!1),[q,B]=h.useState(!1),[Y,D]=h.useState(!1),[V,J]=h.useState(!1),ne=h.useRef(null),X=h.useRef(null),ce=h.useRef(null),fe=h.useRef(null);ln(),h.useEffect(()=>{(async()=>{try{const{data:Pe,error:Fe}=await ee.from("services").select("name").eq("type","aligners_material").eq("is_active",!0).order("name",{ascending:!0});if(Fe)throw Fe;const jt=(Pe||[]).map(xt=>({value:xt.name,label:xt.name}));k(jt)}catch(Pe){console.error("Error fetching aligner materials:",Pe)}})()},[]),h.useEffect(()=>{const Ne=Pe=>{ne.current&&!ne.current.contains(Pe.target)&&O(!1),X.current&&!X.current.contains(Pe.target)&&B(!1),ce.current&&!ce.current.contains(Pe.target)&&D(!1),fe.current&&!fe.current.contains(Pe.target)&&J(!1)};return document.addEventListener("mousedown",Ne),()=>document.removeEventListener("mousedown",Ne)},[]);const Se=Ne=>{const Pe=new Date,Fe=new Date(Pe.getFullYear(),Pe.getMonth(),Pe.getDate()),jt=new Date(Fe),xt=new Date(jt),we=new Date(Fe.getFullYear(),Fe.getMonth(),1),lt=new Date(Fe.getFullYear(),Fe.getMonth()+1,1),st=Math.floor(Fe.getMonth()/3),Et=new Date(Fe.getFullYear(),st*3,1),vt=new Date(Fe.getFullYear(),st*3+3,1),qt=new Date(Fe.getFullYear(),0,1),Nt=new Date(Fe.getFullYear()+1,0,1);switch(Ne){case"today":return{start:Fe,end:new Date(Fe.getTime()+24*60*60*1e3)};case"week":return jt.setDate(Fe.getDate()-Fe.getDay()),xt.setDate(jt.getDate()+7),{start:jt,end:xt};case"month":return{start:we,end:lt};case"quarter":return{start:Et,end:vt};case"year":return{start:qt,end:Nt};default:return null}},_e=h.useCallback(async(Ne=!1)=>{try{Ne?d(!0):l(!0);let Pe=ee.from("cases").select(`
            *,
            profiles (
              id,
              full_name,
              phone,
              clinic,
              avatar_url
            )
          `,{count:"exact"});if(w.length>=3&&(Pe=Pe.or(`first_name.ilike.%${w}%,last_name.ilike.%${w}%,profiles.full_name.ilike.%${w}%`)),T&&(Pe=Pe.eq("status",T)),U&&(Pe=Pe.eq("aligner_material",U)),se){const He=Se(se);He&&(Pe=Pe.gte("created_at",He.start.toISOString()).lt("created_at",He.end.toISOString()))}const{count:Fe,error:jt}=await Pe;if(jt)throw jt;y(Fe||0);const xt=E.find(He=>He.value===L),we=xt?.column||"created_at",lt=xt?.ascending||!1;let st=Pe.select(`
          *,
          profiles (
            id,
            full_name,
            phone,
            clinic,
            avatar_url
          )
        `);we.includes("profiles")?st=st.order("created_at",{ascending:!1}):st=st.order(we,{ascending:lt});const Et=(p-1)*ec,vt=Et+ec-1,{data:qt,error:Nt}=await st.range(Et,vt);if(Nt)throw Nt;let ot=(qt||[]).map(He=>({...He,first_name:Da(He.first_name),last_name:Da(He.last_name),profiles:He.profiles?{...He.profiles,full_name:Da(He.profiles.full_name)}:He.profiles}));we.includes("profiles")&&ot.sort((He,ht)=>{const Mn=He.profiles?.full_name||"",Nn=ht.profiles?.full_name||"",yt=Mn.localeCompare(Nn);return lt?yt:-yt}),t(ot),m(null)}catch(Pe){console.error("Error fetching cases:",Pe),m(Pe.message)}finally{l(!1),d(!1)}},[p,w,T,U,se,L,E]);h.useEffect(()=>{_e()},[_e]),h.useEffect(()=>{const Ne=setTimeout(()=>{g(1),j(S.trim())},300);return()=>clearTimeout(Ne)},[S]),h.useEffect(()=>{g(1)},[T,U,se,L]);const ge=()=>{_e(!0)},be=()=>{I(""),Z(""),F(""),$("created_at_desc"),_(""),j(""),g(1)},Ae=T||U||se||w||L!=="created_at_desc",ke=()=>T?A.find(Pe=>Pe.value===T)?.label||T:N("cases.filters.status"),ye=()=>U?R.find(Pe=>Pe.value===U)?.label||U:N("cases.filters.material"),$e=()=>se?P.find(Pe=>Pe.value===se)?.label||se:N("cases.filters.date");return a.jsxs(a.Fragment,{children:[f&&a.jsx(et,{error:f}),a.jsx(wi,{submit:!0,children:N("navigation.allCases")}),a.jsxs("div",{className:"flex w-full flex-col gap-3 md:flex-row md:items-center md:justify-between",children:[a.jsxs("div",{className:"flex items-center gap-2 overflow-x-auto md:overflow-visible md:flex-1 scrollbar-hide",children:[a.jsx("div",{className:"w-full md:flex-grow max-w-[300px] min-w-[200px]",children:a.jsx(Ee,{className:"w-full",variant:"filled",label:"",helpText:"",icon:a.jsx(Dr,{}),children:a.jsx(Ee.Input,{placeholder:N("cases.searchPatientOrDoctor"),value:S,onChange:Ne=>_(Ne.target.value)})})}),a.jsxs("div",{className:"flex-shrink-0 relative",ref:ne,children:[a.jsx(de,{size:"sm",variant:T?"neutral-secondary":"neutral-tertiary",className:"px-3",iconRight:W?a.jsx(ii,{}):a.jsx(si,{}),onClick:()=>{O(!W),B(!1),D(!1)},children:ke()}),W&&a.jsx("div",{className:"absolute top-full left-0 mt-1 bg-white border border-neutral-border rounded-md shadow-lg z-10 min-w-[160px]",dir:"rtl",children:a.jsxs("div",{className:"py-1",children:[a.jsx("button",{className:"w-full text-right px-3 py-2 text-sm hover:bg-neutral-50 text-neutral-700",onClick:()=>{I(""),O(!1)},children:N("cases.filters.allStatuses")}),A.map(Ne=>a.jsx("button",{className:`w-full text-right px-3 py-2 text-sm hover:bg-neutral-50 ${T===Ne.value?"bg-neutral-100 text-neutral-900":"text-neutral-700"}`,onClick:()=>{I(Ne.value),O(!1)},children:Ne.label},Ne.value))]})})]}),a.jsxs("div",{className:"flex-shrink-0 relative",ref:X,children:[a.jsx(de,{size:"sm",variant:U?"neutral-secondary":"neutral-tertiary",className:"px-3",iconRight:q?a.jsx(ii,{}):a.jsx(si,{}),onClick:()=>{B(!q),O(!1),D(!1)},children:ye()}),q&&a.jsx("div",{className:"absolute top-full left-0 mt-1 bg-white border border-neutral-border rounded-md shadow-lg z-10 min-w-[140px] max-h-[300px] overflow-y-auto",dir:"rtl",children:a.jsxs("div",{className:"py-1",children:[a.jsx("button",{className:"w-full text-right px-3 py-2 text-sm hover:bg-neutral-50 text-neutral-700",onClick:()=>{Z(""),B(!1)},children:N("cases.filters.allMaterials")}),R.map(Ne=>a.jsx("button",{className:`w-full text-right px-3 py-2 text-sm hover:bg-neutral-50 ${U===Ne.value?"bg-neutral-100 text-neutral-900":"text-neutral-700"}`,onClick:()=>{Z(Ne.value),B(!1)},children:Ne.label},Ne.value))]})})]}),a.jsxs("div",{className:"flex-shrink-0 relative",ref:ce,children:[a.jsx(de,{size:"sm",variant:se?"neutral-secondary":"neutral-tertiary",className:"px-3",iconRight:Y?a.jsx(ii,{}):a.jsx(si,{}),onClick:()=>{D(!Y),O(!1),B(!1)},children:$e()}),Y&&a.jsx("div",{className:"absolute top-full left-0 mt-1 bg-white border border-neutral-border rounded-md shadow-lg z-10 min-w-[140px]",dir:"rtl",children:a.jsxs("div",{className:"py-1",children:[a.jsx("button",{className:"w-full text-right px-3 py-2 text-sm hover:bg-neutral-50 text-neutral-700",onClick:()=>{F(""),D(!1)},children:N("cases.filters.allDates")}),P.map(Ne=>a.jsx("button",{className:`w-full text-right px-3 py-2 text-sm hover:bg-neutral-50 ${se===Ne.value?"bg-neutral-100 text-neutral-900":"text-neutral-700"}`,onClick:()=>{F(Ne.value),D(!1)},children:Ne.label},Ne.value))]})})]}),Ae&&a.jsx(de,{size:"sm",variant:"neutral-tertiary",className:"px-2 w-auto",onClick:be,icon:a.jsx(sn,{}),children:a.jsx("span",{className:"hidden md:inline",children:N("cases.filters.clearFilters")})})]}),a.jsxs("div",{className:"flex items-center gap-2 flex-shrink-0",children:[a.jsx(Jt,{icon:a.jsx($n,{className:o?"animate-spin":""}),onClick:ge,disabled:o}),a.jsxs("div",{className:"relative",ref:fe,children:[a.jsx(Jt,{icon:a.jsx(ux,{}),onClick:()=>J(!V)}),V&&a.jsx("div",{className:"absolute top-full left-0 mt-1 bg-white border border-neutral-border rounded-md shadow-lg z-10 min-w-[200px]",dir:"rtl",children:a.jsxs("div",{className:"p-4",children:[a.jsx("h3",{className:"text-sm font-medium text-neutral-900 mb-3 text-right",children:N("cases.filters.sortBy")}),a.jsx("div",{className:"space-y-2",children:E.map(Ne=>a.jsxs("label",{className:"flex items-center justify-start",children:[a.jsx("span",{className:"text-sm text-neutral-700 order-2",children:Ne.label}),a.jsx("input",{type:"radio",name:"sort",value:Ne.value,checked:L===Ne.value,onChange:Pe=>$(Pe.target.value),className:"ml-2 order-1"})]},Ne.value))})]})})]})]})]}),Ae&&a.jsxs("div",{className:"flex flex-wrap gap-2 items-center",children:[a.jsx("span",{className:"text-xs text-neutral-600",children:N("cases.filters.activeFilters")}),T&&a.jsxs(qe,{variant:"neutral",className:"text-xs",children:[N("cases.filters.status"),": ",ke(),a.jsx("button",{onClick:()=>I(""),className:"ml-1 hover:text-neutral-800",children:""})]}),U&&a.jsxs(qe,{variant:"neutral",className:"text-xs",children:[N("cases.filters.material"),": ",ye(),a.jsx("button",{onClick:()=>Z(""),className:"ml-1 hover:text-neutral-800",children:""})]}),se&&a.jsxs(qe,{variant:"neutral",className:"text-xs",children:[N("cases.filters.date"),": ",$e(),a.jsx("button",{onClick:()=>F(""),className:"ml-1 hover:text-neutral-800",children:""})]}),w&&a.jsxs(qe,{variant:"neutral",className:"text-xs",children:[N("common.search"),': "',w,'"',a.jsx("button",{onClick:()=>{j(""),_("")},className:"ml-1 hover:text-neutral-800",children:""})]}),L!=="created_at_desc"&&a.jsxs(qe,{variant:"neutral",className:"text-xs",children:[N("cases.filters.sortBy"),":"," ",E.find(Ne=>Ne.value===L)?.label]})]}),n?a.jsx(qL,{cases:e,loading:s}):a.jsx(zL,{cases:e,loading:s,hasActiveFilters:Ae}),a.jsxs("div",{className:"flex w-full items-center justify-between",children:[a.jsx("span",{className:"text-body font-body text-subtext-color",children:b===0?N("casesPage.noCasesToShow"):`${N("cases.showing")} ${Math.min((p-1)*ec+1,b)} - ${Math.min(p*ec,b)} ${N("cases.of")} ${b} ${N("cases.cases")}`}),a.jsxs("div",{className:"flex items-center gap-2",children:[p>1&&a.jsx(de,{variant:"neutral-secondary",onClick:()=>g(p-1),disabled:s||o,children:N("common.previous")}),p*ec<b&&a.jsx(de,{variant:"neutral-secondary",onClick:()=>g(p+1),disabled:s||o,children:N("common.next")})]})]})]})};async function KL({params:e}){const{caseId:t}=e,{data:{user:n}}=await ee.auth.getUser();if(!n)throw Kn("/login");const{data:s,error:l}=await ee.from("profiles").select("role").eq("id",n.id).single();if(l||!yi(s?.role))throw Kn("/unauthorized");const{data:o,error:d}=await ee.from("cases").select(`
      *,
      profiles (
        full_name,
        clinic,
        phone
      )
    `).eq("id",t).single();if(d)return console.error("Error loading case:",d),{error:d.message,caseData:null};let f=o;if(!o?.profiles&&o?.user_id){const{data:m,error:p}=await ee.from("profiles").select("full_name, clinic, phone").eq("id",o.user_id).single();!p&&m&&(f={...o,profiles:m})}return{caseData:f}}const tc=10,WL=e=>[{value:"name_asc",label:e("cases.filters.doctorAZ"),column:"full_name",ascending:!0},{value:"name_desc",label:e("cases.filters.doctorZA"),column:"full_name",ascending:!1},{value:"clinic_asc",label:e("cases.filters.clinicAZ"),column:"clinic",ascending:!0},{value:"clinic_desc",label:e("cases.filters.clinicZA"),column:"clinic",ascending:!1},{value:"cases_desc",label:e("cases.filters.mostCasesFirst"),column:"cases_count",ascending:!1},{value:"cases_asc",label:e("cases.filters.fewestCasesFirst"),column:"cases_count",ascending:!0}],JL=()=>{const[e,t]=h.useState([]),[n,s]=h.useState(!0),[l,o]=h.useState(!1),[d,f]=h.useState(null),[m,p]=h.useState(1),[g,b]=h.useState(0),[y,w]=h.useState(""),[j,S]=h.useState(""),[_,R]=h.useState(""),[k,N]=h.useState([]),[A,P]=h.useState("name_asc"),[E,T]=h.useState(!1),[I,U]=h.useState(!1),Z=h.useRef(null),se=h.useRef(null),{t:F}=ve(),L=h.useMemo(()=>WL(F),[F]),$=ln();h.useEffect(()=>{const D=V=>{Z.current&&!Z.current.contains(V.target)&&T(!1),se.current&&!se.current.contains(V.target)&&U(!1)};return document.addEventListener("mousedown",D),()=>document.removeEventListener("mousedown",D)},[]),h.useEffect(()=>{(async()=>{try{const{data:V,error:J}=await ee.from("profiles").select("clinic").eq("role","user").not("clinic","is",null).not("clinic","eq","");if(J)throw J;const ne=[...new Set(V.map(X=>X.clinic))].sort();N(ne.map(X=>({value:X,label:X})))}catch(V){console.error("Error fetching clinic options:",V)}})()},[]);const W=async(D=!1)=>{try{D?o(!0):s(!0);let V=ee.from("profiles").select(`
          id,
          full_name,
          phone,
          clinic,
          avatar_url,
          cases:cases(count)
        `,{count:"exact"}).eq("role","user");y.length>=3&&(V=V.ilike("full_name",`%${y}%`)),_&&(V=V.eq("clinic",_));const{count:J,error:ne}=await V;if(ne)throw ne;b(J||0);const X=L.find(ye=>ye.value===A),ce=X?.column||"full_name",fe=X?.ascending!==!1,Se=(m-1)*tc,_e=Se+tc-1;let ge=V.select(`
        id,
        full_name,
        phone,
        clinic,
        avatar_url,
        cases:cases(count)
      `);ce==="cases_count"?ge=ge.order("full_name",{ascending:!0}):ge=ge.order(ce,{ascending:fe});const{data:be,error:Ae}=await ge.range(Se,_e);if(Ae)throw Ae;let ke=(be||[]).map(ye=>({...ye,cases_count:Array.isArray(ye.cases)?ye.cases[0]?.count??0:ye.cases?.count??0}));ce==="cases_count"&&ke.sort((ye,$e)=>{const Ne=ye.cases_count-$e.cases_count;return fe?Ne:-Ne}),t(ke),f(null)}catch(V){console.error("Error fetching doctors:",V),f(V.message)}finally{s(!1),o(!1)}};h.useEffect(()=>{W()},[m,y,_,A]),h.useEffect(()=>{const D=setTimeout(()=>{p(1),w(j.trim())},300);return()=>clearTimeout(D)},[j]),h.useEffect(()=>{p(1)},[_,A]);const O=()=>{W(!0)},q=()=>{R(""),P("name_asc"),S(""),w(""),p(1)},B=_||y||A!=="name_asc",Y=()=>_||F("cases.filters.clinic");return a.jsxs(a.Fragment,{children:[d&&a.jsx(et,{error:d}),a.jsx(wi,{children:F("navigation.doctors")}),a.jsxs("div",{className:"flex w-full justify-between items-center gap-4",children:[a.jsxs("div",{className:"flex items-center gap-2 flex-1",children:[a.jsx("div",{className:"flex-grow max-w-[300px] min-w-[200px]",children:a.jsx(Ee,{className:"w-full",variant:"filled",label:"",helpText:"",icon:a.jsx(Dr,{}),children:a.jsx(Ee.Input,{placeholder:F("billing.searchDoctors"),value:j,onChange:D=>S(D.target.value)})})}),a.jsxs("div",{className:"flex-shrink-0 relative",ref:Z,children:[a.jsx(de,{size:"sm",variant:_?"neutral-secondary":"neutral-tertiary",className:"px-3",iconRight:E?a.jsx(ii,{}):a.jsx(si,{}),onClick:()=>{T(!E),U(!1)},children:Y()}),E&&a.jsx("div",{className:"absolute top-full left-0 mt-1 bg-white border border-neutral-border rounded-md shadow-lg z-10 min-w-[160px] max-h-64 overflow-y-auto",dir:"rtl",children:a.jsxs("div",{className:"py-1",children:[a.jsx("button",{className:"w-full text-right px-3 py-2 text-sm hover:bg-neutral-50 text-neutral-700",onClick:()=>{R(""),T(!1)},children:F("cases.filters.allClinics")}),k.map(D=>a.jsx("button",{className:`w-full text-right px-3 py-2 text-sm hover:bg-neutral-50 ${_===D.value?"bg-neutral-100 text-neutral-900":"text-neutral-700"}`,onClick:()=>{R(D.value),T(!1)},children:D.label},D.value))]})})]}),B&&a.jsx(de,{size:"sm",variant:"neutral-tertiary",className:"px-2 w-auto",onClick:q,icon:a.jsx(sn,{}),children:F("common.clear")})]}),a.jsxs("div",{className:"flex items-center gap-2 flex-shrink-0",children:[a.jsx(Jt,{icon:a.jsx($n,{className:l?"animate-spin":""}),onClick:O,disabled:l}),a.jsxs("div",{className:"relative",ref:se,children:[a.jsx(Jt,{icon:a.jsx(ux,{}),onClick:()=>{U(!I),T(!1)}}),I&&a.jsx("div",{className:"absolute top-full left-0 mt-1 bg-white border border-neutral-border rounded-md shadow-lg z-10 min-w-[200px]",children:a.jsxs("div",{className:"p-4",children:[a.jsx("h3",{className:"text-sm font-medium text-neutral-900 mb-3 text-right",children:F("cases.filters.sortBy")}),a.jsx("div",{className:"space-y-2",children:L.map(D=>a.jsxs("label",{className:"flex items-center justify-start",dir:"rtl",children:[a.jsx("span",{className:"text-sm text-neutral-700 order-2",children:D.label}),a.jsx("input",{type:"radio",name:"sort",value:D.value,checked:A===D.value,onChange:V=>P(V.target.value),className:"ml-2 order-1"})]},D.value))})]})})]})]})]}),B&&a.jsxs("div",{className:"flex flex-wrap gap-2 items-center",children:[a.jsx("span",{className:"text-xs text-neutral-600",children:F("cases.filters.activeFilters")}),_&&a.jsxs(qe,{variant:"neutral",className:"text-xs",children:[F("cases.clinic"),": ",_,a.jsx("button",{onClick:()=>R(""),className:"ml-1 hover:text-neutral-800",children:""})]}),y&&a.jsxs(qe,{variant:"neutral",className:"text-xs",children:[F("common.search"),': "',y,'"',a.jsx("button",{onClick:()=>{w(""),S("")},className:"ml-1 hover:text-neutral-800",children:""})]}),A!=="name_asc"&&a.jsxs(qe,{variant:"neutral",className:"text-xs",children:[F("cases.filters.sortBy"),":"," ",L.find(D=>D.value===A)?.label]})]}),a.jsx(z,{header:a.jsxs(z.HeaderRow,{children:[a.jsx(z.HeaderCell,{children:F("cases.doctor")}),a.jsx(z.HeaderCell,{children:F("cases.phone")}),a.jsx(z.HeaderCell,{children:F("cases.clinic")}),a.jsx(z.HeaderCell,{children:F("cases.cases")})]}),children:n?a.jsx(z.Row,{children:a.jsx(z.Cell,{colSpan:4,children:a.jsx("div",{className:"flex w-full h-full min-h-[100px] justify-center items-center",children:a.jsx(Qt,{size:"medium"})})})}):e.length===0?a.jsx(z.Row,{children:a.jsx(z.Cell,{colSpan:4,children:a.jsx("div",{className:"text-center py-8",children:a.jsx("span",{className:"text-neutral-500",children:F(B?"cases.noMatchingCases":"cases.noCases")})})})}):e.map(D=>a.jsxs(z.Row,{clickable:!0,onClick:()=>$(`/admin/doctors/${D.id}`),children:[a.jsx(z.Cell,{children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Ps,{size:"small",image:D.avatar_url||void 0,children:!D.avatar_url&&a.jsxs(a.Fragment,{children:[zt(D.full_name?.split(" ")[0]?.[0]),zt(D.full_name?.split(" ").slice(-1)[0]?.[0])]})}),a.jsx("span",{className:"whitespace-nowrap text-body-bold font-body-bold text-neutral-700",children:zt(D.full_name)||"-"})]})}),a.jsx(z.Cell,{children:a.jsx("span",{dir:"ltr",className:"whitespace-nowrap text-body font-body text-neutral-500",children:D.phone||"-"})}),a.jsx(z.Cell,{children:a.jsx("span",{className:"whitespace-nowrap text-body font-body text-neutral-500",children:D.clinic||"-"})}),a.jsx(z.Cell,{children:a.jsx("span",{className:"whitespace-nowrap text-body font-body text-neutral-700",children:D.cases_count??0})})]},D.id))}),a.jsxs("div",{className:"flex w-full items-center justify-between",children:[a.jsx("span",{className:"text-body font-body text-subtext-color",children:g===0?F("casesPage.noCasesToShow"):`${F("cases.showing")} ${Math.min((m-1)*tc+1,g)} - ${Math.min(m*tc,g)} ${F("cases.of")} ${g} ${F("navigation.doctors")}`}),a.jsxs("div",{className:"flex items-center gap-2",children:[m>1&&a.jsx(de,{variant:"neutral-secondary",onClick:()=>p(m-1),disabled:n||l,children:F("common.previous")}),m*tc<g&&a.jsx(de,{variant:"neutral-secondary",onClick:()=>p(m+1),disabled:n||l,children:F("common.next")})]})]})]})},ZL=Me.forwardRef(function({children:t,active:n=!1,className:s,...l},o){return t?a.jsx("span",{className:Ue("group/bbdc1640 line-clamp-1 cursor-pointer break-words text-body font-body text-subtext-color hover:text-default-font",{"text-default-font":n},s),ref:o,...l,children:t}):null}),XL=Me.forwardRef(function({className:t,...n},s){return a.jsx(fT,{className:Ue("text-body font-body text-subtext-color",t),ref:s,...n})}),QL=Me.forwardRef(function({children:t,className:n,...s},l){return t?a.jsx("div",{className:Ue("flex items-center gap-2",n),ref:l,...s,children:t}):null}),Ut=Object.assign(QL,{Item:ZL,Divider:XL});var Au={exports:{}},e9=Au.exports,p1;function t9(){return p1||(p1=1,function(e,t){(function(n,s){e.exports=s(Rc())})(typeof self<"u"?self:e9,function(n){return function(){var s={155:function(k){k.exports=n}},l={};function o(k){var N=l[k];if(N!==void 0)return N.exports;var A=l[k]={exports:{}};return s[k](A,A.exports,o),A.exports}o.d=function(k,N){for(var A in N)o.o(N,A)&&!o.o(k,A)&&Object.defineProperty(k,A,{enumerable:!0,get:N[A]})},o.o=function(k,N){return Object.prototype.hasOwnProperty.call(k,N)},o.r=function(k){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(k,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(k,"__esModule",{value:!0})};var d={};o.r(d),o.d(d,{useReactToPrint:function(){return R}});var f=o(155);const m="printWindow";function p({level:k="error",messages:N,suppressErrors:A=!1}){A||(k==="error"?console.error(N):k==="warning"?console.warn(N):console.debug(N))}function g(k,N){if(N||!k){const A=document.getElementById(m);A&&document.body.removeChild(A)}}function b(k){return k instanceof Error?k:new Error("Unknown Error")}function y(k,N){const{documentTitle:A,onAfterPrint:P,onPrintError:E,preserveAfterPrint:T,print:I,suppressErrors:U}=N;setTimeout(()=>{var Z,se;if(k.contentWindow){let L=function(){P?.(),g(T)};var F=L;if(k.contentWindow.focus(),I)I(k).then(L).catch($=>{E?E("print",b($)):p({messages:["An error was thrown by the specified `print` function"],suppressErrors:U})});else{if(k.contentWindow.print){const $=(se=(Z=k.contentDocument)===null||Z===void 0?void 0:Z.title)!==null&&se!==void 0?se:"",W=k.ownerDocument.title;A&&(k.ownerDocument.title=A,k.contentDocument&&(k.contentDocument.title=A)),k.contentWindow.print(),A&&(k.ownerDocument.title=W,k.contentDocument&&(k.contentDocument.title=$))}else p({messages:["Printing for this browser is not currently possible: the browser does not have a `print` method available for iframes."],suppressErrors:U});[/Android/i,/webOS/i,/iPhone/i,/iPad/i,/iPod/i,/BlackBerry/i,/Windows Phone/i].some($=>{var W,O;return((O=(W=navigator.userAgent)!==null&&W!==void 0?W:navigator.vendor)!==null&&O!==void 0?O:"opera"in window&&window.opera).match($)})?setTimeout(L,500):L()}}else p({messages:["Printing failed because the `contentWindow` of the print iframe did not load. This is possibly an error with `react-to-print`. Please file an issue: https://github.com/MatthewHerbst/react-to-print/issues/"],suppressErrors:U})},500)}function w(k){const N=[],A=document.createTreeWalker(k,NodeFilter.SHOW_ELEMENT,null);let P=A.nextNode();for(;P;)N.push(P),P=A.nextNode();return N}function j(k,N,A){const P=w(k),E=w(N);if(P.length===E.length)for(let T=0;T<P.length;T++){const I=P[T],U=E[T],Z=I.shadowRoot;if(Z!==null){const se=U.attachShadow({mode:Z.mode});se.innerHTML=Z.innerHTML,j(Z,se,A)}}else p({messages:["When cloning shadow root content, source and target elements have different size. `onBeforePrint` likely resolved too early.",k,N],suppressErrors:A})}const S=`
    @page {
        /* Remove browser default header (title) and footer (url) */
        margin: 0;
    }
    @media print {
        body {
            /* Tell browsers to print background colors */
            color-adjust: exact; /* Firefox. This is an older version of "print-color-adjust" */
            print-color-adjust: exact; /* Firefox/Safari */
            -webkit-print-color-adjust: exact; /* Chrome/Safari/Edge/Opera */
        }
    }
`;function _(k,N,A,P){var E,T,I,U,Z;const{contentNode:se,clonedContentNode:F,clonedImgNodes:L,clonedVideoNodes:$,numResourcesToLoad:W,originalCanvasNodes:O}=A,{bodyClass:q,fonts:B,ignoreGlobalStyles:Y,pageStyle:D,nonce:V,suppressErrors:J,copyShadowRoots:ne}=P;k.onload=null;const X=(E=k.contentDocument)!==null&&E!==void 0?E:(T=k.contentWindow)===null||T===void 0?void 0:T.document;if(X){const ce=X.body.appendChild(F);ne&&j(se,ce,!!J),B&&(!((I=k.contentDocument)===null||I===void 0)&&I.fonts&&(!((U=k.contentWindow)===null||U===void 0)&&U.FontFace)?B.forEach(ke=>{const ye=new FontFace(ke.family,ke.source,{weight:ke.weight,style:ke.style});k.contentDocument.fonts.add(ye),ye.loaded.then(()=>{N(ye)}).catch($e=>{N(ye,["Failed loading the font:",ye,"Load error:",b($e)])})}):(B.forEach(ke=>{N(ke)}),p({messages:['"react-to-print" is not able to load custom fonts because the browser does not support the FontFace API but will continue attempting to print the page'],suppressErrors:J})));const fe=D??S,Se=X.createElement("style");V&&(Se.setAttribute("nonce",V),X.head.setAttribute("nonce",V)),Se.appendChild(X.createTextNode(fe)),X.head.appendChild(Se),q&&X.body.classList.add(...q.split(" "));const _e=X.querySelectorAll("canvas");for(let ke=0;ke<O.length;++ke){const ye=O[ke],$e=_e[ke];if($e===void 0){p({messages:["A canvas element could not be copied for printing, has it loaded? `onBeforePrint` likely resolved too early.",ye],suppressErrors:J});continue}const Ne=$e.getContext("2d");Ne&&Ne.drawImage(ye,0,0)}for(let ke=0;ke<L.length;ke++){const ye=L[ke],$e=ye.getAttribute("src");if($e){const Ne=new Image;Ne.onload=()=>{N(ye)},Ne.onerror=(Pe,Fe,jt,xt,we)=>{N(ye,["Error loading <img>",ye,"Error",we])},Ne.src=$e}else N(ye,['Found an <img> tag with an empty "src" attribute. This prevents pre-loading it.',ye])}for(let ke=0;ke<$.length;ke++){const ye=$[ke];ye.preload="auto";const $e=ye.getAttribute("poster");if($e){const Ne=new Image;Ne.onload=()=>{N(ye)},Ne.onerror=(Pe,Fe,jt,xt,we)=>{N(ye,["Error loading video poster",$e,"for video",ye,"Error:",we])},Ne.src=$e}else ye.readyState>=2?N(ye):ye.src?(ye.onloadeddata=()=>{N(ye)},ye.onerror=(Ne,Pe,Fe,jt,xt)=>{N(ye,["Error loading video",ye,"Error",xt])},ye.onstalled=()=>{N(ye,["Loading video stalled, skipping",ye])}):N(ye,["Error loading video, `src` is empty",ye])}const ge="select",be=se.querySelectorAll(ge),Ae=X.querySelectorAll(ge);for(let ke=0;ke<be.length;ke++)Ae[ke].value=be[ke].value;if(!Y){const ke=document.querySelectorAll("style, link[rel~='stylesheet'], link[as='style']");for(let ye=0,$e=ke.length;ye<$e;++ye){const Ne=ke[ye];if(Ne.tagName.toLowerCase()==="style"){const Pe=X.createElement(Ne.tagName),Fe=Ne.sheet;if(Fe){let jt="";try{const xt=Fe.cssRules.length;for(let we=0;we<xt;++we)typeof Fe.cssRules[we].cssText=="string"&&(jt+=`${Fe.cssRules[we].cssText}\r
`)}catch(xt){p({messages:["A stylesheet could not be accessed. This is likely due to the stylesheet having cross-origin imports, and many browsers block script access to cross-origin stylesheets. See https://github.com/MatthewHerbst/react-to-print/issues/429 for details. You may be able to load the sheet by both marking the stylesheet with the cross `crossorigin` attribute, and setting the `Access-Control-Allow-Origin` header on the server serving the stylesheet. Alternatively, host the stylesheet on your domain to avoid this issue entirely.",Ne,`Original error: ${b(xt).message}`],level:"warning"})}Pe.setAttribute("id",`react-to-print-${ye}`),V&&Pe.setAttribute("nonce",V),Pe.appendChild(X.createTextNode(jt)),X.head.appendChild(Pe)}}else if(Ne.getAttribute("href"))if(Ne.hasAttribute("disabled"))p({messages:["`react-to-print` encountered a <link> tag with a `disabled` attribute and will ignore it. Note that the `disabled` attribute is deprecated, and some browsers ignore it. You should stop using it. https://developer.mozilla.org/en-US/docs/Web/HTML/Element/link#attr-disabled. The <link> is:",Ne],level:"warning"}),N(Ne);else{const Pe=X.createElement(Ne.tagName);for(let Fe=0,jt=Ne.attributes.length;Fe<jt;++Fe){const xt=Ne.attributes[Fe];xt&&Pe.setAttribute(xt.nodeName,(Z=xt.nodeValue)!==null&&Z!==void 0?Z:"")}Pe.onload=()=>{N(Pe)},Pe.onerror=(Fe,jt,xt,we,lt)=>{N(Pe,["Failed to load",Pe,"Error:",lt])},V&&Pe.setAttribute("nonce",V),X.head.appendChild(Pe)}else p({messages:["`react-to-print` encountered a <link> tag with an empty `href` attribute. In addition to being invalid HTML, this can cause problems in many browsers, and so the <link> was not loaded. The <link> is:",Ne],level:"warning"}),N(Ne)}}}W===0&&y(k,P)}function R({bodyClass:k,contentRef:N,copyShadowRoots:A,documentTitle:P,fonts:E,ignoreGlobalStyles:T,nonce:I,onAfterPrint:U,onBeforePrint:Z,onPrintError:se,pageStyle:F,preserveAfterPrint:L,print:$,printIframeProps:W,suppressErrors:O}){return(0,f.useCallback)(B=>{function Y(){const D={bodyClass:k,contentRef:N,copyShadowRoots:A,documentTitle:P,fonts:E,ignoreGlobalStyles:T,nonce:I,onAfterPrint:U,onPrintError:se,pageStyle:F,preserveAfterPrint:L,print:$,suppressErrors:O},V=function(X){const ce=document.createElement("iframe");return ce.width=`${document.documentElement.clientWidth}px`,ce.height=`${document.documentElement.clientHeight}px`,ce.style.position="absolute",ce.style.top=`-${document.documentElement.clientHeight+100}px`,ce.style.left=`-${document.documentElement.clientWidth+100}px`,ce.id=m,ce.srcdoc="<!DOCTYPE html>",X&&(X.allow&&(ce.allow=X.allow),X.referrerPolicy!==void 0&&(ce.referrerPolicy=X.referrerPolicy),X.sandbox!==void 0&&(ce.sandbox=X.sandbox)),ce}(W),J=function(X,ce){const{contentRef:fe,fonts:Se,ignoreGlobalStyles:_e,suppressErrors:ge}=ce,be=function({contentRef:Pe,optionalContent:Fe,suppressErrors:jt}){return Fe&&typeof Fe=="function"?(Pe&&p({level:"warning",messages:['"react-to-print" received a `contentRef` option and an optional-content param passed to its callback. The `contentRef` option will be ignored.']}),Fe()):Pe?Pe.current:void p({messages:['"react-to-print" did not receive a `contentRef` option or a optional-content param pass to its callback.'],suppressErrors:jt})}({contentRef:fe,optionalContent:X,suppressErrors:ge});if(!be)return;const Ae=be.cloneNode(!0),ke=document.querySelectorAll("link[rel~='stylesheet'], link[as='style']"),ye=Ae.querySelectorAll("img"),$e=Ae.querySelectorAll("video"),Ne=Se?Se.length:0;return{contentNode:be,clonedContentNode:Ae,clonedImgNodes:ye,clonedVideoNodes:$e,numResourcesToLoad:(_e?0:ke.length)+ye.length+$e.length+Ne,originalCanvasNodes:be.querySelectorAll("canvas")}}(B,D);if(!J)return void p({messages:["There is nothing to print"],suppressErrors:O});const ne=function(X,ce,fe){const{suppressErrors:Se}=X,_e=[],ge=[];return function(be,Ae){_e.includes(be)?p({level:"debug",messages:["Tried to mark a resource that has already been handled",be],suppressErrors:Se}):(Ae?(p({messages:['"react-to-print" was unable to load a resource but will continue attempting to print the page',...Ae],suppressErrors:Se}),ge.push(be)):_e.push(be),_e.length+ge.length===ce&&y(fe,X))}}(D,J.numResourcesToLoad,V);(function(X,ce,fe,Se){X.onload=()=>{_(X,ce,fe,Se)},document.body.appendChild(X)})(V,ne,J,D)}g(L,!0),Z?Z().then(()=>{Y()}).catch(D=>{se?.("onBeforePrint",b(D))}):Y()},[k,N,A,P,E,T,I,U,Z,se,F,L,$,O])}return d}()})}(Au)),Au.exports}var zf=t9();const Ns=({isOpen:e,onClose:t,title:n,description:s,icon:l,iconBgColor:o="bg-brand-100",iconColor:d="text-brand-600",maxWidth:f="max-w-[640px]",children:m,loading:p=!1})=>e?a.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[a.jsx("div",{className:"absolute inset-0 bg-black/50",onClick:p?void 0:t}),a.jsx("div",{className:`relative bg-white rounded-lg shadow-xl w-full mx-4 p-6 ${f} max-h-[90vh] overflow-y-auto`,children:a.jsxs("div",{className:"flex flex-col gap-4",children:[a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx("div",{className:`w-8 h-8 ${o} rounded-full flex items-center justify-center flex-shrink-0`,children:Me.cloneElement(l,{className:`w-4 h-4 ${d}`})}),a.jsxs("div",{className:"flex-1",children:[a.jsx("h3",{className:"text-heading-3 font-heading-3 text-default-font",children:n}),s&&a.jsx("p",{className:"mt-1 text-body font-body text-subtext-color",children:s})]}),a.jsx("button",{onClick:t,disabled:p,className:"text-gray-400 hover:text-gray-600 transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex-shrink-0",children:a.jsx(sn,{className:"w-6 h-6"})})]}),m]})})]}):null,n9=Me.forwardRef(({paymentData:e,doctorInfo:t,selectedCasesData:n,paymentNotes:s},l)=>{const{t:o,i18n:d}=ve(),f=d.dir()==="rtl",m=`TXN-${e.invoiceId}`,p=e.date?new Date(e.date).toLocaleDateString():new Date().toLocaleDateString(),g={submitted:o("caseStatusBadge.submitted"),accepted:o("caseStatusBadge.accepted"),under_review:o("caseStatusBadge.underReview"),rejected:o("caseStatusBadge.rejected"),awaiting_patient_approval:o("caseStatusBadge.awaitingApproval"),patient_rejected:o("caseStatusBadge.patientRejected"),awaiting_user_approval:o("caseStatusBadge.awaitingApproval"),user_rejected:o("caseStatusBadge.userRejected"),approved:o("caseStatusBadge.approved"),in_production:o("caseStatusBadge.inProduction"),ready_for_delivery:o("caseStatusBadge.readyForDelivery"),delivered:o("caseStatusBadge.delivered"),completed:o("caseStatusBadge.completed")};return a.jsxs("div",{ref:l,className:"p-8 bg-white",dir:f?"rtl":"ltr",children:[a.jsxs("div",{className:"flex items-center justify-between border-b-2 border-brand-600 pb-4 mb-6",children:[a.jsxs("div",{children:[a.jsx("img",{className:"h-10 flex-none object-cover",src:`${window.location.origin}/logo.png`,alt:"Logo"}),a.jsx("p",{className:"text-sm text-gray-600 mt-2",children:o("paymentCollectionDialog.paymentReceipt")})]}),a.jsxs("div",{className:f?"text-left":"text-right",children:[a.jsxs("p",{className:"text-sm text-gray-600",children:[a.jsxs("strong",{children:[o("paymentCollectionDialog.invoice")," #:"]})," ",m]}),a.jsxs("p",{className:"text-sm text-gray-600",children:[a.jsxs("strong",{children:[o("transactions.table.date"),":"]})," ",p]})]})]}),a.jsxs("div",{className:"mb-6",children:[a.jsx("h2",{className:"text-xl font-semibold mb-4 text-gray-800",children:o("paymentCollectionDialog.doctorLabel")}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-xs font-medium text-gray-500 mb-1",children:o("paymentCollectionDialog.name")}),a.jsx("p",{className:"text-sm text-gray-900",children:t.full_name})]}),t.email&&a.jsxs("div",{children:[a.jsx("p",{className:"text-xs font-medium text-gray-500 mb-1",children:o("auth.email")}),a.jsx("p",{className:"text-sm text-gray-900",children:t.email})]})]}),a.jsxs("div",{className:"space-y-2",children:[t.clinic&&a.jsxs("div",{children:[a.jsx("p",{className:"text-xs font-medium text-gray-500 mb-1",children:o("casePage.clinic")}),a.jsx("p",{className:"text-sm text-gray-900",children:t.clinic})]}),t.phone&&a.jsxs("div",{children:[a.jsx("p",{className:"text-xs font-medium text-gray-500 mb-1",children:o("casePage.phone")}),a.jsx("p",{className:`text-sm text-gray-900 ${f?"text-right":""}`,style:{direction:"ltr"},children:t.phone})]})]})]})]}),a.jsxs("div",{className:"mb-6",children:[a.jsx("h2",{className:"text-xl font-semibold mb-4 text-gray-800",children:o("paymentCollectionDialog.paymentSummary")}),a.jsxs("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-4",children:[a.jsxs("div",{className:"flex justify-between items-center mb-2",children:[a.jsx("span",{className:"text-sm font-medium text-gray-700",children:o("paymentCollectionDialog.paymentAmount")}),a.jsxs("span",{className:"text-lg font-bold text-gray-900",children:["$",parseFloat(e.amount).toFixed(2)]})]}),s&&a.jsxs("div",{className:"mt-3 pt-3 border-t border-gray-200",children:[a.jsx("p",{className:"text-xs font-medium text-gray-500 mb-1",children:o("paymentCollectionDialog.notes")}),a.jsx("p",{className:"text-sm text-gray-700",children:s})]})]})]}),n.length>0&&a.jsxs("div",{className:"mb-6",children:[a.jsx("h2",{className:"text-xl font-semibold mb-4 text-gray-800",children:o("paymentCollectionDialog.casesIncluded")}),a.jsx("div",{className:"border border-gray-200 rounded-lg overflow-hidden",children:a.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:`px-4 py-3 text-xs font-medium text-gray-500 uppercase tracking-wider ${f?"text-right":"text-left"}`,children:o("cases.caseId")}),a.jsx("th",{className:`px-4 py-3 text-xs font-medium text-gray-500 uppercase tracking-wider ${f?"text-right":"text-left"}`,children:o("paymentCollectionDialog.patient")}),a.jsx("th",{className:`px-4 py-3 text-xs font-medium text-gray-500 uppercase tracking-wider ${f?"text-right":"text-left"}`,children:o("paymentCollectionDialog.statusLabel")}),a.jsx("th",{className:`px-4 py-3 text-xs font-medium text-gray-500 uppercase tracking-wider ${f?"text-right":"text-left"}`,children:o("casePage.treatmentPlan.totalCost")}),a.jsx("th",{className:`px-4 py-3 text-xs font-medium text-gray-500 uppercase tracking-wider ${f?"text-right":"text-left"}`,children:o("paymentCollectionDialog.paymentAmountLabel")})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:n.map(b=>a.jsxs("tr",{children:[a.jsxs("td",{className:`px-4 py-3 text-sm text-gray-900 ${f?"text-right":"text-left"}`,children:[o("doctorTransactions.case")," #",b.id]}),a.jsxs("td",{className:`px-4 py-3 text-sm text-gray-900 ${f?"text-right":"text-left"}`,children:[b.first_name," ",b.last_name]}),a.jsx("td",{className:`px-4 py-3 text-sm text-gray-700 ${f?"text-right":"text-left"}`,children:g[b.status]||b.status}),a.jsxs("td",{className:`px-4 py-3 text-sm text-gray-900 ${f?"text-right":"text-left"}`,children:["$",parseFloat(b.total_cost||0).toFixed(2)]}),a.jsxs("td",{className:`px-4 py-3 text-sm font-medium text-gray-900 ${f?"text-right":"text-left"}`,children:["$",b.paymentApplied.toFixed(2)]})]},b.id))}),a.jsx("tfoot",{className:"bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("td",{colSpan:"4",className:`px-4 py-3 text-sm font-medium text-gray-900 ${f?"text-right":"text-left"}`,children:o("paymentCollectionDialog.totalPayment")}),a.jsxs("td",{className:`px-4 py-3 text-sm font-bold text-gray-900 ${f?"text-right":"text-left"}`,children:["$",parseFloat(e.amount).toFixed(2)]})]})})]})})]}),a.jsx("div",{className:"mt-8 pt-4 border-t border-gray-300 text-center text-xs text-gray-500",children:a.jsx("p",{children:o("adminTreatmentPlan.print.footer",{date:new Date().toLocaleString()})})})]})}),CN=({isOpen:e,onClose:t,doctors:n,initialDoctor:s=null,refetchBillingData:l})=>{const{t:o}=ve(),[d,f]=h.useState(s),[m,p]=h.useState(""),[g,b]=h.useState(""),[y,w]=h.useState(new Set),[j,S]=h.useState(!1),[_,R]=h.useState(null),k=h.useRef(),{doctorCases:N,loadingCases:A,loadDoctorCases:P}=yL(),{processingPayment:E,processPayment:T}=wL(l),I=zf.useReactToPrint({contentRef:k,documentTitle:`Payment-Invoice-${Date.now()}`});h.useEffect(()=>{e&&(f(s),w(new Set),p(""),b(""),S(!1),R(null),s&&P(s.id))},[e,s,P]);const U=async q=>{const B=n.find(Y=>Y.id===q)||null;f(B),w(new Set),await P(q)},Z=(q,B)=>{const Y=new Set(y);B?Y.add(q):Y.delete(q),w(Y)},se=()=>N.filter(q=>y.has(q.id)).reduce((q,B)=>q+B.remainingAmount,0),F=()=>{const q=se(),B=parseFloat(m||0);return Math.max(0,B-q)},L=()=>N.filter(q=>!y.has(q.id)),$=async()=>{const q=await T({selectedDoctor:d,paymentAmount:m,selectedCases:y,doctorCases:N,paymentNotes:g});if(q){const B=parseFloat(m),Y=se(),D=Math.max(0,B-Y),V=L(),J=N.filter(ne=>y.has(ne.id)).map(ne=>({...ne,paymentApplied:Math.min(ne.remainingAmount,B)}));if(D>0&&V.length>0){const ne=D/V.length;V.forEach(X=>{J.push({...X,paymentApplied:Math.min(X.remainingAmount,ne)})})}R({paymentData:{amount:m,date:q.created_at,invoiceId:q.id},doctorInfo:d,selectedCasesData:J,paymentNotes:g}),S(!0)}},W=()=>{S(!1),R(null),t()},O=()=>{I(),setTimeout(()=>{W()},500)};return j&&_?a.jsxs(Ns,{isOpen:e,onClose:W,title:o("paymentCollectionDialog.paymentInvoice"),description:o("paymentCollectionDialog.paymentInvoiceDescription"),icon:a.jsx(Cr,{}),maxWidth:"max-w-4xl",children:[a.jsx("div",{className:"space-y-4 w-full pt-4",children:a.jsx("div",{className:"border border-neutral-border rounded-lg bg-white max-h-[60vh] overflow-y-auto",children:a.jsx(n9,{ref:k,paymentData:_.paymentData,doctorInfo:_.doctorInfo,selectedCasesData:_.selectedCasesData,paymentNotes:_.paymentNotes})})}),a.jsxs("div",{className:"flex items-center justify-end gap-3 pt-6 border-t border-neutral-border w-full mt-6",children:[a.jsx(de,{variant:"neutral-secondary",onClick:W,children:o("common.close")}),a.jsx(de,{icon:a.jsx(Cr,{}),onClick:O,children:o("paymentCollectionDialog.printInvoice")})]})]}):a.jsxs(Ns,{isOpen:e,onClose:W,title:o("paymentCollectionDialog.title"),description:o("paymentCollectionDialog.subtitle"),icon:a.jsx(Cl,{}),loading:E,maxWidth:"max-w-4xl",children:[a.jsxs("div",{className:"space-y-6 w-full pt-4",children:[a.jsx(a9,{doctors:n,selectedDoctor:d,onDoctorChange:U}),a.jsx(r9,{paymentAmount:m,setPaymentAmount:p}),a.jsx(s9,{paymentNotes:g,setPaymentNotes:b}),d&&a.jsx(i9,{doctorCases:N,loadingCases:A,selectedCases:y,handleCaseSelection:Z,paymentAmount:m,calculateSelectedCasesTotal:se,calculateRemainingAmount:F,getUnselectedCases:L})]}),a.jsx(f9,{onClose:W,onSubmit:$,processingPayment:E,paymentAmount:m,selectedDoctor:d})]})},a9=({doctors:e,selectedDoctor:t,onDoctorChange:n})=>{const{t:s}=ve();return a.jsxs("div",{className:"flex flex-col gap-2 w-auto",children:[a.jsxs("label",{className:"text-body-bold font-body-bold text-default-font",children:[s("paymentCollectionDialog.doctorLabel")," *"]}),a.jsxs("select",{value:t?.id||"",onChange:l=>n(l.target.value),className:"w-full px-3 py-2 text-body font-body text-default-font bg-default-background border border-neutral-border rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[a.jsx("option",{value:"",children:s("paymentCollectionDialog.doctorPlaceholder")}),e.filter(l=>l.totalDueAmount>0).map(l=>a.jsxs("option",{value:l.id,children:[l.full_name," ",l.clinic?`(${l.clinic})`:""," - $",l.totalDueAmount.toFixed(2)," ",s("billing.table.paymentStatus.due")]},l.id))]})]})},r9=({paymentAmount:e,setPaymentAmount:t})=>{const{t:n}=ve();return a.jsxs("div",{className:"flex flex-col gap-2",children:[a.jsxs("label",{className:"text-body-bold font-body-bold text-default-font",children:[n("paymentCollectionDialog.paymentAmountLabel")," *"]}),a.jsx(Ee,{children:a.jsx(Ee.Input,{type:"number",min:"0",step:"0.01",value:e,onChange:s=>t(s.target.value),placeholder:n("paymentCollectionDialog.paymentAmountPlaceholder")})})]})},s9=({paymentNotes:e,setPaymentNotes:t})=>{const{t:n}=ve();return a.jsxs("div",{className:"flex flex-col gap-2",children:[a.jsx("label",{className:"text-body-bold font-body-bold text-default-font",children:n("paymentCollectionDialog.notesLabel")}),a.jsx("textarea",{value:e,onChange:s=>t(s.target.value),placeholder:n("paymentCollectionDialog.notesPlaceholder"),rows:3,className:"w-full px-3 py-2 text-body font-body text-default-font bg-default-background border border-neutral-border rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 resize-vertical"})]})},i9=({doctorCases:e,loadingCases:t,selectedCases:n,handleCaseSelection:s,paymentAmount:l,calculateSelectedCasesTotal:o,calculateRemainingAmount:d,getUnselectedCases:f})=>a.jsxs("div",{className:"space-y-4",children:[a.jsx(l9,{selectedCases:n,doctorCases:e}),a.jsx(c9,{doctorCases:e,loadingCases:t,selectedCases:n,handleCaseSelection:s}),l&&e.length>0&&a.jsx(u9,{calculateSelectedCasesTotal:o,paymentAmount:l,calculateRemainingAmount:d,getUnselectedCases:f})]}),l9=({selectedCases:e,doctorCases:t})=>{const{t:n}=ve();return a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("h3",{className:"text-heading-4 font-heading-4 text-default-font",children:n("paymentCollectionDialog.unpaidCasesTitle")}),t.length>0&&a.jsx("div",{className:"text-sm text-subtext-color",children:n("paymentCollectionDialog.selectedSummary",{selected:e.size,total:t.length})})]})},o9=({paymentStatus:e,paymentPercentage:t})=>{const{t:n}=ve(),s={unpaid:{color:"text-red-600 bg-red-50 border-red-200",text:n("billing.table.paymentStatus.unpaid")},partially_paid:{color:"text-yellow-600 bg-yellow-50 border-yellow-200",text:n("adminDoctorDetails.partialPayment",{percent:t.toFixed(0)})},paid:{color:"text-green-600 bg-green-50 border-green-200",text:n("billing.table.paymentStatus.paid")},not_applicable:{color:"text-gray-500 bg-gray-50 border-gray-200",text:n("billing.table.paymentStatus.na")}},l=s[e]||s.unpaid;return a.jsx("span",{className:`inline-flex items-center px-2 py-1 rounded-md text-xs font-medium border ${l.color}`,children:l.text})},c9=({doctorCases:e,loadingCases:t,selectedCases:n,handleCaseSelection:s})=>{const{t:l}=ve();return t?a.jsx("div",{className:"text-center py-8 text-neutral-500",children:l("paymentCollectionDialog.loadingCases")}):e.length===0?a.jsx("div",{className:"text-center py-8 text-neutral-500 border border-neutral-border rounded-md",children:l("paymentCollectionDialog.noUnpaidCases")}):a.jsx("div",{className:"border border-neutral-border rounded-md max-h-60 overflow-y-auto",children:e.map(o=>a.jsx(d9,{case_:o,isSelected:n.has(o.id),onSelectionChange:s},o.id))})},d9=({case_:e,isSelected:t,onSelectionChange:n})=>{const{t:s}=ve(),l={submitted:s("caseStatusBadge.submitted"),accepted:s("caseStatusBadge.accepted"),under_review:s("caseStatusBadge.underReview"),rejected:s("caseStatusBadge.rejected"),awaiting_patient_approval:s("caseStatusBadge.awaitingApproval"),patient_rejected:s("caseStatusBadge.patientRejected"),awaiting_user_approval:s("caseStatusBadge.awaitingApproval"),user_rejected:s("caseStatusBadge.userRejected"),approved:s("caseStatusBadge.approved"),in_production:s("caseStatusBadge.inProduction"),ready_for_delivery:s("caseStatusBadge.readyForDelivery"),delivered:s("caseStatusBadge.delivered"),completed:s("caseStatusBadge.completed")};return a.jsxs("div",{className:"flex items-center gap-3 p-3 border-b border-neutral-border last:border-b-0 hover:bg-neutral-50",children:[a.jsx("input",{type:"checkbox",id:`case-${e.id}`,checked:t,onChange:o=>n(e.id,o.target.checked),className:"w-4 h-4 text-brand-600 border-neutral-border rounded focus:ring-brand-500"}),a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center justify-between mb-1",children:[a.jsxs("label",{htmlFor:`case-${e.id}`,className:"text-body font-body text-default-font cursor-pointer",children:[s("cases.caseId").replace("Case ID","Case")," #",e.id," -"," ",e.first_name," ",e.last_name]}),a.jsx("div",{className:"flex items-center gap-2",children:a.jsx(o9,{paymentStatus:e.paymentStatus,paymentPercentage:e.paymentPercentage||0})})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"text-caption font-caption text-subtext-color",children:[s("paymentCollectionDialog.statusLabel"),":"," ",l[e.status]||e.status," |"," ",s("paymentCollectionDialog.createdLabel"),":"," ",new Date(e.created_at).toLocaleDateString()]}),a.jsxs("div",{className:"text-right",children:[a.jsxs("div",{className:"text-body-bold font-body-bold text-default-font",children:["$",e.remainingAmount.toFixed(2)," ",s("paymentCollectionDialog.remainingShort")]}),a.jsx("div",{className:"text-caption font-caption text-neutral-500",children:s("paymentCollectionDialog.paidOfTotal",{paid:`$${e.totalPaid?.toFixed(2)||"0.00"}`,total:`$${parseFloat(e.total_cost||0).toFixed(2)}`})})]})]})]})]})},u9=({calculateSelectedCasesTotal:e,paymentAmount:t,calculateRemainingAmount:n,getUnselectedCases:s})=>{const{t:l}=ve();return a.jsxs("div",{className:"bg-neutral-50 border border-neutral-border rounded-md p-4 space-y-2",children:[a.jsxs("div",{className:"flex justify-between text-body font-body",children:[a.jsx("span",{children:l("paymentCollectionDialog.selectedCasesTotal")}),a.jsxs("span",{className:"font-bold",children:["$",e().toFixed(2)]})]}),a.jsxs("div",{className:"flex justify-between text-body font-body",children:[a.jsx("span",{children:l("paymentCollectionDialog.paymentAmount")}),a.jsxs("span",{className:"font-bold",children:["$",parseFloat(t||0).toFixed(2)]})]}),a.jsxs("div",{className:"flex justify-between text-body font-body border-t border-neutral-border pt-2",children:[a.jsx("span",{children:l("paymentCollectionDialog.remainingAmount")}),a.jsxs("span",{className:`font-bold ${n()>0?"text-warning-600":"text-success-600"}`,children:["$",n().toFixed(2)]})]}),n()>0&&s().length>0&&a.jsx("div",{className:"text-caption font-caption text-subtext-color",children:l("paymentCollectionDialog.remainingSplitNote",{count:s().length})})]})},f9=({onClose:e,onSubmit:t,processingPayment:n,paymentAmount:s,selectedDoctor:l})=>{const{t:o}=ve();return a.jsxs("div",{className:"flex items-center justify-end gap-3 pt-6 border-t border-neutral-border w-full mt-6",children:[a.jsx(de,{variant:"neutral-secondary",onClick:e,disabled:n,children:o("paymentCollectionDialog.cancel")}),a.jsx(de,{onClick:t,disabled:n||!s||parseFloat(s)<=0||!l,icon:a.jsx(Tn,{}),children:o(n?"paymentCollectionDialog.processing":"paymentCollectionDialog.processPayment")})]})},h9=({paymentStatus:e,paymentPercentage:t=0})=>{const{t:n}=ve(),s={unpaid:{color:"error",text:n("billing.table.paymentStatus.unpaid")},partially_paid:{color:"warning",text:n("adminDoctorDetails.partialPayment",{percent:t.toFixed(0)})},paid:{color:"success",text:n("billing.table.paymentStatus.paid")},not_applicable:{color:"neutral",text:n("billing.table.paymentStatus.na")}},l=s[e]||s.unpaid;return a.jsx(qe,{variant:l.color,children:l.text})},g1=(e,t=[])=>{const n=parseFloat(e.total_cost||0);if(n<=0)return{remainingAmount:0,paymentStatus:"not_applicable",totalPaid:0,paymentPercentage:0};const l=t.filter(m=>m.case_id===e.id).reduce((m,p)=>m+parseFloat(p.allocated_amount||0),0),o=Math.max(0,n-l),d=n>0?l/n*100:0;let f;return o===0&&l>0?f="paid":l>0?f="partially_paid":f="unpaid",{remainingAmount:o,paymentStatus:f,totalPaid:l,paymentPercentage:Math.round(d*100)/100}};function m9(){const{t:e}=ve(),{doctor:t,cases:n,error:s}=pi(),l=ln(),[o,d]=h.useState(""),[f,m]=h.useState(!1),[p,g]=h.useState([]),[b,y]=h.useState(!0);h.useEffect(()=>{(async()=>{if(!n?.length){y(!1);return}try{const E=n.map(Z=>Z.id),{data:T,error:I}=await ee.from("payment_case_allocations").select("case_id, allocated_amount").in("case_id",E);if(I)throw I;const U=n.map(Z=>{const se=g1(Z,T||[]);return{...Z,...se}});g(U)}catch(E){console.error("Error loading payment data:",E)}finally{y(!1)}})()},[n]);const w=h.useMemo(()=>(t?.full_name||"").trim().charAt(0).toUpperCase()||"D",[t]),j=h.useMemo(()=>{if(!Array.isArray(n))return 0;const P=n.map(E=>`${(E.first_name||"").toLowerCase()} ${(E.last_name||"").toLowerCase()}`.trim());return new Set(P).size},[n]),S=h.useMemo(()=>new Set(["submitted","accepted","under_review","awaiting_patient_approval","awaiting_user_approval","approved","in_production","ready_for_delivery"]),[]),_=h.useMemo(()=>Array.isArray(n)?n.filter(P=>S.has(P.status)).length:0,[n,S]),R=h.useMemo(()=>p.reduce((P,E)=>P+(E.remainingAmount||0),0),[p]),k=h.useMemo(()=>{if(!Array.isArray(p))return[];const P=o.trim().toLowerCase();return P?p.filter(E=>`${(E.first_name||"").toLowerCase()} ${(E.last_name||"").toLowerCase()}`.includes(P)):p},[p,o]),N=async()=>{y(!0);try{const P=n.map(U=>U.id),{data:E,error:T}=await ee.from("payment_case_allocations").select("case_id, allocated_amount").in("case_id",P);if(T)throw T;const I=n.map(U=>{const Z=g1(U,E||[]);return{...U,...Z}});g(I)}catch(P){console.error("Error reloading payment data:",P)}finally{y(!1)}};if(s)return a.jsx(et,{error:s});const A=t?{...t,totalDueAmount:R,unpaidCasesCount:p.filter(P=>P.remainingAmount>0).length}:null;return a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"flex w-full flex-wrap items-center gap-8",children:[a.jsxs(Ut,{children:[a.jsx(rt,{to:"/admin/doctors",children:a.jsx(Ut.Item,{children:e("navigation.doctors")})}),a.jsx(Ut.Divider,{}),a.jsx(Ut.Item,{active:!0,children:e("adminDoctorDetails.breadcrumbTitle")})]}),a.jsxs("div",{className:"flex w-full flex-wrap items-start gap-4",children:[a.jsx(Ps,{size:"x-large",image:t?.avatar_url||void 0,children:t?.avatar_url?null:w}),a.jsxs("div",{className:"flex min-w-[160px] grow shrink-0 basis-0 flex-col items-start gap-6 pt-4",children:[a.jsx("div",{className:"flex w-full items-center justify-between",children:a.jsx("span",{className:"text-heading-2 font-heading-2 text-default-font",children:zt(t?.full_name)||""})}),a.jsxs("div",{className:"flex w-full flex-wrap items-start gap-6",children:[a.jsxs("div",{className:"flex grow shrink-0 basis-0 flex-col items-start gap-1",children:[a.jsx("span",{className:"text-body-bold font-body-bold text-default-font",children:e("profile.phoneNumber")}),a.jsx("span",{dir:"ltr",className:"text-caption font-caption text-subtext-color",children:t?.phone||""})]}),a.jsxs("div",{className:"flex grow shrink-0 basis-0 flex-col items-start gap-1",children:[a.jsx("span",{className:"text-body-bold font-body-bold text-default-font",children:e("profile.email")}),a.jsx("span",{className:"text-caption font-caption text-subtext-color",children:t?.email||""})]}),a.jsxs("div",{className:"flex grow shrink-0 basis-0 flex-col items-start gap-1",children:[a.jsx("span",{className:"text-body-bold font-body-bold text-default-font",children:e("profile.clinicName")}),a.jsx("span",{className:"text-caption font-caption text-subtext-color",children:t?.clinic||""})]}),a.jsxs("div",{className:"flex grow shrink-0 basis-0 flex-col items-start gap-1",children:[a.jsx("span",{className:"text-body-bold font-body-bold text-default-font",children:e("profile.clinicAddress")}),a.jsx("span",{className:"text-caption font-caption text-subtext-color",children:t?.address||""})]})]})]})]})]}),a.jsxs("div",{className:"flex w-full grow flex-col items-start gap-8 bg-default-background px-12 py-6 overflow-auto",children:[a.jsxs("div",{className:"flex w-full flex-wrap items-start gap-4",children:[a.jsxs("div",{className:"flex grow shrink-0 basis-0 flex-col items-start gap-4 rounded-md border border-solid border-neutral-border bg-default-background px-6 py-6",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Sp,{}),a.jsx("span",{className:"text-heading-3 font-heading-3 text-default-font",children:e("adminDoctorDetails.totalPatients")})]}),a.jsx("span",{className:"text-heading-1 font-heading-1 text-default-font",children:j.toLocaleString()})]}),a.jsxs("div",{className:"flex grow shrink-0 basis-0 flex-col items-start gap-4 rounded-md border border-solid border-neutral-border bg-default-background px-6 py-6",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Sp,{variant:"success"}),a.jsx("span",{className:"text-heading-3 font-heading-3 text-default-font",children:e("adminDoctorDetails.activeCases")})]}),a.jsx("span",{className:"text-heading-1 font-heading-1 text-default-font",children:_.toLocaleString()})]}),a.jsxs("div",{className:"flex grow shrink-0 basis-0 flex-col items-start gap-4 rounded-md border border-solid border-neutral-border bg-default-background px-6 py-6",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Sp,{variant:R>0?"warning":"success"}),a.jsx("span",{className:"text-heading-3 font-heading-3 text-default-font",children:e("billingStats.duePayments")})]}),a.jsx("span",{className:`text-heading-1 font-heading-1 ${R>0?"text-warning-600":"text-success-600"}`,children:b?"...":`$${R.toFixed(2)}`})]})]}),a.jsxs("div",{className:"flex w-full flex-col items-start gap-4",children:[a.jsxs("div",{className:"flex w-full items-center justify-between",children:[a.jsx("span",{className:"text-heading-2 font-heading-2 text-default-font",children:e("cases.title")}),a.jsxs("div",{className:"flex items-center gap-4",children:[R>0&&a.jsx(de,{onClick:()=>m(!0),icon:a.jsx(Cl,{}),className:"w-auto",children:e("billing.receivePayment")}),a.jsx(Ee,{variant:"filled",label:"",helpText:"",children:a.jsx(Ee.Input,{placeholder:e("dashboard.searchCases"),value:o,onChange:P=>d(P.target.value)})})]})]}),a.jsx(z,{header:a.jsxs(z.HeaderRow,{children:[a.jsx(z.HeaderCell,{children:e("cases.patientName")}),a.jsx(z.HeaderCell,{children:e("transactions.table.date")}),a.jsx(z.HeaderCell,{children:e("cases.status")}),a.jsx(z.HeaderCell,{children:e("adminDoctorDetails.paymentStatus")}),a.jsx(z.HeaderCell,{children:e("casePage.treatmentPlan.totalCost")}),a.jsx(z.HeaderCell,{children:e("adminDoctorDetails.paidAmount")}),a.jsx(z.HeaderCell,{children:e("adminDoctorDetails.remainingAmount")})]}),children:!k||k.length===0?a.jsx(z.Row,{children:a.jsx(z.Cell,{colSpan:7,children:a.jsx("span",{className:"whitespace-nowrap text-body font-body text-neutral-500 py-4",children:b?a.jsx(Qt,{}):e("cases.noCases")})})}):k.map(P=>a.jsxs(z.Row,{clickable:!0,onClick:()=>l(`/admin/cases/${P.id}`),children:[a.jsx(z.Cell,{children:a.jsxs("span",{className:"whitespace-nowrap text-body-bold font-body-bold text-neutral-700",children:[zt(P.first_name)," ",zt(P.last_name)]})}),a.jsx(z.Cell,{children:a.jsx("span",{className:"whitespace-nowrap text-body font-body text-neutral-500",children:P.created_at?new Date(P.created_at).toLocaleDateString():""})}),a.jsx(z.Cell,{children:a.jsx(Mr,{status:P.status})}),a.jsx(z.Cell,{children:a.jsx(h9,{paymentStatus:P.paymentStatus||"unpaid",paymentPercentage:P.paymentPercentage||0})}),a.jsx(z.Cell,{children:a.jsxs("span",{className:"whitespace-nowrap text-body font-body text-neutral-500",children:["$",parseFloat(P.total_cost||0).toFixed(2)]})}),a.jsx(z.Cell,{children:a.jsxs("span",{className:"whitespace-nowrap text-body font-body text-success-600",children:["$",(P.totalPaid||0).toFixed(2)]})}),a.jsx(z.Cell,{children:a.jsxs("span",{className:`whitespace-nowrap text-body font-body ${(P.remainingAmount||0)>0?"text-warning-600":"text-success-600"}`,children:["$",(P.remainingAmount||0).toFixed(2)]})})]},P.id))})]})]}),A&&a.jsx(CN,{isOpen:f,onClose:()=>m(!1),doctors:[A],initialDoctor:A,refetchBillingData:N})]})}async function p9(){const{data:{user:e}}=await ee.auth.getUser();if(!e)throw Kn("/login");const{data:t,error:n}=await ee.from("profiles").select("role").eq("id",e.id).single();if(n||!yi(t?.role))throw Kn("/unauthorized");return null}async function g9({params:e}){const{doctorId:t}=e,{data:{user:n}}=await ee.auth.getUser();if(!n)throw Kn("/login");const{data:s,error:l}=await ee.from("profiles").select("role").eq("id",n.id).single();if(l||!yi(s?.role))throw Kn("/unauthorized");const{data:o,error:d}=await ee.from("profiles").select("id, email, full_name, phone, clinic, avatar_url, address").eq("id",t).single();if(d)return{doctor:null,cases:[],error:d.message};const{data:f,error:m}=await ee.from("cases").select("*").eq("user_id",t).order("created_at",{ascending:!1}).limit(50);return{doctor:o,cases:f||[],error:m?.message||null}}const x9=Me.forwardRef(function({active:t=!1,disabled:n=!1,icon:s=null,children:l,className:o,...d},f){return a.jsxs("div",{className:Ue("group/d5612535 flex h-10 cursor-pointer items-center justify-center gap-2 border-b border-solid border-neutral-border px-2.5 py-0.5",{"border-b-2 border-solid border-brand-600 px-2.5 pt-0.5 pb-px hover:border-b-2 hover:border-solid hover:border-brand-600":t},o),ref:f,...d,children:[s?a.jsx(Re,{className:Ue("text-body font-body text-subtext-color group-hover/d5612535:text-default-font",{"text-neutral-400 group-hover/d5612535:text-neutral-400":n,"text-brand-700 group-hover/d5612535:text-brand-700":t}),children:s}):null,l?a.jsx("span",{className:Ue("text-body-bold font-body-bold text-subtext-color group-hover/d5612535:text-default-font",{"text-neutral-400 group-hover/d5612535:text-neutral-400":n,"text-brand-700 group-hover/d5612535:text-brand-700":t}),children:l}):null]})}),b9=Me.forwardRef(function({children:t,className:n,...s},l){return a.jsxs("div",{className:Ue("flex w-full items-end",n),ref:l,...s,children:[t?a.jsx("div",{className:"flex items-start self-stretch",children:t}):null,a.jsx("div",{className:"flex grow shrink-0 basis-0 flex-col items-start gap-2 self-stretch border-b border-solid border-neutral-border"})]})}),Op=Object.assign(b9,{Item:x9});function v9({type:e,label:t}){const[n,s]=h.useState([]),[l,o]=h.useState(!1),[d,f]=h.useState(!1),[m,p]=h.useState({name:"",price:"",description_en:"",description_ar:""}),[g,b]=h.useState(null),[y,w]=h.useState({name:"",price:"",description_en:"",description_ar:""}),j=h.useMemo(()=>e==="printing_method"?"Method Name":e==="aligners_material"?"System Name":e==="acceptance_fee"?"Fee Name":"Name",[e]),S=h.useMemo(()=>e==="printing_method"?"Add Method":e==="aligners_material"?"Add System":e==="acceptance_fee"?"Add Fee":"Add Item",[e]),_=async()=>{o(!0);const{data:E,error:T}=await ee.from("services").select("*").eq("type",e).order("created_at",{ascending:!0});T||s(E||[]),o(!1)};h.useEffect(()=>{_()},[e]);const R=async()=>{if(!m.name)return;const E=parseFloat(String(m.price).trim()||"0");await ee.from("services").insert([{type:e,name:m.name,description_en:m.description_en,description_ar:m.description_ar,price:isNaN(E)?0:E,is_active:!0}]),p({name:"",price:"",description_en:"",description_ar:""}),f(!1),_()},k=E=>{b(E.id),w({name:E.name||"",price:E.price??"",description_en:E.description_en||"",description_ar:E.description_ar||""})},N=()=>{b(null),w({name:"",price:"",description_en:"",description_ar:""})},A=async E=>{const T=parseFloat(String(y.price).trim());await ee.from("services").update({name:y.name,description_en:y.description_en,description_ar:y.description_ar,price:isNaN(T)?0:T}).eq("id",E),N(),_()},P=async(E,T)=>{await ee.from("services").update({is_active:T}).eq("id",E),_()};return a.jsxs("div",{className:"flex w-full flex-col items-start gap-6",children:[a.jsxs("div",{className:"flex w-full items-center justify-between",children:[a.jsx("span",{className:"text-heading-3 font-heading-3 text-default-font",children:t}),d?a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("input",{className:"h-8 rounded-md border border-neutral-border px-3 text-body",placeholder:j.replace(" Name",""),value:m.name,onChange:E=>p(T=>({...T,name:E.target.value}))}),a.jsx("input",{className:"h-8 rounded-md border border-neutral-border px-3 text-body",placeholder:"English Description",value:m.description_en,onChange:E=>p(T=>({...T,description_en:E.target.value}))}),a.jsx("input",{className:"h-8 rounded-md border border-neutral-border px-3 text-body",placeholder:"Arabic Description",value:m.description_ar,onChange:E=>p(T=>({...T,description_ar:E.target.value})),dir:"rtl"}),a.jsx("input",{type:"number",className:"h-8 w-28 rounded-md border border-neutral-border px-3 text-body",placeholder:"Price",value:m.price,onChange:E=>p(T=>({...T,price:E.target.value}))}),a.jsx(de,{variant:"neutral-secondary",onClick:()=>{f(!1),p({name:"",price:"",description_en:"",description_ar:""})},children:"Cancel"}),a.jsx(de,{onClick:R,children:"Save"})]}):a.jsx(de,{className:"w-auto",onClick:()=>f(!0),children:S})]}),a.jsxs(z,{header:a.jsxs(z.HeaderRow,{children:[a.jsx(z.HeaderCell,{children:j}),a.jsx(z.HeaderCell,{children:"English Description"}),a.jsx(z.HeaderCell,{children:"Arabic Description"}),a.jsx(z.HeaderCell,{children:"Price"}),a.jsx(z.HeaderCell,{children:"Status"}),a.jsx(z.HeaderCell,{})]}),children:[(n||[]).map(E=>a.jsxs(z.Row,{children:[a.jsx(z.Cell,{children:g===E.id?a.jsx("input",{className:"h-10 w-full rounded-md border border-neutral-border px-3 text-body",value:y.name,onChange:T=>w(I=>({...I,name:T.target.value}))}):a.jsx("span",{className:"text-body-bold font-body-bold text-neutral-700 text-wrap",children:E.name})}),a.jsx(z.Cell,{children:g===E.id?a.jsx("input",{className:"h-10 w-full rounded-md border border-neutral-border px-3 text-body",placeholder:"English description",value:y.description_en,onChange:T=>w(I=>({...I,description_en:T.target.value}))}):a.jsx("span",{className:"text-body font-body text-neutral-500 text-wrap line-clamp-2",title:E.description_en,children:E.description_en||"-"})}),a.jsx(z.Cell,{children:g===E.id?a.jsx("input",{className:"h-10 w-full rounded-md border border-neutral-border px-3 text-body",placeholder:" ",value:y.description_ar,onChange:T=>w(I=>({...I,description_ar:T.target.value})),dir:"rtl"}):a.jsx("span",{className:"text-body font-body text-neutral-500 text-wrap line-clamp-2",title:E.description_ar,dir:"rtl",children:E.description_ar||"-"})}),a.jsx(z.Cell,{children:g===E.id?a.jsx("input",{type:"number",className:"h-10 w-28 rounded-md border border-neutral-border px-3 text-body",value:y.price,onChange:T=>w(I=>({...I,price:T.target.value}))}):a.jsxs("span",{className:"text-body font-body text-neutral-500",children:["$",Number(E.price||0).toFixed(2)]})}),a.jsx(z.Cell,{children:a.jsx(qe,{variant:E.is_active?"success":"neutral",children:E.is_active?"Active":"Inactive"})}),a.jsx(z.Cell,{children:a.jsx("div",{className:"flex grow shrink-0 basis-0 items-center justify-end",children:g===E.id?a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(de,{size:"small",onClick:()=>A(E.id),children:"Save"}),a.jsx(de,{size:"small",variant:"neutral-secondary",onClick:N,children:"Cancel"})]}):a.jsxs(sx,{children:[a.jsx(ix,{asChild:!0,children:a.jsx(Jt,{icon:a.jsx(AT,{})})}),a.jsx(rx,{children:a.jsx(ax,{side:"bottom",align:"end",sideOffset:8,asChild:!0,children:a.jsxs(gc,{children:[a.jsx(gc.DropdownItem,{onClick:()=>k(E),icon:a.jsx(wT,{}),children:"Edit"}),a.jsx(gc.DropdownItem,{onClick:()=>P(E.id,!E.is_active),children:E.is_active?"Archive":"Activate"})]})})})]})})})]},E.id)),!l&&n.length===0?a.jsx(z.Row,{children:a.jsx(z.Cell,{className:"col-span-6",children:a.jsx("span",{className:"text-body font-body text-neutral-500",children:"No records yet."})})}):null]})]})}function y9(){const{t:e,i18n:t}=ve(),n=t.language==="ar",[s,l]=h.useState("security"),[o,d]=h.useState(null),[f,m]=h.useState(""),[p,g]=h.useState(""),[b,y]=h.useState(""),[w,j]=h.useState(!1),[S,_]=h.useState(""),[R,k]=h.useState(""),[N,A]=h.useState(!1),[P,E]=h.useState(null),[T,I]=h.useState(""),[U,Z]=h.useState(!1);h.useEffect(()=>{(async()=>{const{data:{user:W},error:O}=await ee.auth.getUser();if(O){xe.error("Failed to fetch user");return}_(W?.email||"");const{data:q}=await ee.from("profiles").select("phone").eq("id",W.id).single();k(q?.phone||"");const{data:B,error:Y}=await ee.from("services").select("id, price, is_active").eq("type","acceptance_fee").order("created_at",{ascending:!1}).limit(1);!Y&&Array.isArray(B)&&B.length>0&&(E(B[0].id),I(String(B[0].price??"")))})()},[]);const se=async()=>{if(!f||!p||!b){xe.error(e("settings.errors.fillAllFields"));return}if(p!==b){xe.error(e("settings.errors.passwordMismatch"));return}if(p.length<6){xe.error(e("settings.errors.passwordTooShort"));return}j(!0),d(null);try{const{data:{user:$}}=await ee.auth.getUser(),{error:W}=await ee.auth.signInWithPassword({email:$.email,password:f});if(W){xe.error(e("settings.errors.incorrectPassword")),j(!1);return}const{error:O}=await ee.auth.updateUser({password:p});O?(xe.error("Failed to update password"),d(O.message)):(xe.success(e("settings.success.passwordUpdated")),m(""),g(""),y(""))}catch($){console.error($),xe.error("Unexpected error updating password"),d($.message)}finally{j(!1)}},F=async()=>{A(!0),d(null);try{const{data:{user:$}}=await ee.auth.getUser();let W=!0;if(S&&S!==$.email){const{error:q}=await ee.auth.updateUser({email:S});q?(W=!1,xe.error("Failed to update email"),d(q.message)):xe.success("Email updated. Confirmation may be required.")}const{error:O}=await ee.from("profiles").update({phone:R}).eq("id",$.id);!O&&W?xe.success(e("settings.success.contactUpdated")):!O&&!W?xe.success(e("settings.success.phoneUpdated")):O&&W&&(xe.error("Failed to update phone"),d(O.message))}catch($){console.error($),xe.error("Unexpected error updating contact info"),d($.message)}finally{A(!1)}},L=async()=>{const $=Number.parseFloat(String(T).trim());if(Number.isNaN($)||$<0){xe.error("Please enter a valid non-negative number for the fee.");return}Z(!0),d(null);try{if(P){const{error:W}=await ee.from("services").update({price:$,is_active:!0}).eq("id",P);if(W)throw W}else{const{data:W,error:O}=await ee.from("services").insert([{type:"acceptance_fee",name:"Case Acceptance Fee",price:$,is_active:!0}]).select("id").single();if(O)throw O;E(W?.id||null)}xe.success(e("settings.success.feeUpdated"))}catch(W){console.error(W),xe.error(W.message||"Failed to update acceptance fee"),d(W.message)}finally{Z(!1)}};return a.jsxs(a.Fragment,{children:[o&&a.jsx(et,{error:o}),a.jsx(wi,{submit:!1,children:e("settings.adminSettings")}),a.jsx("p",{className:"text-body font-body text-subtext-color",children:e("settings.adminSubtitle")}),a.jsxs(Op,{children:[a.jsx(Op.Item,{active:s==="security",onClick:()=>l("security"),children:e("settings.accountSecurity")}),a.jsx(Op.Item,{active:s==="services",onClick:()=>l("services"),children:e("settings.serviceManagement")})]}),s==="security"&&a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"flex w-full flex-col items-start gap-6",children:[a.jsx("span",{className:"text-heading-2 font-heading-2 text-default-font",children:e("settings.language")}),a.jsx("div",{className:"flex w-full flex-col gap-6 rounded-md border border-solid border-neutral-border bg-default-background px-6 py-6 shadow-sm",children:a.jsx(_N,{variant:"cards"})})]}),a.jsxs("div",{className:"flex w-full flex-col items-start gap-6",children:[a.jsx("span",{className:"text-heading-2 font-heading-2 text-default-font",children:e("settings.accountSecurity")}),a.jsxs("div",{className:"flex w-full flex-col gap-6 rounded-md border border-solid border-neutral-border bg-default-background px-6 py-6 shadow-sm",children:[a.jsxs("div",{children:[a.jsx("span",{className:"text-heading-3 font-heading-3 text-default-font",children:e("settings.changePassword")}),a.jsx("span",{className:"block text-body font-body text-subtext-color",children:e("settings.passwordDescription")})]}),a.jsx(Ee,{className:"h-auto w-full flex-none",label:e("settings.currentPassword"),children:a.jsx(Ee.Input,{type:"password",placeholder:e("settings.currentPasswordPlaceholder"),value:f,onChange:$=>m($.target.value)})}),a.jsx(Ee,{className:"h-auto w-full flex-none",label:e("settings.newPassword"),children:a.jsx(Ee.Input,{type:"password",placeholder:e("settings.passwordPlaceholder"),value:p,onChange:$=>g($.target.value)})}),a.jsx(Ee,{className:"h-auto w-full flex-none",label:e("settings.confirmPassword"),children:a.jsx(Ee.Input,{type:"password",placeholder:e("settings.confirmPasswordPlaceholder"),value:b,onChange:$=>y($.target.value)})}),a.jsx(de,{className:"w-auto",onClick:se,loading:w,children:e("settings.updatePassword")})]})]}),a.jsxs("div",{className:"flex w-full flex-col items-start gap-6",children:[a.jsx("span",{className:"text-heading-2 font-heading-2 text-default-font",children:e("settings.contactInformation")}),a.jsxs("div",{className:"flex w-full flex-col gap-6 rounded-md border border-solid border-neutral-border bg-default-background px-6 py-6 shadow-sm",children:[a.jsx(Ee,{className:"h-auto w-full flex-none",label:e("settings.emailAddress"),children:a.jsx(Ee.Input,{placeholder:"admin@example.com",value:S,onChange:$=>_($.target.value)})}),a.jsx(Ee,{className:"h-auto w-full flex-none",label:e("settings.phoneNumber"),children:a.jsx(Ee.Input,{placeholder:"+1 (555) 000-0000",value:R,onChange:$=>k($.target.value),style:{direction:"ltr"},className:` ${n?"text-right":""}`})}),a.jsx(de,{className:"w-auto",onClick:F,loading:N,children:e("settings.updateContactInfo")})]})]})]}),s==="services"&&a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"flex w-full flex-col items-start gap-6",children:[a.jsx("span",{className:"text-heading-2 font-heading-2 text-default-font",children:e("settings.caseStudyFee")}),a.jsxs("div",{className:"flex w-full flex-col gap-6 rounded-md border border-solid border-neutral-border bg-default-background px-6 py-6 shadow-sm",children:[a.jsxs("div",{children:[a.jsx("span",{className:"text-heading-3 font-heading-3 text-default-font",children:e("settings.caseStudyFee")}),a.jsx("span",{className:"block text-body font-body text-subtext-color",children:e("settings.caseStudyFeeDescription")})]}),a.jsxs("div",{className:"flex items-end gap-3",children:[a.jsx(Ee,{className:"h-auto w-60",label:e("settings.amountUSD"),children:a.jsx(Ee.Input,{type:"number",min:0,step:"0.01",placeholder:"0.00",value:T,onChange:$=>I($.target.value)})}),a.jsx(de,{className:"w-auto",loading:U,onClick:L,children:e("settings.saveFee")})]})]})]}),a.jsxs("div",{className:"flex w-full flex-col items-start gap-6",children:[a.jsx("span",{className:"text-heading-2 font-heading-2 text-default-font",children:e("settings.services")}),a.jsx("div",{className:"flex w-full flex-col gap-6 rounded-md border border-solid border-neutral-border bg-default-background px-6 py-6 shadow-sm",children:a.jsx(v9,{type:"aligners_material",label:e("settings.alignerMaterials")})})]})]})]})}const sf="case-files",w9="https://aoqekaevjsxryyyelpes.supabase.co/functions/v1/telegram-backup",j9=e=>{try{if(!e.startsWith("http"))return{bucketName:sf,objectPath:e};const n=new URL(e).pathname.split("/").filter(Boolean),s=n.findIndex(l=>l==="object");if(s!==-1&&n[s+1]==="public"){const l=n[s+2],o=n.slice(s+3).join("/");return{bucketName:l,objectPath:decodeURIComponent(o)}}return n.length>=2?{bucketName:sf,objectPath:n.slice(-2).join("/")}:null}catch(t){return console.error("Error parsing storage URL:",t),null}},S9=async(e,t={})=>{try{const{data:{session:n},error:s}=await ee.auth.getSession();if(s||!n)throw console.error(" No active session:",s),new Error("User must be authenticated");const l=n.user.id,o=new FormData;o.append("file",e),o.append("folderPath",t.folderPath||""),o.append("caseId",t.caseId||""),o.append("patientName",t.patientName||""),o.append("doctorName",t.doctorName||""),o.append("clinicName",t.clinicName||""),o.append("fileType",t.fileType||""),o.append("userId",l);const f=await(await fetch(w9,{method:"POST",headers:{Authorization:`Bearer ${n.access_token}`},body:o})).json();if(!f.success)throw new Error(f.error||"Backup failed");return{success:!0,data:f}}catch(n){return console.error(" Backup error:",n),{success:!1,error:n.message}}},qf=async(e,t,n={},s=!1)=>{try{if(!e)throw new Error("No file provided");const l=100*1024*1024;if(e.size>l)throw new Error("File too large (max 100MB)");const o=xe.loading("Uploading...");if(!s){const g=await S9(e,{folderPath:t,caseId:n.caseId,patientName:n.patientName,doctorName:n.doctorName,clinicName:n.clinicName,fileType:n.fileType||t.split("/").pop()});if(g.success)return xe.success("File uploaded",{id:o}),{success:!0,filePath:g.data.filePath,fileName:g.data.fileName,originalName:g.data.originalName};console.warn("Backup failed, uploading to Supabase only:",g.error),xe.loading("Uploading...",{id:o})}const d=e.name.split(".").pop().toLowerCase(),f=`${Date.now()}_${Math.random().toString(36).substring(2)}.${d}`,m=`${t}/${f}`,{error:p}=await ee.storage.from(sf).upload(m,e,{cacheControl:"3600",upsert:!1,contentType:e.type});if(p)throw xe.dismiss(o),p;return xe.success("File uploaded successfully",{id:o}),{success:!0,filePath:m,fileName:f,originalName:e.name}}catch(l){return console.error("Upload failed:",l),xe.error("Upload failed, please try again!"),{success:!1,error:l.message}}},x1=async e=>{try{if(!e)return xe.error("No file specified"),{success:!1,error:"No file specified"};const t=j9(e);if(!t?.objectPath)return xe.error("Invalid file path"),{success:!1,error:"Invalid file path"};const n=t.objectPath.split("/").pop()||"download",s=xe.loading(`Preparing ${n}...`);try{const{data:l,error:o}=await ee.storage.from(sf).createSignedUrl(t.objectPath,3600);if(o||!l?.signedUrl)throw new Error("Failed to generate download link");xe.loading("Starting download...",{id:s});const d=await fetch(l.signedUrl);if(!d.ok)throw new Error(`Download failed: ${d.statusText}`);const f=d.headers.get("content-length"),m=f?parseInt(f,10):0,p=d.body.getReader(),g=[];let b=0;for(;;){const{done:S,value:_}=await p.read();if(S)break;if(g.push(_),b+=_.length,m>0){const R=Math.round(b/m*100);xe.loading(`Downloading ${n}... ${R}%`,{id:s})}}const y=new Blob(g),w=URL.createObjectURL(y),j=document.createElement("a");return j.href=w,j.download=n,j.style.display="none",document.body.appendChild(j),j.click(),setTimeout(()=>{document.body.removeChild(j),URL.revokeObjectURL(w)},100),xe.success("Download started",{id:s}),{success:!0}}catch(l){throw console.error("Download error:",l),xe.dismiss(s),l}}catch(t){console.error("Download failed:",t);const n=t.message.includes("not found")?"File not found":t.message.includes("permission")?"Access denied":"Download failed";return xe.error(`${n}. Please try again!`),{success:!1,error:t.message}}};function EN({successMessage:e}){const[t,n]=h.useState(!0);return t?a.jsx("div",{className:"rounded-md bg-green-50 p-4",children:a.jsxs("div",{className:"flex justify-between items-start",children:[a.jsx("div",{className:"flex-1",children:a.jsx("h3",{className:"text-sm font-medium text-green-800",children:e})}),a.jsx("button",{onClick:()=>n(!1),className:"ml-4 text-green-400 hover:text-green-600 transition-colors","aria-label":"Close success message",children:a.jsx("svg",{className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:a.jsx("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})})})]})}):null}const Al={tooth1:["M13.5,29.1c-0.4-1.5-0.6-2.4-0.8-3.3c-0.2-0.5-0.4-1.1-1.1-1.1c-0.7-0.1-1,0.5-1.2,1c-0.7,1.6-1.4,3.3-1.9,5  c-0.3-2-0.5-4-0.8-6.1c-0.1-0.6-0.3-1.3-1-1.4C5.9,23,5.4,23.5,5,24.1c-1.9,2.7-2.3,5.8-2.3,8.9c0,4.6-0.3,9.2-1.5,13.7  c-0.5,2.1-0.5,4.2,0.1,6.3c0.8,2.9,2.5,4.2,5.5,3.6c2.6-0.5,5.1-0.5,7.8,0c3.1,0.6,4.9-0.8,5.6-4c0.8-3.5-0.1-6.8-1-10.2  c-0.6-2.1-0.8-4.2-0.5-6.3c0.4-3,0.1-6-0.6-9c-0.1-0.5-0.2-1-0.4-1.4c-0.5-0.9-0.8-2.4-2.1-2.2c-1.3,0.2-1,1.6-1.4,2.5  C13.9,26.8,13.8,27.6,13.5,29.1z"],tooth2:["M12.3,29.4c-0.3-2-0.7-4.1-0.8-6.1c-0.1-2.2-2.1-2-3.2-2.7c-0.9-0.6-1.7,0.5-2.2,1.3c-2.2,2.9-3,6.4-3.3,9.9  C2.3,37,1.9,42.1,0.7,47.3c-0.4,1.8-0.3,3.7,0.2,5.5c0.8,3,2.6,4.4,5.6,3.8c2.7-0.5,5.3-0.6,8,0c3.1,0.6,5-0.7,5.7-3.9  c0.6-2.6,0.5-5.3-0.2-7.8c-1.3-4.2-1.1-8.6-1.4-12.9c-0.2-2.7-0.4-5.4-1.2-7.9c-0.1-0.5-0.2-1-0.5-1.4c-0.4-0.7-0.6-1.9-1.7-1.8  c-1.2,0.1-1.2,1.4-1.3,2.3c-0.4,2.1-0.7,4.2-1,6.2C12.6,29.4,12.5,29.4,12.3,29.4z"],tooth3:["M12.1,31.2c-1-3.3-1.5-6.2-2.1-9.2c-0.2-0.9-0.2-2-1.1-2.3c-1.2-0.4-1.3,1-1.9,1.5c-0.1-0.1-0.2-0.1-0.3-0.2  c-0.5-0.8-0.7-2.1-1.8-2c-1,0.1-1.4,1.3-1.8,2.3c-0.7,2.5-1.1,5-1.1,7.5c0,6.3,0.1,12.5-1.5,18.7c-0.5,1.7-0.2,3.6,0.3,5.3  c0.7,2.7,2.6,4.2,5.3,3.7c3-0.6,5.8-0.6,8.8,0c2.8,0.6,4.7-1,5.4-3.8c0.8-3,0.4-6.1-0.4-9c-0.8-2.9-1-5.8-0.9-8.8  c0.1-3.4,0.1-6.9,0.1-10.3c0-1.4-0.2-2.7-0.8-4c-0.3-0.7-0.7-1.3-1.4-1.3c-0.8,0-1.1,0.8-1.3,1.4c-0.6,1.8-1.1,3.7-1.6,5.5  C13.5,27.8,13.1,29.4,12.1,31.2z"],tooth4:["M17.4,49.7c-0.1-3.1-0.7-6.1-1.8-9.1c-1.4-3.6-1.1-7.6-1.5-11.4c-0.5-4.4-0.6-8.8-1-13.2  c-0.1-1.4-0.1-3.7-1.9-3.6c-1.6,0-1.1,2.2-1.3,3.5c-1.4,7.4-2.5,14.8-3.3,22.3c-0.3,2.8-1.8,5.4-1.9,8.2c-0.1,1.8-0.2,3.6,0.2,5.3  c0.5,2.8,2.4,4,4.9,4.7c2.4,0.7,4.6,0,6.4-1.4C17.7,53.8,17.5,51.7,17.4,49.7z"],tooth5:["M3.9,48.9c-0.1,4.3,1.2,6.1,5,7.4c2.4,0.9,5.3-0.1,7.1-2.5c1.5-2,1.5-4.4,1.1-6.7c-1.1-5.3-2.1-10.7-2.7-16.1  c-0.7-6.3-1.3-12.6-2.8-18.8c-0.2-1-0.6-2-1-2.9c-0.2-0.4-0.3-1-0.9-0.9C9,8.5,8.9,9,8.8,9.5c-0.5,2.2-0.6,4.5-0.7,6.8  c-0.3,7.3-0.8,14.6-1.7,21.8c-0.4,3-2.1,5.7-2.3,8.8C4,47.7,3.9,48.6,3.9,48.9z"],tooth6:["M16.5,48.7c-0.3-2-0.4-4.1-0.8-6.1c-1.3-6.1-1.5-12.3-1.8-18.5c-0.4-6.2-1-12.3-2.4-18.4  c-0.1-0.6-0.3-1.2-0.5-1.8c-0.2-0.4-0.4-1-0.9-1C9.3,3,9.1,3.6,9,4.1C8.8,5.9,8.4,7.7,8.4,9.4c0.1,9.8-1.2,19.5-2.3,29.2  C5.8,42.1,4.9,45.5,4.6,49c-0.3,4.3,2.1,6.1,5.7,7.5c1.8,0.7,4.6-1.3,5.5-3.7C16.3,51.5,16.4,50.1,16.5,48.7z"],tooth7:["M4.8,48.6c0,1.8,0,3.6,0,5.4c0,1.8,0.9,2.6,2.7,2.7c2.1,0.1,4.1,0.1,6.2-0.2c1.2-0.2,1.8-0.8,1.9-2.1  c0.1-5,0.3-10.1-1.2-15c-0.9-2.9-0.9-5.9-1-8.8c-0.2-7.1-1.5-14.1-2.7-21.1c-0.1-0.7-0.1-1.8-1-1.8c-1.1-0.1-1.1,1-1.3,1.8  c-0.7,2.5-0.7,5.2-0.9,7.8C7,25.6,6.4,34,5,42.2C4.7,44.3,5,46.4,5,48.6C4.9,48.6,4.9,48.6,4.8,48.6z"],tooth8:["M4.4,48.7c0,1.9,0,3.9,0.3,5.8c0.2,1.1,0.8,1.7,1.9,1.9c2.7,0.4,5.5,0.5,8.2,0.1c1.4-0.2,2.1-1,2-2.4  c-0.3-5.9,0-11.8-1.4-17.7c-1.3-5.6-1.6-11.4-2.3-17.2c-0.4-4-0.5-8.1-1.6-12.1c-0.3-1.1-0.4-2.8-1.6-2.8c-1.5,0.1-1.3,1.9-1.4,3  c-0.8,9.3-1.3,18.7-2.6,28C5.3,39.8,4.1,44.1,4.4,48.7z"],tooth9:["M16.7,48.7c0,1.9,0,3.9-0.3,5.8c-0.2,1.1-0.8,1.7-1.9,1.9c-2.7,0.4-5.5,0.5-8.2,0.1c-1.4-0.2-2.1-1-2-2.4  c0.3-5.9,0-11.8,1.4-17.7C7,30.8,7.3,25,8,19.2c0.4-4,0.5-8.1,1.6-12.1c0.3-1.1,0.4-2.8,1.6-2.8c1.5,0.1,1.3,1.9,1.4,3  c0.8,9.3,1.3,18.7,2.6,28C15.8,39.8,17,44.1,16.7,48.7z"],tooth10:["M15.9,48.6c0,1.8,0,3.6,0,5.4c0,1.8-0.9,2.6-2.7,2.7c-2.1,0.1-4.1,0.1-6.2-0.2c-1.2-0.2-1.8-0.8-1.9-2.1  c-0.1-5-0.3-10.1,1.2-15c0.9-2.9,0.9-5.9,1-8.8C7.7,23.5,9,16.6,10.2,9.6c0.1-0.7,0.1-1.8,1-1.8c1.1-0.1,1.1,1,1.3,1.8  c0.7,2.5,0.7,5.2,0.9,7.8c0.4,8.3,0.9,16.6,2.4,24.9c0.4,2.1,0.1,4.3,0.1,6.4C15.9,48.6,15.9,48.6,15.9,48.6z"],tooth11:["M4.7,48.7c0.3-2,0.4-4.1,0.8-6.1C6.8,36.5,7,30.3,7.3,24.1c0.4-6.2,1-12.3,2.4-18.4c0.1-0.6,0.3-1.2,0.5-1.8  c0.2-0.4,0.4-1,0.9-1c0.7,0,0.9,0.6,1,1.1c0.2,1.8,0.6,3.6,0.6,5.3c-0.1,9.8,1.2,19.5,2.3,29.2c0.4,3.5,1.2,6.9,1.5,10.4  c0.3,4.3-2.1,6.1-5.7,7.5c-1.8,0.7-4.6-1.3-5.5-3.7C4.9,51.5,4.8,50.1,4.7,48.7z"],tooth12:["M17.2,48.9c0.1,4.3-1.2,6.1-5,7.4c-2.4,0.9-5.3-0.1-7.1-2.5c-1.5-2-1.5-4.4-1.1-6.7  c1.1-5.3,2.1-10.7,2.7-16.1c0.7-6.3,1.3-12.6,2.8-18.8c0.2-1,0.6-2,1-2.9c0.2-0.4,0.3-1,0.9-0.9c0.6,0.1,0.7,0.6,0.8,1.1  c0.5,2.2,0.6,4.5,0.7,6.8c0.3,7.3,0.8,14.6,1.7,21.8c0.4,3,2.1,5.7,2.3,8.8C17.1,47.7,17.2,48.6,17.2,48.9z"],tooth13:["M4.1,49.7c0.1-3.1,0.7-6.1,1.8-9.1C7.3,37,7,33.1,7.4,29.2c0.5-4.4,0.6-8.8,1-13.2c0.1-1.4,0.1-3.7,1.9-3.6  c1.6,0,1.1,2.2,1.3,3.5c1.4,7.4,2.5,14.8,3.3,22.3c0.3,2.8,1.8,5.4,1.9,8.2c0.1,1.8,0.2,3.6-0.2,5.3c-0.5,2.8-2.4,4-4.9,4.7  c-2.4,0.7-4.6,0-6.4-1.4C3.8,53.8,4,51.7,4.1,49.7z"],tooth14:["M9,31.2c1-3.3,1.5-6.2,2.1-9.2c0.2-0.9,0.2-2,1.1-2.3c1.2-0.4,1.3,1,1.9,1.5c0.1-0.1,0.2-0.1,0.3-0.2  c0.5-0.8,0.7-2.1,1.8-2c1,0.1,1.4,1.3,1.8,2.3c0.7,2.5,1.1,5,1.1,7.5c0,6.3-0.1,12.5,1.5,18.7c0.5,1.7,0.2,3.6-0.3,5.3  c-0.7,2.7-2.6,4.2-5.3,3.7c-3-0.6-5.8-0.6-8.8,0c-2.8,0.6-4.7-1-5.4-3.8c-0.8-3-0.4-6.1,0.4-9C2,40.9,2.1,38,2,35  C1.9,31.5,2,28.1,2,24.7c0-1.4,0.2-2.7,0.8-4C3,20,3.4,19.3,4.2,19.3c0.8,0,1.1,0.8,1.3,1.4c0.6,1.8,1.1,3.7,1.6,5.5  C7.6,27.8,8,29.4,9,31.2z"],tooth15:["M8.8,29.4c0.3-2,0.7-4.1,0.8-6.1c0.1-2.2,2.1-2,3.2-2.7c0.9-0.6,1.7,0.5,2.2,1.3c2.2,2.9,3,6.4,3.3,9.9  c0.5,5.2,0.9,10.4,2.1,15.5c0.4,1.8,0.3,3.7-0.2,5.5c-0.8,3-2.6,4.4-5.6,3.8c-2.7-0.5-5.3-0.6-8,0c-3.1,0.6-5-0.7-5.7-3.9  c-0.6-2.6-0.5-5.3,0.2-7.8c1.3-4.2,1.1-8.6,1.4-12.9c0.2-2.7,0.4-5.4,1.2-7.9c0.1-0.5,0.2-1,0.5-1.4c0.4-0.7,0.6-1.9,1.7-1.8  c1.2,0.1,1.2,1.4,1.3,2.3c0.4,2.1,0.7,4.2,1,6.2C8.5,29.4,8.6,29.4,8.8,29.4z"],tooth16:["M7.6,29.1c0.4-1.5,0.6-2.4,0.8-3.3c0.2-0.5,0.4-1.1,1.1-1.1c0.7-0.1,1,0.5,1.2,1c0.7,1.6,1.4,3.3,1.9,5  c0.3-2,0.5-4,0.8-6.1c0.1-0.6,0.3-1.3,1-1.4c0.8-0.2,1.3,0.3,1.7,0.9c1.9,2.7,2.3,5.8,2.3,8.9c0,4.6,0.3,9.2,1.5,13.7  c0.5,2.1,0.5,4.2-0.1,6.3c-0.8,2.9-2.5,4.2-5.5,3.6c-2.6-0.5-5.1-0.5-7.8,0c-3.1,0.6-4.9-0.8-5.6-4c-0.8-3.5,0.1-6.8,1-10.2  c0.6-2.1,0.8-4.2,0.5-6.3c-0.4-3-0.1-6,0.6-9c0.1-0.5,0.2-1,0.4-1.4c0.5-0.9,0.8-2.4,2.1-2.2c1.3,0.2,1,1.6,1.4,2.5  C7.2,26.8,7.3,27.6,7.6,29.1z"],tooth17:["M1.9,20.6c0.3-2.5-0.4-5.1-1.1-7.7c-0.8-2.8-1.1-5.7-0.6-8.6C0.8,1,2.8-0.6,6.1,0.2c3,0.8,5.9,0.7,8.9,0  c3-0.7,4.9,0.7,5.7,3.6c0.9,3.5,0.2,6.9-0.7,10.2c-0.7,2.3-0.9,4.6-0.9,6.9c0.2,5.6-0.2,11.1-1.9,16.5c0,0.1-0.1,0.3-0.1,0.4  c-0.3,0.7-0.5,1.9-1.4,1.8c-1-0.1-1.1-1.2-1.3-2.1c-0.3-1.6-0.6-3.1-0.8-4.7c-0.4-2.3-0.7-4.6-1.6-6.8c-0.2-0.6-0.5-1.2-1.2-1.2  c-0.9,0-1.1,0.7-1.3,1.4c-0.9,3.2-0.9,6.5-1.1,9.8c-0.1,1.3,0.3,3.2-1.1,3.4c-1.5,0.3-2.1-1.5-2.6-2.8C2.5,31.6,2,26.2,1.9,20.6z"],tooth18:["M2.5,21.5c0.8-3.3-1.3-7.1-1.9-11.2C0.3,8.1,0.2,5.9,0.7,3.8c0.8-2.9,2.6-4.3,5.5-3.5c2.9,0.7,5.6,0.8,8.5,0  c3-0.8,4.9,0.7,5.6,3.7c0.6,2.5,0.7,5-0.1,7.4c-1.7,5-1.2,10.1-1.5,15.1c-0.2,4.5-0.9,8.9-2.8,13c-0.4,0.8-0.7,1.9-1.8,1.6  c-1-0.2-0.9-1.3-0.9-2.1c0-3.5-0.2-6.9-0.9-10.3c-0.3-1.2-0.4-3.2-1.7-3.2c-1.2,0-1.2,1.9-1.5,3.1c-0.5,2.8-0.8,5.7-0.8,8.6  c0,0.8,0,1.5-0.1,2.3c-0.1,0.9,0.1,2.2-1.2,2.3c-1,0.1-1.4-1-1.7-1.8c-0.8-2-1.3-4.1-1.7-6.2C2.8,30.1,2.2,26.3,2.5,21.5z"],tooth19:["M2,21.9c0.2-2.1-0.1-6-1.2-9.8C0.1,9.4,0,6.6,0.6,3.9c0.7-3,2.7-4.4,5.6-3.6c2.9,0.8,5.6,0.8,8.5,0  c3.1-0.8,5,0.6,5.7,3.8c0.7,2.9,0.5,5.8-0.3,8.6c-1.7,5.2-1.2,10.5-0.8,15.8c0.3,4.1,0.2,8.1-0.5,12.1c-0.2,0.9-0.2,2.3-1.3,2.4  c-1.3,0.1-1.4-1.4-1.7-2.3c-1-3.5-2-7-2.9-10.5c-0.2-0.9-0.5-1.7-0.9-2.5c-0.3-0.7-0.5-1.9-1.4-1.7c-0.8,0.1-1.1,1.1-1.3,1.9  C8.2,31.4,8,35.2,7.5,39C7.4,40,7.3,41,7.2,42C7,42.8,6.9,43.7,6,43.7c-0.9,0-1.2-0.8-1.5-1.5c-0.9-2.2-1.3-4.5-1.7-6.8  C2.1,31.6,1.8,27.6,2,21.9z"],tooth20:["M17.4,6.9c-0.2,3.1-0.3,6.4-1.3,9.4c-1.7,5.1-1.6,10.4-1.9,15.7c-0.3,4.6,0.3,9.2-0.5,13.8  c-0.2,1,0,2.5-1.3,2.5c-1.3,0.1-1.2-1.4-1.5-2.4c-2.4-8.5-3.2-17.2-4.4-25.8C5.9,15.9,4,11.9,3.8,7.6C3.7,5.7,3.2,3.5,5.1,2.3  c2.5-1.5,4.9-3.5,8.5-1.5C16.2,2.4,17.7,3.8,17.4,6.9z"],tooth21:["M16.9,7.3c-0.2,2.7-0.5,5.7-1.5,8.6c-1.4,4.3-1.6,8.8-1.7,13.3c-0.1,5.5,0,11-0.5,16.5  c-0.1,0.7,0.1,1.5-0.7,1.7c-0.9,0.2-1.1-0.7-1.4-1.3c-0.9-2-1.4-4.1-1.7-6.3c-0.9-6.7-1.8-13.4-2.7-20C6.6,18,6,16.5,5.4,14.9  c-0.9-2.4-1.2-5-1.3-7.5C4,4,7.4,0,10.2,0C13.7,0,17,3.4,16.9,7.3z"],tooth22:["M16.1,7.5c0.2,4.4-1.3,8.5-1.7,12.6c-0.7,7.8-0.4,15.5,0.3,23.3c0.1,1.6,0.3,3.2,0,4.7  c-0.1,0.5-0.2,1-0.8,1.1c-0.6,0.1-0.8-0.5-1-0.9c-1.3-2.7-2.1-5.7-2.7-8.6C8.7,33.2,8,26.5,7,19.8c-0.5-3.4-1.8-6.6-2-10.1  C4.8,6.5,4.6,3.4,7.5,1c1.7-1.3,2.9-1.4,4.6-0.1C14.5,2.6,16.8,4.3,16.1,7.5z"],tooth23:["M15,8.6c-0.8,6.8-1.4,15.6-1.4,24.3c0,2.5,0.1,5.1,0.1,7.6c0,1.3-0.2,2.6-0.3,3.9c-0.1,0.7-0.2,1.7-1.1,1.7  c-0.8,0-0.9-1-1-1.6c-0.6-3.2-1.2-6.4-1.6-9.6c-1.1-7.8-2.2-15.5-3.2-23.3C6,8.6,6.2,5.5,6.2,2.4c0-1.3,0.7-1.9,1.9-2  c0.1,0,0.3,0,0.4-0.1C14.4-0.6,15.1,0.1,15,8.6z"],tooth24:["M15.1,4.4C15,11.2,13.5,18,13.2,24.9c-0.2,5,0,10-0.6,15c-0.2,1.4-0.3,2.9-0.8,4.3c-0.2,0.6-0.4,1.3-1.2,1.2  c-0.6-0.1-0.8-0.7-0.9-1.3c-0.6-3-0.8-6.1-1-9.2c-0.7-7.7-0.7-15.4-2.2-23C6,9,6.2,5.9,6,2.9C6,1,6.8,0.1,8.7,0.1  c0.7,0,1.4-0.1,2.1-0.1C14.8,0,15.1,0.4,15.1,4.4z"],tooth25:["M6,4.4C6.1,11.2,7.6,18,7.9,24.9c0.2,5,0,10,0.6,15c0.2,1.4,0.3,2.9,0.8,4.3c0.2,0.6,0.4,1.3,1.2,1.2  c0.6-0.1,0.8-0.7,0.9-1.3c0.6-3,0.8-6.1,1-9.2c0.7-7.7,0.7-15.4,2.2-23c0.6-2.9,0.4-6,0.6-9c0.1-1.9-0.8-2.8-2.7-2.8  C11.7,0.1,11,0,10.3,0C6.3,0,6,0.4,6,4.4z"],tooth26:["M6.1,8.6c0.8,6.8,1.4,15.6,1.4,24.3c0,2.5-0.1,5.1-0.1,7.6c0,1.3,0.2,2.6,0.3,3.9c0.1,0.7,0.2,1.7,1.1,1.7  c0.8,0,0.9-1,1-1.6c0.6-3.2,1.2-6.4,1.6-9.6c1.1-7.8,2.2-15.5,3.2-23.3c0.4-3.1,0.2-6.2,0.2-9.3c0-1.3-0.7-1.9-1.9-2  c-0.1,0-0.3,0-0.4-0.1C6.7-0.6,6,0.1,6.1,8.6z"],tooth27:["M5,7.5C4.8,12,6.3,16,6.7,20.2C7.4,27.9,7,35.7,6.4,43.5c-0.1,1.6-0.3,3.2,0,4.7c0.1,0.5,0.2,1,0.8,1.1  c0.6,0.1,0.8-0.5,1-0.9c1.3-2.7,2.1-5.7,2.7-8.6c1.5-6.6,2.2-13.3,3.2-20c0.5-3.4,1.8-6.6,2-10.1c0.2-3.2,0.3-6.3-2.6-8.7  C11.9-0.3,10.6-0.4,9,0.9C6.6,2.6,4.3,4.3,5,7.5z"],tooth28:["M4.2,7.3c0.2,2.7,0.5,5.7,1.5,8.6c1.4,4.3,1.6,8.8,1.7,13.3c0.1,5.5,0,11,0.5,16.5c0.1,0.7-0.1,1.5,0.7,1.7  c0.9,0.2,1.1-0.7,1.4-1.3c0.9-2,1.4-4.1,1.7-6.3c0.9-6.7,1.8-13.4,2.7-20c0.2-1.6,0.8-3.2,1.4-4.7c0.9-2.4,1.2-5,1.3-7.5  C17.1,4,13.7,0,10.9,0C7.4,0,4.1,3.4,4.2,7.3z"],tooth29:["M3.7,6.9C4,10,4,13.2,5,16.3C6.7,21.4,6.7,26.7,6.9,32c0.3,4.6-0.3,9.2,0.5,13.8c0.2,1,0,2.5,1.3,2.5  c1.3,0.1,1.2-1.4,1.5-2.4c2.4-8.5,3.2-17.2,4.4-25.8c0.6-4.2,2.5-8.2,2.7-12.5c0.1-1.9,0.6-4.2-1.3-5.3c-2.5-1.5-4.9-3.5-8.5-1.5  C4.9,2.4,3.4,3.8,3.7,6.9z"],tooth30:["M19.1,21.9c-0.2-2.1,0.1-6,1.2-9.8c0.8-2.7,0.8-5.5,0.2-8.2c-0.7-3-2.7-4.4-5.6-3.6C11.9,1,9.2,1,6.3,0.2  C3.3-0.6,1.4,0.8,0.6,4C0,6.9,0.1,9.8,1,12.6c1.7,5.2,1.2,10.5,0.8,15.8c-0.3,4.1-0.2,8.1,0.5,12.1c0.2,0.9,0.2,2.3,1.3,2.4  C4.9,43,5,41.5,5.3,40.6c1-3.5,2-7,2.9-10.5c0.2-0.9,0.5-1.7,0.9-2.5c0.3-0.7,0.5-1.9,1.4-1.7c0.8,0.1,1.1,1.1,1.3,1.9  c1,3.7,1.2,7.5,1.6,11.2c0.1,1,0.2,2.1,0.4,3.1c0.1,0.8,0.2,1.7,1.2,1.7c0.9,0,1.2-0.8,1.5-1.5c0.9-2.2,1.3-4.5,1.7-6.8  C19,31.6,19.3,27.6,19.1,21.9z"],tooth31:["M18.6,21.5c-0.8-3.3,1.3-7.1,1.9-11.2c0.3-2.2,0.4-4.4-0.2-6.6c-0.8-2.9-2.6-4.3-5.5-3.5C12,1,9.3,1,6.4,0.2  c-3-0.8-4.9,0.7-5.6,3.7c-0.6,2.5-0.7,5,0.1,7.4c1.7,5,1.2,10.1,1.5,15.1c0.2,4.5,0.9,8.9,2.8,13C5.6,40.2,5.9,41.3,7,41  c1-0.2,0.9-1.3,0.9-2.1c0-3.5,0.2-6.9,0.9-10.3c0.3-1.2,0.4-3.2,1.7-3.2c1.2,0,1.2,1.9,1.5,3.1c0.5,2.8,0.8,5.7,0.8,8.6  c0,0.8,0,1.5,0.1,2.3c0.1,0.9-0.1,2.2,1.2,2.3c1,0.1,1.4-1,1.7-1.8c0.8-2,1.3-4.1,1.7-6.2C18.3,30.1,18.9,26.3,18.6,21.5z"],tooth32:["M19.2,20.6c-0.3-2.5,0.4-5.1,1.1-7.7c0.8-2.8,1.1-5.7,0.6-8.6C20.3,1,18.3-0.6,15,0.2c-3,0.8-5.9,0.7-8.9,0  c-3-0.7-4.9,0.7-5.7,3.6C-0.5,7.3,0.2,10.7,1.2,14c0.7,2.3,0.9,4.6,0.9,6.9C1.9,26.5,2.2,32.1,4,37.4c0,0.1,0.1,0.3,0.1,0.4  c0.3,0.7,0.5,1.9,1.4,1.8c1-0.1,1.1-1.2,1.3-2.1c0.3-1.6,0.6-3.1,0.8-4.7c0.4-2.3,0.7-4.6,1.6-6.8c0.2-0.6,0.5-1.2,1.2-1.2  c0.9,0,1.1,0.7,1.3,1.4c0.9,3.2,0.9,6.5,1.1,9.8c0.1,1.3-0.3,3.2,1.1,3.4c1.5,0.3,2.1-1.5,2.6-2.8C18.6,31.6,19.1,26.2,19.2,20.6z"]},b1=({num:e,paths:t,status:n,onClick:s,isUpperJaw:l,readOnly:o=!1,statusColor:d})=>a.jsxs("div",{onClick:o?void 0:s,className:`cursor-${o?"default":"pointer"} flex flex-col items-center`,style:{width:"48px",minHeight:"64px"},children:[a.jsx("div",{className:"flex justify-center mb-1",style:{width:"48px",height:"72px",alignItems:l?"flex-end":"flex-start",marginBottom:l?"10px":0},children:a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 21.1 56.7",className:"w-full h-full",fill:d,style:{maxWidth:"48px",maxHeight:"72px",display:"block"},children:t.map((f,m)=>a.jsx("path",{d:f},m))})}),a.jsx("p",{className:"text-xs text-center",style:{lineHeight:"1",width:"100%",margin:0},children:e})]}),Vl=({initialStatus:e={},onChange:t,readOnly:n=!1,scale:s=1,showLegend:l=!0})=>{const{t:o}=ve(),d={movable:{color:"#00adef",description:o("dentalChart.statuses.movable")},unmovable:{color:"#F44336",description:o("dentalChart.statuses.unmovable")},missing:{color:"#9E9E9E",description:o("dentalChart.statuses.missing")},note:{color:"#fa9600",description:o("dentalChart.statuses.note")}},[f,m]=h.useState(()=>Object.keys(e).length>0?e:Object.fromEntries([...Array(32)].map((b,y)=>[y+1,"movable"]))),p=b=>{const y=Object.keys(d),w=f[b],j=(y.indexOf(w)+1)%y.length,S=y[j],_={...f,[b]:S};m(_),t?.(_)},g=s!==1?{transform:`scale(${s})`,transformOrigin:"top center"}:{};return a.jsxs("div",{className:"flex flex-col items-center gap-8 p-4",style:g,children:[a.jsx("div",{className:"flex",style:{gap:"4px",direction:"ltr"},children:[...Array(16)].map((b,y)=>{const w=y+1,j=Al[`tooth${w}`]||[],S=f[w],_=d[S]?.color;return a.jsx(b1,{num:w,paths:j,status:S,onClick:()=>p(w),isUpperJaw:!0,readOnly:n,statusColor:_},w)})}),a.jsx("div",{className:"flex",style:{gap:"4px",direction:"ltr"},children:[...Array(16)].map((b,y)=>{const w=32-y,j=Al[`tooth${w}`]||[],S=f[w],_=d[S]?.color;return a.jsx(b1,{num:w,paths:j,status:S,onClick:()=>p(w),isUpperJaw:!1,readOnly:n,statusColor:_},w)})}),l&&a.jsx("div",{className:"flex flex-col gap-3 mt-4 max-w-2xl",children:Object.entries(d).map(([b,{color:y,description:w}])=>a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{style:{backgroundColor:y},className:"w-5 h-5 border flex-shrink-0"}),a.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:gap-2",children:[a.jsxs("span",{className:"capitalize font-medium text-sm",children:[o(`dentalChart.statusLabels.${b}`),":"]}),a.jsx("span",{className:"text-sm text-gray-600",children:w})]})]},b))})]})},N9=Me.forwardRef(function({variant:t="neutral",icon:n=a.jsx(ng,{}),title:s,description:l,actions:o,className:d,...f},m){return a.jsx("div",{className:Ue("group/3a65613d flex w-full flex-col items-start gap-2 rounded-md border border-solid border-neutral-200 bg-neutral-50 pl-4 pr-3 py-3",{"border border-solid border-warning-100 bg-warning-50":t==="warning","border border-solid border-success-100 bg-success-50":t==="success","border border-solid border-error-100 bg-error-50":t==="error","border border-solid border-brand-100 bg-brand-50":t==="brand"},d),ref:m,...f,children:a.jsxs("div",{className:"flex w-full items-center gap-4",children:[n?a.jsx(Re,{className:Ue("text-heading-3 font-heading-3 text-neutral-800",{"text-warning-800":t==="warning","text-success-800":t==="success","text-error-800":t==="error","text-brand-800":t==="brand"}),children:n}):null,a.jsxs("div",{className:"flex grow shrink-0 basis-0 flex-col items-start",children:[s?a.jsx("span",{className:Ue("w-full whitespace-pre-wrap text-body-bold font-body-bold text-default-font font-bold",{"text-warning-900":t==="warning","text-success-900":t==="success","text-error-900":t==="error","text-brand-900":t==="brand"}),children:s}):null,l?a.jsx("span",{className:Ue("w-full whitespace-pre-wrap text-caption font-caption text-subtext-color",{"text-warning-800":t==="warning","text-success-800":t==="success","text-error-800":t==="error","text-brand-800":t==="brand"}),children:l}):null]}),o?a.jsx("div",{className:"flex items-center justify-end gap-1",children:o}):null]})})}),ya=N9,RN=({formData:e,handleChange:t,getMinDate:n})=>{const{t:s}=ve(),l=()=>a.jsx("span",{className:"text-red-500 ml-1 font-bold",title:s("common.required"),children:"*"});return a.jsxs("div",{className:"flex w-full flex-col items-start gap-6 rounded-md border border-solid border-gray-200 bg-white px-6 pt-4 pb-6 shadow-sm",children:[a.jsxs("div",{className:"flex w-full items-start gap-4",children:[a.jsx("div",{className:"flex grow shrink-0 basis-0 flex-col items-start gap-4",children:a.jsx(Ee,{className:"h-auto w-full flex-none",label:a.jsxs("span",{className:"flex items-center",children:[s("caseSubmit.patientInfo.firstNameLabel"),a.jsx(l,{})]}),helpText:"",children:a.jsx(Ee.Input,{placeholder:s("caseSubmit.patientInfo.firstNamePlaceholder"),type:"text",id:"firstName",name:"firstName",value:e.firstName,onChange:t,required:!0})})}),a.jsx("div",{className:"flex grow shrink-0 basis-0 flex-col items-start gap-4",children:a.jsx(Ee,{className:"h-auto w-full flex-none",label:a.jsxs("span",{className:"flex items-center",children:[s("caseSubmit.patientInfo.lastNameLabel"),a.jsx(l,{})]}),helpText:"",children:a.jsx(Ee.Input,{placeholder:s("caseSubmit.patientInfo.lastNamePlaceholder"),type:"text",id:"lastName",name:"lastName",value:e.lastName,onChange:t,required:!0})})})]}),a.jsxs("div",{className:"flex w-full flex-col items-start gap-4",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("input",{type:"checkbox",id:"isUrgent",name:"isUrgent",checked:e.isUrgent,onChange:t,className:"w-4 h-4 text-red-600 bg-gray-100 border-gray-300 rounded focus:ring-sky-500 focus:ring-2 accent-sky-600"}),a.jsx("label",{htmlFor:"isUrgent",className:"text-sm font-bold text-gray-700 cursor-pointer",children:s("caseSubmit.patientInfo.urgentCase")})]}),e.isUrgent&&a.jsx("div",{className:"ml-7 w-full max-w-xs",children:a.jsx(Ee,{className:"h-auto w-full flex-none",label:a.jsxs("span",{className:"flex items-center",children:[s("caseSubmit.patientInfo.deliveryDateLabel"),a.jsx(l,{})]}),helpText:s("caseSubmit.patientInfo.deliveryDateHelp"),children:a.jsx(Ee.Input,{type:"date",id:"urgentDeliveryDate",name:"urgentDeliveryDate",value:e.urgentDeliveryDate,onChange:t,min:n?n():"",required:e.isUrgent,className:"text-sm"})})}),e.isUrgent&&a.jsx("div",{className:"ml-7",children:a.jsx(ya,{title:s("caseSubmit.patientInfo.urgentNoticeTitle"),description:s("caseSubmit.patientInfo.urgentNoticeDescription")})})]})]})},Cc=({label:e,name:t,options:n,selectedValue:s,onChange:l})=>a.jsxs("fieldset",{className:"flex flex-col gap-2",children:[a.jsx("legend",{className:"text-body-bold font-body-bold text-default-font mb-2",children:e}),n.map(o=>a.jsxs("label",{className:"flex items-center gap-2 cursor-pointer text-body font-body text-default-font group-disabled/0f804ad9:text-subtext-color",children:[a.jsx("input",{type:"radio",name:t,value:o.value,checked:s===o.value,onChange:l,className:"accent-blue-600"}),o.label]},o.value))]}),Sx=({formData:e,handleChange:t,alignerMaterials:n})=>{const{t:s,i18n:l}=ve(),o=l.language==="ar",[d,f]=h.useState(!1);return a.jsxs("div",{className:"flex w-full flex-col items-start gap-6 rounded-md border border-solid border-neutral-border bg-default-background px-6 pt-4 pb-6 shadow-sm",children:[a.jsx("div",{className:"w-full",children:a.jsx(Cc,{label:s("caseSubmit.treatmentOptions.treatmentArch"),name:"treatmentArch",options:[{label:s("caseSubmit.treatmentOptions.upperArch"),value:"upper"},{label:s("caseSubmit.treatmentOptions.lowerArch"),value:"lower"},{label:s("caseSubmit.treatmentOptions.bothArches"),value:"both"}],selectedValue:e.treatmentArch,onChange:t})}),a.jsxs("div",{className:"flex w-full flex-col items-start gap-2",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"text-body-bold font-body-bold text-default-font",children:s("caseSubmit.treatmentOptions.alignerMaterial")}),a.jsxs("button",{type:"button",onClick:()=>f(!0),className:"flex items-center gap-1 text-caption font-caption text-brand-600 hover:text-brand-700 transition-colors",children:[a.jsx(ng,{className:"w-3 h-3"}),s("common.learnMore","Learn more about systems")]})]}),a.jsx("div",{className:"flex w-full items-start gap-4",children:a.jsx("div",{className:"flex grow shrink-0 basis-0 flex-col items-start gap-4",children:a.jsx(Cc,{label:null,name:"alignerMaterial",options:n.map(m=>({label:`${m.name}`,value:m.name})),selectedValue:e.alignerMaterial,onChange:t})})})]}),a.jsx(Ns,{isOpen:d,onClose:()=>f(!1),title:s("caseSubmit.treatmentOptions.materialDetails","Aligner Systems & Pricing"),description:s("caseSubmit.treatmentOptions.materialDesc","Compare our available aligner materials and features."),icon:a.jsx(ng,{}),children:a.jsxs("div",{className:"flex flex-col gap-4 mt-2",children:[n.map(m=>a.jsxs("div",{className:"flex flex-col gap-1 p-4 rounded-md border border-neutral-border bg-neutral-50",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-body-bold font-body-bold text-default-font",children:m.name}),a.jsxs("span",{className:"text-body-bold font-body-bold text-brand-600",children:["$",Number(m.price||0).toFixed(2)]})]}),a.jsx("p",{className:"text-caption font-caption text-subtext-color",dir:o?"rtl":"ltr",children:(o?m.description_ar:m.description_en)||s("common.noDescription","No description available.")})]},m.id)),n.length===0&&a.jsx("div",{className:"text-center py-6 text-subtext-color",children:s("common.noRecords","No materials found.")})]})})]})},Nx=({formData:e,handleChange:t,isAdmin:n})=>{const{t:s}=ve(),l=()=>n?null:a.jsx("span",{className:"text-red-500 ml-1 font-bold",title:s("common.required"),children:"*"});return a.jsxs("div",{className:"flex w-full flex-col items-start gap-6 rounded-md border border-solid border-gray-200 bg-white px-6 pt-4 pb-6 shadow-sm",children:[a.jsx("span",{className:"text-xl font-bold text-gray-800",children:s("caseSubmit.diagnosis.title")}),a.jsx("div",{className:"w-full",children:a.jsxs("div",{className:"flex flex-col gap-2",children:[a.jsx("label",{htmlFor:"chiefComplaint",className:"text-sm font-bold text-gray-700",children:s("caseSubmit.diagnosis.chiefComplaint")}),a.jsx("textarea",{id:"chiefComplaint",name:"chiefComplaint",value:e.chiefComplaint,onChange:t,placeholder:s("caseSubmit.diagnosis.chiefComplaintPlaceholder"),rows:3,className:"w-full px-3 py-2 text-sm border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 resize-vertical min-h-[80px]"}),a.jsx("span",{className:"text-xs text-gray-400",children:s("caseSubmit.diagnosis.chiefComplaintHelp")})]})}),a.jsx("div",{className:"w-full",children:a.jsxs("div",{className:"flex flex-col gap-4",children:[a.jsx(Cc,{label:a.jsxs("span",{className:"flex items-center",children:[s("caseSubmit.diagnosis.upperMidline"),a.jsx(l,{})]}),name:"upperMidline",options:[{label:s("caseSubmit.diagnosis.centered"),value:"centered"},{label:s("caseSubmit.diagnosis.shiftedRight"),value:"shifted_right"},{label:s("caseSubmit.diagnosis.shiftedLeft"),value:"shifted_left"}],selectedValue:e.upperMidline,onChange:t}),(e.upperMidline==="shifted_right"||e.upperMidline==="shifted_left")&&a.jsx("div",{className:"ml-6",children:a.jsx(Ee,{className:"h-auto w-48 flex-none",label:a.jsxs("span",{className:"flex items-center",children:[s("caseSubmit.diagnosis.shiftAmount"),a.jsx(l,{})]}),helpText:s("caseSubmit.diagnosis.shiftAmountHelp"),children:a.jsx(Ee.Input,{placeholder:s("caseSubmit.diagnosis.shiftAmountPlaceholder"),type:"number",step:"0.1",id:"upperMidlineShift",name:"upperMidlineShift",value:e.upperMidlineShift,onChange:t})})})]})}),a.jsx("div",{className:"w-full",children:a.jsxs("div",{className:"flex flex-col gap-4",children:[a.jsx(Cc,{label:a.jsxs("span",{className:"flex items-center",children:[s("caseSubmit.diagnosis.lowerMidline"),a.jsx(l,{})]}),name:"lowerMidline",options:[{label:s("caseSubmit.diagnosis.centered"),value:"centered"},{label:s("caseSubmit.diagnosis.shiftedRight"),value:"shifted_right"},{label:s("caseSubmit.diagnosis.shiftedLeft"),value:"shifted_left"}],selectedValue:e.lowerMidline,onChange:t}),(e.lowerMidline==="shifted_right"||e.lowerMidline==="shifted_left")&&a.jsx("div",{className:"ml-6",children:a.jsx(Ee,{className:"h-auto w-48 flex-none",label:a.jsxs("span",{className:"flex items-center",children:[s("caseSubmit.diagnosis.shiftAmount"),a.jsx(l,{})]}),helpText:s("caseSubmit.diagnosis.shiftAmountHelp"),children:a.jsx(Ee.Input,{placeholder:s("caseSubmit.diagnosis.shiftAmountPlaceholder"),type:"number",step:"0.1",id:"lowerMidlineShift",name:"lowerMidlineShift",value:e.lowerMidlineShift,onChange:t})})})]})}),a.jsxs("div",{className:"w-full",children:[a.jsxs("span",{className:"text-sm font-bold text-gray-700 mb-4 block",children:[s("caseSubmit.diagnosis.canineRelationship"),a.jsx(l,{})]}),a.jsxs("div",{className:"flex gap-8",children:[a.jsxs("div",{className:"flex flex-col gap-2",children:[a.jsx("span",{className:"text-sm text-gray-600",children:s("caseSubmit.diagnosis.rightSide")}),a.jsxs("select",{name:"canineRightClass",value:e.canineRightClass,onChange:t,className:"px-3 py-2 text-sm border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 outline-none bg-white",children:[a.jsx("option",{value:"",children:s("caseSubmit.diagnosis.selectClass")}),a.jsx("option",{value:"class_i",children:s("caseSubmit.diagnosis.classI")}),a.jsx("option",{value:"class_ii",children:s("caseSubmit.diagnosis.classII")}),a.jsx("option",{value:"class_iii",children:s("caseSubmit.diagnosis.classIII")})]})]}),a.jsxs("div",{className:"flex flex-col gap-2",children:[a.jsx("span",{className:"text-sm text-gray-600",children:s("caseSubmit.diagnosis.leftSide")}),a.jsxs("select",{name:"canineLeftClass",value:e.canineLeftClass,onChange:t,className:"px-3 py-2 text-sm border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 outline-none bg-white",children:[a.jsx("option",{value:"",children:s("caseSubmit.diagnosis.selectClass")}),a.jsx("option",{value:"class_i",children:s("caseSubmit.diagnosis.classI")}),a.jsx("option",{value:"class_ii",children:s("caseSubmit.diagnosis.classII")}),a.jsx("option",{value:"class_iii",children:s("caseSubmit.diagnosis.classIII")})]})]})]})]}),a.jsxs("div",{className:"w-full",children:[a.jsxs("span",{className:"text-sm font-bold text-gray-700 mb-4 block",children:[s("caseSubmit.diagnosis.molarRelationship"),a.jsx(l,{})]}),a.jsxs("div",{className:"flex gap-8",children:[a.jsxs("div",{className:"flex flex-col gap-2",children:[a.jsx("span",{className:"text-sm text-gray-600",children:s("caseSubmit.diagnosis.rightSide")}),a.jsxs("select",{name:"molarRightClass",value:e.molarRightClass,onChange:t,className:"px-3 py-2 text-sm border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 outline-none bg-white",children:[a.jsx("option",{value:"",children:s("caseSubmit.diagnosis.selectClass")}),a.jsx("option",{value:"class_i",children:s("caseSubmit.diagnosis.classI")}),a.jsx("option",{value:"class_ii",children:s("caseSubmit.diagnosis.classII")}),a.jsx("option",{value:"class_iii",children:s("caseSubmit.diagnosis.classIII")})]})]}),a.jsxs("div",{className:"flex flex-col gap-2",children:[a.jsx("span",{className:"text-sm text-gray-600",children:s("caseSubmit.diagnosis.leftSide")}),a.jsxs("select",{name:"molarLeftClass",value:e.molarLeftClass,onChange:t,className:"px-3 py-2 text-sm border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 outline-none bg-white",children:[a.jsx("option",{value:"",children:s("caseSubmit.diagnosis.selectClass")}),a.jsx("option",{value:"class_i",children:s("caseSubmit.diagnosis.classI")}),a.jsx("option",{value:"class_ii",children:s("caseSubmit.diagnosis.classII")}),a.jsx("option",{value:"class_iii",children:s("caseSubmit.diagnosis.classIII")})]})]})]})]}),a.jsx("div",{className:"w-full",children:a.jsxs("div",{className:"flex flex-col gap-2",children:[a.jsx("label",{htmlFor:"userNote",className:"text-sm font-bold text-gray-700",children:s("caseSubmit.diagnosis.additionalNotes")}),a.jsx("textarea",{id:"userNote",name:"userNote",value:e.userNote,onChange:t,placeholder:s("caseSubmit.diagnosis.additionalNotesPlaceholder"),rows:4,className:"w-full px-3 py-2 text-sm border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 resize-vertical min-h-[100px]"}),a.jsx("span",{className:"text-xs text-gray-400",children:s("caseSubmit.diagnosis.additionalNotesHelp")})]})})]})},_x=({formData:e,handleChange:t,isRequired:n=!0})=>{const{t:s}=ve();return a.jsxs("div",{className:"flex w-full flex-col items-start gap-6 rounded-md border border-solid border-neutral-border bg-default-background px-6 pt-4 pb-6 shadow-sm",children:[a.jsx("span",{className:"text-heading-3 font-heading-3 text-default-font",children:s("caseSubmit.fileUpload.requiredScans")}),!n&&a.jsx(ya,{title:s("adminCaseSubmit.title"),description:s("adminCaseSubmit.alerts.fileUploadOptional")}),a.jsx("div",{className:"w-full border-b border-neutral-border pb-4",children:a.jsxs("fieldset",{className:"flex flex-col gap-3",children:[a.jsx("legend",{className:"text-body-bold font-body-bold text-default-font mb-3",children:s("caseSubmit.fileUpload.uploadMethod")}),a.jsxs("label",{className:"flex items-center gap-3 cursor-pointer text-body font-body text-default-font",children:[a.jsx("input",{type:"radio",name:"uploadMethod",value:"individual",checked:e.uploadMethod==="individual",onChange:t,className:"accent-blue-600 w-4 h-4"}),a.jsx("span",{children:s("caseSubmit.fileUpload.individualFiles")})]}),a.jsxs("label",{className:"flex items-center gap-3 cursor-pointer text-body font-body text-default-font",children:[a.jsx("input",{type:"radio",name:"uploadMethod",value:"compressed",checked:e.uploadMethod==="compressed",onChange:t,className:"accent-blue-600 w-4 h-4"}),a.jsx("span",{children:s("caseSubmit.fileUpload.compressedArchive")})]})]})}),e.uploadMethod==="individual"&&a.jsxs(a.Fragment,{children:[a.jsx(ya,{title:s("caseSubmit.fileUpload.individualTitle"),description:s("caseSubmit.fileUpload.individualDescription")}),a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"upperJawScan",className:"block text-sm font-medium text-gray-700",children:[s("caseSubmit.fileUpload.upperJawLabel")," ",n&&a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"file",id:"upperJawScan",name:"upperJawScan",accept:".stl,.obj,.ply",onChange:t,required:n&&e.uploadMethod==="individual",className:`mt-1 block w-full text-sm text-gray-500\r
              file:mr-4 file:rounded-md file:border-0\r
              file:text-sm file:font-medium\r
              file:bg-sky-50 file:text-sky-700\r
              hover:file:bg-sky-100`})]}),a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"lowerJawScan",className:"block text-sm font-medium text-gray-700",children:[s("caseSubmit.fileUpload.lowerJawLabel")," ",n&&a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"file",id:"lowerJawScan",name:"lowerJawScan",accept:".stl,.obj,.ply",onChange:t,required:n&&e.uploadMethod==="individual",className:`mt-1 block w-full text-sm text-gray-500\r
              file:mr-4 file:rounded-md file:border-0\r
              file:text-sm file:font-medium\r
              file:bg-sky-50 file:text-sky-700\r
              hover:file:bg-sky-100`})]}),a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"biteScan",className:"block text-sm font-medium text-gray-700",children:[s("caseSubmit.fileUpload.biteScanLabel")," ",n&&a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"file",id:"biteScan",name:"biteScan",accept:".stl,.obj,.ply",onChange:t,required:n&&e.uploadMethod==="individual",className:`mt-1 block w-full text-sm text-gray-500\r
              file:mr-4 file:rounded-md file:border-0\r
              file:text-sm file:font-medium\r
              file:bg-sky-50 file:text-sky-700\r
              hover:file:bg-sky-100`})]})]}),e.uploadMethod==="compressed"&&a.jsxs(a.Fragment,{children:[a.jsx(ya,{title:s("caseSubmit.fileUpload.compressedTitle"),description:s("caseSubmit.fileUpload.compressedDescription")}),a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"compressedScans",className:"block text-sm font-medium text-gray-700",children:[s("caseSubmit.fileUpload.compressedLabel")," ",n&&a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"file",id:"compressedScans",name:"compressedScans",accept:".zip,.rar,.7z",onChange:t,required:n&&e.uploadMethod==="compressed",className:`mt-1 block w-full text-sm text-gray-500\r
              file:mr-4 file:rounded-md file:border-0\r
              file:text-sm file:font-medium\r
              file:bg-sky-50 file:text-sky-700\r
              hover:file:bg-sky-100`})]})]}),a.jsxs("div",{className:"pt-4 border-t border-neutral-border",children:[a.jsx("label",{htmlFor:"additionalFiles",className:"block text-sm font-medium text-gray-700",children:s("caseSubmit.fileUpload.additionalFiles")}),a.jsx("input",{type:"file",id:"additionalFiles",name:"additionalFiles",multiple:!0,accept:".stl,.obj,.ply,.pdf,.jpg,.png",onChange:t,className:`mt-1 block w-full text-sm text-gray-500\r
          file:mr-4 file:rounded-md file:border-0\r
          file:text-sm file:font-medium\r
          file:bg-sky-50 file:text-sky-700\r
          hover:file:bg-sky-100`}),e.additionalFiles.length>0&&a.jsx("div",{className:"mt-2 text-sm text-gray-500",children:s("caseSubmit.fileUpload.filesSelected",{count:e.additionalFiles.length})})]})]})},_9=()=>{const{t:e}=ve(),[t,n]=h.useState([]),[s,l]=h.useState([]),[o,d]=h.useState([]),[f,m]=h.useState(""),[p,g]=h.useState(!1),[b,y]=h.useState({}),[w,j]=h.useState(!1),[S,_]=h.useState(null),[R,k]=h.useState(null),[N,A]=h.useState({selectedUserId:"",selectedUserName:"",firstName:"",lastName:"",isUrgent:!1,urgentDeliveryDate:"",alignerMaterial:"",uploadMethod:"individual",upperJawScan:null,lowerJawScan:null,biteScan:null,compressedScans:null,toothStatus:{},additionalFiles:[],userNote:"",upperMidline:"",upperMidlineShift:"",lowerMidline:"",lowerMidlineShift:"",canineRightClass:"",canineLeftClass:"",molarRightClass:"",molarLeftClass:"",treatmentArch:""}),P=h.useRef(null),E=ln();h.useEffect(()=>{(async()=>{j(!0);const{data:L,error:$}=await ee.from("services").select("*").eq("is_active",!0);$?console.error("Error fetching services:",$):n(L.filter(q=>q.type==="aligners_material"));const{data:W,error:O}=await ee.from("profiles").select("id, full_name, email").order("full_name");O?console.error("Error fetching users:",O):(l(W||[]),d(W||[])),j(!1)})()},[]),h.useEffect(()=>{if(f.trim()==="")d(s);else{const F=s.filter(L=>{const $=L?.full_name?.toLowerCase(),W=L?.email?.toLowerCase(),O=f.toLowerCase();return $?.includes(O)||W?.includes(O)});d(F)}},[f,s]);const T=F=>{m(F.target.value),g(!0)},I=F=>{A(L=>({...L,selectedUserId:F.id,selectedUserName:`${F.full_name} (${F.email})`})),m(`${F.full_name} (${F.email})`),g(!1)};h.useEffect(()=>{function F(L){P.current&&!P.current.contains(L.target)&&g(!1)}return document.addEventListener("mousedown",F),()=>{document.removeEventListener("mousedown",F)}},[]);const U=F=>{const{name:L,value:$,files:W,type:O,checked:q}=F.target;W?A(B=>({...B,[L]:L==="additionalFiles"?[...B.additionalFiles,...W]:W[0]})):O==="checkbox"?A(B=>({...B,[L]:q,...L==="isUrgent"&&!q?{urgentDeliveryDate:""}:{}})):(A(B=>({...B,[L]:$})),L==="upperMidline"&&$==="centered"&&A(B=>({...B,upperMidlineShift:""})),L==="lowerMidline"&&$==="centered"&&A(B=>({...B,lowerMidlineShift:""})),L==="uploadMethod"&&$==="compressed"&&A(B=>({...B,upperJawScan:null,lowerJawScan:null,biteScan:null})),L==="uploadMethod"&&$==="individual"&&A(B=>({...B,compressedScans:null})))},Z=async F=>{F.preventDefault(),j(!0),_(null),k(null);try{let L=null,$=null,W=null,O=null,q=[];const{data:{user:B},error:Y}=await ee.auth.getUser();if(Y||!B)throw new et(e("caseSubmit.errors.authRequired"));const V=(()=>{const be=[];if(N.selectedUserId||be.push(e("adminCaseSubmit.errors.doctorRequired")),N.firstName?.trim()||be.push(e("caseSubmit.errors.firstNameRequired")),N.lastName?.trim()||be.push(e("caseSubmit.errors.lastNameRequired")),N.isUrgent&&!N.urgentDeliveryDate&&be.push(e("caseSubmit.errors.deliveryDateRequired")),N.isUrgent&&N.urgentDeliveryDate){const Ae=new Date(N.urgentDeliveryDate),ke=new Date;ke.setHours(0,0,0,0),Ae<=ke&&be.push(e("caseSubmit.errors.deliveryDateFuture"))}return be})();if(V.length>0)throw new et(V.join(", "));const{data:J}=await ee.from("profiles").select("full_name, clinic").eq("id",N.selectedUserId).single(),ne=J?.full_name||N.selectedUserName||e("caseSubmit.unknownDoctor"),X=J?.clinic||null,ce=`${N.firstName.trim()} ${N.lastName.trim()}`,fe=`ADMIN-${N.selectedUserId.substring(0,8)}-${Date.now()}`,Se=async(be,Ae,ke={})=>{if(!be)return null;try{const $e=[".stl",".obj",".ply",".pdf",".png",".jpg",".jpeg",".zip",".rar",".7z"];if(be.size>104857600)throw new et(e("caseSubmit.errors.fileTooLarge"));const Ne=be.name.split(".").pop().toLowerCase();if(!$e.includes(`.${Ne}`))throw new et(e("caseSubmit.errors.invalidFileType",{types:$e.join(", ")}));const Pe=await qf(be,Ae,{caseId:ke.caseId||`ADMIN-${Date.now()}`,patientName:ke.patientName||e("caseSubmit.unknownPatient"),doctorName:ke.doctorName||e("caseSubmit.unknownDoctor"),clinicName:ke.clinicName||null,fileType:ke.fileType||Ae});if(!Pe.success)throw new et(Pe.error||e("caseSubmit.errors.uploadFailed"));return Pe.filePath}catch(ye){throw console.error(`Upload error for ${Ae}:`,ye),ye}};N.uploadMethod==="individual"?[L,$,W]=await Promise.all([Se(N.upperJawScan,"upper-jaw-scans",{caseId:fe,patientName:ce,doctorName:ne,clinicName:X,fileType:e("caseSubmit.upperJawScan")}),Se(N.lowerJawScan,"lower-jaw-scans",{caseId:fe,patientName:ce,doctorName:ne,clinicName:X,fileType:e("caseSubmit.lowerJawScan")}),Se(N.biteScan,"bite-scans",{caseId:fe,patientName:ce,doctorName:ne,clinicName:X,fileType:e("caseSubmit.biteScan")})]):N.uploadMethod==="compressed"&&(O=await Se(N.compressedScans,"compressed-scans",{caseId:fe,patientName:ce,doctorName:ne,clinicName:X,fileType:e("caseSubmit.compressedScans")})),N.additionalFiles&&N.additionalFiles.length>0&&(q=await Promise.all(N.additionalFiles.map((be,Ae)=>Se(be,"additional-files",{caseId:fe,patientName:ce,doctorName:ne,clinicName:X,fileType:e("caseSubmit.additionalFile",{number:Ae+1})}))));const _e={user_id:N.selectedUserId,first_name:N.firstName.trim(),last_name:N.lastName.trim(),is_urgent:N.isUrgent,urgent_delivery_date:N.isUrgent&&N.urgentDeliveryDate?N.urgentDeliveryDate:null,aligner_material:N.alignerMaterial?.trim()||null,upload_method:N.uploadMethod,upper_jaw_scan_url:L,lower_jaw_scan_url:$,bite_scan_url:W,compressed_scans_url:O,additional_files_urls:q||[],tooth_status:b,user_note:N.userNote?.trim()||null,upper_midline:N.upperMidline?.trim()||null,upper_midline_shift:N.upperMidlineShift?.trim()||null,lower_midline:N.lowerMidline?.trim()||null,lower_midline_shift:N.lowerMidlineShift?.trim()||null,canine_right_class:N.canineRightClass?.trim()||null,canine_left_class:N.canineLeftClass?.trim()||null,molar_right_class:N.molarRightClass?.trim()||null,molar_left_class:N.molarLeftClass?.trim()||null,treatment_arch:N.treatmentArch?.trim()||null,status:"submitted",created_by_admin:!0,admin_id:B.id},{error:ge}=await ee.from("cases").insert(_e);if(ge)throw console.error("Case direct insert error:",ge),ge;k(e("adminCaseSubmit.alerts.success")),E("/admin/cases")}catch(L){console.error("Comprehensive submit error:",L),_(L.message||e("caseSubmit.errors.unexpected"))}finally{j(!1)}},se=()=>{const F=new Date;return F.setDate(F.getDate()+1),F.toISOString().split("T")[0]};return a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"flex w-full flex-col items-start gap-2",children:[a.jsxs(Ut,{children:[a.jsx(rt,{to:"/admin/cases",children:a.jsx(Ut.Item,{children:e("navigation.cases")})}),a.jsx(Ut.Divider,{}),a.jsx(Ut.Item,{active:!0,children:e("caseSubmit.newCase")})]}),a.jsx("span",{className:"text-heading-2 font-heading-2 text-default-font",children:e("adminCaseSubmit.title")})]}),a.jsxs("form",{onSubmit:Z,className:"flex w-full flex-col items-start gap-6",children:[a.jsx("div",{className:"flex w-full flex-col items-start gap-6 rounded-md border border-solid border-neutral-border bg-default-background px-6 pt-4 pb-6 shadow-sm",children:a.jsx("div",{className:"w-full",children:a.jsxs("div",{className:"relative",ref:P,children:[a.jsx(Ee,{className:"h-auto w-full flex-none",label:e("adminCaseSubmit.selectDoctor.label"),helpText:e("adminCaseSubmit.selectDoctor.helpText"),children:a.jsxs("div",{className:"relative w-full h-full",children:[a.jsx(Ee.Input,{placeholder:e("adminCaseSubmit.selectDoctor.placeholder"),type:"text",value:f,onChange:T,onFocus:()=>g(!0),required:!0,className:"pr-8"}),f&&a.jsx("button",{type:"button",onClick:()=>{m(""),g(!1)},className:"absolute inset-y-0 right-2 flex items-center text-gray-400 hover:text-gray-600",children:a.jsx(xT,{})})]})}),p&&a.jsx("div",{className:"absolute z-10 w-full mt-1 bg-white border border-gray-300 rounded-md shadow-lg max-h-60 overflow-auto",children:o.length>0?o.map(F=>a.jsxs("div",{className:"px-4 py-2 hover:bg-gray-100 cursor-pointer text-sm",onClick:()=>I(F),children:[a.jsx("div",{className:"font-medium",children:F.full_name}),a.jsx("div",{className:"text-gray-500",children:F.email})]},F.id)):a.jsx("div",{className:"px-4 py-2 text-sm text-gray-500",children:e("adminCaseSubmit.selectDoctor.noResults")})})]})})}),a.jsx(RN,{formData:N,handleChange:U,getMinDate:se}),a.jsx(Sx,{formData:N,handleChange:U,alignerMaterials:t}),a.jsxs("div",{className:"flex w-full flex-col items-start gap-6 rounded-md border border-solid border-neutral-border bg-default-background px-6 pt-4 pb-6 shadow-sm",children:[a.jsx("span",{className:"text-heading-3 font-heading-3 text-default-font",children:e("casePage.dentalChart")}),a.jsx("div",{className:"flex w-full justify-center",children:a.jsx(Vl,{initialStatus:{},onChange:y})})]}),a.jsx(Nx,{formData:N,handleChange:U,isAdmin:!0}),a.jsx(_x,{formData:N,handleChange:U,isRequired:!1}),S&&a.jsx(et,{error:S}),R&&a.jsx(EN,{successMessage:R}),a.jsxs("div",{className:"flex w-full items-center gap-2",children:[a.jsx(de,{size:"large",type:"submit",disabled:w,children:e(w?"caseSubmit.submitting":"caseSubmit.submitCase")}),a.jsx(de,{onClick:()=>E(-1),variant:"neutral-tertiary",size:"large",children:e("common.cancel")})]})]})]})},C9=({doctors:e,onCollectPayment:t})=>{const{t:n}=ve();return a.jsx(z,{header:a.jsxs(z.HeaderRow,{children:[a.jsx(z.HeaderCell,{children:n("billingTable.header.doctor")}),a.jsx(z.HeaderCell,{children:n("billingTable.header.cases")}),a.jsx(z.HeaderCell,{children:n("billingTable.header.dueAmount")}),a.jsx(z.HeaderCell,{children:n("billingTable.header.status")}),a.jsx(z.HeaderCell,{children:n("billingTable.header.lastPayment")}),a.jsx(z.HeaderCell,{})]}),children:e.length===0?a.jsx(z.Row,{children:a.jsx(z.Cell,{colSpan:6,children:a.jsx("div",{className:"text-center py-8 text-neutral-500",children:n("billingTable.noDoctorsFound")})})}):e.map(s=>a.jsx(E9,{doctor:s,onCollectPayment:t},s.id))})},E9=({doctor:e,onCollectPayment:t})=>a.jsxs(z.Row,{children:[a.jsx(z.Cell,{children:a.jsx(R9,{doctor:e})}),a.jsx(z.Cell,{children:a.jsx(A9,{doctor:e})}),a.jsx(z.Cell,{children:a.jsx(P9,{amount:e.totalDueAmount})}),a.jsx(z.Cell,{children:a.jsx(k9,{paymentStatus:e.paymentStatus})}),a.jsx(z.Cell,{children:a.jsx(T9,{date:e.lastPaymentDate})}),a.jsx(z.Cell,{children:a.jsx(D9,{doctor:e,onCollectPayment:t})})]}),R9=({doctor:e})=>{const{t}=ve();return a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Ps,{size:"small",image:e.avatar_url,children:e.full_name?.charAt(0)||"D"}),a.jsxs("div",{className:"flex flex-col",children:[a.jsx("span",{className:"whitespace-nowrap text-body-bold font-body-bold text-default-font",children:e.full_name||t("billingTable.unknownDoctor")}),e.clinic&&a.jsx("span",{className:"text-caption font-caption text-subtext-color",children:e.clinic})]})]})},A9=({doctor:e})=>{const{t}=ve();return a.jsxs("div",{className:"flex flex-col",children:[a.jsxs("span",{className:"text-body font-body text-neutral-500",children:[e.totalCases," ",t("billingTable.totalCases")]}),a.jsxs("span",{className:"text-caption font-caption text-error-600",children:[e.unpaidCasesCount," ",t("billingTable.unpaidCases")]})]})},P9=({amount:e})=>a.jsxs("span",{className:`text-body-bold font-body-bold ${e>0?"text-error-600":"text-success-600"}`,children:["$",e.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})]}),k9=({paymentStatus:e})=>{const{t}=ve(),n=e==="due"?"due":"current";return a.jsx(qe,{variant:e==="due"?"error":"success",children:t(`billingTable.status.${n}`)})},T9=({date:e})=>{const{t}=ve();return a.jsx("span",{className:"text-body font-body text-neutral-500",children:e?new Date(e).toLocaleDateString():t("billingTable.neverPaid")})},D9=({doctor:e,onCollectPayment:t})=>{const{t:n}=ve();return a.jsx(de,{size:"small",onClick:()=>t(e),disabled:e.totalDueAmount===0,children:n("billingTable.collectPaymentButton")})},M9=({isOpen:e,onClose:t,refetchBillingData:n})=>{const{t:s}=ve(),[l,o]=h.useState(""),[d,f]=h.useState(""),[m,p]=h.useState(!1),g=()=>{o(""),f(""),t()},b=async()=>{if(!l||parseFloat(l)<=0){xe.error(s("expenseDialog.errors.validExpense"));return}try{p(!0);const y=parseFloat(l),{data:{user:w}}=await ee.auth.getUser(),{error:j}=await ee.from("payments").insert({doctor_id:null,amount:y,admin_id:w.id,notes:d.trim()||null,type:"expense"});if(j)throw j;xe.success(s("expenseDialog.success.expenseRecorded")),g(),setTimeout(()=>{n()},1e3)}catch(y){console.error("Expense recording failed:",y),xe.error(y.message||s("expense.errors.recordFailed"))}finally{p(!1)}};return a.jsxs(Ns,{isOpen:e,onClose:g,title:s("expenseDialog.title"),description:s("expenseDialog.subtitle"),icon:a.jsx(Cl,{}),iconColor:"text-error-600",iconBgColor:"bg-error-100",maxWidth:"max-w-lg",loading:m,children:[a.jsxs("div",{className:"space-y-6 w-full pt-4",children:[a.jsx(O9,{expenseAmount:l,setExpenseAmount:o}),a.jsx(L9,{expenseNotes:d,setExpenseNotes:f})]}),a.jsx(U9,{onClose:g,onSubmit:b,processingExpense:m,expenseAmount:l})]})},O9=({expenseAmount:e,setExpenseAmount:t})=>{const{t:n}=ve();return a.jsxs("div",{className:"flex flex-col gap-2",children:[a.jsx("label",{className:"text-body-bold font-body-bold text-default-font",children:n("expenseDialog.expenseAmount")}),a.jsx(Ee,{children:a.jsx(Ee.Input,{type:"number",min:"0",step:"0.01",value:e,onChange:s=>t(s.target.value),placeholder:"0.00"})})]})},L9=({expenseNotes:e,setExpenseNotes:t})=>{const{t:n}=ve();return a.jsxs("div",{className:"flex flex-col gap-2",children:[a.jsx("label",{className:"text-body-bold font-body-bold text-default-font",children:n("expenseDialog.description")}),a.jsx("textarea",{value:e,onChange:s=>t(s.target.value),placeholder:n("expenseDialog.descriptionPlaceholder"),rows:4,className:"w-full px-3 py-2 text-body font-body text-default-font bg-default-background border border-neutral-border rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 resize-vertical",required:!0})]})},U9=({onClose:e,onSubmit:t,processingExpense:n,expenseAmount:s})=>{const{t:l}=ve();return a.jsxs("div",{className:"flex items-center justify-end gap-3 mt-6 pt-4 border-t border-neutral-border w-full",children:[a.jsx(de,{variant:"neutral-secondary",onClick:e,disabled:n,children:l("common.cancel")}),a.jsx(de,{onClick:t,disabled:n||!s||parseFloat(s)<=0,icon:a.jsx(Tn,{}),variant:"destructive-primary",children:l(n?"expenseDialog.recording":"expenseDialog.recordExpense")})]})};function $9(){const{t:e}=ve(),[t,n]=h.useState(""),[s,l]=h.useState(!1),[o,d]=h.useState(!1),[f,m]=h.useState(null),{role:p}=Hl(),g=Bf(p),{doctors:b,loading:y,error:w,totalEarnings:j,totalDue:S,totalExpenses:_,refetchBillingData:R}=NN(),k=b.filter(I=>I.full_name.toLowerCase().includes(t.toLowerCase())||I.clinic?.toLowerCase().includes(t.toLowerCase())),N=I=>{m(I),l(!0)},A=()=>{m(null),l(!0)},P=()=>{d(!0)},E=()=>{l(!1),m(null)},T=()=>{d(!1)};return a.jsxs(a.Fragment,{children:[w&&a.jsx(et,{error:w}),a.jsx(wi,{submit:!1,children:e("billing.title")}),a.jsxs("div",{className:"flex w-full items-center justify-between gap-4",children:[a.jsx("p",{className:"text-body font-body text-subtext-color",children:e("billing.subtitle")}),g&&a.jsx(rt,{to:"/admin/billing/log",children:a.jsx(de,{variant:"neutral-secondary",icon:a.jsx(wS,{}),className:"w-auto",children:e("billing.transactionLog")})})]}),y?a.jsx("div",{className:"flex w-full h-full min-h-[200px] justify-center items-center",children:a.jsx(Qt,{size:"medium"})}):a.jsxs(a.Fragment,{children:[a.jsx(jN,{totalEarnings:g?j:null,totalDue:g?S:null,totalExpenses:g?_:null,onReceivePayment:A,onMakePayment:g?P:null}),a.jsxs("div",{className:"flex w-full items-center gap-2",children:[a.jsx("span",{className:"grow shrink-0 basis-0 text-heading-3 font-heading-3 text-default-font",children:e("billing.doctorsBilling")}),a.jsx("div",{className:"flex-shrink-0 max-w-[300px] min-w-[200px]",children:a.jsx(Ee,{variant:"filled",label:"",helpText:"",icon:a.jsx(Dr,{}),children:a.jsx(Ee.Input,{placeholder:e("billing.searchDoctors"),value:t,onChange:I=>n(I.target.value)})})})]}),a.jsx(C9,{doctors:k,onCollectPayment:N})]}),a.jsx(CN,{isOpen:s,onClose:E,doctors:b,initialDoctor:f,refetchBillingData:R}),g&&a.jsx(M9,{isOpen:o,onClose:T,refetchBillingData:R})]})}const yg=({variant:e="info",title:t,message:n})=>{const s={info:{bg:"bg-blue-50",border:"border-blue-200",titleColor:"text-blue-800",textColor:"text-blue-700"},warning:{bg:"bg-amber-50",border:"border-amber-200",titleColor:"text-amber-800",textColor:"text-amber-700"},error:{bg:"bg-red-50",border:"border-red-200",titleColor:"text-red-800",textColor:"text-red-700"},success:{bg:"bg-green-50",border:"border-green-200",titleColor:"text-green-800",textColor:"text-green-700"}},l=s[e]||s.info;return a.jsxs("div",{className:`p-4 ${l.bg} border ${l.border} rounded-md`,children:[t&&a.jsx("p",{className:`text-body-bold font-body-bold ${l.titleColor}`,children:t}),a.jsx("p",{className:`text-body font-body ${l.textColor} ${t?"mt-1":""}`,children:n})]})},AN=({isOpen:e,onClose:t,onSubmit:n,originalCaseData:s,alignerMaterials:l,loadingMaterials:o,loading:d,error:f,isAdminMode:m=!1})=>{const{t:p}=ve(),[g,b]=h.useState({reason:"",alignerMaterial:s?.aligner_material||"",treatmentArch:s?.treatment_arch||"",uploadMethod:"individual",upperJawScan:null,lowerJawScan:null,biteScan:null,compressedScans:null,additionalFiles:[],upperMidline:s?.upper_midline||"",upperMidlineShift:s?.upper_midline_shift||"",lowerMidline:s?.lower_midline||"",lowerMidlineShift:s?.lower_midline_shift||"",canineRightClass:s?.canine_right_class||"",canineLeftClass:s?.canine_left_class||"",molarRightClass:s?.molar_right_class||"",molarLeftClass:s?.molar_left_class||""}),[y,w]=h.useState(s?.tooth_status||{});h.useEffect(()=>{e&&s&&(b({reason:"",alignerMaterial:s?.aligner_material||"",treatmentArch:s?.treatment_arch||"",uploadMethod:"individual",upperJawScan:null,lowerJawScan:null,biteScan:null,compressedScans:null,additionalFiles:[],upperMidline:s?.upper_midline||"",upperMidlineShift:s?.upper_midline_shift||"",lowerMidline:s?.lower_midline||"",lowerMidlineShift:s?.lower_midline_shift||"",canineRightClass:s?.canine_right_class||"",canineLeftClass:s?.canine_left_class||"",molarRightClass:s?.molar_right_class||"",molarLeftClass:s?.molar_left_class||""}),w(s?.tooth_status||{}))},[e,s]);const j=_=>{const{name:R,value:k,files:N,type:A,checked:P}=_.target;N?b(E=>({...E,[R]:R==="additionalFiles"?[...E.additionalFiles,...N]:N[0]})):A==="checkbox"?b(E=>({...E,[R]:P})):(b(E=>({...E,[R]:k})),R==="upperMidline"&&k==="centered"&&b(E=>({...E,upperMidlineShift:""})),R==="lowerMidline"&&k==="centered"&&b(E=>({...E,lowerMidlineShift:""})),R==="uploadMethod"&&k==="compressed"&&b(E=>({...E,upperJawScan:null,lowerJawScan:null,biteScan:null})),R==="uploadMethod"&&k==="individual"&&b(E=>({...E,compressedScans:null})))},S=()=>{n({...g,toothStatus:y})};return a.jsxs(Ns,{isOpen:e,onClose:t,title:p("casePage.refinement.dialog.title"),description:p("casePage.refinement.dialog.description"),icon:a.jsx($n,{}),loading:d,maxWidth:"max-w-[900px]",children:[a.jsxs("div",{className:"space-y-6 max-h-[70vh] overflow-y-auto px-1",children:[a.jsx(yg,{variant:"warning",title:p("casePage.refinement.dialog.warningTitle"),message:p("casePage.refinement.dialog.warningMessage")}),f&&a.jsx(yg,{variant:"error",title:p("common.error"),message:f}),a.jsx("div",{className:"border border-neutral-border rounded-md p-4 bg-default-background",children:a.jsxs("div",{className:"flex flex-col gap-2",children:[a.jsxs("label",{htmlFor:"reason",className:"text-body-bold font-body-bold text-default-font",children:[p("casePage.refinement.dialog.reasonLabel")," ",!m&&a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("p",{className:"text-body font-body text-subtext-color -mt-1 mb-2",children:p("casePage.refinement.dialog.reasonHelp")}),a.jsx("textarea",{id:"reason",value:g.reason,onChange:j,name:"reason",placeholder:p("casePage.refinement.dialog.reasonPlaceholder"),rows:4,disabled:d,className:"w-full px-3 py-2 text-body font-body text-default-font bg-default-background border border-neutral-border rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-brand-500 focus:border-brand-500 resize-vertical min-h-[100px] placeholder:text-subtext-color disabled:opacity-50 disabled:cursor-not-allowed"})]})}),a.jsxs("div",{className:"border border-neutral-border rounded-md bg-default-background",children:[a.jsxs("div",{className:"px-4 pt-3 pb-1",children:[a.jsx("h3",{className:"text-heading-3 font-heading-3 text-default-font mb-2",children:p("casePage.treatmentOptions")}),a.jsx("p",{className:"text-body font-body text-subtext-color mb-4",children:p("casePage.refinement.dialog.treatmentOptionsUpdate")})]}),a.jsx("div",{className:"px-4 pb-4",children:a.jsx(Sx,{formData:g,handleChange:j,alignerMaterials:l})})]}),a.jsxs("div",{className:"border border-neutral-border rounded-md p-4 bg-default-background",children:[a.jsx("h3",{className:"text-heading-3 font-heading-3 text-default-font mb-2",children:p("casePage.dentalChart")}),a.jsx("p",{className:"text-body font-body text-subtext-color mb-4",children:p("casePage.refinement.dialog.dentalChartUpdate")}),a.jsx("div",{className:"flex w-full justify-center",style:{transform:"scale(90%)"},children:a.jsx(Vl,{initialStatus:y,onChange:w})})]}),a.jsxs("div",{className:"border border-neutral-border rounded-md bg-default-background",children:[a.jsxs("div",{className:"px-4 pt-3 pb-1",children:[a.jsx("h3",{className:"text-heading-3 font-heading-3 text-default-font mb-2",children:p("caseSubmit.diagnosis.title")}),a.jsx("p",{className:"text-body font-body text-subtext-color mb-4",children:p("casePage.refinement.dialog.diagnosisUpdate")})]}),a.jsx("div",{className:"px-4 pb-4",children:a.jsx(Nx,{formData:g,handleChange:j})})]}),a.jsx(_x,{formData:g,handleChange:j,isRequired:!0})]}),a.jsxs("div",{className:"flex items-center justify-end gap-2 mt-6 pt-4 border-t border-neutral-border",children:[a.jsx(de,{variant:"neutral-secondary",onClick:t,disabled:d,children:p("common.cancel")}),a.jsx(de,{variant:"brand-primary",icon:a.jsx(Tn,{}),onClick:S,disabled:d,children:p(d?"casePage.refinement.dialog.submitting":"casePage.refinement.dialog.submitButton")})]})]})},F9=({rating:e,onRatingChange:t,disabled:n=!1})=>{const[s,l]=h.useState(0);return a.jsx("div",{className:"flex gap-2",children:[1,2,3,4,5].map(o=>a.jsx("button",{type:"button",onClick:()=>!n&&t(o),onMouseEnter:()=>!n&&l(o),onMouseLeave:()=>l(0),disabled:n,className:"transition-transform hover:scale-110 disabled:cursor-not-allowed",children:a.jsx(Ju,{className:`w-8 h-8 ${o<=(s||e)?"fill-yellow-400 text-yellow-400":"text-gray-300"}`})},o))})},I9=({isOpen:e,onClose:t,onSubmit:n,satisfactionData:s,onRatingChange:l,onMessageChange:o,loading:d,error:f})=>{const{t:m}=ve();return a.jsxs(Ns,{isOpen:e,onClose:t,title:m("casePage.satisfaction.dialog.title"),description:m("casePage.satisfaction.dialog.description"),icon:a.jsx(Tn,{}),loading:d,maxWidth:"max-w-[540px]",children:[f&&a.jsx(yg,{variant:"error",title:m("common.error"),message:f}),a.jsxs("div",{className:"border border-neutral-border rounded-md p-4",children:[a.jsxs("label",{className:"block text-body-bold font-body-bold text-default-font mb-3",children:[m("casePage.satisfaction.dialog.ratingLabel")," ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("div",{className:"flex justify-center",children:a.jsx(F9,{rating:s.rating,onRatingChange:l,disabled:d})})]}),a.jsx("div",{className:"border border-neutral-border rounded-md p-4",children:a.jsxs("div",{className:"flex flex-col gap-2",children:[a.jsx("label",{htmlFor:"satisfactionMessage",className:"text-body-bold font-body-bold text-default-font",children:m("casePage.satisfaction.dialog.commentsLabel")}),a.jsx("p",{className:"text-body font-body text-subtext-color -mt-1 mb-2",children:m("casePage.satisfaction.dialog.commentsHelp")}),a.jsx("textarea",{id:"satisfactionMessage",value:s.message,onChange:p=>o(p.target.value),placeholder:m("casePage.satisfaction.dialog.commentsPlaceholder"),rows:4,disabled:d,className:"w-full px-3 py-2 text-body font-body text-default-font bg-default-background border border-neutral-border rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-brand-500 focus:border-brand-500 resize-vertical min-h-[100px] placeholder:text-subtext-color disabled:opacity-50 disabled:cursor-not-allowed"})]})}),a.jsxs("div",{className:"flex items-center justify-end gap-2 mt-2 pt-4 border-t border-neutral-border",children:[a.jsx(de,{variant:"neutral-secondary",onClick:t,disabled:d,children:m("common.cancel")}),a.jsx(de,{variant:"brand-primary",icon:a.jsx(Tn,{}),onClick:n,disabled:d,children:m(d?"casePage.satisfaction.dialog.submitting":"casePage.satisfaction.dialog.submitButton")})]})]})},B9=({caseData:e,onCaseUpdate:t})=>{const{t:n}=ve(),[s,l]=h.useState(!1),[o,d]=h.useState(!1),[f,m]=h.useState(!1),[p,g]=h.useState([]),[b,y]=h.useState(!1),[w,j]=h.useState(null),[S,_]=h.useState({rating:0,message:""}),R=["delivered"].includes(e?.status);h.useEffect(()=>{s&&k()},[s]);const k=async()=>{y(!0);try{const{data:T,error:I}=await ee.from("services").select("*").eq("is_active",!0);if(I)throw I;g(T.filter(U=>U.type==="aligners_material"))}catch(T){console.error("Error fetching services:",T),xe.error(n("casePage.refinement.errors.loadServicesFailed"))}finally{y(!1)}},N=async T=>{if(!T.reason?.trim()){j(n("casePage.refinement.errors.reasonRequired"));return}if(!T.alignerMaterial){j(n("casePage.refinement.errors.materialRequired"));return}if(T.uploadMethod==="individual"){if(!T.upperJawScan||!T.lowerJawScan||!T.biteScan){j(n("casePage.refinement.errors.allScansRequired"));return}}else if(T.uploadMethod==="compressed"&&!T.compressedScans){j(n("casePage.refinement.errors.compressedRequired"));return}try{m(!0),j(null);const{data:{user:I}}=await ee.auth.getUser();if(!I)throw new Error(n("casePage.refinement.errors.notAuthenticated"));const{data:U}=await ee.from("profiles").select("full_name, clinic").eq("id",I.id).single(),Z=U?.full_name||I.email||"Unknown Doctor",se=U?.clinic||null,F=`${e.first_name} ${e.last_name}`,L=`REF-${e.id}-${Date.now()}`,$=async(X,ce,fe={})=>{if(!X)return null;try{const Se=await qf(X,ce,{caseId:fe.caseId||L,patientName:fe.patientName||F,fileType:fe.fileType||ce,doctorName:fe.doctorName||Z});if(!Se.success)throw new Error(Se.error||"Upload failed");return Se.filePath}catch(Se){throw console.error(`Upload error for ${ce}:`,Se),Se}};let W=null,O=null,q=null,B=null,Y=[];T.uploadMethod==="individual"?[W,O,q]=await Promise.all([$(T.upperJawScan,"upper-jaw-scans",{caseId:L,patientName:F,doctorName:Z,clinicName:se,fileType:n("caseSubmit.upperJawScan")}),$(T.lowerJawScan,"lower-jaw-scans",{caseId:L,patientName:F,doctorName:Z,clinicName:se,fileType:n("caseSubmit.lowerJawScan")}),$(T.biteScan,"bite-scans",{caseId:L,patientName:F,doctorName:Z,clinicName:se,fileType:n("caseSubmit.biteScan")})]):T.uploadMethod==="compressed"&&(B=await $(T.compressedScans,"compressed-scans",{caseId:L,patientName:F,doctorName:Z,clinicName:se,fileType:n("caseSubmit.compressedScans")})),T.additionalFiles&&T.additionalFiles.length>0&&(Y=await Promise.all(T.additionalFiles.map((X,ce)=>$(X,"additional-files",{caseId:L,patientName:F,doctorName:Z,clinicName:se,fileType:n("caseSubmit.additionalFile",{number:ce+1})}))));const{data:D}=await ee.from("cases").select("refinement_number").eq("parent_case_id",e.id).order("refinement_number",{ascending:!1}).limit(1),V=D?.[0]?.refinement_number?D[0].refinement_number+1:1,J={user_id:I.id,parent_case_id:e.id,refinement_number:V,first_name:e.first_name,last_name:e.last_name,refinement_reason:T.reason.trim(),aligner_material:T.alignerMaterial,treatment_arch:T.treatmentArch||e.treatment_arch,upload_method:T.uploadMethod,upper_jaw_scan_url:W,lower_jaw_scan_url:O,bite_scan_url:q,compressed_scans_url:B,additional_files_urls:Y||[],tooth_status:T.toothStatus||{},upper_midline:T.upperMidline||null,upper_midline_shift:T.upperMidlineShift||null,lower_midline:T.lowerMidline||null,lower_midline_shift:T.lowerMidlineShift||null,canine_right_class:T.canineRightClass||null,canine_left_class:T.canineLeftClass||null,molar_right_class:T.molarRightClass||null,molar_left_class:T.molarLeftClass||null,status:"submitted"},{error:ne}=await ee.from("cases").insert(J);if(ne)throw ne;xe.success(n("casePage.refinement.success.submitted")),l(!1),t&&t()}catch(I){console.error("Submit error:",I),j(I.message||n("casePage.refinement.errors.submitFailed")),xe.error(I.message)}finally{m(!1)}},A=async()=>{if(S.rating===0){j(n("casePage.satisfaction.errors.ratingRequired"));return}try{m(!0),j(null);const{error:T}=await ee.from("cases").update({status:"completed",satisfaction_rating:S.rating,satisfaction_message:S.message,completed_at:new Date().toISOString()}).eq("id",e.id);if(T)throw T;xe.success(n("casePage.satisfaction.success.completed")),d(!1),_({rating:0,message:""}),t&&t()}catch(T){console.error("Error updating case:",T),j(T.message||n("casePage.satisfaction.errors.completeFailed"))}finally{m(!1)}},P=()=>{f||(j(null),l(!1))},E=()=>{f||(j(null),d(!1))};return R?a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"flex w-full flex-col items-start gap-4 rounded-md border border-solid border-neutral-border bg-default-background px-6 pt-4 pb-6 shadow-sm",children:[a.jsx("span",{className:"text-heading-3 font-heading-3 text-default-font",children:n("casePage.refinement.caseActions")}),a.jsx("p",{className:"text-body font-body text-subtext-color",children:n("casePage.refinement.description")}),a.jsxs("div",{className:"flex gap-3 flex-wrap",children:[a.jsx(de,{onClick:()=>d(!0),icon:a.jsx(Tn,{}),className:"w-auto",children:n("casePage.refinement.markCompleted")}),a.jsx(de,{onClick:()=>l(!0),icon:a.jsx(ui,{}),variant:"neutral-secondary",className:"w-auto",children:n("casePage.refinement.requestRefinement")})]})]}),a.jsx(AN,{isOpen:s,onClose:P,onSubmit:N,originalCaseData:e,alignerMaterials:p,loadingMaterials:b,loading:f,error:w}),a.jsx(I9,{isOpen:o,onClose:E,onSubmit:A,satisfactionData:S,onRatingChange:T=>_(I=>({...I,rating:T})),onMessageChange:T=>_(I=>({...I,message:T})),loading:f,error:w})]}):null},PN=({caseData:e})=>{const{t}=ve(),[n,s]=h.useState([]),[l,o]=h.useState(!0);h.useEffect(()=>{d()},[e?.id]);const d=async()=>{try{o(!0);const{data:g,error:b}=await ee.from("cases").select("*").eq("parent_case_id",e.id).order("created_at",{ascending:!1});if(b)throw b;s(g.map(y=>({...y,type:"refinement"})))}catch(g){console.error("Error fetching refinements:",g)}finally{o(!1)}},f=g=>{switch(g.status){case"submitted":return a.jsx(qe,{variant:"neutral",children:t("casePage.refinementHistory.status.submitted")});case"awaiting_user_approval":return a.jsx(qe,{variant:"brand",children:t("casePage.refinementHistory.status.awaitingApproval")});case"approved":return a.jsx(qe,{variant:"brand",children:t("casePage.refinementHistory.status.approved")});case"in_production":return a.jsx(qe,{variant:"brand",children:t("casePage.refinementHistory.status.inProduction")});case"ready_for_delivery":return a.jsx(qe,{variant:"brand",children:t("casePage.refinementHistory.status.readyForDelivery")});case"delivered":return a.jsx(qe,{variant:"brand",children:t("casePage.refinementHistory.status.delivered")});case"completed":return a.jsx(qe,{variant:"brand",children:t("casePage.refinementHistory.status.completed")});default:return a.jsx(qe,{variant:"neutral",children:g.status})}},m=g=>t("casePage.refinementHistory.caseTitle",{id:g.id}),p=g=>t("casePage.refinementHistory.caseDescription",{number:g.refinement_number||1,material:g.aligner_material||t("casePage.refinementHistory.standardMaterial"),reason:g.refinement_reason||t("casePage.refinementHistory.noReason")});return l?a.jsxs("div",{className:"flex w-full flex-col items-start gap-4 rounded-md border border-solid border-neutral-border bg-default-background px-6 pt-4 pb-6 shadow-sm",children:[a.jsx("span",{className:"text-heading-3 font-heading-3 text-default-font",children:t("casePage.refinementHistory.title")}),a.jsx("div",{className:"text-body font-body text-subtext-color",children:t("casePage.refinementHistory.loading")})]}):n.length===0?null:a.jsxs("div",{className:"flex w-full flex-col items-start gap-4 rounded-md border border-solid border-neutral-border bg-default-background px-6 pt-4 pb-6 shadow-sm",children:[a.jsx("span",{className:"text-heading-3 font-heading-3 text-default-font",children:t("casePage.refinementHistory.title")}),a.jsx("div",{className:"flex w-full flex-col gap-3",children:n.map(g=>a.jsxs("div",{className:"flex items-start justify-between gap-4 rounded-md border border-solid border-neutral-border p-4",children:[a.jsxs("div",{className:"flex flex-col gap-2",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"text-body-bold font-body-bold text-default-font",children:m(g)}),f(g)]}),a.jsx("p",{className:"text-body font-body text-subtext-color",children:p(g)}),a.jsx("div",{className:"flex items-center gap-4 text-sm text-subtext-color",children:a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx(Tf,{size:14}),new Date(g.created_at).toLocaleDateString()]})})]}),a.jsx("a",{href:`/app/cases/${g.id}`,className:"text-sm text-blue-600 hover:text-blue-800",children:t("casePage.refinementHistory.viewCase")})]},`${g.type}-${g.id}`))})]})},z9=Me.forwardRef(function({icon:t=a.jsx(lT,{}),label:n,children:s,className:l,...o},d){return a.jsxs("div",{className:Ue("flex w-full items-center gap-2",l),ref:d,...o,children:[a.jsxs("div",{className:"flex w-50 flex-none items-center gap-2",children:[t?a.jsx(Re,{className:"text-body font-body text-subtext-color",children:t}):null,n?a.jsx("span",{className:"line-clamp-1 grow shrink-0 basis-0 text-body font-body text-subtext-color text-wrap",children:n}):null]}),s?a.jsx("div",{className:"flex min-h-[32px] grow shrink-0 basis-0 items-center gap-2 text-wrap",children:s}):null]})}),Yt=z9,q9=Me.forwardRef(function({children:t,className:n,...s},l){return t?a.jsx(jD,{asChild:!0,...s,children:a.jsx("div",{className:Ue("flex min-w-[320px] flex-col items-start gap-2 rounded-md border border-solid border-neutral-border bg-default-background shadow-lg max-h-[90vh] overflow-auto",n),ref:l,children:t})}):null}),H9=Me.forwardRef(function({children:t,className:n,...s},l){return t?a.jsx(wD,{asChild:!0,...s,children:a.jsx("div",{className:Ue("flex h-full w-full flex-col items-center justify-center gap-2 bg-[#00000099]",n),ref:l,children:t})}):null}),Pl=Object.assign(H9,{Content:q9}),Pn=({label:e,value:t})=>{const{i18n:n}=ve(),s=n.dir()==="rtl";return a.jsxs("div",{dir:s?"rtl":"ltr",className:"text-start",children:[a.jsx("p",{className:"text-xs font-medium text-gray-500 mb-1",children:e}),a.jsx("p",{className:"text-sm text-gray-900",children:t})]})},V9=Me.forwardRef(({caseData:e,isAdmin:t,isRTL:n,t:s},l)=>{const o=m=>s(m?{upper:"caseSubmit.treatmentOptions.upperArch",lower:"caseSubmit.treatmentOptions.lowerArch",both:"caseSubmit.treatmentOptions.bothArches"}[m]||m:"casePage.notSpecified"),d=m=>s(m?{centered:"caseSubmit.diagnosis.centered",shifted_right:"caseSubmit.diagnosis.shiftedRight",shifted_left:"caseSubmit.diagnosis.shiftedLeft"}[m]||m:"casePage.notSpecified"),f=m=>s(m?{class_i:"caseSubmit.diagnosis.classI",class_ii:"caseSubmit.diagnosis.classII",class_iii:"caseSubmit.diagnosis.classIII"}[m]||m:"casePage.notSpecified");return a.jsxs("div",{ref:l,className:"p-8 print-container",style:{direction:n?"rtl":"ltr"},children:[a.jsx("style",{children:`
          @media print {
            .print-container {
              width: 100%;
              max-width: 100%;
            }
            
            /* Prevent page breaks inside small components */
            .print-no-break {
              page-break-inside: avoid;
              break-inside: avoid;
            }
            
            /* Prevent orphaned headers - keep header with next content */
            h2, h3 {
              page-break-after: avoid;
              break-after: avoid;
            }
            
            /* Keep subsections together */
            .subsection-box {
              page-break-inside: avoid;
              break-inside: avoid;
            }
            
            /* Only force page break for very large components like dental chart */
            .force-page-break {
              page-break-before: always;
              break-before: always;
            }
            
            /* Footer on last page */
            .print-footer {
              page-break-inside: avoid;
              break-inside: avoid;
            }
          }
        `}),a.jsxs("div",{className:"flex items-center justify-between border-b-2 border-brand-600 pb-4 mb-6",children:[a.jsxs("div",{children:[a.jsx("img",{className:"h-10 flex-none object-cover",src:`${window.location.origin}/logo.png`}),a.jsx("p",{className:"text-sm text-gray-600",children:s("casePage.caseInformation")})]}),a.jsxs("div",{className:"text-right",children:[a.jsxs("p",{className:"text-sm text-gray-600",children:[s("casePage.caseId"),": ",a.jsxs("strong",{children:["CASE-",e.id]})]}),a.jsx("p",{className:"text-sm text-gray-600",children:new Date().toLocaleDateString()})]})]}),a.jsxs("div",{className:"mb-6",children:[a.jsx("h2",{className:"text-xl font-semibold mb-4 text-gray-800",children:s(t?"casePage.caseInformation":"casePage.patientInformation")}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-3",children:[a.jsx(Pn,{label:s("casePage.firstName"),value:zt(e.first_name)||"N/A"}),a.jsx(Pn,{label:s("casePage.lastName"),value:zt(e.last_name)||"N/A"}),t&&a.jsxs(a.Fragment,{children:[a.jsx(Pn,{label:s("casePage.doctorName"),value:zt(e.profiles?.full_name)||"N/A"}),a.jsx(Pn,{label:s("casePage.phone"),value:a.jsx("span",{dir:"ltr",children:e.profiles?.phone||"N/A"})})]})]}),a.jsxs("div",{className:"space-y-3",children:[a.jsx(Pn,{label:s("casePage.caseId"),value:`CASE-${e.id}`}),t&&a.jsx(Pn,{label:s("casePage.clinic"),value:e.profiles?.clinic||"N/A"}),a.jsx(Pn,{label:s("casePage.alignerMaterial"),value:e.aligner_material||s("casePage.notSpecified")}),a.jsx(Pn,{label:s("casePage.submissionDate"),value:e.created_at?new Date(e.created_at).toLocaleDateString():"N/A"})]})]}),e.refinement_reason&&a.jsxs("div",{className:"mt-4 p-3 bg-gray-50 rounded print-no-break",children:[a.jsxs("p",{className:"text-sm font-semibold text-gray-700 mb-1",children:[s("casePage.refinementReason"),":"]}),a.jsx("p",{className:"text-sm text-gray-600",children:e.refinement_reason})]})]}),a.jsxs("div",{className:"mb-6",children:[a.jsx("h2",{className:"text-xl font-semibold mb-4 text-gray-800",children:s("casePage.treatmentOptionsTitle")}),e.chief_complaint&&a.jsxs("div",{className:"mb-4 subsection-box",children:[a.jsx("h3",{className:"text-base font-semibold mb-2 text-gray-700",children:s("caseSubmit.diagnosis.chiefComplaint")}),a.jsx("div",{className:"bg-brand-50 border-l-4 border-brand-500 p-3 rounded",children:a.jsx("p",{className:"text-sm text-gray-800 whitespace-pre-wrap leading-relaxed",children:e.chief_complaint})})]}),a.jsxs("div",{className:"mb-4 subsection-box",children:[a.jsx("h3",{className:"text-base font-semibold mb-2 text-gray-700",children:s("casePage.treatmentOptions")}),a.jsxs("div",{className:"grid grid-cols-2 gap-4 bg-gray-50 p-3 rounded",children:[a.jsx(Pn,{label:s("caseSubmit.treatmentOptions.treatmentArch"),value:o(e.treatment_arch)}),a.jsx(Pn,{label:s("caseSubmit.treatmentOptions.alignerMaterial"),value:e.aligner_material||s("casePage.notSpecified")})]})]}),(e.upper_midline||e.lower_midline)&&a.jsxs("div",{className:"mb-4 subsection-box",children:[a.jsx("h3",{className:"text-base font-semibold mb-2 text-gray-700",children:s("casePage.midlineAnalysis")}),a.jsxs("div",{className:"grid grid-cols-2 gap-4 bg-gray-50 p-3 rounded",children:[e.upper_midline&&a.jsx(Pn,{label:s("caseSubmit.diagnosis.upperMidline"),value:`${d(e.upper_midline)}${e.upper_midline_shift?` (${e.upper_midline_shift} ${s("casePage.mm")})`:""}`}),e.lower_midline&&a.jsx(Pn,{label:s("caseSubmit.diagnosis.lowerMidline"),value:`${d(e.lower_midline)}${e.lower_midline_shift?` (${e.lower_midline_shift} ${s("casePage.mm")})`:""}`})]})]}),(e.canine_right_class||e.canine_left_class||e.molar_right_class||e.molar_left_class)&&a.jsxs("div",{className:"mb-4 subsection-box",children:[a.jsx("h3",{className:"text-base font-semibold mb-2 text-gray-700",children:s("casePage.occlusalRelationship")}),a.jsxs("div",{className:"bg-gray-50 p-3 rounded",children:[(e.canine_right_class||e.canine_left_class)&&a.jsxs("div",{className:"mb-3",children:[a.jsx("p",{className:"text-xs font-medium text-gray-600 mb-2",children:s("caseSubmit.diagnosis.canineRelationship")}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.canine_right_class&&a.jsx(Pn,{label:s("caseSubmit.diagnosis.rightSide"),value:f(e.canine_right_class)}),e.canine_left_class&&a.jsx(Pn,{label:s("caseSubmit.diagnosis.leftSide"),value:f(e.canine_left_class)})]})]}),(e.molar_right_class||e.molar_left_class)&&a.jsxs("div",{children:[a.jsx("p",{className:"text-xs font-medium text-gray-600 mb-2",children:s("caseSubmit.diagnosis.molarRelationship")}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.molar_right_class&&a.jsx(Pn,{label:s("caseSubmit.diagnosis.rightSide"),value:f(e.molar_right_class)}),e.molar_left_class&&a.jsx(Pn,{label:s("caseSubmit.diagnosis.leftSide"),value:f(e.molar_left_class)})]})]})]})]})]}),e.user_note&&a.jsxs("div",{className:"mb-6 print-no-break",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[a.jsx(fx,{className:"h-5 w-5 text-gray-600"}),a.jsx("h2",{className:"text-xl font-semibold text-gray-800",children:s(t?"casePage.caseNotes.doctorNotes":"casePage.caseNotes.caseNotes")})]}),a.jsx("div",{className:"bg-brand-50 border-l-4 border-brand-500 p-4 rounded",children:a.jsx("p",{className:"text-sm text-gray-800 whitespace-pre-wrap leading-relaxed",children:e.user_note})})]}),t&&a.jsxs("div",{className:"mb-6",children:[a.jsx("h2",{className:"text-xl font-semibold mb-4 text-gray-800",children:s("dentalChart.title")}),a.jsx("div",{className:"border border-gray-300 rounded-lg p-4 bg-white overflow-hidden print-no-break",children:a.jsx("div",{children:a.jsx(Vl,{initialStatus:e.tooth_status||{},readOnly:!0})})})]}),a.jsx("div",{className:"mt-8 pt-4 border-t border-gray-300 text-center text-xs text-gray-500 print-footer",children:a.jsx("p",{children:s("adminTreatmentPlan.print.footer",{date:new Date().toLocaleString()})})})]})}),kN=({caseData:e,isAdmin:t=!1})=>{const{t:n,i18n:s}=ve(),l=nr(),[o,d]=h.useState(!1),f=h.useRef(),m=s.language==="ar",p=zf.useReactToPrint({contentRef:f,documentTitle:`Case-${e.id}-Information`});return a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"flex w-full flex-col items-start gap-4 rounded-md border border-neutral-border bg-default-background px-6 pt-4 pb-6 shadow-sm",children:[a.jsxs("div",{className:"flex w-full items-center justify-between",children:[a.jsx("span",{className:"text-heading-3 font-heading-3 text-default-font",children:n(t?"casePage.caseInformation":"casePage.patientInformation")}),!l&&a.jsx(de,{size:"small",variant:"neutral-secondary",icon:a.jsx(Cr,{}),onClick:()=>d(!0),children:n("casePage.printCaseInfo")})]}),a.jsxs("div",{className:"flex w-full flex-wrap items-start gap-6",children:[a.jsxs("div",{className:"flex grow flex-col gap-2",children:[a.jsx(Yt,{icon:a.jsx(li,{}),label:n("casePage.firstName"),children:zt(e.first_name)||"N/A"}),a.jsx(Yt,{icon:a.jsx(li,{}),label:n("casePage.lastName"),children:zt(e.last_name)||"N/A"}),t&&a.jsx(Yt,{icon:a.jsx(li,{}),label:n("casePage.doctorName"),children:zt(e.profiles?.full_name)||"N/A"}),t&&a.jsx(Yt,{icon:a.jsx(jT,{}),label:n("casePage.phone"),children:a.jsx("span",{dir:"ltr",children:e.profiles?.phone||"N/A"})}),a.jsx(Yt,{icon:a.jsx(yS,{}),label:n("casePage.submissionDate"),children:e.created_at?new Date(e.created_at).toLocaleDateString():"N/A"})]}),a.jsxs("div",{className:"flex grow flex-col gap-2",children:[a.jsxs(Yt,{icon:a.jsx(PT,{}),label:n("casePage.caseId"),children:["CASE-",e.id]}),t&&a.jsx(Yt,{icon:a.jsx(vT,{}),label:n("casePage.clinic"),children:e.profiles?.clinic||"N/A"}),a.jsx(Yt,{icon:a.jsx(cT,{}),label:n("casePage.alignerMaterial"),children:a.jsx(qe,{children:e.aligner_material||n("casePage.notSpecified")})}),e.refinement_reason&&a.jsx(Yt,{icon:a.jsx($n,{}),label:n("casePage.refinementReason"),children:e.refinement_reason})]})]})]}),a.jsx(Pl,{open:o,onOpenChange:d,children:a.jsxs(Pl.Content,{className:"w-auto max-h-[90vh] overflow-y-auto",children:[a.jsxs("div",{className:"flex items-center justify-between px-1 py-3 w-full",children:[a.jsx("span",{className:"text-heading-2 font-heading-2 text-default-font",children:n("casePage.printCaseInfo")}),a.jsx(de,{variant:"brand-primary",icon:a.jsx(Cr,{}),onClick:()=>{p(),d(!1)},className:"w-auto",children:n("common.print")})]}),a.jsx("div",{className:"border border-neutral-border rounded-lg bg-white",children:a.jsx(V9,{ref:f,caseData:e,isAdmin:t,isRTL:m,t:n})})]})})]})},TN=({noteText:e,setNoteText:t,isEditingNote:n,noteSaving:s,noteError:l,handleEditNote:o,handleCancelEditNote:d,handleSaveNote:f,caseData:m,isAdmin:p=!1})=>{const{t:g}=ve();return a.jsxs("div",{className:"flex w-full flex-col items-start gap-4 rounded-md border border-solid border-neutral-border bg-default-background px-6 pt-4 pb-6 shadow-sm",children:[a.jsxs("div",{className:"flex w-full items-center gap-2",children:[a.jsx(fx,{className:"h-5 w-5 text-neutral-600"}),a.jsx("span",{className:"text-heading-3 font-heading-3 text-default-font",children:g(p?"casePage.caseNotes.doctorNotes":"casePage.caseNotes.caseNotes")})]}),l&&a.jsx("div",{className:"w-full",children:a.jsx(et,{error:l})}),a.jsx("div",{className:"w-full",children:n?a.jsxs("div",{className:"flex flex-col gap-4",children:[a.jsxs("div",{className:"flex flex-col gap-2",children:[a.jsx("label",{htmlFor:"noteTextarea",className:"text-body-bold font-body-bold text-default-font",children:g("casePage.caseNotes.additionalNotes")}),a.jsx("textarea",{id:"noteTextarea",value:e,onChange:b=>t(b.target.value),placeholder:g(p?"casePage.caseNotes.adminPlaceholder":"casePage.caseNotes.userPlaceholder"),rows:6,className:"w-full px-3 py-2 text-body font-body text-default-font bg-default-background border border-neutral-border rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 resize-vertical min-h-[120px] placeholder:text-subtext-color",disabled:s}),a.jsx("span",{className:"text-caption font-caption text-subtext-color",children:g(p?"casePage.caseNotes.adminHelp":"casePage.caseNotes.userHelp")})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(de,{icon:a.jsx(Mf,{}),onClick:f,disabled:s,size:"small",children:g(s?"casePage.caseNotes.saving":"casePage.caseNotes.saveNote")}),a.jsx(de,{variant:"neutral-secondary",onClick:d,disabled:s,size:"small",children:g("common.cancel")})]})]}):a.jsx("div",{className:"w-full",children:m.user_note?a.jsx("div",{className:"w-full bg-white border border-neutral-200 rounded-md p-4 shadow-sm hover:border-neutral-300 transition-colors",children:a.jsx("div",{className:"text-body font-body text-neutral-800 whitespace-pre-wrap break-words leading-relaxed",children:m.user_note})}):a.jsx("div",{className:"w-full bg-neutral-50 text-sm text-neutral-500 rounded-md p-3",children:g("casePage.caseNotes.noNotes")})})})]})},v1=({num:e,paths:t,status:n,isUpperJaw:s,iprBefore:l,iprAfter:o})=>{const f={movable:{color:"#00adef"},unmovable:{color:"#F44336"},missing:{color:"#9E9E9E"},note:{color:"#fa9600"}}[n]?.color||"#00adef";return a.jsxs(a.Fragment,{children:[l&&a.jsx("div",{className:"flex items-center justify-center",style:{width:"4px",minHeight:"64px"},children:a.jsx("div",{className:"text-xs font-semibold text-orange-600 bg-orange-50 px-1 rounded whitespace-nowrap",style:{position:"relative",top:s?"8px":"-16px"},children:l})}),a.jsxs("div",{className:"flex flex-col items-center relative",style:{width:"48px",minHeight:"64px"},children:[a.jsx("div",{className:"flex justify-center mb-1",style:{width:"48px",height:"72px",alignItems:s?"flex-end":"flex-start",marginBottom:s?"10px":0},children:a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 21.1 56.7",className:"w-full h-full",fill:f,style:{maxWidth:"48px",maxHeight:"72px",display:"block"},children:t.map((m,p)=>a.jsx("path",{d:m},p))})}),a.jsx("p",{className:"text-xs text-center",style:{lineHeight:"1",width:"100%",margin:0},children:e})]}),o&&a.jsx("div",{className:"flex items-center justify-center",style:{width:"4px",minHeight:"64px"},children:a.jsx("div",{className:"text-xs font-semibold text-orange-600 bg-orange-50 px-1 rounded whitespace-nowrap",style:{position:"relative",top:s?"8px":"-16px"},children:o})})]})},DN=({toothStatus:e={},iprData:t={},onClose:n,isOpen:s})=>{const l=()=>{n()},{t:o,i18n:d}=ve(),f=d.language==="ar",m=(g,b)=>{const y=t[g];if(!y)return null;const w=y[b]||0;return w>0?w%1===0?w.toString():w.toFixed(2).replace(/\.?0+$/,""):null},p=(g,b)=>{const y=t[g],w=t[b];if(!y&&!w)return null;let j=0;return g>=1&&g<=16?g===1&&b===2||g>=2&&g<=7&&b===g+1?j=(y?.mesial||0)+(w?.distal||0):g===8&&b===9?j=(y?.mesial||0)+(w?.mesial||0):g>=9&&g<=15&&b===g+1&&(j=(y?.distal||0)+(w?.mesial||0)):g>=17&&g<=32&&(g===32&&b===31||g>=26&&g<=31&&b===g-1?j=(y?.mesial||0)+(w?.distal||0):g===25&&b===24?j=(y?.mesial||0)+(w?.mesial||0):(g>=18&&g<=24&&b===g-1||g===18&&b===17)&&(j=(y?.distal||0)+(w?.mesial||0))),j>0?j%1===0?j.toString():j.toFixed(2).replace(/\.?0+$/,""):null};return s?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50",onClick:l}),a.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 pointer-events-none",children:a.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-auto max-h-[90vh] overflow-y-auto pointer-events-auto",children:[a.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-neutral-200",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-8 h-8 bg-red-100 rounded-full flex items-center justify-center",children:a.jsx(ag,{className:"w-4 h-4 text-red-600"})}),a.jsxs("div",{className:"flex flex-col",children:[a.jsx("h2",{className:"text-heading-3 font-heading-3 text-default-font",children:o("adminTreatmentPlan.iprChart")}),a.jsx("p",{className:"text-sm text-gray-600 mt-1",children:o("iprChart.description")})]})]}),a.jsx("button",{onClick:l,className:"w-8 h-8 flex items-center justify-center rounded-md hover:bg-neutral-100",children:a.jsx(sn,{className:"w-4 h-4 text-neutral-600"})})]}),a.jsxs("div",{className:"p-6 flex flex-col items-center gap-8",style:{direction:"ltr"},children:[a.jsx("div",{className:"flex relative items-center",children:[...Array(16)].map((g,b)=>{const y=b+1,w=Al[`tooth${y}`]||[],j=e[y]||"movable";let S=null,_=null;return y===1?S=m(1,"distal"):S=p(y-1,y),y===16&&(_=m(16,"distal")),a.jsx(v1,{num:y,paths:w,status:j,isUpperJaw:!0,iprBefore:S,iprAfter:_},y)})}),a.jsx("div",{className:"flex relative items-center",children:[...Array(16)].map((g,b)=>{const y=32-b,w=Al[`tooth${y}`]||[],j=e[y]||"movable";let S=null,_=null;return y===32?S=m(32,"distal"):S=p(y+1,y),y===17&&(_=m(17,"distal")),a.jsx(v1,{num:y,paths:w,status:j,isUpperJaw:!1,iprBefore:S,iprAfter:_},y)})}),a.jsxs("div",{className:`flex items-center gap-2 text-sm text-gray-600 bg-orange-50 px-4 py-2 rounded ${f?"flex-row-reverse":""}`,children:[a.jsx("div",{className:"w-3 h-3 bg-orange-600 rounded"}),a.jsx("span",{children:o("iprChart.legend")})]})]})]})})]}):null},G9=({toothStatus:e,iprData:t})=>{const{t:n,i18n:s}=ve(),l=s.language==="ar",o=({num:m,paths:p,status:g,isUpperJaw:b,iprBefore:y,iprAfter:w})=>{const S={movable:{color:"#00adef"},unmovable:{color:"#F44336"},missing:{color:"#9E9E9E"},note:{color:"#fa9600"}}[g]?.color||"#00adef";return a.jsxs(a.Fragment,{children:[y&&a.jsx("div",{className:"flex items-center justify-center",style:{width:"4px",minHeight:"64px"},children:a.jsx("div",{className:"text-xs font-semibold text-orange-600 bg-orange-50 px-1 rounded whitespace-nowrap",style:{position:"relative",top:b?"8px":"-16px"},children:y})}),a.jsxs("div",{className:"flex flex-col items-center relative",style:{width:"48px",minHeight:"64px"},children:[a.jsx("div",{className:"flex justify-center mb-1",style:{width:"48px",height:"72px",alignItems:b?"flex-end":"flex-start",marginBottom:b?"10px":0},children:a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 21.1 56.7",className:"w-full h-full",fill:S,style:{maxWidth:"48px",maxHeight:"72px",display:"block"},children:p.map((_,R)=>a.jsx("path",{d:_},R))})}),a.jsx("p",{className:"text-xs text-center",style:{lineHeight:"1",width:"100%",margin:0},children:m})]}),w&&a.jsx("div",{className:"flex items-center justify-center",style:{width:"4px",minHeight:"64px"},children:a.jsx("div",{className:"text-xs font-semibold text-orange-600 bg-orange-50 px-1 rounded whitespace-nowrap",style:{position:"relative",top:b?"8px":"-16px"},children:w})})]})},d=(m,p)=>{const g=t[m];if(!g)return null;const b=g[p]||0;return b>0?b%1===0?b.toString():b.toFixed(2).replace(/\.?0+$/,""):null},f=(m,p)=>{const g=t[m],b=t[p];if(!g&&!b)return null;let y=0;return m>=1&&m<=16?m===1&&p===2||m>=2&&m<=7&&p===m+1?y=(g?.mesial||0)+(b?.distal||0):m===8&&p===9?y=(g?.mesial||0)+(b?.mesial||0):m>=9&&m<=15&&p===m+1&&(y=(g?.distal||0)+(b?.mesial||0)):m>=17&&m<=32&&(m===32&&p===31||m>=26&&m<=31&&p===m-1?y=(g?.mesial||0)+(b?.distal||0):m===25&&p===24?y=(g?.mesial||0)+(b?.mesial||0):(m>=18&&m<=24&&p===m-1||m===18&&p===17)&&(y=(g?.distal||0)+(b?.mesial||0))),y>0?y%1===0?y.toString():y.toFixed(2).replace(/\.?0+$/,""):null};return a.jsxs("div",{className:"flex flex-col items-center gap-8",style:{transform:"scale(0.85)",transformOrigin:"top center",direction:"ltr"},children:[a.jsx("div",{className:"flex relative items-center",children:[...Array(16)].map((m,p)=>{const g=p+1,b=Al[`tooth${g}`]||[],y=e[g]||"movable";let w=null,j=null;return g===1?w=d(1,"distal"):w=f(g-1,g),g===16&&(j=d(16,"distal")),a.jsx(o,{num:g,paths:b,status:y,isUpperJaw:!0,iprBefore:w,iprAfter:j},g)})}),a.jsx("div",{className:"flex relative items-center",children:[...Array(16)].map((m,p)=>{const g=32-p,b=Al[`tooth${g}`]||[],y=e[g]||"movable";let w=null,j=null;return g===32?w=d(32,"distal"):w=f(g+1,g),g===17&&(j=d(17,"distal")),a.jsx(o,{num:g,paths:b,status:y,isUpperJaw:!1,iprBefore:w,iprAfter:j},g)})}),a.jsxs("div",{className:`flex items-center gap-2 text-sm text-gray-600 bg-orange-50 px-4 py-2 rounded ${l?"flex-row-reverse":""}`,children:[a.jsx("div",{className:"w-3 h-3 bg-orange-600 rounded"}),a.jsx("span",{children:n("iprChart.legend")})]})]})},Y9=({caseData:e,showPlanSection:t,caseHasViewer:n})=>{const{t:s}=ve(),[l,o]=h.useState(!1);if(!t)return null;const d=()=>{const f=`/case-viewer/${e.id}`;window.open(f,"_blank")};return a.jsxs("div",{className:"flex w-full flex-col items-start gap-6",children:[a.jsxs("div",{className:"w-full md:flex md:gap-6",children:[a.jsxs("div",{className:"w-full md:flex-1 flex flex-col gap-4",children:[a.jsx(Yt,{icon:a.jsx(Sl,{}),label:s("casePage.treatmentPlan.upperJawAligners"),children:a.jsxs(qe,{children:[e.upper_jaw_aligners??""," ",s("casePage.treatmentPlan.aligners")]})}),a.jsx(Yt,{icon:a.jsx(Sl,{}),label:s("casePage.treatmentPlan.lowerJawAligners"),children:a.jsxs(qe,{children:[e.lower_jaw_aligners??""," ",s("casePage.treatmentPlan.aligners")]})}),a.jsx(Yt,{icon:a.jsx(Tf,{}),label:s("casePage.treatmentPlan.estimatedDuration"),children:a.jsxs("span",{className:"whitespace-nowrap text-body font-body text-default-font",children:[e.estimated_duration_months??""," ",s("casePage.treatmentPlan.months")]})})]}),a.jsxs("div",{className:"w-full md:flex-1 flex flex-col gap-4",children:[a.jsx(Yt,{icon:a.jsx(Cl,{}),label:s("casePage.treatmentPlan.caseStudyFee"),children:a.jsxs("span",{className:"whitespace-nowrap text-body-bold font-body-bold text-default-font",children:["$",e.case_study_fee?parseFloat(e.case_study_fee).toFixed(2):"0"]})}),a.jsx(Yt,{icon:a.jsx(Sl,{}),label:s("casePage.treatmentPlan.alignersPrice"),children:a.jsxs("span",{className:"whitespace-nowrap text-body-bold font-body-bold text-default-font",children:["$",e.aligners_price?parseFloat(e.aligners_price).toFixed(2):"0"]})}),a.jsx(Yt,{icon:a.jsx(NT,{}),label:s("casePage.treatmentPlan.deliveryCharges"),children:a.jsxs("span",{className:"whitespace-nowrap text-body-bold font-body-bold text-default-font",children:["$",e.delivery_charges?parseFloat(e.delivery_charges).toFixed(2):"0"]})}),a.jsx(Yt,{icon:a.jsx(dT,{}),label:s("casePage.treatmentPlan.totalCost"),children:a.jsxs("span",{className:"whitespace-nowrap text-heading-3 font-heading-3 text-brand-600",children:["$",e.total_cost?parseFloat(e.total_cost).toFixed(2):"0"]})})]})]}),n&&a.jsx("div",{className:"flex w-full md:justify-end",children:a.jsx(de,{onClick:d,icon:a.jsx(El,{}),className:"w-full md:w-auto",children:s("casePage.openViewer")})}),e.ipr_data&&Object.keys(e.ipr_data).length>0&&a.jsxs("div",{className:"mt-8",children:[a.jsx(de,{onClick:()=>o(!0),icon:a.jsx(El,{}),className:"w-full md:w-auto",children:s("casePage.treatmentPlan.viewIPRChart")}),a.jsx(DN,{toothStatus:e.tooth_status||{},iprData:e.ipr_data,onClose:()=>o(!1),isOpen:l})]}),e.admin_note&&a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"flex w-full items-center justify-between",children:a.jsx("span",{className:"text-heading-3 font-heading-3 text-default-font",children:s("casePage.treatmentPlan.adminNotes")})}),a.jsx("div",{className:"w-full",children:a.jsx("div",{className:"w-full bg-white border border-neutral-200 rounded-md p-4 shadow-sm",children:a.jsx("div",{className:"text-body font-body text-neutral-800 whitespace-pre-wrap break-all md:break-words leading-relaxed",children:e.admin_note})})})]})]})},MN=({caseData:e,downloadingFiles:t,handleFileDownload:n})=>{const{t:s}=ve();return a.jsxs("div",{className:"flex w-full flex-col items-start gap-4 rounded-md border border-solid border-neutral-border bg-default-background px-6 pt-4 pb-6 shadow-sm",children:[a.jsx("span",{className:"text-heading-3 font-heading-3 text-default-font",children:s("casePage.fileDownload.uploadedFiles")}),a.jsxs(z,{header:a.jsxs(z.HeaderRow,{children:[a.jsx(z.HeaderCell,{children:s("casePage.fileDownload.fileName")}),a.jsx(z.HeaderCell,{children:s("casePage.fileDownload.type")}),a.jsx(z.HeaderCell,{children:s("casePage.fileDownload.status")}),a.jsx(z.HeaderCell,{children:s("casePage.fileDownload.actions")})]}),children:[e.upper_jaw_scan_url&&a.jsxs(z.Row,{children:[a.jsx(z.Cell,{children:a.jsx("span",{className:"whitespace-nowrap text-body-bold font-body-bold text-neutral-700",children:s("casePage.fileDownload.upperJawScan")})}),a.jsx(z.Cell,{children:a.jsx(qe,{variant:"neutral",children:s("casePage.fileDownload.upperJaw")})}),a.jsx(z.Cell,{children:a.jsx("span",{className:"whitespace-nowrap text-body font-body text-neutral-500",children:e.upper_jaw_scan_url?s("casePage.fileDownload.available"):s("casePage.fileDownload.notUploaded")})}),a.jsx(z.Cell,{children:e.upper_jaw_scan_url&&a.jsx(Jt,{icon:a.jsx(_r,{}),onClick:()=>n(e.upper_jaw_scan_url,s("casePage.fileDownload.upperJawScan")),disabled:t.has(e.upper_jaw_scan_url)})})]}),e.lower_jaw_scan_url&&a.jsxs(z.Row,{children:[a.jsx(z.Cell,{children:a.jsx("span",{className:"whitespace-nowrap text-body-bold font-body-bold text-neutral-700",children:s("casePage.fileDownload.lowerJawScan")})}),a.jsx(z.Cell,{children:a.jsx(qe,{variant:"neutral",children:s("casePage.fileDownload.lowerJaw")})}),a.jsx(z.Cell,{children:a.jsx("span",{className:"whitespace-nowrap text-body font-body text-neutral-500",children:e.lower_jaw_scan_url?s("casePage.fileDownload.available"):s("casePage.fileDownload.notUploaded")})}),a.jsx(z.Cell,{children:e.lower_jaw_scan_url&&a.jsx(Jt,{icon:a.jsx(_r,{}),onClick:()=>n(e.lower_jaw_scan_url,s("casePage.fileDownload.lowerJawScan")),disabled:t.has(e.lower_jaw_scan_url)})})]}),e.bite_scan_url&&a.jsxs(z.Row,{children:[a.jsx(z.Cell,{children:a.jsx("span",{className:"whitespace-nowrap text-body-bold font-body-bold text-neutral-700",children:s("casePage.fileDownload.biteScan")})}),a.jsx(z.Cell,{children:a.jsx(qe,{variant:"neutral",children:s("casePage.fileDownload.bite")})}),a.jsx(z.Cell,{children:a.jsx("span",{className:"whitespace-nowrap text-body font-body text-neutral-500",children:e.bite_scan_url?s("casePage.fileDownload.available"):s("casePage.fileDownload.notUploaded")})}),a.jsx(z.Cell,{children:e.bite_scan_url&&a.jsx(Jt,{icon:a.jsx(_r,{}),onClick:()=>n(e.bite_scan_url,s("casePage.fileDownload.biteScan")),disabled:t.has(e.bite_scan_url)})})]}),e.compressed_scans_url&&a.jsxs(z.Row,{children:[a.jsx(z.Cell,{children:a.jsx("span",{className:"whitespace-nowrap text-body-bold font-body-bold text-neutral-700",children:s("casePage.fileDownload.allInOne")})}),a.jsx(z.Cell,{children:a.jsx(qe,{variant:"neutral",children:s("casePage.fileDownload.compressedFile")})}),a.jsx(z.Cell,{children:a.jsx("span",{className:"whitespace-nowrap text-body font-body text-neutral-500",children:e.compressed_scans_url?s("casePage.fileDownload.available"):s("casePage.fileDownload.notUploaded")})}),a.jsx(z.Cell,{children:e.compressed_scans_url&&a.jsx(Jt,{icon:a.jsx(_r,{}),onClick:()=>n(e.compressed_scans_url,s("casePage.fileDownload.allInOne")),disabled:t.has(e.compressed_scans_url)})})]}),e.additional_files_urls&&e.additional_files_urls.length>0&&e.additional_files_urls.map((l,o)=>a.jsxs(z.Row,{children:[a.jsx(z.Cell,{children:a.jsx("span",{className:"whitespace-nowrap text-body-bold font-body-bold text-neutral-700",children:s("casePage.fileDownload.additionalFile",{number:o+1})})}),a.jsx(z.Cell,{children:a.jsx(qe,{variant:"neutral",children:s("casePage.fileDownload.additional")})}),a.jsx(z.Cell,{children:a.jsx("span",{className:"whitespace-nowrap text-body font-body text-neutral-500",children:s("casePage.fileDownload.available")})}),a.jsx(z.Cell,{children:a.jsx(Jt,{icon:a.jsx(_r,{}),onClick:()=>n(l,s("casePage.fileDownload.additionalFile",{number:o+1})),disabled:t.has(l)})})]},o)),!e.upper_jaw_scan_url&&!e.lower_jaw_scan_url&&!e.bite_scan_url&&!e.compressed_scans_url&&(!e.additional_files_urls||e.additional_files_urls.length===0)&&a.jsx(z.Row,{children:a.jsx(z.Cell,{colSpan:4,children:a.jsx("span",{className:"text-neutral-500 py-4",children:s("casePage.fileDownload.noFiles")})})})]})]})},K9=e=>{const{t}=ve(),[n,s]=h.useState(e),l=h.useMemo(()=>{switch(n){case"submitted":return{title:t("caseStatus.submitted.title"),description:t("caseStatus.submitted.description")};case"awaiting_user_approval":return{title:t("caseStatus.awaitingUserApproval.title"),description:t("caseStatus.awaitingUserApproval.description")};case"approved":return{title:t("caseStatus.approved.title"),description:t("caseStatus.approved.description")};case"in_production":return{title:t("caseStatus.inProduction.title"),description:t("caseStatus.inProduction.description")};case"ready_for_delivery":return{title:t("caseStatus.readyForDelivery.title"),description:t("caseStatus.readyForDelivery.description")};case"delivered":return{title:t("caseStatus.delivered.title"),description:t("caseStatus.delivered.description")};case"completed":return{title:t("caseStatus.completed.title"),description:t("caseStatus.completed.description")};case"rejected":return{title:t("caseStatus.rejected.title"),description:t("caseStatus.rejected.description"),variant:"destructive"};case"user_rejected":return{title:t("caseStatus.user_rejected.title"),description:t("caseStatus.user_rejected.description"),variant:"destructive"};default:return{title:t("caseStatus.default.title"),description:t("caseStatus.default.description")}}},[n,t]),o=h.useMemo(()=>["user_rejected","awaiting_user_approval","approved","in_production","ready_for_delivery","delivered","completed"].includes(n),[n]),d=h.useMemo(()=>!["ready_for_delivery","delivered","completed"].includes(n),[n]);return{status:n,setStatus:s,alertContent:l,showPlanSection:o,isPlanEditAllowed:d}},ON=()=>{const[e,t]=h.useState(new Set);return{downloadingFiles:e,downloadSingleFile:async(l,o="download")=>{if(!l){xe.error("No file URL available");return}t(d=>new Set([...d,l]));try{(await x1(l)).success||xe.error(`Failed to download ${o}`)}catch(d){console.error("Download error:",d),xe.error(`Download failed: ${d.message}`)}finally{t(d=>{const f=new Set(d);return f.delete(l),f})}},downloadAllFiles:async l=>{const o=[];if(l.upper_jaw_scan_url&&o.push({url:l.upper_jaw_scan_url,name:"Upper Jaw Scan"}),l.lower_jaw_scan_url&&o.push({url:l.lower_jaw_scan_url,name:"Lower Jaw Scan"}),l.bite_scan_url&&o.push({url:l.bite_scan_url,name:"Bite Scan"}),l.compressed_scans_url&&o.push({url:l.compressed_scans_url,name:"All-in-One"}),l.additional_files_urls?.length>0&&l.additional_files_urls.forEach((p,g)=>{o.push({url:p,name:`Additional File ${g+1}`})}),o.length===0){xe.error("No files available for download");return}const d=xe.loading(`Starting download of ${o.length} file(s)...`);let f=0,m=0;for(let p=0;p<o.length;p++){const g=o[p];try{xe.loading(`Downloading file ${p+1} of ${o.length}: ${g.name}`,{id:d}),t(y=>new Set([...y,g.url]));const b=await x1(g.url);b.success?f++:(m++,console.error(`Failed: ${g.name} - ${b.error}`))}catch(b){m++,console.error(`Failed: ${g.name} - ${b.message}`)}finally{t(b=>{const y=new Set(b);return y.delete(g.url),y})}p<o.length-1&&await new Promise(b=>setTimeout(b,1e3))}xe.dismiss(d),m===0?xe.success(`All ${f} files downloaded successfully!`):f===0?xe.error(`Failed to download all ${o.length} files`):xe.success(`Downloaded ${f} files (${m} failed)`)}}},LN=e=>{const[t,n]=h.useState(!1),[s,l]=h.useState(e?.user_note||""),[o,d]=h.useState(!1),[f,m]=h.useState(null);return{isEditingNote:t,noteText:s,setNoteText:l,noteSaving:o,noteError:f,handleEditNote:()=>{n(!0),m(null)},handleCancelEditNote:()=>{n(!1),l(e?.user_note||""),m(null)},handleSaveNote:async()=>{try{d(!0),m(null);const{error:y}=await ee.from("cases").update({user_note:s.trim()||null}).eq("id",e.id);if(y)throw y;e.user_note=s.trim()||null,n(!1),xe.success("Note updated successfully")}catch(y){console.error("Error saving note:",y),m(y.message||"Failed to save note"),xe.error("Failed to save note")}finally{d(!1)}}}},UN=async e=>{const{data:t,error:n}=await ee.from("treatment_plan_images").select("id, image_category, view_type").eq("case_id",e).limit(1);if(n)throw n;return{hasImages:t&&t.length>0,imageCount:t?.length||0}},W9=({isOpen:e,onClose:t,onConfirm:n,isLoading:s=!1})=>{const{t:l}=ve();return e?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50",onClick:s?void 0:t}),a.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:a.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-md w-full",children:[a.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-neutral-200",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-8 h-8 bg-green-100 rounded-full flex items-center justify-center",children:a.jsx(Tn,{className:"w-4 h-4 text-green-600"})}),a.jsx("h2",{className:"text-heading-3 font-heading-3 text-default-font",children:l("casePage.dialogs.approval.title")})]}),a.jsx("button",{onClick:t,disabled:s,className:"w-8 h-8 flex items-center justify-center rounded-md hover:bg-neutral-100 disabled:opacity-50 disabled:cursor-not-allowed",children:a.jsx(sn,{className:"w-4 h-4 text-neutral-600"})})]}),a.jsxs("div",{className:"p-6",children:[a.jsx("p",{className:"text-body font-body text-neutral-700",children:l("casePage.dialogs.approval.message")}),a.jsxs("div",{className:"mt-4 p-4 bg-green-50 border border-green-200 rounded-md",children:[a.jsx("p",{className:"text-body-bold font-body-bold text-green-800",children:l("casePage.dialogs.approval.lockMessage")}),a.jsx("p",{className:"text-body font-body text-green-700 mt-1",children:l("casePage.dialogs.approval.productionMessage")})]})]}),a.jsxs("div",{className:"flex items-center justify-end gap-3 p-6 border-t border-neutral-200",children:[a.jsx(de,{variant:"neutral-secondary",onClick:t,disabled:s,children:l("common.cancel")}),a.jsx(de,{variant:"brand-primary",icon:a.jsx(Tn,{}),onClick:n,disabled:s,children:l(s?"casePage.dialogs.approval.approving":"casePage.dialogs.approval.confirmButton")})]})]})})]}):null},J9=({isOpen:e,onClose:t,onConfirm:n,isLoading:s=!1})=>{const{t:l}=ve(),[o,d]=h.useState(""),[f,m]=h.useState(""),p=()=>{if(!o.trim()){m(l("casePage.dialogs.decline.reasonRequired"));return}n(o.trim())},g=()=>{s||(d(""),m(""),t())};return e?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50",onClick:g}),a.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:a.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-md w-full max-h-[90vh] overflow-y-auto",children:[a.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-neutral-200",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-8 h-8 bg-red-100 rounded-full flex items-center justify-center",children:a.jsx(Nr,{className:"w-4 h-4 text-red-600"})}),a.jsx("h2",{className:"text-heading-3 font-heading-3 text-default-font",children:l("casePage.dialogs.decline.title")})]}),a.jsx("button",{onClick:g,disabled:s,className:"w-8 h-8 flex items-center justify-center rounded-md hover:bg-neutral-100 disabled:opacity-50 disabled:cursor-not-allowed",children:a.jsx(sn,{className:"w-4 h-4 text-neutral-600"})})]}),a.jsxs("div",{className:"p-6",children:[a.jsx("p",{className:"text-body font-body text-neutral-700 mb-4",children:l("casePage.dialogs.decline.message")}),a.jsxs("div",{className:"flex flex-col gap-2",children:[a.jsxs("label",{htmlFor:"declineReason",className:"text-body-bold font-body-bold text-default-font",children:[l("casePage.dialogs.decline.reasonLabel")," ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("textarea",{id:"declineReason",value:o,onChange:b=>{d(b.target.value),f&&m("")},placeholder:l("casePage.dialogs.decline.reasonPlaceholder"),rows:4,disabled:s,className:"w-full px-3 py-2 text-body font-body text-default-font bg-default-background border border-neutral-border rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 resize-vertical min-h-[100px] placeholder:text-subtext-color disabled:opacity-50 disabled:cursor-not-allowed"}),f&&a.jsx("span",{className:"text-caption font-caption text-red-600",children:f}),a.jsx("span",{className:"text-caption font-caption text-subtext-color",children:l("casePage.dialogs.decline.infoText")})]})]}),a.jsxs("div",{className:"flex items-center justify-end gap-3 p-6 border-t border-neutral-200",children:[a.jsx(de,{variant:"neutral-secondary",onClick:g,disabled:s,children:l("common.cancel")}),a.jsx(de,{variant:"destructive-primary",onClick:p,disabled:s||!o.trim(),children:l(s?"casePage.dialogs.decline.declining":"casePage.dialogs.decline.confirmButton")})]})]})})]}):null},$N=({caseData:e})=>{const{t}=ve();if(!e.satisfaction_rating)return null;const n=s=>a.jsx("div",{className:"flex items-center gap-1",children:[1,2,3,4,5].map(l=>a.jsx(Ju,{className:`w-5 h-5 ${l<=s?"text-yellow-500 fill-yellow-500":"text-neutral-300"}`},l))});return a.jsxs("div",{className:"flex w-full flex-col items-start gap-4 rounded-md border border-solid border-neutral-border bg-default-background px-6 pt-4 pb-6 shadow-sm",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Ju,{className:"w-5 h-5 text-yellow-500 fill-yellow-500"}),a.jsx("span",{className:"text-heading-3 font-heading-3 text-default-font",children:t("casePage.satisfaction.display.title")})]}),a.jsxs("div",{className:"flex w-full flex-col gap-4",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsxs("span",{className:"text-body-bold font-body-bold text-default-font",children:[t("casePage.satisfaction.display.rating"),":"]}),n(e.satisfaction_rating),a.jsxs("span",{className:"text-body font-body text-subtext-color",children:["(",e.satisfaction_rating,"/5)"]})]}),e.satisfaction_message&&a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"flex h-px w-full flex-none flex-col items-center gap-2 bg-neutral-border"}),a.jsxs("div",{className:"flex flex-col gap-2",children:[a.jsxs("span",{className:"text-body-bold font-body-bold text-default-font",children:[t("casePage.satisfaction.display.feedback"),":"]}),a.jsx("div",{className:"w-full bg-neutral-50 border border-neutral-border rounded-md p-4",children:a.jsx("p",{className:"text-body font-body text-neutral-800 whitespace-pre-wrap break-words leading-relaxed",children:e.satisfaction_message})})]})]}),e.completed_at&&a.jsx("div",{className:"flex items-center gap-2 text-body font-body text-subtext-color",children:a.jsxs("span",{children:[t("casePage.satisfaction.display.completedOn"),":"," ",new Date(e.completed_at).toLocaleDateString()]})})]})]})},Z9=({isOpen:e,onClose:t,onChangeMaterial:n,saving:s,caseData:l})=>{const{t:o}=ve(),[d,f]=h.useState(!1),[m,p]=h.useState([]),[g,b]=h.useState(""),[y,w]=h.useState(!1),[j,S]=h.useState("");h.useEffect(()=>{e&&((async()=>{w(!0);try{const{data:P,error:E}=await ee.from("services").select("*").eq("is_active",!0);if(E)console.error("Error fetching materials:",E);else{const T=P.filter(I=>I.type==="aligners_material");p(T)}}catch(P){console.error("Error fetching materials:",P)}finally{w(!1)}})(),f(!1),b(l?.aligner_material||""),S(l?.user_note||""))},[e,l?.aligner_material,l?.user_note]);const _=A=>{b(A.target.value)},R=async()=>{const A=l?.aligner_material||"",P=g;n&&await n(P,P!==A,j)},k=()=>{s||t()},N=()=>{const A=l?.aligner_material||"",P=l?.user_note||"",E=g!==A,T=j.trim()!==P.trim();return E||T};return e?a.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[a.jsx("div",{className:"absolute inset-0 bg-black/50",onClick:k}),a.jsx("div",{className:"relative bg-white rounded-lg shadow-xl w-full mx-4 p-6 max-w-[640px] max-h-[90vh] overflow-y-auto",children:a.jsxs("div",{className:"flex flex-col gap-4",children:[a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx("div",{className:"w-8 h-8 bg-brand-100 rounded-full flex items-center justify-center flex-shrink-0",children:a.jsx(Df,{className:"w-4 h-4 text-brand-600"})}),a.jsxs("div",{className:"flex-1",children:[a.jsx("h3",{className:"text-heading-3 font-heading-3 text-default-font",children:o("casePage.dialogs.requestEdit.title")}),a.jsx("p",{className:"mt-1 text-body font-body text-subtext-color",children:o("casePage.dialogs.requestEdit.subtitle")})]}),a.jsx("button",{onClick:k,disabled:s,className:"text-gray-400 hover:text-gray-600 transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex-shrink-0",children:a.jsx(sn,{className:"w-6 h-6"})})]}),a.jsxs("div",{className:"border border-neutral-border rounded-md p-4 mt-2",children:[a.jsxs("div",{className:"flex items-start gap-3 cursor-pointer hover:bg-neutral-50 -m-4 p-4 rounded-md transition-colors",onClick:()=>f(!d),children:[a.jsx($n,{className:"w-5 h-5 text-brand-600 flex-shrink-0 mt-0.5"}),a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("h4",{className:"text-body-bold font-body-bold text-default-font",children:o("casePage.dialogs.requestEdit.changeMaterial")}),d?a.jsx(ii,{className:"w-5 h-5 text-subtext-color"}):a.jsx(si,{className:"w-5 h-5 text-subtext-color"})]}),a.jsxs("p",{className:"text-body font-body text-subtext-color mt-1",children:[o("casePage.dialogs.requestEdit.currentMaterial")," ",a.jsx("span",{className:"font-semibold",children:l?.aligner_material||o("casePage.notSpecified")})]}),a.jsx("p",{className:"text-body font-body text-subtext-color mt-1",children:o("casePage.dialogs.requestEdit.materialDescription")})]})]}),d&&a.jsx("div",{className:"mt-4 pt-4 border-t border-neutral-border",children:y?a.jsx("div",{className:"flex items-center justify-center py-4",children:a.jsx(Qt,{size:"small"})}):m.length>0?a.jsx(Cc,{label:o("casePage.dialogs.requestEdit.selectMaterial"),name:"alignerMaterial",options:m.map(A=>({label:A.name,value:A.name})),selectedValue:g,onChange:_}):a.jsx("p",{className:"text-body font-body text-subtext-color",children:o("casePage.dialogs.requestEdit.noMaterials")})})]}),a.jsx("div",{className:"border border-neutral-border rounded-md p-4",children:a.jsxs("div",{className:"flex flex-col gap-2",children:[a.jsx("label",{htmlFor:"userNote",className:"text-body-bold font-body-bold text-default-font",children:o("casePage.dialogs.requestEdit.notesLabel")}),a.jsx("p",{className:"text-body font-body text-subtext-color -mt-1 mb-2",children:o("casePage.dialogs.requestEdit.notesDescription")}),a.jsx("textarea",{id:"userNote",value:j,onChange:A=>S(A.target.value),placeholder:o("casePage.dialogs.requestEdit.notesPlaceholder"),rows:4,disabled:s,className:"w-full px-3 py-2 text-body font-body text-default-font bg-default-background border border-neutral-border rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-brand-500 focus:border-brand-500 resize-vertical min-h-[100px] placeholder:text-subtext-color disabled:opacity-50 disabled:cursor-not-allowed"}),a.jsx("span",{className:"text-caption font-caption text-subtext-color",children:o("casePage.dialogs.requestEdit.notesHelp")})]})}),a.jsxs("div",{className:"p-4 bg-amber-50 border border-amber-200 rounded-md",children:[a.jsx("p",{className:"text-body-bold font-body-bold text-amber-800",children:o("casePage.dialogs.requestEdit.warningTitle")}),a.jsx("p",{className:"text-body font-body text-amber-700 mt-1",children:o("casePage.dialogs.requestEdit.warningMessage")})]}),a.jsxs("div",{className:"flex items-center justify-end gap-2 mt-2 pt-4 border-t border-neutral-border",children:[a.jsx(de,{variant:"neutral-secondary",onClick:k,disabled:s,children:o("common.cancel")}),a.jsx(de,{variant:"brand-primary",icon:a.jsx($n,{}),onClick:R,disabled:s||!g||!N(),children:o(s?"casePage.dialogs.requestEdit.submitting":"casePage.dialogs.requestEdit.submitButton")})]})]})})]}):null},FN=({caseData:e})=>{const{t}=ve();if(!e)return null;const n=o=>t(o?{upper:"caseSubmit.treatmentOptions.upperArch",lower:"caseSubmit.treatmentOptions.lowerArch",both:"caseSubmit.treatmentOptions.bothArches"}[o]||o:"casePage.notSpecified"),s=o=>t(o?{centered:"caseSubmit.diagnosis.centered",shifted_right:"caseSubmit.diagnosis.shiftedRight",shifted_left:"caseSubmit.diagnosis.shiftedLeft"}[o]||o:"casePage.notSpecified"),l=o=>t(o?{class_i:"caseSubmit.diagnosis.classI",class_ii:"caseSubmit.diagnosis.classII",class_iii:"caseSubmit.diagnosis.classIII"}[o]||o:"casePage.notSpecified");return a.jsxs("div",{className:"flex w-full flex-col items-start gap-6 rounded-md border border-solid border-neutral-border bg-default-background px-6 pt-4 pb-6 shadow-sm",children:[a.jsx("span",{className:"text-heading-3 font-heading-3 text-default-font",children:t("casePage.treatmentOptionsTitle")}),e.chief_complaint&&a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"w-full",children:[a.jsx("span",{className:"text-body-bold font-body-bold text-default-font mb-2 block",children:t("caseSubmit.diagnosis.chiefComplaint")}),a.jsx("div",{className:"bg-white rounded-md p-4 border border-neutral-border",children:a.jsx("p",{className:"text-body font-body text-default-font whitespace-pre-wrap",children:e.chief_complaint})})]}),a.jsx("div",{className:"w-full border-t border-neutral-border"})]}),a.jsxs("div",{className:"w-full",children:[a.jsx("span",{className:"text-body-bold font-body-bold text-default-font mb-3 block font-bold",children:t("casePage.treatmentOptions")}),a.jsxs("div",{className:"flex flex-wrap items-start gap-8",children:[a.jsxs("div",{className:"flex flex-col gap-1 min-w-[150px]",children:[a.jsx("span",{className:"text-caption font-caption text-subtext-color uppercase",children:t("caseSubmit.treatmentOptions.treatmentArch")}),a.jsx("span",{className:"text-body-bold font-body-bold text-default-font capitalize",children:n(e.treatment_arch)})]}),a.jsxs("div",{className:"flex flex-col gap-1 min-w-[150px]",children:[a.jsx("span",{className:"text-caption font-caption text-subtext-color uppercase",children:t("caseSubmit.treatmentOptions.alignerMaterial")}),a.jsx("span",{className:"text-body-bold font-body-bold text-default-font",children:e.aligner_material||t("casePage.notSpecified")})]})]})]}),a.jsx("div",{className:"w-full border-t border-neutral-border"}),a.jsxs("div",{className:"w-full",children:[a.jsx("span",{className:"text-body-bold font-body-bold text-default-font mb-3 block font-bold",children:t("casePage.midlineAnalysis")}),a.jsxs("div",{className:"flex flex-wrap items-start gap-8",children:[a.jsxs("div",{className:"flex flex-col gap-1 min-w-[200px]",children:[a.jsx("span",{className:"text-caption font-caption text-subtext-color uppercase",children:t("caseSubmit.diagnosis.upperMidline")}),a.jsxs("span",{className:"text-body-bold font-body-bold text-default-font",children:[s(e.upper_midline),e.upper_midline_shift&&a.jsxs("span",{className:"ml-2 text-body font-body text-subtext-color",children:["(",e.upper_midline_shift," ",t("casePage.mm"),")"]})]})]}),a.jsxs("div",{className:"flex flex-col gap-1 min-w-[200px]",children:[a.jsx("span",{className:"text-caption font-caption text-subtext-color uppercase",children:t("caseSubmit.diagnosis.lowerMidline")}),a.jsxs("span",{className:"text-body-bold font-body-bold text-default-font",children:[s(e.lower_midline),e.lower_midline_shift&&a.jsxs("span",{className:"ml-2 text-body font-body text-subtext-color",children:["(",e.lower_midline_shift," ",t("casePage.mm"),")"]})]})]})]})]}),a.jsx("div",{className:"w-full border-t border-neutral-border"}),a.jsxs("div",{className:"w-full",children:[a.jsx("span",{className:"text-body-bold font-body-bold text-default-font mb-3 block font-bold",children:t("casePage.occlusalRelationship")}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{className:"flex flex-col gap-3",children:[a.jsx("span",{className:"text-body font-body text-default-font font-bold",children:t("caseSubmit.diagnosis.canineRelationship")}),a.jsxs("div",{className:"flex flex-col gap-2 pl-4 border-l-2 border-neutral-border",children:[a.jsxs("div",{className:"flex items-center justify-start gap-2",children:[a.jsxs("span",{className:"text-caption font-caption text-subtext-color",children:[t("caseSubmit.diagnosis.rightSide"),":"]}),a.jsx("span",{className:"text-body-bold font-body-bold text-default-font",children:l(e.canine_right_class)})]}),a.jsxs("div",{className:"flex items-center justify-start gap-2",children:[a.jsxs("span",{className:"text-caption font-caption text-subtext-color",children:[t("caseSubmit.diagnosis.leftSide"),":"]}),a.jsx("span",{className:"text-body-bold font-body-bold text-default-font",children:l(e.canine_left_class)})]})]})]}),a.jsxs("div",{className:"flex flex-col gap-3",children:[a.jsx("span",{className:"text-body font-body text-default-font font-bold",children:t("caseSubmit.diagnosis.molarRelationship")}),a.jsxs("div",{className:"flex flex-col gap-2 pl-4 border-l-2 border-neutral-border",children:[a.jsxs("div",{className:"flex items-center justify-start gap-2",children:[a.jsxs("span",{className:"text-caption font-caption text-subtext-color",children:[t("caseSubmit.diagnosis.rightSide"),":"]}),a.jsx("span",{className:"text-body-bold font-body-bold text-default-font",children:l(e.molar_right_class)})]}),a.jsxs("div",{className:"flex items-center justify-start gap-2",children:[a.jsxs("span",{className:"text-caption font-caption text-subtext-color",children:[t("caseSubmit.diagnosis.leftSide"),":"]}),a.jsx("span",{className:"text-body-bold font-body-bold text-default-font",children:l(e.molar_left_class)})]})]})]})]})]})]})},X9=()=>{const{t:e}=ve(),{caseData:t,error:n}=pi(),s=lR(),[l,o]=h.useState(null),[d,f]=h.useState(!1),[m,p]=h.useState(!1),[g,b]=h.useState(!1),[y,w]=h.useState(!1),[j,S]=h.useState(!1),{status:_,setStatus:R,alertContent:k,showPlanSection:N}=K9(t?.status),A=nr(),{downloadingFiles:P,downloadSingleFile:E,downloadAllFiles:T}=ON(),{isEditingNote:I,noteText:U,setNoteText:Z,noteSaving:se,noteError:F,handleEditNote:L,handleCancelEditNote:$,handleSaveNote:W}=LN(t),O=()=>{s.revalidate()};if(h.useEffect(()=>{const J=async()=>{try{const{hasImages:ne}=await UN(t.id);p(ne)}catch{p(!1)}};t.id&&J()},[t.id]),h.useEffect(()=>{(async()=>{try{const{data:{user:ne}}=await ee.auth.getUser();if(!ne||!t?.id)return;await ee.from("notifications").update({status:"read"}).eq("recipient_id",ne.id).eq("case_id",t.id).eq("status","unread")}catch{}})()},[t?.id]),n)return a.jsx(et,{error:n});if(!t)return a.jsx("p",{className:"text-neutral-500",children:e("casePage.caseNotFound")});const q=async()=>{try{f(!0),o(null);const{error:J}=await ee.from("cases").update({status:"approved"}).eq("id",t.id);if(J)throw J;R("approved"),b(!1),xe.success(e("casePage.toast.planApproved")),O()}catch(J){o(J.message||e("casePage.toast.approveFailed")),xe.error(J.message||e("casePage.toast.approveFailed"))}finally{f(!1)}},B=async J=>{const ne=parseFloat(t?.case_study_fee||0);try{f(!0),o(null);const{error:X}=await ee.from("cases").update({status:"user_rejected",total_cost:ne,decline_reason:J}).eq("id",t.id);if(X)throw X;R("user_rejected"),w(!1),xe.success(e("casePage.toast.planDeclined")),O()}catch(X){o(X.message||e("casePage.toast.declineFailed")),xe.error(X.message||e("casePage.toast.declineFailed"))}finally{f(!1)}},Y=()=>{const J=`/case-viewer/${t.id}`;window.open(J,"_blank")},D=async(J,ne,X)=>{try{f(!0),o(null);const ce={aligner_material:J,user_note:X||null};ne&&(ce.status="accepted");const{error:fe}=await ee.from("cases").update(ce).eq("id",t.id);if(fe)throw fe;ne?(R("accepted"),xe.success(e("casePage.toast.materialUpdatedReeval"))):xe.success(e("casePage.toast.materialUpdated")),S(!1),O()}catch(ce){o(ce.message||e("casePage.toast.updateMaterialFailed")),xe.error(ce.message||e("casePage.toast.updateMaterialFailed"))}finally{f(!1)}},V=()=>{switch(_){case"awaiting_user_approval":return e("casePage.statusMessages.awaitingApproval");case"approved":return e("casePage.statusMessages.approved");case"in_production":return e("casePage.statusMessages.inProduction");case"ready_for_delivery":return e("casePage.statusMessages.readyForDelivery");case"delivered":return e("casePage.statusMessages.delivered");case"completed":return e("casePage.statusMessages.completed");case"user_rejected":return e("casePage.statusMessages.userRejected");default:return""}};return a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"flex w-full flex-col items-start gap-2",children:[a.jsxs(Ut,{children:[a.jsx(rt,{to:"/app/cases",children:a.jsx(Ut.Item,{children:e("navigation.cases")})}),a.jsx(Ut.Divider,{}),a.jsx(Ut.Item,{active:!0,children:e("casePage.caseDetails")})]}),a.jsxs("div",{className:"flex w-full items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("span",{className:"text-heading-2 font-heading-2 text-default-font",children:e("casePage.caseNumber",{id:t.id})}),a.jsx(Mr,{status:_}),t.parent_case_id&&a.jsx(qe,{variant:"brand",icon:a.jsx($n,{}),children:e("casePage.refinementBadge",{number:t.refinement_number||1})})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[t.parent_case_id&&a.jsx(de,{variant:"neutral-secondary",icon:a.jsx($n,{}),asChild:!0,children:a.jsx(rt,{to:`/app/cases/${t.parent_case_id}`,children:e("casePage.viewOriginalCase")})}),a.jsx(de,{variant:"neutral-secondary",icon:a.jsx(_r,{}),onClick:()=>T(t),disabled:P.size>0,children:P.size>0?e("casePage.downloading"):e("casePage.downloadFiles")}),m&&a.jsx(de,{onClick:Y,icon:a.jsx(El,{}),children:e("casePage.openViewer")})]})]})]}),N&&a.jsx(ya,{variant:"success",icon:a.jsx(Nr,{}),title:k.title,description:k.description,actions:null}),a.jsxs("div",{className:"flex w-full flex-col items-start gap-6",children:[a.jsx(kN,{caseData:t,isAdmin:!1}),_==="completed"&&t.satisfaction_rating&&a.jsx($N,{caseData:t,onRefresh:O}),a.jsx(FN,{caseData:t}),(_==="user_rejected"||_==="rejected")&&t.decline_reason&&a.jsxs("div",{className:"flex w-full flex-col items-start gap-4 rounded-md border border-solid border-red-200 bg-red-50 px-6 pt-4 pb-6 shadow-sm",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Nr,{className:"w-5 h-5 text-red-600"}),a.jsx("span",{className:"text-heading-3 font-heading-3 text-red-900",children:e(_==="user_rejected"?"casePage.declineReason":"casePage.rejectionReason")})]}),a.jsx("div",{className:"w-full bg-white border border-red-200 rounded-md p-4 shadow-sm",children:a.jsx("div",{className:"text-body font-body text-neutral-800 whitespace-pre-wrap break-words leading-relaxed",children:t.decline_reason})})]}),a.jsx(TN,{noteText:U,setNoteText:Z,isEditingNote:I,noteSaving:se,noteError:F,handleEditNote:L,handleCancelEditNote:$,handleSaveNote:W,caseData:t,isAdmin:!1}),!A&&a.jsxs("div",{className:"flex w-full flex-col items-start gap-6 rounded-md border border-solid border-neutral-border bg-default-background px-6 pt-4 pb-6 shadow-sm",children:[a.jsx("span",{className:"text-heading-3 font-heading-3 text-default-font",children:e("casePage.dentalChart")}),a.jsx("div",{className:"flex w-full justify-center",children:a.jsx(Vl,{initialStatus:t.tooth_status||{},onChange:J=>ee.from("cases").update({tooth_status:J}).eq("id",t.id),readOnly:!0})})]}),N&&a.jsxs("div",{className:"flex w-full flex-col items-start gap-4 rounded-md border border-solid border-neutral-border bg-default-background px-6 pt-4 pb-6 shadow-sm",children:[a.jsx("span",{className:"text-heading-3 font-heading-3 text-default-font",children:e("casePage.treatmentPlanReview")}),l&&a.jsx(et,{error:l}),a.jsxs("div",{className:"flex w-full flex-col items-start gap-6",children:[a.jsx(Y9,{caseHasViewer:m,caseData:t,showPlanSection:!0}),a.jsx("div",{className:"flex h-px w-full flex-none flex-col items-center gap-2 bg-neutral-border"}),a.jsxs("div",{className:"flex w-full items-center justify-between",children:[!A&&a.jsx("span",{className:"text-body font-body text-subtext-color",children:V()}),a.jsx("div",{className:"flex items-center gap-2",children:_==="awaiting_user_approval"&&a.jsxs(a.Fragment,{children:[a.jsx(de,{variant:"destructive-secondary",icon:a.jsx(sn,{}),disabled:d,onClick:()=>w(!0),children:e("casePage.declinePlan")}),a.jsx(de,{variant:"neutral-secondary",icon:a.jsx(Df,{}),disabled:d,onClick:()=>S(!0),children:e("casePage.requestEdit")}),a.jsx(de,{variant:"brand-primary",icon:a.jsx(Tn,{}),disabled:d,onClick:()=>b(!0),children:e("casePage.approvePlan")})]})})]})]})]}),!A&&a.jsx(B9,{caseData:t,onCaseUpdate:O}),a.jsx(PN,{caseData:t}),a.jsx(MN,{caseData:t,downloadingFiles:P,handleFileDownload:E})]}),a.jsx(W9,{isOpen:g,onClose:()=>b(!1),onConfirm:q,isLoading:d}),a.jsx(J9,{isOpen:y,onClose:()=>w(!1),onConfirm:B,isLoading:d}),a.jsx(Z9,{isOpen:j,onClose:()=>S(!1),onChangeMaterial:D,saving:d,caseData:t})]})},Q9=()=>{const{t:e}=ve(),[t,n]=h.useState([]),[s,l]=h.useState({}),[o,d]=h.useState(!1),[f,m]=h.useState(null),[p,g]=h.useState(null),{role:b}=Hl(),y=b==="admin",[w,j]=h.useState({firstName:"",lastName:"",isUrgent:!1,urgentDeliveryDate:"",alignerMaterial:"",uploadMethod:"individual",upperJawScan:null,lowerJawScan:null,biteScan:null,compressedScans:null,toothStatus:{},additionalFiles:[],chiefComplaint:"",userNote:"",upperMidline:"",upperMidlineShift:"",lowerMidline:"",lowerMidlineShift:"",canineRightClass:"",canineLeftClass:"",molarRightClass:"",molarLeftClass:"",treatmentArch:""}),S=ln();h.useEffect(()=>{(async()=>{d(!0);const{data:A,error:P}=await ee.from("services").select("*").eq("is_active",!0);if(P){console.error("Error fetching services:",P),d(!1);return}n(A.filter(E=>E.type==="aligners_material")),d(!1)})()},[]);const _=N=>{const{name:A,value:P,files:E,type:T,checked:I}=N.target;E?j(U=>({...U,[A]:A==="additionalFiles"?[...U.additionalFiles,...E]:E[0]})):T==="checkbox"?j(U=>({...U,[A]:I,...A==="isUrgent"&&!I?{urgentDeliveryDate:""}:{}})):(j(U=>({...U,[A]:P})),A==="upperMidline"&&P==="centered"&&j(U=>({...U,upperMidlineShift:""})),A==="lowerMidline"&&P==="centered"&&j(U=>({...U,lowerMidlineShift:""})),A==="uploadMethod"&&P==="compressed"&&j(U=>({...U,upperJawScan:null,lowerJawScan:null,biteScan:null})),A==="uploadMethod"&&P==="individual"&&j(U=>({...U,compressedScans:null})))},R=async N=>{N.preventDefault(),d(!0),m(null),g(null);try{let A=null,P=null,E=null,T=null,I=[];const{data:{user:U},error:Z}=await ee.auth.getUser();if(Z||!U)throw new et(e("caseSubmit.errors.authRequired"));const{data:se,error:F}=await ee.from("profiles").select("full_name, clinic").eq("id",U.id).single(),L=se?.full_name||U.email||e("caseSubmit.unknownDoctor"),$=se?.clinic||null,O=(()=>{const J=[];return w.firstName?.trim()||J.push(e("caseSubmit.errors.firstNameRequired")),w.lastName?.trim()||J.push(e("caseSubmit.errors.lastNameRequired")),y||(w.upperMidline||J.push(e("caseSubmit.errors.upperMidlineRequired")),w.lowerMidline||J.push(e("caseSubmit.errors.lowerMidlineRequired")),w.canineRightClass||J.push(e("caseSubmit.errors.canineRightRequired")),w.canineLeftClass||J.push(e("caseSubmit.errors.canineLeftRequired")),w.molarRightClass||J.push(e("caseSubmit.errors.molarRightRequired")),w.molarLeftClass||J.push(e("caseSubmit.errors.molarLeftRequired")),w.treatmentArch||J.push(e("caseSubmit.errors.treatmentArchRequired")),["shifted_right","shifted_left"].includes(w.upperMidline)&&!w.upperMidlineShift&&J.push(e("caseSubmit.errors.upperShiftRequired"))),w.uploadMethod==="individual"&&(!w.upperJawScan||!w.lowerJawScan)&&J.push(e("caseSubmit.errors.scansRequired")),J})();if(O.length>0)throw new et(O.join(", "));const q=async(J,ne,X={})=>{if(!J)return null;try{const fe=[".stl",".obj",".ply",".pdf",".png",".jpg",".jpeg",".zip",".rar",".7z"];if(J.size>104857600)throw new et(e("caseSubmit.errors.fileTooLarge"));const Se=J.name.split(".").pop().toLowerCase();if(!fe.includes(`.${Se}`))throw new et(e("caseSubmit.errors.invalidFileType",{types:fe.join(", ")}));const _e=await qf(J,ne,{caseId:X.caseId||`CASE-${Date.now()}`,patientName:X.patientName||e("caseSubmit.unknownPatient"),fileType:X.fileType||ne,doctorName:X.doctorName||"N/A"});if(!_e.success)throw new et(_e.error||e("caseSubmit.errors.uploadFailed"));return _e.filePath}catch(ce){throw console.error(`Upload error for ${ne}:`,ce),ce}},B=`${w.firstName.trim()} ${w.lastName.trim()}`,Y=`CASE-${U.id.substring(0,8)}-${Date.now()}`;w.uploadMethod==="individual"?[A,P,E]=await Promise.all([q(w.upperJawScan,"upper-jaw-scans",{caseId:Y,patientName:B,doctorName:L,clinicName:$,fileType:e("caseSubmit.upperJawScan")}),q(w.lowerJawScan,"lower-jaw-scans",{caseId:Y,patientName:B,doctorName:L,clinicName:$,fileType:e("caseSubmit.lowerJawScan")}),q(w.biteScan,"bite-scans",{caseId:Y,patientName:B,doctorName:L,clinicName:$,fileType:e("caseSubmit.biteScan")})]):w.uploadMethod==="compressed"&&(T=await q(w.compressedScans,"compressed-scans",{caseId:Y,patientName:B,doctorName:L,clinicName:$,fileType:e("caseSubmit.compressedScans")})),w.additionalFiles&&w.additionalFiles.length>0&&(I=await Promise.all(w.additionalFiles.map((J,ne)=>q(J,"additional-files",{caseId:Y,patientName:B,doctorName:L,clinicName:$,fileType:e("caseSubmit.additionalFile",{number:ne+1})}))));const D={user_id:U.id,first_name:w.firstName.trim(),last_name:w.lastName.trim(),is_urgent:w.isUrgent,urgent_delivery_date:w.isUrgent&&w.urgentDeliveryDate?w.urgentDeliveryDate:null,aligner_material:w.alignerMaterial?.trim()||null,upload_method:w.uploadMethod,upper_jaw_scan_url:A,lower_jaw_scan_url:P,bite_scan_url:E,compressed_scans_url:T,additional_files_urls:I||[],tooth_status:s,chief_complaint:w.chiefComplaint?.trim()||null,user_note:w.userNote?.trim()||null,upper_midline:w.upperMidline?.trim()||null,upper_midline_shift:w.upperMidlineShift?.trim()||null,lower_midline:w.lowerMidline?.trim()||null,lower_midline_shift:w.lowerMidlineShift?.trim()||null,canine_right_class:w.canineRightClass?.trim()||null,canine_left_class:w.canineLeftClass?.trim()||null,molar_right_class:w.molarRightClass?.trim()||null,molar_left_class:w.molarLeftClass?.trim()||null,treatment_arch:w.treatmentArch?.trim()||null,status:"submitted"},{error:V}=await ee.from("cases").insert(D);if(V)throw V;g(e("caseSubmit.success.submitted")),S("/app/cases")}catch(A){console.error("Submit error:",A),m(A.message||e("caseSubmit.errors.unexpected"))}finally{d(!1)}},k=()=>{const N=new Date;return N.setDate(N.getDate()+1),N.toISOString().split("T")[0]};return a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"flex w-full flex-col items-start gap-2",children:[a.jsxs(Ut,{children:[a.jsx(rt,{to:"/app/cases",children:a.jsx(Ut.Item,{children:e("navigation.cases")})}),a.jsx(Ut.Divider,{}),a.jsx(Ut.Item,{active:!0,children:e("caseSubmit.newCase")})]}),a.jsx("span",{className:"text-heading-2 font-heading-2 text-default-font",children:e("caseSubmit.title")})]}),a.jsxs("form",{onSubmit:R,className:"flex w-full flex-col items-start gap-6",children:[a.jsx(RN,{formData:w,handleChange:_,getMinDate:k}),a.jsx(Sx,{formData:w,handleChange:_,alignerMaterials:t}),a.jsx(Nx,{formData:w,handleChange:_,isAdmin:!1}),a.jsxs("div",{className:"flex w-full flex-col items-start gap-6 rounded-md border border-solid border-neutral-border bg-default-background px-6 pt-4 pb-6 shadow-sm",children:[a.jsx("span",{className:"text-heading-3 font-heading-3 text-default-font",children:e("casePage.dentalChart")}),a.jsx("div",{className:"flex w-full justify-center",children:a.jsx(Vl,{initialStatus:{},onChange:l})})]}),a.jsx(_x,{formData:w,handleChange:_}),f&&a.jsx(et,{error:f}),p&&a.jsx(EN,{successMessage:p}),a.jsxs("div",{className:"flex w-full items-center gap-2",children:[a.jsx(de,{size:"large",type:"submit",disabled:o,children:e(o?"caseSubmit.submitting":"caseSubmit.submitCase")}),a.jsx(de,{onClick:()=>S(-1),variant:"neutral-tertiary",size:"large",children:e("common.cancel")})]})]})]})},eU=({cases:e})=>{const{t}=ve(),n=ln();return a.jsx("div",{className:"w-full overflow-x-auto",children:a.jsx(z,{header:a.jsxs(z.HeaderRow,{children:[a.jsx(z.HeaderCell,{children:t("billing.table.case")}),a.jsx(z.HeaderCell,{children:t("billing.table.patient")}),a.jsx(z.HeaderCell,{children:t("billing.table.treatmentDetails")}),a.jsx(z.HeaderCell,{children:t("billing.table.date")}),a.jsx(z.HeaderCell,{children:t("billing.table.payment")}),a.jsx(z.HeaderCell,{})]}),children:e.length===0?a.jsx(z.Row,{children:a.jsx(z.Cell,{colSpan:6,children:a.jsx("div",{className:"text-center py-8 text-neutral-500",children:t("billing.table.noCases")})})}):e.map(s=>a.jsx(tU,{case_item:s,navigate:n},s.id))})})},tU=({case_item:e,navigate:t})=>a.jsxs(z.Row,{children:[a.jsx(z.Cell,{children:a.jsx(nU,{case_item:e})}),a.jsx(z.Cell,{children:a.jsx(aU,{case_item:e})}),a.jsx(z.Cell,{children:a.jsx(rU,{case_item:e})}),a.jsx(z.Cell,{children:a.jsx(sU,{date:e.case_date})}),a.jsx(z.Cell,{children:a.jsx(iU,{case_item:e})}),a.jsx(z.Cell,{children:a.jsx(lU,{case_item:e,navigate:t})})]}),nU=({case_item:e})=>a.jsx("span",{className:"whitespace-nowrap text-body-bold font-body-bold text-neutral-700",children:e.case_id||`CASE-${e.id}`}),aU=({case_item:e})=>{const{t}=ve();return a.jsx("span",{className:"whitespace-nowrap text-body font-body text-neutral-700",children:e.patient_name||t("billing.table.unknownPatient")})},rU=({case_item:e})=>{const{t}=ve(),n=e.urgency==="Urgent",s=e.refinement_info,l=[];e.aligners_count&&l.push(t("billing.table.alignersCount",{count:e.aligners_count})),e.duration&&l.push(e.duration);const o=l.join("  ");return a.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[a.jsxs("div",{className:"flex flex-col gap-0.5",children:[a.jsx("span",{className:"text-body font-body text-neutral-700",children:e.treatment_type||t("billing.table.standardTreatment")}),o&&a.jsx("span",{className:"text-caption font-caption text-neutral-500",children:o})]}),a.jsxs("div",{className:"flex items-center gap-1 flex-wrap",children:[n&&a.jsx("span",{className:"inline-flex items-center px-1.5 py-0.5 rounded text-[10px] font-medium bg-error-100 text-error-700",children:t("billing.table.urgent")}),s&&a.jsx("span",{className:"inline-flex items-center px-1.5 py-0.5 rounded text-[10px] font-medium bg-warning-100 text-warning-700",children:e.refinement_info})]})]})},sU=({date:e})=>{const{t}=ve();return a.jsx("span",{className:"whitespace-nowrap text-body font-body text-neutral-500",children:e?new Date(e).toLocaleDateString():t("billing.table.notSet")})},iU=({case_item:e})=>{const{t}=ve(),{amount:n,remainingAmount:s,paymentStatus:l,paymentPercentage:o=0}=e,d={unpaid:{variant:"error",text:t("billing.table.paymentStatus.unpaid")},partially_paid:{variant:"warning",text:`${o.toFixed(0)}%`},paid:{variant:"success",text:t("billing.table.paymentStatus.paid")},not_applicable:{variant:"neutral",text:t("billing.table.paymentStatus.na")},due:{variant:"error",text:t("billing.table.paymentStatus.due")},overdue:{variant:"error",text:t("billing.table.paymentStatus.overdue")},pending:{variant:"warning",text:t("billing.table.paymentStatus.pending")},processing:{variant:"brand",text:t("billing.table.paymentStatus.processing")}},f=l?.toLowerCase()||"unpaid",m=d[f]||{variant:"neutral",text:t("billing.table.paymentStatus.unknown")};return a.jsxs("div",{className:"flex flex-col gap-1",children:[a.jsxs("div",{className:"flex items-baseline gap-2",children:[a.jsxs("span",{className:"text-body-bold font-body-bold text-neutral-700",children:["$",n?.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})||"0.00"]}),a.jsx(qe,{variant:m.variant,className:"text-xs",children:m.text})]}),s>0&&a.jsxs("span",{className:"text-caption font-caption text-neutral-500",children:["$",s?.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})," ",t("billing.table.remaining")]})]})},lU=({case_item:e,navigate:t})=>{const{t:n}=ve();return a.jsx(de,{size:"small",variant:"neutral-secondary",onClick:()=>t(`/app/cases/${e.id}`),className:"whitespace-nowrap",children:n("common.viewDetails")})};function oU(){const{t:e}=ve(),t=nr(),[n,s]=h.useState(""),{cases:l,loading:o,error:d,totalCases:f,totalDue:m,totalPaid:p,pendingCases:g,completedCases:b}=vN(),w=l.filter(j=>j.paymentStatus?.toLowerCase()!=="not_applicable").filter(j=>j.patient_name.toLowerCase().includes(n.toLowerCase())||j.case_id?.toLowerCase().includes(n.toLowerCase())||j.treatment_type?.toLowerCase().includes(n.toLowerCase()));return a.jsxs(a.Fragment,{children:[d&&a.jsx(et,{error:d}),a.jsx(ql,{submit:!1,children:e("billing.myBilling")}),a.jsxs("div",{className:"flex w-full items-center justify-between gap-4",children:[a.jsx("p",{className:"text-body font-body text-subtext-color",children:e("billing.userSubtitle")}),a.jsx(rt,{to:"/app/billing/log",children:a.jsx(de,{variant:"neutral-secondary",icon:a.jsx(wS,{}),className:"w-auto",children:e("navigation.paymentsHistory")})})]}),o?a.jsx("div",{className:"flex w-full h-full min-h-[200px] justify-center items-center",children:a.jsx(Qt,{size:"medium"})}):a.jsxs(a.Fragment,{children:[!t&&a.jsx(yN,{totalCases:f,totalDue:m,totalPaid:p,pendingCases:g,completedCases:b}),a.jsxs("div",{className:"flex w-full items-center gap-2",children:[a.jsx("span",{className:"grow shrink-0 basis-0 text-heading-3 font-heading-3 text-default-font",children:e("billing.myCasesAndBilling")}),a.jsx("div",{className:"flex-shrink-0 max-w-[300px] min-w-[200px]",children:a.jsx(Ee,{variant:"filled",label:"",helpText:"",icon:a.jsx(Dr,{}),children:a.jsx(Ee.Input,{placeholder:e("cases.searchPatientOrDoctor"),value:n,onChange:j=>s(j.target.value)})})})]}),a.jsx(eU,{cases:w})]})]})}const cU=({isOpen:e,onClose:t,onConfirm:n,isLoading:s=!1})=>{const{t:l,i18n:o}=ve(),d=o.language==="ar",[f,m]=h.useState(""),[p,g]=h.useState(""),b=()=>{if(!f.trim()){g(l("casePage.dialogs.decline.reasonRequired"));return}n(f.trim())},y=()=>{s||(m(""),g(""),t())};return e?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50",onClick:y}),a.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:a.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-md w-full max-h-[90vh] overflow-y-auto",children:[a.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-neutral-200",children:[a.jsxs("div",{className:"flex items-center gap-3 ",children:[a.jsx("div",{className:"w-8 h-8 bg-red-100 rounded-full flex items-center justify-center",children:a.jsx(Nr,{className:"w-4 h-4 text-red-600"})}),a.jsx("h2",{className:"text-heading-3 font-heading-3 text-default-font",children:l("casePage.dialogs.decline.title")})]}),a.jsx("button",{onClick:y,disabled:s,className:"w-8 h-8 flex items-center justify-center rounded-md hover:bg-neutral-100 disabled:opacity-50 disabled:cursor-not-allowed",children:a.jsx(sn,{className:"w-4 h-4 text-neutral-600"})})]}),a.jsxs("div",{className:`p-6 ${d?"text-right":""}`,children:[a.jsx("p",{className:"text-body font-body text-neutral-700 mb-4",children:l("casePage.dialogs.decline.reasonRequired")}),a.jsxs("div",{className:"flex flex-col gap-2",children:[a.jsxs("label",{htmlFor:"declineReason",className:"text-body-bold font-body-bold text-default-font",children:[l("casePage.dialogs.decline.reasonLabel")," ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("textarea",{id:"declineReason",value:f,onChange:w=>{m(w.target.value),p&&g("")},placeholder:l("casePage.dialogs.decline.reasonPlaceholder"),rows:4,disabled:s,className:`w-full px-3 py-2 text-body font-body text-default-font bg-default-background border border-neutral-border rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 resize-vertical min-h-[100px] placeholder:text-subtext-color disabled:opacity-50 disabled:cursor-not-allowed ${d?"text-right":""}`,dir:d?"rtl":"ltr"}),p&&a.jsx("span",{className:`text-caption font-caption text-red-600 ${d?"self-end":"self-start"}`,children:p}),a.jsx("span",{className:"text-caption font-caption text-subtext-color",children:l("casePage.dialogs.decline.adminInfoText")})]})]}),a.jsxs("div",{className:`flex items-center gap-3 p-6 border-t border-neutral-200 ${d?"flex-row-reverse":"justify-end"}`,children:[a.jsx(de,{variant:"neutral-secondary",onClick:y,disabled:s,children:l("common.cancel")}),a.jsx(de,{variant:"destructive-primary",onClick:b,disabled:s||!f.trim(),children:l(s?"casePage.dialogs.decline.declining":"casePage.dialogs.decline.confirmButton")})]})]})})]}):null},dU=({currentStatus:e,caseStudyFee:t,setCaseStudyFee:n,saving:s,acceptCase:l,handleDecline:o})=>{const{t:d}=ve(),f=nr();return e!=="submitted"?null:a.jsxs("div",{className:"flex w-full flex-col items-start gap-4 rounded-md border border-solid border-neutral-border bg-default-background px-6 pt-4 pb-6 shadow-sm",children:[a.jsxs("div",{className:"flex w-full items-center gap-2",children:[a.jsx(Tn,{className:"h-5 w-5 text-brand-600"}),a.jsx("span",{className:"text-heading-3 font-heading-3 text-default-font",children:d(e==="submitted"?"casePage.caseAcceptanceCard.title":"casePage.caseAcceptanceCard.caseStudyFee")})]}),e==="submitted"?a.jsxs(a.Fragment,{children:[a.jsx(ya,{variant:"brand",title:d("casePage.alerts.submitted.title"),description:d("casePage.caseAcceptanceCard.description")}),a.jsxs("div",{className:"flex w-full flex-col items-start gap-4",children:[a.jsx("div",{className:"w-full max-w-xs",children:a.jsx(Ee,{label:d("casePage.caseAcceptanceCard.caseStudyFee"),children:a.jsx(Ee.Input,{type:"number",min:0,step:"0.01",value:t,onChange:m=>n(m.target.value),placeholder:"0.00"})})}),a.jsxs("div",{className:"flex w-full items-center justify-between",children:[!f&&a.jsx("span",{className:"text-body font-body text-subtext-color",children:d("casePage.alerts.submitted.description")}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(de,{variant:"destructive-secondary",disabled:s,onClick:o,icon:a.jsx(sn,{}),children:d("casePage.caseAcceptanceCard.declineCase")}),a.jsx(de,{disabled:s,onClick:l,icon:a.jsx(Tn,{}),children:d("casePage.caseAcceptanceCard.acceptCase")})]})]})]})]}):a.jsxs(a.Fragment,{children:[a.jsx(ya,{variant:"success",title:d("casePage.caseAcceptanceCard.caseAcceptedAlertTitle"),description:d("casePage.caseAcceptanceCard.caseAcceptedAlert")}),a.jsxs("div",{className:"flex w-full flex-col items-start gap-4",children:[a.jsx("div",{className:"w-full max-w-xs",children:a.jsx(Ee,{label:d("casePage.caseAcceptanceCard.caseStudyFee"),disabled:!0,children:a.jsx(Ee.Input,{type:"number",value:t,placeholder:"0.00",disabled:!0})})}),a.jsx("div",{className:"flex w-full items-center justify-between",children:a.jsx("span",{className:"text-body font-body text-subtext-color",children:d("casePage.caseAcceptanceCard.caseStudyFeeSet")})})]})]})]})},uU=({isOpen:e,onClose:t,caseId:n})=>{const{t:s}=ve(),[l,o]=h.useState("sequence"),[d,f]=h.useState(!1),[m,p]=h.useState({}),[g,b]=h.useState({sequence:{},beforeAfter:{}}),[y,w]=h.useState({front:[],left:[],right:[],upper:[],lower:[]}),[j,S]=h.useState({front:null,left:null,right:null,upper:null,lower:null}),[_,R]=h.useState({front:null,left:null,right:null,upper:null,lower:null}),k=h.useMemo(()=>[{value:"front",label:s("treatmentPlanImages.views.front")},{value:"left",label:s("treatmentPlanImages.views.left")},{value:"right",label:s("treatmentPlanImages.views.right")},{value:"upper",label:s("treatmentPlanImages.views.upper")},{value:"lower",label:s("treatmentPlanImages.views.lower")}],[s]),N=L=>L&&L.type.startsWith("video/"),A=h.useCallback(async()=>{try{const{data:L,error:$}=await ee.from("treatment_plan_images").select("*").eq("case_id",n).order("sequence_order",{ascending:!0});if($)throw $;const W={sequence:{},beforeAfter:{}};L?.forEach(O=>{O.image_category==="sequence"?(W.sequence[O.view_type]||(W.sequence[O.view_type]=[]),W.sequence[O.view_type].push(O)):O.image_category==="beforeAfter"&&(W.beforeAfter[O.view_type]=O)}),b(W)}catch(L){console.error("Error loading images:",L)}},[n]);h.useEffect(()=>{e&&n&&A()},[e,n,A]);const P=(L,$)=>{const W=Array.from($);if(W.some(N)){const q=W.find(N);S(B=>({...B,[L]:q})),w(B=>({...B,[L]:[]}))}else S(q=>({...q,[L]:null})),w(q=>({...q,[L]:[...q[L],...W]}))},E=(L,$)=>{R(W=>({...W,[L]:$}))},T=(L,$)=>{w(W=>({...W,[L]:W[L].filter((O,q)=>q!==$)}))},I=L=>{S($=>({...$,[L]:null}))},U=L=>{R($=>({...$,[L]:null}))},Z=async L=>{try{const{data:$}=await ee.from("treatment_plan_images").select("storage_path").eq("id",L).single();$?.storage_path&&await ee.storage.from("treatment-plans").remove([$.storage_path]);const{error:W}=await ee.from("treatment_plan_images").delete().eq("id",L);if(W)throw W;xe.success(s("treatmentPlanImages.toast.deleted")),A()}catch($){xe.error(s("treatmentPlanImages.toast.deleteFailed")),console.error($)}},se=async()=>{f(!0),p({});try{const{data:{user:L}}=await ee.auth.getUser();for(const $ of Object.keys(y)){const W=j[$],O=y[$];if(W){const Y=`sequence_video.${W.name.split(".").pop()}`,D=`${n}/sequence/${$}/${Y}`;p(ne=>({...ne,[`sequence-video-${$}`]:"uploading"}));const{error:V}=await ee.storage.from("treatment-plans").upload(D,W,{upsert:!0});if(V)throw V;const{error:J}=await ee.from("treatment_plan_images").insert({case_id:n,image_category:"sequence",view_type:$,is_video:!0,sequence_order:0,storage_path:D,file_name:Y,file_size:W.size,mime_type:W.type,uploaded_by:L?.id});if(J)throw J;continue}if(O.length===0)continue;const q=g.sequence[$]?.length||0;for(let B=0;B<O.length;B++){const Y=O[B],D=q+B+1,V=Y.name.split(".").pop(),J=`step_${String(D).padStart(3,"0")}.${V}`,ne=`${n}/sequence/${$}/${J}`;p(fe=>({...fe,[`sequence-${$}-${B}`]:"uploading"}));const{error:X}=await ee.storage.from("treatment-plans").upload(ne,Y,{upsert:!0});if(X)throw X;const{error:ce}=await ee.from("treatment_plan_images").insert({case_id:n,image_category:"sequence",view_type:$,sequence_order:D,is_video:!1,storage_path:ne,file_name:J,file_size:Y.size,mime_type:Y.type,uploaded_by:L?.id});if(ce)throw ce}}for(const $ of Object.keys(_)){const W=_[$];if(!W)continue;const q=`before-after.${W.name.split(".").pop()}`,B=`${n}/before-after/${$}/${q}`,{error:Y}=await ee.storage.from("treatment-plans").upload(B,W,{upsert:!0});if(Y)throw Y;const{data:D}=await ee.from("treatment_plan_images").select("id").eq("case_id",n).eq("image_category","beforeAfter").eq("view_type",$).single(),V={case_id:n,image_category:"beforeAfter",view_type:$,image_stage:"combined",is_video:!1,storage_path:B,file_name:q,file_size:W.size,mime_type:W.type,uploaded_by:L?.id,uploaded_at:new Date().toISOString()};D?await ee.from("treatment_plan_images").update(V).eq("id",D.id):await ee.from("treatment_plan_images").insert(V)}xe.success(s("treatmentPlanImages.toast.uploaded")),w({front:[],left:[],right:[],upper:[],lower:[]}),S({front:null,left:null,right:null,upper:null,lower:null}),R({front:null,left:null,right:null,upper:null,lower:null}),A()}catch(L){console.error("Upload error:",L),xe.error(s("treatmentPlanImages.toast.uploadFailed"))}finally{f(!1),p({})}},F=()=>{const L=Object.values(y).some(O=>O.length>0),$=Object.values(j).some(O=>O!==null),W=Object.values(_).some(O=>O!==null);return L||$||W};return a.jsx(Ns,{isOpen:e,onClose:t,title:s("treatmentPlanImages.title"),description:s("treatmentPlanImages.subtitle"),icon:a.jsx(sc,{}),maxWidth:"max-w-[800px]",loading:d,children:a.jsxs("div",{className:"w-full flex flex-col gap-6",children:[a.jsxs("div",{className:"flex gap-2 border-b border-neutral-border",children:[a.jsx("button",{onClick:()=>o("sequence"),className:`px-4 py-2 text-body font-body transition-colors border-b-2 ${l==="sequence"?"border-brand-600 text-brand-600":"border-transparent text-subtext-color hover:text-default-font"}`,children:s("treatmentPlanImages.tabs.sequence")}),a.jsx("button",{onClick:()=>o("beforeAfter"),className:`px-4 py-2 text-body font-body transition-colors border-b-2 ${l==="beforeAfter"?"border-brand-600 text-brand-600":"border-transparent text-subtext-color hover:text-default-font"}`,children:s("treatmentPlanImages.tabs.beforeAfter")})]}),l==="sequence"&&a.jsxs("div",{className:"space-y-6",children:[a.jsx(ya,{variant:"neutral",icon:a.jsx(sc,{}),title:s("treatmentPlanImages.alerts.sequence.title"),description:s("treatmentPlanImages.alerts.sequence.description")}),k.map(L=>{const $=g.sequence[L.value]||[],W=y[L.value]||[],O=j[L.value],q=$.some(Y=>Y.is_video),B=$.find(Y=>Y.is_video);return a.jsxs("div",{className:"border border-neutral-border rounded-lg bg-white overflow-hidden",children:[a.jsxs("div",{className:"bg-neutral-50 p-3 border-b border-neutral-border flex justify-between items-center",children:[a.jsx("h3",{className:"text-body-bold font-body-bold text-default-font",children:L.label}),a.jsx("div",{className:"text-xs text-subtext-color bg-white px-2 py-1 rounded border border-neutral-border flex items-center gap-1",children:q||O?a.jsxs(a.Fragment,{children:[a.jsx(wp,{className:"w-3 h-3"}),"Video"]}):a.jsxs(a.Fragment,{children:[$.length+W.length," ",s("treatmentPlanImages.labels.step")]})})]}),a.jsxs("div",{className:"p-4 flex flex-col gap-4",children:[q&&B&&a.jsxs("div",{className:"flex flex-col gap-2",children:[a.jsx("span",{className:"text-caption font-caption text-subtext-color uppercase tracking-wider",children:"Current Video"}),a.jsxs("div",{className:"relative group border border-neutral-border rounded-md p-3 bg-neutral-50 flex flex-col gap-2 items-center",children:[a.jsx(wp,{className:"w-8 h-8 text-brand-600"}),a.jsx("span",{className:"text-caption text-subtext-color truncate w-full text-center",children:B.file_name}),a.jsx("button",{onClick:()=>Z(B.id),className:"absolute -top-2 -right-2 bg-white border border-error-200 text-error-600 p-1.5 rounded-full shadow-sm hover:bg-error-50 transition-colors opacity-0 group-hover:opacity-100",title:"Delete",children:a.jsx(yp,{className:"w-3 h-3"})})]})]}),O&&a.jsxs("div",{className:"flex flex-col gap-2",children:[a.jsx("span",{className:"text-caption font-caption text-brand-600 uppercase tracking-wider",children:s("treatmentPlanImages.labels.newVideo")}),a.jsxs("div",{className:"flex items-center justify-between bg-brand-50 border border-brand-100 p-2 rounded-md",children:[a.jsxs("div",{className:"flex items-center gap-2 overflow-hidden",children:[a.jsx(wp,{className:"w-4 h-4 text-brand-600 flex-shrink-0"}),a.jsx("span",{className:"text-sm text-default-font truncate",children:O.name})]}),a.jsx(de,{variant:"neutral-tertiary",size:"small",icon:a.jsx(sn,{}),onClick:()=>I(L.value)})]})]}),!q&&!O&&a.jsxs(a.Fragment,{children:[$.filter(Y=>!Y.is_video).length>0&&a.jsxs("div",{className:"flex flex-col gap-2",children:[a.jsx("span",{className:"text-caption font-caption text-subtext-color uppercase tracking-wider",children:s("treatmentPlanImages.labels.existing")}),a.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-3",children:$.filter(Y=>!Y.is_video).map(Y=>a.jsxs("div",{className:"relative group border border-neutral-border rounded-md p-3 bg-neutral-50 flex flex-col gap-2 items-center justify-center text-center",children:[a.jsx("div",{className:"w-8 h-8 rounded-full bg-brand-100 text-brand-600 flex items-center justify-center text-caption font-bold",children:Y.sequence_order}),a.jsx("span",{className:"text-caption text-subtext-color truncate w-full",children:Y.file_name}),a.jsx("button",{onClick:()=>Z(Y.id),className:"absolute -top-2 -right-2 bg-white border border-error-200 text-error-600 p-1.5 rounded-full shadow-sm hover:bg-error-50 transition-colors opacity-0 group-hover:opacity-100",title:"Delete",children:a.jsx(yp,{className:"w-3 h-3"})})]},Y.id))})]}),W.length>0&&a.jsxs("div",{className:"flex flex-col gap-2",children:[a.jsx("span",{className:"text-caption font-caption text-brand-600 uppercase tracking-wider",children:s("treatmentPlanImages.labels.newUploads")}),a.jsx("div",{className:"grid grid-cols-1 gap-2",children:W.map((Y,D)=>a.jsxs("div",{className:"flex items-center justify-between bg-brand-50 border border-brand-100 p-2 rounded-md",children:[a.jsxs("div",{className:"flex items-center gap-2 overflow-hidden",children:[a.jsx(pw,{className:"w-4 h-4 text-brand-600 flex-shrink-0"}),a.jsx("span",{className:"text-sm text-default-font truncate",children:Y.name}),a.jsxs("span",{className:"text-xs text-brand-600 whitespace-nowrap",children:["(",s("treatmentPlanImages.labels.step")," ",$.filter(V=>!V.is_video).length+D+1,")"]})]}),a.jsx(de,{variant:"neutral-tertiary",size:"small",icon:a.jsx(sn,{}),onClick:()=>T(L.value,D)})]},D))})]})]}),a.jsxs("div",{className:"mt-2",children:[a.jsx("input",{type:"file",id:`sequence-${L.value}`,multiple:!q&&!O,accept:"image/*,video/*",className:"hidden",onChange:Y=>P(L.value,Y.target.files),disabled:d}),a.jsx(de,{variant:"neutral-secondary",size:"small",icon:a.jsx(ui,{}),disabled:d,className:"w-full justify-center border-dashed",onClick:()=>document.getElementById(`sequence-${L.value}`).click(),children:s(q||O?"treatmentPlanImages.buttons.replaceVideo":"treatmentPlanImages.buttons.addImages")})]})]})]},L.value)})]}),l==="beforeAfter"&&a.jsxs("div",{className:"space-y-6",children:[a.jsx(ya,{variant:"neutral",icon:a.jsx(sc,{}),title:s("treatmentPlanImages.alerts.beforeAfter.title"),description:s("treatmentPlanImages.alerts.beforeAfter.description")}),k.map(L=>a.jsxs("div",{className:"border border-neutral-border rounded-lg bg-white overflow-hidden",children:[a.jsxs("div",{className:"bg-neutral-50 p-3 border-b border-neutral-border flex justify-between items-center",children:[a.jsx("h3",{className:"text-body-bold font-body-bold text-default-font",children:L.label}),g.beforeAfter[L.value]&&a.jsxs("span",{className:"text-xs text-success-700 bg-success-50 px-2 py-1 rounded border border-success-200 flex items-center gap-1",children:[a.jsx(Tn,{className:"w-3 h-3"}),s("treatmentPlanImages.labels.imageExists")]})]}),a.jsxs("div",{className:"p-4",children:[g.beforeAfter[L.value]&&a.jsxs("div",{className:"mb-4 flex items-center justify-between p-3 bg-neutral-50 rounded-md border border-neutral-border",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-8 h-8 bg-neutral-200 rounded flex items-center justify-center",children:a.jsx(sc,{className:"w-4 h-4 text-subtext-color"})}),a.jsxs("div",{className:"flex flex-col",children:[a.jsx("span",{className:"text-sm font-medium text-default-font",children:s("treatmentPlanImages.labels.currentImage")}),a.jsx("span",{className:"text-xs text-subtext-color",children:g.beforeAfter[L.value].file_name})]})]}),a.jsx(de,{variant:"destructive-tertiary",size:"small",icon:a.jsx(yp,{}),onClick:()=>Z(g.beforeAfter[L.value].id)})]}),_[L.value]&&a.jsxs("div",{className:"mb-4 flex items-center justify-between bg-brand-50 border border-brand-100 p-3 rounded-md",children:[a.jsxs("div",{className:"flex items-center gap-2 overflow-hidden",children:[a.jsx(pw,{className:"w-4 h-4 text-brand-600 flex-shrink-0"}),a.jsx("span",{className:"text-sm text-default-font truncate",children:_[L.value].name}),a.jsx("span",{className:"text-xs text-brand-600 bg-white px-1 rounded",children:"New"})]}),a.jsx(de,{variant:"neutral-tertiary",size:"small",icon:a.jsx(sn,{}),onClick:()=>U(L.value)})]}),a.jsx("input",{type:"file",id:`beforeAfter-${L.value}`,accept:"image/*",className:"hidden",onChange:$=>E(L.value,$.target.files[0]),disabled:d}),a.jsx(de,{variant:"neutral-secondary",size:"small",icon:a.jsx(OT,{}),disabled:d,className:"w-full justify-center",onClick:()=>document.getElementById(`beforeAfter-${L.value}`).click(),children:g.beforeAfter[L.value]?s("treatmentPlanImages.buttons.replace"):s("treatmentPlanImages.buttons.select")})]})]},L.value))]}),a.jsxs("div",{className:"flex w-full items-center justify-end gap-3 pt-4 border-t border-neutral-border mt-auto",children:[a.jsx(de,{variant:"neutral-secondary",onClick:t,disabled:d,children:s("common.cancel")}),a.jsx(de,{variant:"brand-primary",icon:d?null:a.jsx(Tn,{}),onClick:se,disabled:!F()||d,loading:d,children:s(d?"treatmentPlanImages.buttons.uploading":"treatmentPlanImages.buttons.upload")})]})]})})},fU=({isOpen:e,onClose:t,onSave:n,initialData:s={},caseId:l})=>{const{t:o,i18n:d}=ve(),f=d.language==="ar",[m,p]=h.useState(()=>{const R={};for(let k=1;k<=32;k++)R[k]={mesial:s[k]?.mesial||"",distal:s[k]?.distal||""};return R}),[g,b]=h.useState(!1);h.useEffect(()=>{Object.keys(s).length>0&&p(R=>{const k={...R};return Object.keys(s).forEach(N=>{k[N]={mesial:s[N]?.mesial||"",distal:s[N]?.distal||""}}),k})},[s]);const y=(R,k,N)=>{(N===""||/^\d*\.?\d{0,2}$/.test(N))&&p(A=>({...A,[R]:{...A[R],[k]:N}}))},w=async()=>{b(!0);try{const R={};Object.entries(m).forEach(([k,N])=>{const A=N.mesial,P=N.distal,E=A!==""&&A!=="0"&&A!=="0.0"&&A!=="0.00",T=P!==""&&P!=="0"&&P!=="0.0"&&P!=="0.00";(E||T)&&(R[k]={mesial:E?parseFloat(A):0,distal:T?parseFloat(P):0})}),await n(R),t()}catch(R){console.error("Error saving IPR data:",R),alert(o("adminTreatmentPlan.toast.iprFailed")||"Failed to save IPR data. Please try again.")}finally{b(!1)}};if(!e)return null;const j=(R,k)=>a.jsxs("div",{className:"flex flex-col items-center gap-1",style:{width:"48px"},children:[a.jsxs("div",{className:"text-xs font-bold text-gray-700 mb-1",children:["#",R]}),a.jsxs("div",{className:"flex flex-col items-center w-full",children:[a.jsx("div",{className:"text-[10px] text-gray-500 font-medium mb-0.5",children:"M"}),a.jsx("input",{type:"text",inputMode:"decimal",value:m[R]?.mesial||"",onChange:N=>y(R,"mesial",N.target.value),placeholder:"0.0",className:"w-full px-1 py-1 text-xs text-center border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),a.jsxs("div",{className:"flex flex-col items-center w-full",children:[a.jsx("div",{className:"text-[10px] text-gray-500 font-medium mb-0.5",children:"D"}),a.jsx("input",{type:"text",inputMode:"decimal",value:m[R]?.distal||"",onChange:N=>y(R,"distal",N.target.value),placeholder:"0.0",className:"w-full px-1 py-1 text-xs text-center border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),a.jsx("div",{className:"text-[10px] text-gray-400 mt-0.5",children:o("casePage.mm")})]},R),S=()=>[...Array(16)].map((k,N)=>{const A=N+1;return j(A)}),_=()=>[...Array(16)].map((k,N)=>{const A=32-N;return j(A)});return a.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50 p-4",children:a.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-6xl w-full max-h-[90vh] overflow-hidden flex flex-col",children:[a.jsxs("div",{className:"flex items-center justify-between p-6 border-b ",children:[a.jsxs("div",{className:f?"text-right":"",children:[a.jsx("h2",{className:"text-2xl font-semibold text-gray-900",children:o("adminTreatmentPlan.iprChart")}),a.jsx("p",{className:"text-sm text-gray-600 mt-1",children:o("iprChart.instructions.enterValues")})]}),a.jsx("button",{onClick:t,className:"w-8 h-8 flex items-center justify-center rounded-md hover:bg-neutral-100 disabled:opacity-50 disabled:cursor-not-allowed",disabled:g,children:a.jsx(sn,{className:"w-4 h-4 text-neutral-600"})})]}),a.jsxs("div",{className:"flex-1 overflow-y-auto p-6",children:[a.jsxs("div",{className:"flex flex-col items-center gap-12",children:[a.jsxs("div",{className:"w-full",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4 text-center",children:o("iprChart.upperJaw")}),a.jsx("div",{className:"flex justify-center",style:{gap:"4px",direction:"ltr"},children:S()})]}),a.jsx("div",{className:"w-full border-t border-gray-300"}),a.jsxs("div",{className:"w-full",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4 text-center",children:o("iprChart.lowerJaw")}),a.jsx("div",{className:"flex justify-center",style:{gap:"4px",direction:"ltr"},children:_()})]})]}),a.jsxs("div",{className:`mt-8 p-4 bg-brand-50 rounded-lg ${f?"text-right":""}`,children:[a.jsx("h4",{className:"text-body-bold font-body-bold text-default-font mb-2",children:o("iprChart.instructions.title")}),a.jsxs("ul",{className:`text-body font-body text-default-font space-y-1 list-disc ${f?"list-inside mr-4":"list-inside"}`,children:[a.jsx("li",{children:o("iprChart.instructions.enterMillimeters")}),a.jsx("li",{children:o("iprChart.instructions.leaveEmpty")}),a.jsx("li",{children:o("iprChart.instructions.combineValues")}),a.jsx("li",{children:o("iprChart.instructions.clickSave")})]})]})]}),a.jsxs("div",{className:`flex items-center gap-3 p-6 border-t bg-gray-50 ${f?"flex-row-reverse":"justify-end"}`,children:[a.jsx(de,{variant:"neutral-secondary",onClick:t,disabled:g,className:"w-auto",children:o("common.cancel")}),a.jsx(de,{variant:"brand-primary",icon:a.jsx(Mf,{}),onClick:w,disabled:g,className:"w-auto",children:o(g?"common.saving":"iprChart.saveButton")})]})]})})},ds=({label:e,value:t})=>{const{i18n:n}=ve(),s=n.dir()==="rtl";return a.jsxs("div",{dir:s?"rtl":"ltr",className:"text-start",children:[a.jsx("p",{className:"text-xs font-medium text-gray-500 mb-1",children:e}),a.jsx("p",{className:"text-sm text-gray-900",children:t})]})},hU=Me.forwardRef(({caseData:e,upperJawAligners:t,lowerJawAligners:n,estimatedDurationMonths:s,iprData:l},o)=>{const{t:d}=ve(),f=l&&Object.keys(l).length>0;return a.jsxs("div",{ref:o,className:"p-8",children:[a.jsxs("div",{className:"flex items-center justify-between border-b-2 border-brand-600 pb-4 mb-6",children:[a.jsxs("div",{children:[a.jsx("img",{className:"h-10 flex-none object-cover",src:`${window.location.origin}/logo.png`}),a.jsx("p",{className:"text-sm text-gray-600",children:d("adminTreatmentPlan.print.treatmentPlanDetails")})]}),a.jsxs("div",{className:"text-right",children:[a.jsxs("p",{className:"text-sm text-gray-600",children:[d("cases.caseId"),": ",a.jsxs("strong",{children:["CASE-",e.id]})]}),a.jsx("p",{className:"text-sm text-gray-600",children:new Date().toLocaleDateString()})]})]}),a.jsxs("div",{className:"mb-6",children:[a.jsx("h2",{className:"text-xl font-semibold mb-4 text-gray-800",children:d("casePage.patientInformation")}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-3",children:[a.jsx(ds,{label:d("casePage.firstName"),value:zt(e.first_name)||"N/A"}),a.jsx(ds,{label:d("casePage.lastName"),value:zt(e.last_name)||"N/A"})]}),a.jsxs("div",{className:"space-y-3",children:[a.jsx(ds,{label:d("casePage.doctorName"),value:zt(e.profiles?.full_name)||"N/A"}),a.jsx(ds,{label:d("casePage.clinic"),value:e.profiles?.clinic||"N/A"})]})]})]}),a.jsxs("div",{className:"mb-6",children:[a.jsx("h2",{className:"text-xl font-semibold mb-4 text-gray-800",children:d("casePage.treatmentPlanReview")}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-3",children:[a.jsx(ds,{label:d("casePage.alignerMaterial"),value:e.aligner_material||d("casePage.notSpecified")}),a.jsx(ds,{label:d("casePage.treatmentPlan.upperJawAligners"),value:`${t||""} ${d("casePage.treatmentPlan.aligners")}`})]}),a.jsxs("div",{className:"space-y-3",children:[a.jsx(ds,{label:d("casePage.treatmentPlan.lowerJawAligners"),value:`${n||""} ${d("casePage.treatmentPlan.aligners")}`}),a.jsx(ds,{label:d("casePage.treatmentPlan.estimatedDuration"),value:`${s||""} ${d("casePage.treatmentPlan.months")}`})]})]})]}),f&&a.jsxs("div",{className:"mb-6 page-break-inside-avoid",children:[a.jsx("h2",{className:"text-xl font-semibold mb-4 text-gray-800",children:d("adminTreatmentPlan.iprChart")}),a.jsx("div",{className:"border border-gray-300 rounded-lg p-4 bg-white overflow-hidden flex justify-center",children:a.jsx(G9,{toothStatus:e.tooth_status||{},iprData:l})})]}),a.jsx("div",{className:"mt-8 pt-4 border-t border-gray-300 text-center text-xs text-gray-500",children:a.jsx("p",{children:d("adminTreatmentPlan.print.footer",{date:new Date().toLocaleString()})})})]})}),mU=({caseData:e,currentStatus:t,isEditingPlan:n,upperJawAligners:s,setUpperJawAligners:l,lowerJawAligners:o,setLowerJawAligners:d,estimatedDurationMonths:f,setEstimatedDurationMonths:m,caseStudyFee:p,alignersPrice:g,setAlignersPrice:b,deliveryCharges:y,setDeliveryCharges:w,alignerUnitPrice:j,isDisabled:S,handleStartEdit:_,handleCancelEdit:R,handleSendForApproval:k,handleDecline:N,caseHasViewer:A,handleViewerClick:P,viewerLink:E,iprData:T={},onIPRSave:I})=>{const{t:U}=ve(),Z=nr(),[se,F]=h.useState(!1),[L,$]=h.useState(!1),[W,O]=h.useState(!1),[q,B]=h.useState(!1),[Y,D]=h.useState(!1),V=h.useRef(),J=zf.useReactToPrint({contentRef:V,documentTitle:`Case-${e.id}-Treatment-Plan`}),ne=async()=>{try{await navigator.clipboard.writeText(E),D(!0),setTimeout(()=>D(!1),2e3)}catch(_e){console.error("Failed to copy:",_e)}},X=async _e=>{I&&await I(_e)};if(!["accepted","user_rejected","awaiting_user_approval","approved","in_production","ready_for_delivery","delivered","completed"].includes(t))return null;const ce=parseFloat(p||0)+parseFloat(g||0)+parseFloat(y||0),fe=Object.keys(T).length>0,Se=n?["approved","in_production","ready_for_delivery","delivered","completed","user_rejected"].includes(t):!0;return a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"flex w-full flex-col items-start gap-4 rounded-md border border-solid border-neutral-border bg-default-background px-6 pt-4 pb-6 shadow-sm",children:[a.jsxs("div",{className:"flex w-full flex-col gap-2 md:flex-row md:items-center md:justify-between",children:[a.jsx("span",{className:"text-heading-3 font-heading-3 text-default-font",children:U("casePage.treatmentPlanReview")}),!Z&&Se&&a.jsx(de,{size:"small",variant:"neutral-secondary",icon:a.jsx(Cr,{}),onClick:()=>O(!0),children:U("adminTreatmentPlan.printButton")})]}),a.jsxs("div",{className:"flex w-full flex-col gap-6 md:flex-row md:flex-wrap",children:[a.jsxs("div",{className:"w-full md:flex md:gap-6",children:[a.jsx("div",{className:"w-full md:flex-1 flex flex-col gap-4",children:n&&!["approved","in_production","ready_for_delivery","delivered","completed","user_rejected"].includes(t)?a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"flex items-center gap-2 text-caption-bold font-caption-bold text-default-font",children:[U("casePage.alignerMaterial"),":",a.jsxs(qe,{children:[e.aligner_material," (",j,"$)"]})]}),a.jsx(Ee,{label:U("casePage.treatmentPlan.upperJawAligners"),children:a.jsx(Ee.Input,{type:"number",min:1,value:s,onChange:_e=>l(_e.target.value)})}),a.jsx(Ee,{label:U("casePage.treatmentPlan.lowerJawAligners"),children:a.jsx(Ee.Input,{type:"number",min:1,value:o,onChange:_e=>d(_e.target.value)})}),a.jsx(Ee,{label:U("adminTreatmentPlan.estimatedDurationLabel"),children:a.jsx(Ee.Input,{type:"number",min:1,value:f,onChange:_e=>m(_e.target.value)})}),!Z&&a.jsxs("div",{className:"flex w-auto flex-col gap-2 text-caption-bold font-caption-bold text-default-font",children:[U("adminTreatmentPlan.actionButtons"),":",a.jsx(de,{variant:"neutral-secondary",icon:a.jsx(sc,{}),onClick:()=>F(!0),size:"small",className:"flex-2",children:U("adminTreatmentPlan.addViewer")}),a.jsx(de,{variant:fe?"brand-secondary":"neutral-secondary",icon:a.jsx(ag,{}),onClick:()=>$(!0),size:"small",className:"flex-2",children:U(fe?"adminTreatmentPlan.editIPRChart":"adminTreatmentPlan.addIPRChart")})]})]}):a.jsxs(a.Fragment,{children:[a.jsx(Yt,{icon:a.jsx(Sl,{}),label:U("casePage.treatmentPlan.upperJawAligners"),children:a.jsxs(qe,{children:[s||""," ",U("casePage.treatmentPlan.aligners")]})}),a.jsx(Yt,{icon:a.jsx(Sl,{}),label:U("casePage.treatmentPlan.lowerJawAligners"),children:a.jsxs(qe,{children:[o||""," ",U("casePage.treatmentPlan.aligners")]})}),a.jsx(Yt,{icon:a.jsx(Tf,{}),label:U("casePage.treatmentPlan.estimatedDuration"),children:a.jsxs("span",{className:"whitespace-nowrap text-body font-body text-default-font",children:[f||""," ",U("casePage.treatmentPlan.months")]})}),fe&&a.jsx(Yt,{icon:a.jsx(ag,{}),label:U("adminTreatmentPlan.iprChart"),children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(qe,{variant:"brand",children:U("adminTreatmentPlan.available")}),a.jsx(de,{size:"small",variant:"neutral-secondary",onClick:()=>B(!0),children:U("adminTreatmentPlan.viewChart")})]})})]})}),a.jsx("div",{className:"w-full md:flex-1 flex flex-col gap-4",children:n&&!["approved","in_production","ready_for_delivery","delivered","completed","user_rejected"].includes(t)?a.jsxs(a.Fragment,{children:[a.jsx(Ee,{label:U("casePage.treatmentPlan.caseStudyFee"),disabled:!0,children:a.jsx(Ee.Input,{type:"number",min:0,step:"0.01",value:p,placeholder:"0.00",disabled:!0})}),a.jsx(Ee,{label:U("casePage.treatmentPlan.alignersPrice"),children:a.jsx(Ee.Input,{type:"number",min:0,step:"0.01",value:g,onChange:_e=>b(_e.target.value),placeholder:"0.00"})}),a.jsx(Ee,{label:U("casePage.treatmentPlan.deliveryCharges"),children:a.jsx(Ee.Input,{type:"number",min:0,step:"0.01",value:y,onChange:_e=>w(_e.target.value),placeholder:"0.00"})}),a.jsx(Yt,{icon:a.jsx(Cl,{}),label:U("casePage.treatmentPlan.totalCost"),children:a.jsxs("span",{className:"whitespace-nowrap text-heading-3 font-heading-3 text-brand-600",children:["$",ce.toFixed(2)]})})]}):a.jsxs(a.Fragment,{children:[a.jsx(Yt,{icon:a.jsx(fx,{}),label:U("casePage.treatmentPlan.caseStudyFee"),children:a.jsxs("span",{className:"whitespace-nowrap text-body-bold font-body-bold text-default-font",children:["$",parseFloat(p||0).toFixed(2)]})}),a.jsx(Yt,{icon:a.jsx(Sl,{}),label:U("casePage.treatmentPlan.alignersPrice"),children:a.jsxs("span",{className:"whitespace-nowrap text-body-bold font-body-bold text-default-font",children:["$",parseFloat(g||0).toFixed(2)]})}),a.jsx(Yt,{icon:a.jsx(DT,{}),label:U("casePage.treatmentPlan.deliveryCharges"),children:a.jsxs("span",{className:"whitespace-nowrap text-body-bold font-body-bold text-default-font",children:["$",parseFloat(y||0).toFixed(2)]})}),a.jsx(Yt,{icon:a.jsx(Cl,{}),label:U("casePage.treatmentPlan.totalCost"),children:a.jsxs("span",{className:"whitespace-nowrap text-heading-3 font-heading-3 text-brand-600",children:["$",ce.toFixed(2)]})})]})}),A&&a.jsxs("div",{className:"flex w-full flex-col gap-2 md:flex-row md:items-center",children:[a.jsx(de,{onClick:P,icon:a.jsx(El,{}),className:"flex-shrink-0 w-auto",children:U("adminTreatmentPlan.openViewer")}),a.jsx(Ee,{className:"flex flex-grow",children:a.jsx(Ee.Input,{type:"text",value:E||"",readOnly:!0})}),a.jsx(Jt,{icon:a.jsx(pT,{}),onClick:ne,"aria-label":U(Y?"adminTreatmentPlan.copied":"adminTreatmentPlan.copyLink"),variant:Y?"brand-primary":"neutral-secondary",className:"flex-shrink-0"})]})]}),a.jsx("div",{className:"flex h-px w-full flex-none flex-col items-center gap-2 bg-neutral-border"}),a.jsxs("div",{className:"flex w-full items-center justify-between",children:[!Z&&a.jsx("span",{className:"text-body font-body text-subtext-color",children:n&&!["approved","in_production","ready_for_delivery","delivered","completed","user_rejected"].includes(t)?U("adminTreatmentPlan.statusMessages.editing"):t==="awaiting_user_approval"?U("adminTreatmentPlan.statusMessages.awaitingApproval"):t==="approved"?U("adminTreatmentPlan.statusMessages.approved"):t==="rejected"?U("adminTreatmentPlan.statusMessages.rejected"):t==="in_production"?U("adminTreatmentPlan.statusMessages.inProduction"):t==="ready_for_delivery"?U("adminTreatmentPlan.statusMessages.readyForDelivery"):t==="delivered"?U("adminTreatmentPlan.statusMessages.delivered"):t==="user_rejected"?U("adminTreatmentPlan.statusMessages.userRejected"):""}),a.jsx("div",{className:"flex items-center gap-2",children:n&&!["approved","in_production","ready_for_delivery","delivered","completed","user_rejected"].includes(t)?a.jsxs(a.Fragment,{children:[a.jsx(de,{variant:"destructive-secondary",disabled:S,onClick:N,children:U("adminTreatmentPlan.declineCase")}),a.jsx(de,{icon:a.jsx(Tn,{}),disabled:S,onClick:k,children:U("adminTreatmentPlan.sendForApproval")})]}):t!=="rejected"&&["accepted","submitted","awaiting_user_approval"].includes(t)?a.jsx(Jt,{icon:a.jsx(gT,{}),onClick:_,"aria-label":U("adminTreatmentPlan.editPlan")}):null})]})]})]}),a.jsx(uU,{isOpen:se,onClose:()=>F(!1),caseId:e.id}),a.jsx(fU,{isOpen:L,onClose:()=>$(!1),onSave:X,initialData:T,caseId:e.id}),a.jsx(DN,{isOpen:q,onClose:()=>B(!1),toothStatus:e.tooth_status||{},iprData:T}),a.jsx(Pl,{open:W,onOpenChange:O,children:a.jsxs(Pl.Content,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[a.jsxs("div",{className:"flex items-center justify-between px-1 py-3 w-full",children:[a.jsx("span",{className:"text-heading-2 font-heading-2 text-default-font",children:U("adminTreatmentPlan.printDialogTitle")}),a.jsx(de,{variant:"brand-primary",icon:a.jsx(Cr,{}),onClick:()=>{J(),O(!1)},className:"w-auto",children:U("adminTreatmentPlan.printButton")})]}),a.jsx("div",{className:"border border-neutral-border rounded-lg bg-white",children:a.jsx(hU,{ref:V,caseData:e,upperJawAligners:s,lowerJawAligners:o,estimatedDurationMonths:f,iprData:T})})]})})]})},pU=({currentStatus:e,isDisabled:t,handleStatusTransition:n})=>{const{t:s}=ve();if(!["approved","in_production","ready_for_delivery","delivered","completed"].includes(e))return null;const l=()=>{switch(e){case"approved":return a.jsx(de,{disabled:t,onClick:()=>n("in_production"),children:s("manufacturingProgress.buttons.startProduction")});case"in_production":return a.jsx(de,{disabled:t,onClick:()=>n("ready_for_delivery"),children:s("manufacturingProgress.buttons.markReady")});case"ready_for_delivery":return a.jsx(de,{disabled:t,onClick:()=>n("delivered"),children:s("manufacturingProgress.buttons.markDelivered")});default:return null}},o=()=>{switch(e){case"approved":return s("manufacturingProgress.messages.approved");case"in_production":return s("manufacturingProgress.messages.inProduction");case"ready_for_delivery":return s("manufacturingProgress.messages.readyForDelivery");case"delivered":return s("manufacturingProgress.messages.delivered");case"completed":return s("manufacturingProgress.messages.completed");default:return s("manufacturingProgress.messages.default")}};return a.jsxs("div",{className:"flex w-full flex-col items-start gap-4 rounded-md border border-solid border-neutral-border bg-default-background px-6 pt-4 pb-6 shadow-sm",children:[a.jsx("span",{className:"text-heading-3 font-heading-3 text-default-font",children:s("manufacturingProgress.title")}),a.jsxs("div",{className:"flex w-full items-center justify-between",children:[a.jsx("span",{className:"text-body font-body text-subtext-color",children:o()}),a.jsx("div",{className:"flex items-center gap-2",children:l()})]})]})},gU=({caseData:e})=>{const{t}=ve(),[n,s]=h.useState(e?.admin_note||""),[l,o]=h.useState(!1),[d,f]=h.useState(""),[m,p]=h.useState(!1),[g,b]=h.useState(null),y=()=>{f(n),o(!0)},w=()=>{s(d),o(!1),b(null)},j=async()=>{try{p(!0),b(null);const{error:S}=await ee.from("cases").update({admin_note:n}).eq("id",e.id);if(S)throw S;xe.success(t("adminNotes.toast.saved")),o(!1)}catch(S){b(S.message||t("adminNotes.toast.saveFailed")),xe.error(S.message||t("adminNotes.toast.saveFailed"))}finally{p(!1)}};return a.jsxs("div",{className:"flex w-full flex-col items-start gap-4 rounded-md border border-solid border-neutral-border bg-default-background px-6 pt-4 pb-6 shadow-sm",children:[a.jsxs("div",{className:"flex w-full items-center justify-between",children:[a.jsx("span",{className:"text-heading-3 font-heading-3 text-default-font",children:t("adminNotes.title")}),!l&&a.jsx(de,{variant:"neutral-secondary",size:"small",icon:a.jsx(Df,{}),onClick:y,children:t(n?"adminNotes.editNote":"adminNotes.addNote")})]}),g&&a.jsx("div",{className:"w-full",children:a.jsx(et,{error:g})}),a.jsx("div",{className:"w-full",children:l?a.jsxs("div",{className:"flex flex-col gap-4",children:[a.jsxs("div",{className:"flex flex-col gap-2",children:[a.jsx("label",{htmlFor:"adminNoteTextarea",className:"text-body-bold font-body-bold text-default-font",children:t("adminNotes.additionalNotes")}),a.jsx("textarea",{id:"adminNoteTextarea",value:n,onChange:S=>s(S.target.value),placeholder:t("adminNotes.placeholder"),rows:6,className:"w-full px-3 py-2 text-body font-body text-default-font bg-default-background border border-neutral-border rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 resize-vertical min-h-[120px] placeholder:text-subtext-color",disabled:m}),a.jsx("span",{className:"text-caption font-caption text-subtext-color",children:t("adminNotes.helpText")})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(de,{icon:a.jsx(Mf,{}),onClick:j,disabled:m,size:"small",children:t(m?"adminNotes.saving":"adminNotes.saveNote")}),a.jsx(de,{variant:"neutral-secondary",onClick:w,disabled:m,size:"small",children:t("common.cancel")})]})]}):a.jsx("div",{className:"w-full",children:n?a.jsx("div",{className:"w-full bg-white border border-neutral-200 rounded-md p-4 shadow-sm",children:a.jsx("div",{className:"text-body font-body text-neutral-800 whitespace-pre-wrap break-words leading-relaxed",children:n})}):a.jsx("div",{className:"w-full bg-neutral-50 text-sm text-neutral-500 rounded-md p-3",children:t("adminNotes.noNotes")})})})]})},xU=e=>{const[t,n]=h.useState(e?.status),[s,l]=h.useState(!1),[o,d]=h.useState(null),[f,m]=h.useState(null),[p,g]=h.useState(e?.case_study_fee?.toFixed(2)||"0.00"),[b,y]=h.useState(0),[w,j]=h.useState(e?.aligners_price?.toFixed(2)||"0.00"),[S,_]=h.useState(e?.delivery_charges?.toFixed(2)||"25.00"),[R,k]=h.useState(e?.upper_jaw_aligners??""),[N,A]=h.useState(e?.lower_jaw_aligners??""),[P,E]=h.useState(e?.estimated_duration_months??""),[T,I]=h.useState(["submitted","accepted"].includes(e?.status)),[U,Z]=h.useState(null),[se,F]=h.useState(!1),[L,$]=h.useState(!1),[W,O]=h.useState(!1),q=h.useMemo(()=>s,[s]),B=h.useMemo(()=>!["ready_for_delivery","delivered","completed","user_rejected"].includes(t),[t]);h.useEffect(()=>{(async()=>{if(e?.case_study_fee===void 0||e?.case_study_fee===null){const{data:ke}=await ee.from("services").select("price").eq("type","acceptance_fee").eq("is_active",!0).single();g(ke?.price?.toFixed(2)||"0.00")}const{data:Ae}=await ee.from("services").select("price").eq("type","aligners_material").eq("name",e?.aligner_material).eq("is_active",!0).single();y(parseFloat(Ae?.price||0))})()},[e?.aligner_material,e?.case_study_fee]),h.useEffect(()=>{if(e?.aligners_price===void 0||e?.aligners_price===null){const Ae=(parseInt(R||0)+parseInt(N||0))*b;j(Ae.toFixed(2))}},[R,N,b,e?.aligners_price]);const Y=async ge=>{l(!0),d(null),m(null);try{const{error:be}=await ee.from("cases").update(ge).eq("id",e.id);if(be)throw be;m("Case updated successfully."),typeof ge.status=="string"&&n(ge.status)}catch(be){d(be.message||"Failed to update case"),xe.error(be.message||"Failed to update case")}finally{l(!1)}};return{currentStatus:t,saving:s,actionError:o,actionSuccess:f,caseStudyFee:p,setCaseStudyFee:g,alignerUnitPrice:b,alignersPrice:w,setAlignersPrice:j,deliveryCharges:S,setDeliveryCharges:_,upperJawAligners:R,setUpperJawAligners:k,lowerJawAligners:N,setLowerJawAligners:A,estimatedDurationMonths:P,setEstimatedDurationMonths:E,isEditingPlan:T,editBackup:U,showDeclineDialog:se,isDecliningCase:L,isUndoingDecline:W,isDisabled:q,isPlanEditAllowed:B,acceptCase:async()=>{const ge=parseFloat(p||0);await Y({status:"accepted",case_study_fee:ge,total_cost:ge}),xe.success("Case accepted successfully")},handleDecline:()=>{F(!0)},handleConfirmDecline:async ge=>{$(!0);try{const{data:{user:be}}=await ee.auth.getUser(),{error:Ae}=await ee.from("cases").update({status:"rejected",decline_reason:ge,declined_at:new Date().toISOString(),declined_by:be?.id,case_study_fee:0,total_cost:0}).eq("id",e.id);if(Ae)throw Ae;n("rejected"),e.decline_reason=ge,e.declined_at=new Date().toISOString(),e.declined_by=be?.id,F(!1),I(!1),Z(null),xe.success("Case declined successfully")}catch(be){console.error("Error declining case:",be),xe.error(be.message||"Failed to decline case")}finally{$(!1)}},handleCloseDeclineDialog:()=>{F(!1)},handleUndoDecline:async()=>{O(!0);try{const{error:ge}=await ee.from("cases").update({status:"submitted",decline_reason:null,declined_at:null,declined_by:null}).eq("id",e.id);if(ge)throw ge;n("submitted"),I(!0),e.decline_reason=null,e.declined_at=null,e.declined_by=null,xe.success("Case decline has been undone")}catch(ge){console.error("Error undoing decline:",ge),xe.error(ge.message||"Failed to undo decline")}finally{O(!1)}},handleSendForApproval:async()=>{const ge=Number(R),be=Number(N),Ae=Number(P);if(Number.isNaN(ge)||Number.isNaN(be)||Number.isNaN(Ae)||ge<=0||be<=0||Ae<=0){d("Please enter valid positive numbers for all fields"),xe.error("Please enter valid positive numbers for all fields");return}const ke=parseFloat(p||0),ye=parseFloat(w||0),$e=parseFloat(S||0),Ne=ke+ye+$e;await Y({upper_jaw_aligners:ge,lower_jaw_aligners:be,estimated_duration_months:Ae,status:"awaiting_user_approval",aligners_price:ye,delivery_charges:$e,total_cost:Ne}),I(!1),Z(null),xe.success("Sent for doctor approval")},handleStatusTransition:async ge=>{await Y({status:ge})},handleStartEdit:()=>{B&&(Z({upper:R,lower:N,duration:P}),I(!0))},handleCancelEdit:()=>{U&&(k(U.upper),A(U.lower),E(U.duration)),I(!1),Z(null),d(null)},updateCase:Y}},bU=({caseData:e})=>{const{t}=ve(),[n,s]=h.useState(e?.admin_note||""),[l,o]=h.useState(!1),[d,f]=h.useState(""),[m,p]=h.useState(!1),[g,b]=h.useState(null),y=()=>{f(n),o(!0)},w=()=>{s(d),o(!1),b(null)},j=async()=>{try{p(!0),b(null);const{error:S}=await ee.from("cases").update({internal_note:n}).eq("id",e.id);if(S)throw S;xe.success(t("internalNotes.toast.saved")),o(!1)}catch(S){b(S.message||t("internalNotes.toast.saveFailed")),xe.error(S.message||t("internalNotes.toast.saveFailed"))}finally{p(!1)}};return a.jsxs("div",{className:"flex w-full flex-col items-start gap-4 rounded-md border border-solid border-neutral-border bg-default-background px-6 pt-4 pb-6 shadow-sm",children:[a.jsxs("div",{className:"flex w-full items-center justify-between",children:[a.jsx("span",{className:"text-heading-3 font-heading-3 text-default-font",children:t("internalNotes.title")}),!l&&a.jsx(de,{variant:"neutral-secondary",size:"small",icon:a.jsx(Df,{}),onClick:y,children:t(n?"internalNotes.editNote":"internalNotes.addNote")})]}),g&&a.jsx("div",{className:"w-full",children:a.jsx(et,{error:g})}),a.jsx("div",{className:"w-full",children:l?a.jsxs("div",{className:"flex flex-col gap-4",children:[a.jsxs("div",{className:"flex flex-col gap-2",children:[a.jsx("label",{htmlFor:"internalNoteTextarea",className:"text-body-bold font-body-bold text-default-font",children:t("internalNotes.additionalNotes")}),a.jsx("textarea",{id:"internalNoteTextarea",value:n,onChange:S=>s(S.target.value),placeholder:t("internalNotes.placeholder"),rows:6,className:"w-full px-3 py-2 text-body font-body text-default-font bg-default-background border border-neutral-border rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 resize-vertical min-h-[120px] placeholder:text-subtext-color",disabled:m}),a.jsx("span",{className:"text-caption font-caption text-subtext-color",children:t("internalNotes.helpText")})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(de,{icon:a.jsx(Mf,{}),onClick:j,disabled:m,size:"small",children:t(m?"internalNotes.saving":"internalNotes.saveNote")}),a.jsx(de,{variant:"neutral-secondary",onClick:w,disabled:m,size:"small",children:t("common.cancel")})]})]}):a.jsx("div",{className:"w-full",children:n?a.jsx("div",{className:"w-full bg-white border border-neutral-200 rounded-md p-4 shadow-sm",children:a.jsx("div",{className:"text-body font-body text-neutral-800 whitespace-pre-wrap break-words leading-relaxed",children:n})}):a.jsx("div",{className:"w-full bg-neutral-50 text-sm text-neutral-500 rounded-md p-3",children:t("internalNotes.noNotes")})})})]})},vU=()=>{const{t:e}=ve(),{caseData:t,error:n}=pi(),s=ln(),[l,o]=h.useState(!1);Hl();const d=nr(),[f,m]=h.useState(!1),[p,g]=h.useState([]),[b,y]=h.useState(!1),[w,j]=h.useState(null),[S,_]=h.useState(!1);h.useEffect(()=>{f&&R()},[f]);const R=async()=>{y(!0);try{const{data:ze,error:kt}=await ee.from("services").select("*").eq("is_active",!0);if(kt)throw kt;g(ze.filter(_n=>_n.type==="aligners_material"))}catch(ze){console.error("Error fetching services:",ze),xe.error(e("casePage.refinement.errors.loadServicesFailed"))}finally{y(!1)}},[k,N]=h.useState(t?.ipr_data||{}),{downloadingFiles:A,downloadSingleFile:P,downloadAllFiles:E}=ON(),{isEditingNote:T,noteText:I,setNoteText:U,noteSaving:Z,noteError:se,handleEditNote:F,handleCancelEditNote:L,handleSaveNote:$}=LN(t),{currentStatus:W,saving:O,caseStudyFee:q,setCaseStudyFee:B,alignerUnitPrice:Y,alignersPrice:D,setAlignersPrice:V,deliveryCharges:J,setDeliveryCharges:ne,upperJawAligners:X,setUpperJawAligners:ce,lowerJawAligners:fe,setLowerJawAligners:Se,estimatedDurationMonths:_e,setEstimatedDurationMonths:ge,isEditingPlan:be,showDeclineDialog:Ae,isDecliningCase:ke,isUndoingDecline:ye,isDisabled:$e,acceptCase:Ne,handleDecline:Pe,handleConfirmDecline:Fe,handleCloseDeclineDialog:jt,handleUndoDecline:xt,handleSendForApproval:we,handleStatusTransition:lt,handleStartEdit:st,handleCancelEdit:Et,updateCase:vt}=xU(t),[qt,Nt]=h.useState(!1);if(h.useEffect(()=>{t?.ipr_data&&N(t.ipr_data)},[t?.ipr_data]),h.useEffect(()=>{(async()=>{try{const{data:{user:kt}}=await ee.auth.getUser();if(!kt||!t?.id)return;await ee.from("notifications").update({status:"read"}).eq("recipient_id",kt.id).eq("case_id",t.id).eq("status","unread")}catch{}})()},[t?.id]),h.useEffect(()=>{const ze=async()=>{try{const{hasImages:kt}=await UN(t.id);o(kt)}catch{o(!1)}};t.id&&ze()},[t.id]),n)return a.jsx(et,{error:n});if(!t)return a.jsx("p",{className:"text-neutral-500",children:e("casePage.caseNotFound")});const ot=async()=>{try{const{error:ze}=await ee.from("cases").delete().eq("id",t.id);if(ze)throw ze;Nt(!1),xe.success(e("adminCasePage.toast.caseDeleted")),s("/admin/cases")}catch(ze){xe.error(ze.message||e("adminCasePage.toast.deleteFailed"))}},He=()=>{const ze=`/case-viewer/${t.id}`;window.open(ze,"_blank")},ht=`${window.location.origin}/case-viewer/${t.id}`,Mn=async ze=>{try{const{error:kt}=await ee.from("cases").update({ipr_data:ze}).eq("id",t.id);if(kt)throw kt;N(ze),t.ipr_data=ze,xe.success(e("adminCasePage.toast.iprSaved"))}catch(kt){console.error("Error saving IPR data:",kt),xe.error(e("adminCasePage.toast.iprFailed"))}},Nn=async()=>{try{await vt({status:"approved"}),xe.success(e("casePage.toast.planApproved"))}catch(ze){xe.error(ze.message||e("casePage.toast.approveFailed"))}},yt=async ze=>{try{_(!0),j(null);const{data:{user:kt}}=await ee.auth.getUser();if(!kt)throw new et(e("casePage.refinement.errors.notAuthenticated"));const _n=t.profiles?.full_name||"Unknown Doctor",Cn=t.profiles?.clinic||null,_a=`${t.first_name} ${t.last_name}`,Wn=`REF-${t.id}-${Date.now()}`,Fa=async(le,me,je={})=>{if(!le)return null;try{const Te=await qf(le,me,{caseId:je.caseId||Wn,patientName:je.patientName||_a,fileType:je.fileType||me,doctorName:je.doctorName||_n});if(!Te.success)throw new et(Te.error||"Upload failed");return Te.filePath}catch(Te){throw console.error(`Upload error for ${me}:`,Te),Te}};let ar=null,Ia=null,ks=null,Ba=null,za=[];ze.uploadMethod==="individual"?[ar,Ia,ks]=await Promise.all([Fa(ze.upperJawScan,"upper-jaw-scans",{caseId:Wn,patientName:_a,doctorName:_n,clinicName:Cn,fileType:e("caseSubmit.upperJawScan")}),Fa(ze.lowerJawScan,"lower-jaw-scans",{caseId:Wn,patientName:_a,doctorName:_n,clinicName:Cn,fileType:e("caseSubmit.lowerJawScan")}),Fa(ze.biteScan,"bite-scans",{caseId:Wn,patientName:_a,doctorName:_n,clinicName:Cn,fileType:e("caseSubmit.biteScan")})]):ze.uploadMethod==="compressed"&&(Ba=await Fa(ze.compressedScans,"compressed-scans",{caseId:Wn,patientName:_a,doctorName:_n,clinicName:Cn,fileType:e("caseSubmit.compressedScans")})),ze.additionalFiles&&ze.additionalFiles.length>0&&(za=await Promise.all(ze.additionalFiles.map((le,me)=>Fa(le,"additional-files",{caseId:Wn,patientName:_a,doctorName:_n,clinicName:Cn,fileType:e("caseSubmit.additionalFile",{number:me+1})}))));const{data:Or}=await ee.from("cases").select("refinement_number").eq("parent_case_id",t.id).order("refinement_number",{ascending:!1}).limit(1),Ts=Or?.[0]?.refinement_number?Or[0].refinement_number+1:1,G={user_id:t.user_id,parent_case_id:t.id,refinement_number:Ts,first_name:t.first_name,last_name:t.last_name,refinement_reason:ze.reason?.trim()||"Admin refinement",aligner_material:ze.alignerMaterial||t.aligner_material,treatment_arch:ze.treatmentArch||t.treatment_arch,upload_method:ze.uploadMethod,upper_jaw_scan_url:ar,lower_jaw_scan_url:Ia,bite_scan_url:ks,compressed_scans_url:Ba,additional_files_urls:za||[],tooth_status:ze.toothStatus||{},upper_midline:ze.upperMidline||null,upper_midline_shift:ze.upperMidlineShift||null,lower_midline:ze.lowerMidline||null,lower_midline_shift:ze.lowerMidlineShift||null,canine_right_class:ze.canineRightClass||null,canine_left_class:ze.canineLeftClass||null,molar_right_class:ze.molarRightClass||null,molar_left_class:ze.molarLeftClass||null,status:"submitted"},{error:te}=await ee.from("cases").insert(G);if(te)throw te;xe.success(e("casePage.refinement.success.submitted")),m(!1),window.location.reload()}catch(kt){console.error("Submit error:",kt),j(kt.message||e("casePage.refinement.errors.submitFailed")),xe.error(kt.message)}finally{_(!1)}},on=()=>{S||(j(null),m(!1))};return a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"flex w-full flex-col items-start gap-2",children:[a.jsxs(Ut,{children:[a.jsx(rt,{to:"/admin/cases",children:a.jsx(Ut.Item,{children:e("navigation.cases")})}),a.jsx(Ut.Divider,{}),a.jsx(Ut.Item,{active:!0,children:e("casePage.caseDetails")})]}),a.jsxs("div",{className:"flex w-full items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("span",{className:"text-heading-2 font-heading-2 text-default-font",children:e("casePage.caseNumber",{id:t.id})}),a.jsx(Mr,{status:W}),t.parent_case_id&&a.jsx(qe,{variant:"brand",icon:a.jsx($n,{}),children:e("casePage.refinementBadge",{number:t.refinement_number||1})})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[t.parent_case_id&&a.jsx(de,{variant:"neutral-secondary",icon:a.jsx($n,{}),asChild:!0,children:a.jsx(rt,{to:`/admin/cases/${t.parent_case_id}`,children:e("casePage.viewOriginalCase")})}),a.jsx(de,{variant:"neutral-secondary",icon:a.jsx(_r,{}),onClick:()=>E(t),disabled:A.size>0,children:A.size>0?e("casePage.downloading"):e("casePage.downloadFiles")}),l&&a.jsx(de,{onClick:He,icon:a.jsx(El,{}),children:e("casePage.openViewer")})]})]})]}),qt&&a.jsx(Pl,{open:qt,onOpenChange:Nt,children:a.jsxs(Pl.Content,{className:"p-6 max-w-[480px]",children:[a.jsx("div",{className:"flex items-start gap-3",children:a.jsx("span",{className:"text-heading-3 font-heading-3 text-default-font",children:e("casePage.deleteCase")})}),a.jsx("div",{className:"mt-2 text-body font-body text-subtext-color",children:e("casePage.deleteCaseConfirm")}),a.jsxs("div",{className:"mt-4 flex items-center justify-end gap-2",children:[a.jsx(de,{variant:"neutral-secondary",onClick:()=>Nt(!1),disabled:O,children:e("common.cancel")}),a.jsx(de,{variant:"destructive-primary",onClick:ot,disabled:O,icon:a.jsx(Nr,{}),children:e("common.delete")})]})]})}),W==="rejected"&&t.decline_reason&&a.jsx(ya,{variant:"destructive",icon:a.jsx(Nr,{}),title:e("adminCasePage.caseDeclined"),description:a.jsxs("div",{className:"space-y-2",children:[a.jsxs("p",{children:[a.jsxs("strong",{children:[e("casePage.reason"),":"]})," ",t.decline_reason]}),t.declined_at&&a.jsxs("p",{className:"text-sm opacity-75",children:[e("casePage.declinedOn")," ",new Date(t.declined_at).toLocaleDateString()," ",e("casePage.at")," ",new Date(t.declined_at).toLocaleTimeString()]})]}),actions:a.jsx(de,{variant:"destructive-secondary",size:"small",icon:a.jsx(_T,{}),onClick:xt,disabled:ye,children:e(ye?"casePage.undoing":"casePage.undoDecline")})}),W!=="rejected"&&W!=="user_rejected"&&a.jsx(ya,{variant:"success",icon:a.jsx(oT,{}),title:e(`casePage.alerts.${W}.title`),description:e(`casePage.alerts.${W}.description`),actions:null}),W==="user_rejected"&&a.jsx(ya,{variant:"destructive",icon:a.jsx(Nr,{}),title:e("casePage.alerts.user_rejected.title"),description:e("casePage.alerts.user_rejected.description"),actions:null}),a.jsxs("div",{className:"flex w-full flex-col items-start gap-6",children:[a.jsx(kN,{caseData:t,isAdmin:!0}),W==="completed"&&t.satisfaction_rating&&a.jsx($N,{caseData:t}),(W==="user_rejected"||W==="rejected")&&t.decline_reason&&a.jsxs("div",{className:"flex w-full flex-col items-start gap-4 rounded-md border border-solid border-red-200 bg-red-50 px-6 pt-4 pb-6 shadow-sm",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Nr,{className:"w-5 h-5 text-red-600"}),a.jsx("span",{className:"text-heading-3 font-heading-3 text-red-900",children:e(W==="user_rejected"?"adminCasePage.doctorDeclineReason":"adminCasePage.adminDeclineReason")})]}),a.jsx("div",{className:"w-full bg-white border border-red-200 rounded-md p-4 shadow-sm",children:a.jsx("div",{className:"text-body font-body text-neutral-800 whitespace-pre-wrap break-words leading-relaxed",children:t.decline_reason})}),t.declined_at&&a.jsxs("div",{className:"text-caption font-caption text-red-700",children:[e("casePage.declinedOn")," ",new Date(t.declined_at).toLocaleDateString()," ",e("casePage.at")," ",new Date(t.declined_at).toLocaleTimeString()]})]}),a.jsx(bU,{caseData:t}),a.jsx(FN,{caseData:t}),t.user_note&&a.jsx(TN,{noteText:I,setNoteText:U,isEditingNote:T,noteSaving:Z,noteError:se,handleEditNote:F,handleCancelEditNote:L,handleSaveNote:$,caseData:t,isAdmin:!0}),!d&&a.jsxs("div",{className:"flex w-full flex-col items-start gap-6 rounded-md border border-solid border-neutral-border bg-default-background px-6 pt-4 pb-6 shadow-sm",children:[a.jsx("span",{className:"text-heading-3 font-heading-3 text-default-font",children:e("casePage.dentalChart")}),a.jsx("div",{className:"flex w-full justify-center",children:a.jsx(Vl,{initialStatus:t.tooth_status||{},onChange:ze=>ee.from("cases").update({tooth_status:ze}).eq("id",t.id),readOnly:!0})})]}),a.jsx(dU,{currentStatus:W,caseStudyFee:q,setCaseStudyFee:B,saving:O,acceptCase:Ne,handleDecline:Pe}),a.jsx(gU,{caseData:t}),a.jsx(mU,{caseData:t,currentStatus:W,isEditingPlan:be,upperJawAligners:X,setUpperJawAligners:ce,lowerJawAligners:fe,setLowerJawAligners:Se,estimatedDurationMonths:_e,setEstimatedDurationMonths:ge,caseStudyFee:q,setCaseStudyFee:B,alignersPrice:D,setAlignersPrice:V,deliveryCharges:J,setDeliveryCharges:ne,alignerUnitPrice:Y,isDisabled:$e,handleStartEdit:st,handleCancelEdit:Et,handleSendForApproval:we,handleDecline:Pe,caseHasViewer:l,handleViewerClick:He,viewerLink:ht,iprData:k,onIPRSave:Mn}),a.jsx(pU,{currentStatus:W,isDisabled:$e,handleStatusTransition:lt}),a.jsx(MN,{caseData:t,downloadingFiles:A,handleFileDownload:P}),a.jsx(PN,{caseData:t}),a.jsxs("div",{className:"flex w-full items-center justify-end gap-2",children:[W==="delivered"&&a.jsx(de,{variant:"brand-secondary",icon:a.jsx($n,{}),onClick:()=>m(!0),className:"w-auto",children:e("casePage.refinement.requestRefinement")}),W==="awaiting_user_approval"&&a.jsx(de,{variant:"brand",icon:a.jsx(Tn,{}),onClick:Nn,disabled:O,className:"w-auto",children:e("adminCasePage.approvePlan")}),a.jsx(de,{variant:"destructive-primary",icon:a.jsx(Nr,{}),onClick:()=>Nt(!0),className:"w-auto",children:e("casePage.deleteCase")})]})]}),a.jsx(AN,{isOpen:f,onClose:on,onSubmit:yt,originalCaseData:t,alignerMaterials:p,loadingMaterials:b,loading:S,error:w,isAdminMode:!0}),a.jsx(cU,{isOpen:Ae,onClose:jt,onConfirm:Fe,isLoading:ke})]})},yU=Me.forwardRef(({transaction:e,casesData:t},n)=>{const{t:s,i18n:l}=ve(),o=l.dir()==="rtl",d={submitted:s("caseStatusBadge.submitted"),accepted:s("caseStatusBadge.accepted"),under_review:s("caseStatusBadge.underReview"),rejected:s("caseStatusBadge.rejected"),awaiting_patient_approval:s("caseStatusBadge.awaitingApproval"),patient_rejected:s("caseStatusBadge.patientRejected"),awaiting_user_approval:s("caseStatusBadge.awaitingApproval"),user_rejected:s("caseStatusBadge.userRejected"),approved:s("caseStatusBadge.approved"),in_production:s("caseStatusBadge.inProduction"),ready_for_delivery:s("caseStatusBadge.readyForDelivery"),delivered:s("caseStatusBadge.delivered"),completed:s("caseStatusBadge.completed")},f=e.id,m=new Date(e.datetime).toLocaleDateString();return a.jsxs("div",{ref:n,className:"p-8 bg-white",dir:o?"rtl":"ltr",children:[a.jsxs("div",{className:"flex items-center justify-between border-b-2 border-brand-600 pb-4 mb-6",children:[a.jsxs("div",{children:[a.jsx("img",{className:"h-10 flex-none object-cover",src:`${window.location.origin}/logo.png`,alt:"Logo"}),a.jsx("p",{className:"text-sm text-gray-600 mt-2",children:s("paymentCollectionDialog.paymentReceipt")})]}),a.jsxs("div",{className:o?"text-left":"text-right",children:[a.jsxs("p",{className:"text-sm text-gray-600",children:[a.jsxs("strong",{children:[s("paymentCollectionDialog.invoice")," #:"]})," ",f]}),a.jsxs("p",{className:"text-sm text-gray-600",children:[a.jsxs("strong",{children:[s("transactions.table.date"),":"]})," ",m]})]})]}),a.jsxs("div",{className:"mb-6",children:[a.jsx("h2",{className:"text-xl font-semibold mb-4 text-gray-800",children:s("paymentCollectionDialog.doctorLabel")}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-xs font-medium text-gray-500 mb-1",children:s("paymentCollectionDialog.name")}),a.jsx("p",{className:"text-sm text-gray-900",children:e.from})]}),e.email!=="-"&&a.jsxs("div",{children:[a.jsx("p",{className:"text-xs font-medium text-gray-500 mb-1",children:s("auth.email")}),a.jsx("p",{className:"text-sm text-gray-900",children:e.email})]})]}),a.jsx("div",{className:"space-y-2",children:e.clinic!=="-"&&a.jsxs("div",{children:[a.jsx("p",{className:"text-xs font-medium text-gray-500 mb-1",children:s("casePage.clinic")}),a.jsx("p",{className:"text-sm text-gray-900",children:e.clinic})]})})]})]}),a.jsxs("div",{className:"mb-6",children:[a.jsx("h2",{className:"text-xl font-semibold mb-4 text-gray-800",children:s("paymentCollectionDialog.paymentSummary")}),a.jsxs("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-4",children:[a.jsxs("div",{className:"flex justify-between items-center mb-2",children:[a.jsx("span",{className:"text-sm font-medium text-gray-700",children:s("paymentCollectionDialog.paymentAmount")}),a.jsxs("span",{className:"text-lg font-bold text-gray-900",children:["$",e.amount.toFixed(2)]})]}),e.description&&a.jsxs("div",{className:"mt-3 pt-3 border-t border-gray-200",children:[a.jsx("p",{className:"text-xs font-medium text-gray-500 mb-1",children:s("paymentCollectionDialog.notes")}),a.jsx("p",{className:"text-sm text-gray-700",children:e.description})]})]})]}),t&&t.length>0&&a.jsxs("div",{className:"mb-6",children:[a.jsx("h2",{className:"text-xl font-semibold mb-4 text-gray-800",children:s("paymentCollectionDialog.casesIncluded")}),a.jsx("div",{className:"border border-gray-200 rounded-lg overflow-hidden",children:a.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:`px-4 py-3 text-xs font-medium text-gray-500 uppercase tracking-wider ${o?"text-right":"text-left"}`,children:s("cases.caseId")}),a.jsx("th",{className:`px-4 py-3 text-xs font-medium text-gray-500 uppercase tracking-wider ${o?"text-right":"text-left"}`,children:s("paymentCollectionDialog.patient")}),a.jsx("th",{className:`px-4 py-3 text-xs font-medium text-gray-500 uppercase tracking-wider ${o?"text-right":"text-left"}`,children:s("paymentCollectionDialog.statusLabel")}),a.jsx("th",{className:`px-4 py-3 text-xs font-medium text-gray-500 uppercase tracking-wider ${o?"text-right":"text-left"}`,children:s("casePage.treatmentPlan.totalCost")}),a.jsx("th",{className:`px-4 py-3 text-xs font-medium text-gray-500 uppercase tracking-wider ${o?"text-right":"text-left"}`,children:s("paymentCollectionDialog.paymentAmountLabel")})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:t.map(p=>a.jsxs("tr",{children:[a.jsxs("td",{className:`px-4 py-3 text-sm text-gray-900 ${o?"text-right":"text-left"}`,children:[s("doctorTransactions.case")," #",p.id]}),a.jsxs("td",{className:`px-4 py-3 text-sm text-gray-900 ${o?"text-right":"text-left"}`,children:[p.first_name," ",p.last_name]}),a.jsx("td",{className:`px-4 py-3 text-sm text-gray-700 ${o?"text-right":"text-left"}`,children:d[p.status]||p.status}),a.jsxs("td",{className:`px-4 py-3 text-sm text-gray-900 ${o?"text-right":"text-left"}`,children:["$",parseFloat(p.total_cost||0).toFixed(2)]}),a.jsxs("td",{className:`px-4 py-3 text-sm font-medium text-gray-900 ${o?"text-right":"text-left"}`,children:["$",p.paymentApplied.toFixed(2)]})]},p.id))}),a.jsx("tfoot",{className:"bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("td",{colSpan:"4",className:`px-4 py-3 text-sm font-medium text-gray-900 ${o?"text-right":"text-left"}`,children:s("paymentCollectionDialog.totalPayment")}),a.jsxs("td",{className:`px-4 py-3 text-sm font-bold text-gray-900 ${o?"text-right":"text-left"}`,children:["$",e.amount.toFixed(2)]})]})})]})})]}),a.jsx("div",{className:"mt-8 pt-4 border-t border-gray-300 text-center text-xs text-gray-500",children:a.jsx("p",{children:s("adminTreatmentPlan.print.footer",{date:new Date().toLocaleString()})})})]})});function wU(){const{t:e}=ve(),{role:t}=Hl(),n=Bf(t),[s,l]=h.useState([]),[o,d]=h.useState(!0),[f,m]=h.useState(!1),[p,g]=h.useState(null),[b,y]=h.useState(null),[w,j]=h.useState(!1),[S,_]=h.useState(null),[R,k]=h.useState(!1),[N,A]=h.useState(null),[P,E]=h.useState([]),[T,I]=h.useState(!1),U=h.useRef(),[Z,se]=h.useState(""),[F,L]=h.useState("all"),[$,W]=h.useState("all"),[O,q]=h.useState("all"),[B,Y]=h.useState(""),[D,V]=h.useState(""),[J,ne]=h.useState(!1),X=zf.useReactToPrint({contentRef:U,documentTitle:`Invoice-${N?.id||"Receipt"}`}),ce=h.useMemo(()=>{const we=new Set;return s.forEach(lt=>{const st=new Date(lt.datetime).getFullYear();we.add(st)}),Array.from(we).sort((lt,st)=>st-lt)},[s]);h.useEffect(()=>{fe()},[]);const fe=async(we=!1)=>{try{we?m(!0):d(!0),g(null);const{data:lt,error:st}=await ee.from("payments").select("id, amount, type, notes, created_at, doctor_id, admin_id").order("created_at",{ascending:!1});if(st)throw st;const Et=[...new Set(lt.map(yt=>yt.doctor_id).filter(Boolean))],vt=[...new Set(lt.map(yt=>yt.admin_id).filter(Boolean))],{data:qt,error:Nt}=await ee.from("profiles").select("id, full_name, email, clinic").in("id",Et);if(Nt)throw Nt;const{data:ot,error:He}=await ee.from("profiles").select("id, full_name").in("id",vt);if(He)throw He;const ht=(qt||[]).reduce((yt,on)=>(yt[on.id]=on,yt),{}),Mn=(ot||[]).reduce((yt,on)=>(yt[on.id]=on,yt),{}),Nn=(lt||[]).map(yt=>{const on=yt.doctor_id?ht[yt.doctor_id]:null,ze=yt.admin_id?Mn[yt.admin_id]:null;return{id:`TXN-${yt.id.toString().slice(0,8)}`,fullId:yt.id,date:new Date(yt.created_at).toLocaleDateString("en-GB"),datetime:yt.created_at,type:yt.type==="payment"?"payment_received":"expense",description:yt.notes||(yt.type==="payment"?`Payment from ${on?.full_name||"Unknown"}`:"Expense"),from:yt.type==="payment"?on?.full_name||"Unknown Doctor":yt.notes||"Expense",email:on?.email||"-",clinic:on?.clinic||"-",amount:parseFloat(yt.amount||0),status:"completed",processedBy:ze?.full_name||"System"}});l(Nn)}catch(lt){console.error("Error fetching transactions:",lt),g(lt.message||"Failed to load transactions")}finally{d(!1),m(!1)}},Se=()=>{fe(!0)},_e=async we=>{A(we),k(!0),I(!0),E([]);try{const{data:lt,error:st}=await ee.from("payment_case_allocations").select(`
          allocated_amount,
          cases (
            id,
            first_name,
            last_name,
            status,
            total_cost
          )
        `).eq("payment_id",we.fullId);if(st)console.error("Error fetching invoice details:",st);else if(lt){const Et=lt.map(vt=>({...vt.cases,paymentApplied:parseFloat(vt.allocated_amount)}));E(Et)}}catch(lt){console.error("Error fetching invoice details:",lt)}finally{I(!1)}},ge=()=>{X(),setTimeout(()=>{k(!1),A(null),E([])},500)},be=()=>{k(!1),A(null),E([])},Ae=we=>{_(we),j(!0)},ke=async()=>{if(S)try{y(S.fullId),g(null);const{error:we}=await ee.from("payments").delete().eq("id",S.fullId);if(we)throw we;l(lt=>lt.filter(st=>st.fullId!==S.fullId)),j(!1),_(null)}catch(we){console.error("Error deleting transaction:",we),g(we.message||"Failed to delete transaction")}finally{y(null)}},ye=()=>{j(!1),_(null)},$e=h.useMemo(()=>s.filter(we=>{const lt=we.from.toLowerCase().includes(Z.toLowerCase())||we.email.toLowerCase().includes(Z.toLowerCase())||we.id.toLowerCase().includes(Z.toLowerCase())||we.description.toLowerCase().includes(Z.toLowerCase())||we.clinic.toLowerCase().includes(Z.toLowerCase()),st=F==="all"||we.type===F,Et=new Date(we.datetime),vt=new Date;let qt=!0;if($!=="all"){if($==="today")qt=Et.toDateString()===vt.toDateString();else if($==="week"){const He=new Date(vt);He.setDate(He.getDate()-7),qt=Et>=He}else if($==="month"){const He=new Date(vt);He.setMonth(He.getMonth()-1),qt=Et>=He}}let Nt=!0;O!=="all"&&(Nt=Et.getFullYear()===parseInt(O));let ot=!0;if(B||D){if(B){const He=new Date(B);He.setHours(0,0,0,0),ot=ot&&Et>=He}if(D){const He=new Date(D);He.setHours(23,59,59,999),ot=ot&&Et<=He}}return lt&&st&&qt&&Nt&&ot}),[s,Z,F,$,O,B,D]),Ne=h.useMemo(()=>{const we=$e.filter(vt=>vt.type==="payment_received"),lt=$e.filter(vt=>vt.type==="expense"),st=we.reduce((vt,qt)=>vt+qt.amount,0),Et=lt.reduce((vt,qt)=>vt+qt.amount,0);return{total:$e.length,revenue:st,expenses:Et,netIncome:st-Et}},[$e]),Pe=we=>e(we==="payment_received"?"transactions.paymentReceived":"transactions.expense"),Fe=()=>{const we=[e("transactions.table.transactionId"),e("transactions.table.date"),e("transactions.table.type"),e("transactions.table.from"),e("transactions.table.email"),e("transactions.table.clinic"),e("transactions.table.description"),e("transactions.table.amount"),e("transactions.table.processedBy")],lt=$e.map(ht=>[ht.id,ht.date,Pe(ht.type),ht.from,ht.email,ht.clinic,ht.description,ht.amount.toFixed(2),ht.processedBy]),st=ht=>{const Mn=String(ht);return Mn.includes(",")||Mn.includes('"')||Mn.includes(`
`)?`"${Mn.replace(/"/g,'""')}"`:Mn},Et=[we.map(st).join(","),...lt.map(ht=>ht.map(st).join(","))].join(`
`);let vt="transaction-log";F!=="all"&&(vt+=`-${F}`),O!=="all"&&(vt+=`-${O}`),B||D?vt+="-custom-range":$!=="all"&&(vt+=`-${$}`),vt+=`-${new Date().toISOString().split("T")[0]}.csv`;const qt="\uFEFF",Nt=new Blob([qt+Et],{type:"text/csv;charset=utf-8;"}),ot=window.URL.createObjectURL(Nt),He=document.createElement("a");He.href=ot,He.download=vt,He.click(),window.URL.revokeObjectURL(ot)},jt=()=>{se(""),L("all"),W("all"),q("all"),Y(""),V("")},xt=Z||F!=="all"||$!=="all"||O!=="all"||B||D;return a.jsxs(a.Fragment,{children:[p&&a.jsx(et,{error:p}),a.jsxs(Ut,{children:[a.jsx(rt,{to:"/admin/billing",children:a.jsx(Ut.Item,{children:e("navigation.billing")})}),a.jsx(Ut.Divider,{}),a.jsx(Ut.Item,{active:!0,children:e("transactions.title")})]}),a.jsx(wi,{submit:!1,children:e("transactions.title")}),a.jsxs("div",{className:"flex w-full items-center justify-between gap-4",children:[a.jsx("p",{className:"text-body font-body text-subtext-color",children:e("transactions.subtitle")}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Jt,{icon:a.jsx($n,{className:f?"animate-spin":""}),onClick:Se,disabled:f}),a.jsx(de,{variant:"brand-primary",size:"medium",icon:a.jsx(_r,{}),onClick:Fe,className:"w-auto",children:e("transactions.exportCSV")})]})]}),o?a.jsx("div",{className:"flex w-full h-full min-h-[200px] justify-center items-center",children:a.jsx(Qt,{size:"medium"})}):a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"grid w-full grid-cols-1 gap-4 md:grid-cols-4",children:[a.jsx(pu,{label:e("transactions.stats.totalTransactions"),value:Ne.total.toString()}),a.jsx(pu,{label:e("transactions.stats.totalRevenue"),value:`$${Ne.revenue.toFixed(2)}`,valueClass:"text-success-600"}),a.jsx(pu,{label:e("transactions.stats.totalExpenses"),value:`$${Ne.expenses.toFixed(2)}`,valueClass:"text-error-600"}),a.jsx(pu,{label:e("transactions.stats.netIncome"),value:`$${Ne.netIncome.toFixed(2)}`,valueClass:Ne.netIncome>=0?"text-success-600":"text-error-600"})]}),a.jsxs("div",{className:"flex flex-col gap-3",children:[a.jsxs("div",{className:"flex w-full items-center gap-2 justify-stretch flex-wrap",children:[a.jsx("div",{className:"flex-grow max-w-[400px]",children:a.jsx(Ee,{variant:"filled",label:"",helpText:"",icon:a.jsx(Dr,{}),children:a.jsx(Ee.Input,{placeholder:e("transactions.searchPlaceholder"),value:Z,onChange:we=>se(we.target.value)})})}),a.jsxs("select",{value:F,onChange:we=>L(we.target.value),className:"rounded-md border border-neutral-border bg-default-background px-3 py-2 text-body font-body text-default-font outline-none focus:border-brand-600",children:[a.jsx("option",{value:"all",children:e("transactions.filters.allTypes")}),a.jsx("option",{value:"payment_received",children:e("transactions.filters.paymentsReceived")}),a.jsx("option",{value:"expense",children:e("transactions.filters.expenses")})]}),a.jsxs("select",{value:$,onChange:we=>W(we.target.value),className:"rounded-md border border-neutral-border bg-default-background px-3 py-2 text-body font-body text-default-font outline-none focus:border-brand-600",children:[a.jsx("option",{value:"all",children:e("transactions.filters.allTime")}),a.jsx("option",{value:"today",children:e("transactions.filters.today")}),a.jsx("option",{value:"week",children:e("transactions.filters.lastWeek")}),a.jsx("option",{value:"month",children:e("transactions.filters.lastMonth")})]}),a.jsx(de,{size:"sm",variant:J?"neutral-secondary":"neutral-tertiary",onClick:()=>ne(!J),icon:a.jsx(yS,{}),children:"Advanced Filters"}),xt&&a.jsx(de,{size:"sm",variant:"neutral-tertiary",className:"px-2 w-auto",onClick:jt,icon:a.jsx(sn,{}),children:e("common.clear")})]}),J&&a.jsxs("div",{className:"rounded-md border border-neutral-border bg-neutral-50 p-4",children:[a.jsx("h3",{className:"text-body-bold font-body-bold text-default-font mb-3",children:"Advanced Date Filters"}),a.jsxs("div",{className:"flex flex-wrap gap-4",children:[a.jsxs("div",{className:"flex flex-col gap-1.5",children:[a.jsx("label",{className:"text-caption-bold font-caption-bold text-subtext-color",children:"Filter by Year"}),a.jsxs("select",{value:O,onChange:we=>q(we.target.value),className:"rounded-md border border-neutral-border bg-default-background px-3 py-2 text-body font-body text-default-font outline-none focus:border-brand-600 min-w-[140px]",children:[a.jsx("option",{value:"all",children:"All Years"}),ce.map(we=>a.jsx("option",{value:we,children:we},we))]})]}),a.jsxs("div",{className:"flex flex-col gap-1.5",children:[a.jsx("label",{className:"text-caption-bold font-caption-bold text-subtext-color",children:"From Date"}),a.jsx("input",{type:"date",value:B,onChange:we=>Y(we.target.value),className:"rounded-md border border-neutral-border bg-default-background px-3 py-2 text-body font-body text-default-font outline-none focus:border-brand-600"})]}),a.jsxs("div",{className:"flex flex-col gap-1.5",children:[a.jsx("label",{className:"text-caption-bold font-caption-bold text-subtext-color",children:"To Date"}),a.jsx("input",{type:"date",value:D,onChange:we=>V(we.target.value),className:"rounded-md border border-neutral-border bg-default-background px-3 py-2 text-body font-body text-default-font outline-none focus:border-brand-600"})]})]}),(B||D)&&a.jsx("p",{className:"text-caption font-caption text-subtext-color mt-2",children:B&&D?`Showing transactions from ${new Date(B).toLocaleDateString("en-GB")} to ${new Date(D).toLocaleDateString("en-GB")}`:B?`Showing transactions from ${new Date(B).toLocaleDateString("en-GB")} onwards`:`Showing transactions up to ${new Date(D).toLocaleDateString("en-GB")}`})]}),xt&&a.jsxs("div",{className:"flex flex-wrap gap-2 items-center",children:[a.jsx("span",{className:"text-xs text-neutral-600",children:"Active filters:"}),F!=="all"&&a.jsxs(qe,{variant:"neutral",className:"text-xs",children:["Type:"," ",F==="payment_received"?"Payments":"Expenses",a.jsx("button",{onClick:()=>L("all"),className:"ml-1 hover:text-neutral-800",children:""})]}),$!=="all"&&a.jsxs(qe,{variant:"neutral",className:"text-xs",children:["Period: ",$,a.jsx("button",{onClick:()=>W("all"),className:"ml-1 hover:text-neutral-800",children:""})]}),O!=="all"&&a.jsxs(qe,{variant:"neutral",className:"text-xs",children:["Year: ",O,a.jsx("button",{onClick:()=>q("all"),className:"ml-1 hover:text-neutral-800",children:""})]}),(B||D)&&a.jsxs(qe,{variant:"neutral",className:"text-xs",children:["Custom Range: ",B||"..."," to ",D||"...",a.jsx("button",{onClick:()=>{Y(""),V("")},className:"ml-1 hover:text-neutral-800",children:""})]}),Z&&a.jsxs(qe,{variant:"neutral",className:"text-xs",children:['Search: "',Z,'"',a.jsx("button",{onClick:()=>se(""),className:"ml-1 hover:text-neutral-800",children:""})]})]})]}),a.jsx(z,{header:a.jsxs(z.HeaderRow,{children:[a.jsx(z.HeaderCell,{children:e("transactions.table.id")}),a.jsx(z.HeaderCell,{children:e("transactions.table.date")}),a.jsx(z.HeaderCell,{children:e("transactions.table.from")}),a.jsx(z.HeaderCell,{children:e("transactions.table.description")}),a.jsx(z.HeaderCell,{children:e("transactions.table.type")}),a.jsx(z.HeaderCell,{children:e("transactions.table.amount")}),a.jsx(z.HeaderCell,{children:e("common.actions")})]}),children:$e.length===0?a.jsx(z.Row,{children:a.jsx(z.Cell,{colSpan:7,children:a.jsx("div",{className:"text-center py-8",children:a.jsx("span",{className:"text-neutral-500",children:e("transactions.noTransactions")})})})}):$e.map(we=>a.jsxs(z.Row,{children:[a.jsx(z.Cell,{children:a.jsx("span",{className:"whitespace-nowrap text-body-bold font-body-bold text-neutral-700",children:we.id})}),a.jsx(z.Cell,{children:a.jsx("span",{className:"whitespace-nowrap text-body font-body text-neutral-500",children:we.date})}),a.jsx(z.Cell,{children:a.jsxs("div",{className:"flex flex-col gap-0.5",children:[a.jsx("span",{className:"text-body-bold font-body-bold text-neutral-700",children:we.from}),we.email!=="-"&&a.jsx("span",{className:"text-caption font-caption text-neutral-500",children:we.email}),we.clinic!=="-"&&a.jsx("span",{className:"text-caption font-caption text-neutral-500",children:we.clinic})]})}),a.jsx(z.Cell,{children:a.jsxs("div",{className:"flex flex-col gap-0.5",children:[a.jsx("span",{className:"text-body font-body text-neutral-700",children:we.description}),a.jsxs("span",{className:"text-caption font-caption text-neutral-500",children:[e("transactions.processedBy")," ",we.processedBy]})]})}),a.jsx(z.Cell,{children:a.jsx(qe,{variant:we.type==="expense"?"error":"brand",children:Pe(we.type)})}),a.jsx(z.Cell,{children:a.jsxs("span",{className:`whitespace-nowrap text-body-bold font-body-bold ${we.type==="expense"?"text-error-600":"text-success-600"}`,children:[we.type==="expense"&&"-","$",we.amount.toFixed(2)]})}),a.jsx(z.Cell,{children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Jt,{icon:a.jsx(Cr,{}),onClick:()=>_e(we),variant:"neutral"}),n&&a.jsx(Jt,{icon:a.jsx(kT,{}),onClick:()=>Ae(we),disabled:b===we.fullId,variant:"destructive"})]})})]},we.fullId))}),$e.length>0&&a.jsxs("div",{className:"w-full text-body font-body text-subtext-color",children:[e("transactions.showing")," ",$e.length," ",e("transactions.of")," ",s.length," ",e("transactions.transactions")]})]}),R&&N&&a.jsxs(Ns,{isOpen:R,onClose:be,title:e("paymentCollectionDialog.paymentInvoice"),description:e("paymentCollectionDialog.paymentInvoiceDescription"),icon:a.jsx(Cr,{}),maxWidth:"max-w-4xl",children:[a.jsx("div",{className:"space-y-4 w-full pt-4",children:T?a.jsx("div",{className:"flex w-full h-40 justify-center items-center",children:a.jsx(Qt,{size:"medium"})}):a.jsx("div",{className:"border border-neutral-border rounded-lg bg-white max-h-[60vh] overflow-y-auto",children:a.jsx(yU,{ref:U,transaction:N,casesData:P})})}),a.jsxs("div",{className:"flex items-center justify-end gap-3 pt-6 border-t border-neutral-border w-full mt-6",children:[a.jsx(de,{variant:"neutral-secondary",onClick:be,children:e("common.close")}),a.jsx(de,{icon:a.jsx(Cr,{}),onClick:ge,disabled:T,children:e("paymentCollectionDialog.printInvoice")})]})]}),w&&S&&a.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50",children:a.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-md w-full mx-4 p-6",children:[a.jsx("h3",{className:"text-heading-3 font-heading-3 text-default-font mb-2",children:"Delete Transaction"}),a.jsx("p",{className:"text-body font-body text-subtext-color mb-4",children:"Are you sure you want to delete this transaction?"}),a.jsxs("div",{className:"bg-neutral-50 rounded-md p-4 mb-4",children:[a.jsxs("div",{className:"flex justify-between items-center mb-2",children:[a.jsx("span",{className:"text-caption-bold font-caption-bold text-neutral-700",children:"Transaction ID:"}),a.jsx("span",{className:"text-body font-body text-neutral-900",children:S.id})]}),a.jsxs("div",{className:"flex justify-between items-center mb-2",children:[a.jsx("span",{className:"text-caption-bold font-caption-bold text-neutral-700",children:"Type:"}),a.jsx(qe,{variant:S.type==="expense"?"error":"brand",children:Pe(S.type)})]}),a.jsxs("div",{className:"flex justify-between items-center mb-2",children:[a.jsx("span",{className:"text-caption-bold font-caption-bold text-neutral-700",children:"Amount:"}),a.jsxs("span",{className:`text-body-bold font-body-bold ${S.type==="expense"?"text-error-600":"text-success-600"}`,children:[S.type==="expense"&&"-","$",S.amount.toFixed(2)]})]}),a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-caption-bold font-caption-bold text-neutral-700",children:"From:"}),a.jsx("span",{className:"text-body font-body text-neutral-900",children:S.from})]})]}),a.jsx("div",{className:"bg-error-50 border border-error-200 rounded-md p-3 mb-6",children:a.jsx("p",{className:"text-caption font-caption text-error-700",children:" This action cannot be undone. The transaction will be permanently deleted."})}),a.jsxs("div",{className:"flex gap-3",children:[a.jsx(de,{variant:"neutral-secondary",onClick:ye,disabled:b===S.fullId,className:"flex-1",children:"Cancel"}),a.jsx(de,{variant:"destructive-primary",onClick:ke,disabled:b===S.fullId,className:"flex-1",children:b===S.fullId?"Deleting...":"Delete Transaction"})]})]})})]})}const pu=({label:e,value:t,valueClass:n="text-default-font"})=>a.jsxs("div",{className:"flex flex-col gap-2 rounded-md border border-solid border-neutral-border bg-default-background px-6 py-6 shadow-sm",children:[a.jsx("span",{className:"text-caption-bold font-caption-bold text-subtext-color",children:e}),a.jsx("span",{className:`text-heading-2 font-heading-2 ${n}`,children:t})]});function jU(){const{t:e}=ve(),[t,n]=h.useState([]),[s,l]=h.useState(!0),[o,d]=h.useState(!1),[f,m]=h.useState(null),[p,g]=h.useState(""),[b,y]=h.useState("all");h.useEffect(()=>{w()},[]);const w=async(N=!1)=>{try{N?d(!0):l(!0),m(null);const{data:{user:A},error:P}=await ee.auth.getUser();if(P)throw P;if(!A)throw new et("Not authenticated");const{data:E,error:T}=await ee.from("payments").select("id, amount, type, notes, created_at, admin_id").eq("doctor_id",A.id).eq("type","payment").order("created_at",{ascending:!1});if(T)throw T;const I=[...new Set(E.map(q=>q.admin_id).filter(Boolean))];let U=[];if(I.length>0){const{data:q,error:B}=await ee.from("profiles").select("id, full_name").in("id",I);if(B)throw B;U=q||[]}const Z=U.reduce((q,B)=>(q[B.id]=B,q),{}),se=E.map(q=>q.id);let F=[],L=[];if(se.length>0){const{data:q,error:B}=await ee.from("payment_case_allocations").select("payment_id, case_id, allocated_amount").in("payment_id",se);if(B)throw B;F=q||[];const Y=[...new Set(F.map(D=>D.case_id))];if(Y.length>0){const{data:D,error:V}=await ee.from("cases").select("id, first_name, last_name").in("id",Y);if(V)throw V;L=D||[]}}const $=L.reduce((q,B)=>(q[B.id]=B,q),{}),W=F.reduce((q,B)=>(q[B.payment_id]||(q[B.payment_id]=[]),q[B.payment_id].push(B),q),{}),O=(E||[]).map(q=>{const B=q.admin_id?Z[q.admin_id]:null,Y=W[q.id]||[],D=Y.map(J=>{const ne=$[J.case_id];return ne?`${ne.first_name||""} ${ne.last_name||""}`.trim():null}).filter(Boolean),V=q.notes?q.notes:D.length>0?`Payment for: ${D.join(", ")}`:"Payment";return{id:`TXN-${q.id.toString().slice(0,8)}`,fullId:q.id,date:new Date(q.created_at).toLocaleDateString("en-GB"),datetime:q.created_at,description:V,casesCount:Y.length,caseNames:D,amount:parseFloat(q.amount||0),receivedBy:B?.full_name||"System",notes:q.notes||"-"}});n(O)}catch(A){console.error("Error fetching doctor transactions:",A),m(A.message||"Failed to load transactions")}finally{l(!1),d(!1)}},j=()=>{w(!0)},S=h.useMemo(()=>t.filter(N=>{const A=N.description.toLowerCase().includes(p.toLowerCase())||N.id.toLowerCase().includes(p.toLowerCase())||N.notes.toLowerCase().includes(p.toLowerCase())||N.caseNames.some(E=>E.toLowerCase().includes(p.toLowerCase()));let P=!0;if(b!=="all"){const E=new Date(N.datetime),T=new Date;if(b==="today")P=E.toDateString()===T.toDateString();else if(b==="week"){const I=new Date(T);I.setDate(I.getDate()-7),P=E>=I}else if(b==="month"){const I=new Date(T);I.setMonth(I.getMonth()-1),P=E>=I}}return A&&P}),[t,p,b]),_=()=>{const N=[e("transactions.table.transactionId"),e("transactions.table.date"),e("transactions.table.description"),e("doctorTransactions.cases"),e("transactions.table.amount"),e("doctorTransactions.receivedBy"),e("doctorTransactions.notes")],A=S.map(F=>[F.id,F.date,F.description,F.caseNames.join("; "),F.amount.toFixed(2),F.receivedBy,F.notes]),P=F=>{const L=String(F);return L.includes(",")||L.includes('"')||L.includes(`
`)?`"${L.replace(/"/g,'""')}"`:L},E=[N.map(P).join(","),...A.map(F=>F.map(P).join(","))].join(`
`);let T="my-payments";b!=="all"&&(T+=`-${b}`),T+=`-${new Date().toISOString().split("T")[0]}.csv`;const I="\uFEFF",U=new Blob([I+E],{type:"text/csv;charset=utf-8;"}),Z=window.URL.createObjectURL(U),se=document.createElement("a");se.href=Z,se.download=T,se.click(),window.URL.revokeObjectURL(Z)},R=()=>{g(""),y("all")},k=p||b!=="all";return a.jsxs(a.Fragment,{children:[f&&a.jsx(et,{error:f}),a.jsxs(Ut,{children:[a.jsx(rt,{to:"/app/billing",children:a.jsx(Ut.Item,{children:e("billing.myBilling")})}),a.jsx(Ut.Divider,{}),a.jsx(Ut.Item,{active:!0,children:e("doctorTransactions.title")})]}),a.jsx(ql,{submit:!1,children:e("doctorTransactions.title")}),a.jsxs("div",{className:"flex w-full items-center justify-between gap-4",children:[a.jsx("p",{className:"text-body font-body text-subtext-color",children:e("doctorTransactions.subtitle")}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Jt,{icon:a.jsx($n,{className:o?"animate-spin":""}),onClick:j,disabled:o}),a.jsx(de,{variant:"brand-primary",size:"medium",icon:a.jsx(_r,{}),onClick:_,className:"w-auto",children:e("transactions.exportCSV")})]})]}),s?a.jsx("div",{className:"flex w-full h-full min-h-[200px] justify-center items-center",children:a.jsx(Qt,{size:"medium"})}):a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"flex w-full items-center gap-2",children:[a.jsx("div",{className:"flex-grow max-w-[400px]",children:a.jsx(Ee,{variant:"filled",label:"",helpText:"",icon:a.jsx(Dr,{}),children:a.jsx(Ee.Input,{placeholder:e("doctorTransactions.searchPlaceholder"),value:p,onChange:N=>g(N.target.value)})})}),a.jsxs("select",{value:b,onChange:N=>y(N.target.value),className:"rounded-md border border-neutral-border bg-default-background px-3 py-2 text-body font-body text-default-font outline-none focus:border-brand-600",children:[a.jsx("option",{value:"all",children:e("transactions.filters.allTime")}),a.jsx("option",{value:"today",children:e("transactions.filters.today")}),a.jsx("option",{value:"week",children:e("transactions.filters.lastWeek")}),a.jsx("option",{value:"month",children:e("transactions.filters.lastMonth")})]}),k&&a.jsx(de,{size:"sm",variant:"neutral-tertiary",className:"px-2 w-auto",onClick:R,icon:a.jsx(sn,{}),children:e("common.clear")})]}),a.jsx(z,{header:a.jsxs(z.HeaderRow,{children:[a.jsx(z.HeaderCell,{children:e("transactions.table.id")}),a.jsx(z.HeaderCell,{children:e("transactions.table.date")}),a.jsx(z.HeaderCell,{children:e("doctorTransactions.cases")}),a.jsx(z.HeaderCell,{children:e("transactions.table.amount")})]}),children:S.length===0?a.jsx(z.Row,{children:a.jsx(z.Cell,{colSpan:4,children:a.jsx("div",{className:"text-center py-8",children:a.jsx("span",{className:"text-neutral-500",children:e("doctorTransactions.noPayments")})})})}):S.map(N=>a.jsxs(z.Row,{children:[a.jsx(z.Cell,{children:a.jsx("span",{className:"whitespace-nowrap text-body-bold font-body-bold text-neutral-700",children:N.id})}),a.jsx(z.Cell,{children:a.jsx("span",{className:"whitespace-nowrap text-body font-body text-neutral-500",children:N.date})}),a.jsx(z.Cell,{children:N.casesCount>0?a.jsxs("div",{className:"flex flex-col gap-0.5",children:[a.jsxs("span",{className:"text-body font-body text-neutral-700",children:[N.casesCount," ",N.casesCount===1?e("doctorTransactions.case"):e("doctorTransactions.cases")]}),N.caseNames.length>0&&a.jsx("span",{className:"text-caption font-caption text-neutral-500 line-clamp-2",children:N.caseNames.join(", ")})]}):a.jsx("span",{className:"text-body font-body text-neutral-500",children:e("doctorTransactions.generalPayment")})}),a.jsx(z.Cell,{children:a.jsxs("span",{className:"whitespace-nowrap text-body-bold font-body-bold text-brand-600",children:["$",N.amount.toFixed(2)]})})]},N.fullId))}),S.length>0&&a.jsxs("div",{className:"w-full text-body font-body text-subtext-color",children:[e("transactions.showing")," ",S.length," ",e("transactions.of")," ",t.length," ",e("doctorTransactions.payments")]})]})]})}var Yn=function(){return Yn=Object.assign||function(t){for(var n,s=1,l=arguments.length;s<l;s++){n=arguments[s];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},Yn.apply(this,arguments)};function lf(e,t,n){if(n||arguments.length===2)for(var s=0,l=t.length,o;s<l;s++)(o||!(s in t))&&(o||(o=Array.prototype.slice.call(t,0,s)),o[s]=t[s]);return e.concat(o||Array.prototype.slice.call(t))}var Gt="-ms-",xc="-moz-",Pt="-webkit-",IN="comm",Hf="rule",Cx="decl",SU="@import",BN="@keyframes",NU="@layer",zN=Math.abs,Ex=String.fromCharCode,wg=Object.assign;function _U(e,t){return yn(e,0)^45?(((t<<2^yn(e,0))<<2^yn(e,1))<<2^yn(e,2))<<2^yn(e,3):0}function qN(e){return e.trim()}function Sr(e,t){return(e=t.exec(e))?e[0]:e}function it(e,t,n){return e.replace(t,n)}function Pu(e,t,n){return e.indexOf(t,n)}function yn(e,t){return e.charCodeAt(t)|0}function kl(e,t,n){return e.slice(t,n)}function Wa(e){return e.length}function HN(e){return e.length}function lc(e,t){return t.push(e),e}function CU(e,t){return e.map(t).join("")}function y1(e,t){return e.filter(function(n){return!Sr(n,t)})}var Vf=1,Tl=1,VN=0,ja=0,fn=0,Gl="";function Gf(e,t,n,s,l,o,d,f){return{value:e,root:t,parent:n,type:s,props:l,children:o,line:Vf,column:Tl,length:d,return:"",siblings:f}}function ms(e,t){return wg(Gf("",null,null,"",null,null,0,e.siblings),e,{length:-e.length},t)}function ml(e){for(;e.root;)e=ms(e.root,{children:[e]});lc(e,e.siblings)}function EU(){return fn}function RU(){return fn=ja>0?yn(Gl,--ja):0,Tl--,fn===10&&(Tl=1,Vf--),fn}function Ma(){return fn=ja<VN?yn(Gl,ja++):0,Tl++,fn===10&&(Tl=1,Vf++),fn}function oi(){return yn(Gl,ja)}function ku(){return ja}function Yf(e,t){return kl(Gl,e,t)}function jg(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function AU(e){return Vf=Tl=1,VN=Wa(Gl=e),ja=0,[]}function PU(e){return Gl="",e}function Lp(e){return qN(Yf(ja-1,Sg(e===91?e+2:e===40?e+1:e)))}function kU(e){for(;(fn=oi())&&fn<33;)Ma();return jg(e)>2||jg(fn)>3?"":" "}function TU(e,t){for(;--t&&Ma()&&!(fn<48||fn>102||fn>57&&fn<65||fn>70&&fn<97););return Yf(e,ku()+(t<6&&oi()==32&&Ma()==32))}function Sg(e){for(;Ma();)switch(fn){case e:return ja;case 34:case 39:e!==34&&e!==39&&Sg(fn);break;case 40:e===41&&Sg(e);break;case 92:Ma();break}return ja}function DU(e,t){for(;Ma()&&e+fn!==57;)if(e+fn===84&&oi()===47)break;return"/*"+Yf(t,ja-1)+"*"+Ex(e===47?e:Ma())}function MU(e){for(;!jg(oi());)Ma();return Yf(e,ja)}function OU(e){return PU(Tu("",null,null,null,[""],e=AU(e),0,[0],e))}function Tu(e,t,n,s,l,o,d,f,m){for(var p=0,g=0,b=d,y=0,w=0,j=0,S=1,_=1,R=1,k=0,N="",A=l,P=o,E=s,T=N;_;)switch(j=k,k=Ma()){case 40:if(j!=108&&yn(T,b-1)==58){Pu(T+=it(Lp(k),"&","&\f"),"&\f",zN(p?f[p-1]:0))!=-1&&(R=-1);break}case 34:case 39:case 91:T+=Lp(k);break;case 9:case 10:case 13:case 32:T+=kU(j);break;case 92:T+=TU(ku()-1,7);continue;case 47:switch(oi()){case 42:case 47:lc(LU(DU(Ma(),ku()),t,n,m),m);break;default:T+="/"}break;case 123*S:f[p++]=Wa(T)*R;case 125*S:case 59:case 0:switch(k){case 0:case 125:_=0;case 59+g:R==-1&&(T=it(T,/\f/g,"")),w>0&&Wa(T)-b&&lc(w>32?j1(T+";",s,n,b-1,m):j1(it(T," ","")+";",s,n,b-2,m),m);break;case 59:T+=";";default:if(lc(E=w1(T,t,n,p,g,l,f,N,A=[],P=[],b,o),o),k===123)if(g===0)Tu(T,t,E,E,A,o,b,f,P);else switch(y===99&&yn(T,3)===110?100:y){case 100:case 108:case 109:case 115:Tu(e,E,E,s&&lc(w1(e,E,E,0,0,l,f,N,l,A=[],b,P),P),l,P,b,f,s?A:P);break;default:Tu(T,E,E,E,[""],P,0,f,P)}}p=g=w=0,S=R=1,N=T="",b=d;break;case 58:b=1+Wa(T),w=j;default:if(S<1){if(k==123)--S;else if(k==125&&S++==0&&RU()==125)continue}switch(T+=Ex(k),k*S){case 38:R=g>0?1:(T+="\f",-1);break;case 44:f[p++]=(Wa(T)-1)*R,R=1;break;case 64:oi()===45&&(T+=Lp(Ma())),y=oi(),g=b=Wa(N=T+=MU(ku())),k++;break;case 45:j===45&&Wa(T)==2&&(S=0)}}return o}function w1(e,t,n,s,l,o,d,f,m,p,g,b){for(var y=l-1,w=l===0?o:[""],j=HN(w),S=0,_=0,R=0;S<s;++S)for(var k=0,N=kl(e,y+1,y=zN(_=d[S])),A=e;k<j;++k)(A=qN(_>0?w[k]+" "+N:it(N,/&\f/g,w[k])))&&(m[R++]=A);return Gf(e,t,n,l===0?Hf:f,m,p,g,b)}function LU(e,t,n,s){return Gf(e,t,n,IN,Ex(EU()),kl(e,2,-2),0,s)}function j1(e,t,n,s,l){return Gf(e,t,n,Cx,kl(e,0,s),kl(e,s+1,-1),s,l)}function GN(e,t,n){switch(_U(e,t)){case 5103:return Pt+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return Pt+e+e;case 4789:return xc+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return Pt+e+xc+e+Gt+e+e;case 5936:switch(yn(e,t+11)){case 114:return Pt+e+Gt+it(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return Pt+e+Gt+it(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return Pt+e+Gt+it(e,/[svh]\w+-[tblr]{2}/,"lr")+e}case 6828:case 4268:case 2903:return Pt+e+Gt+e+e;case 6165:return Pt+e+Gt+"flex-"+e+e;case 5187:return Pt+e+it(e,/(\w+).+(:[^]+)/,Pt+"box-$1$2"+Gt+"flex-$1$2")+e;case 5443:return Pt+e+Gt+"flex-item-"+it(e,/flex-|-self/g,"")+(Sr(e,/flex-|baseline/)?"":Gt+"grid-row-"+it(e,/flex-|-self/g,""))+e;case 4675:return Pt+e+Gt+"flex-line-pack"+it(e,/align-content|flex-|-self/g,"")+e;case 5548:return Pt+e+Gt+it(e,"shrink","negative")+e;case 5292:return Pt+e+Gt+it(e,"basis","preferred-size")+e;case 6060:return Pt+"box-"+it(e,"-grow","")+Pt+e+Gt+it(e,"grow","positive")+e;case 4554:return Pt+it(e,/([^-])(transform)/g,"$1"+Pt+"$2")+e;case 6187:return it(it(it(e,/(zoom-|grab)/,Pt+"$1"),/(image-set)/,Pt+"$1"),e,"")+e;case 5495:case 3959:return it(e,/(image-set\([^]*)/,Pt+"$1$`$1");case 4968:return it(it(e,/(.+:)(flex-)?(.*)/,Pt+"box-pack:$3"+Gt+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+Pt+e+e;case 4200:if(!Sr(e,/flex-|baseline/))return Gt+"grid-column-align"+kl(e,t)+e;break;case 2592:case 3360:return Gt+it(e,"template-","")+e;case 4384:case 3616:return n&&n.some(function(s,l){return t=l,Sr(s.props,/grid-\w+-end/)})?~Pu(e+(n=n[t].value),"span",0)?e:Gt+it(e,"-start","")+e+Gt+"grid-row-span:"+(~Pu(n,"span",0)?Sr(n,/\d+/):+Sr(n,/\d+/)-+Sr(e,/\d+/))+";":Gt+it(e,"-start","")+e;case 4896:case 4128:return n&&n.some(function(s){return Sr(s.props,/grid-\w+-start/)})?e:Gt+it(it(e,"-end","-span"),"span ","")+e;case 4095:case 3583:case 4068:case 2532:return it(e,/(.+)-inline(.+)/,Pt+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Wa(e)-1-t>6)switch(yn(e,t+1)){case 109:if(yn(e,t+4)!==45)break;case 102:return it(e,/(.+:)(.+)-([^]+)/,"$1"+Pt+"$2-$3$1"+xc+(yn(e,t+3)==108?"$3":"$2-$3"))+e;case 115:return~Pu(e,"stretch",0)?GN(it(e,"stretch","fill-available"),t,n)+e:e}break;case 5152:case 5920:return it(e,/(.+?):(\d+)(\s*\/\s*(span)?\s*(\d+))?(.*)/,function(s,l,o,d,f,m,p){return Gt+l+":"+o+p+(d?Gt+l+"-span:"+(f?m:+m-+o)+p:"")+e});case 4949:if(yn(e,t+6)===121)return it(e,":",":"+Pt)+e;break;case 6444:switch(yn(e,yn(e,14)===45?18:11)){case 120:return it(e,/(.+:)([^;\s!]+)(;|(\s+)?!.+)?/,"$1"+Pt+(yn(e,14)===45?"inline-":"")+"box$3$1"+Pt+"$2$3$1"+Gt+"$2box$3")+e;case 100:return it(e,":",":"+Gt)+e}break;case 5719:case 2647:case 2135:case 3927:case 2391:return it(e,"scroll-","scroll-snap-")+e}return e}function of(e,t){for(var n="",s=0;s<e.length;s++)n+=t(e[s],s,e,t)||"";return n}function UU(e,t,n,s){switch(e.type){case NU:if(e.children.length)break;case SU:case Cx:return e.return=e.return||e.value;case IN:return"";case BN:return e.return=e.value+"{"+of(e.children,s)+"}";case Hf:if(!Wa(e.value=e.props.join(",")))return""}return Wa(n=of(e.children,s))?e.return=e.value+"{"+n+"}":""}function $U(e){var t=HN(e);return function(n,s,l,o){for(var d="",f=0;f<t;f++)d+=e[f](n,s,l,o)||"";return d}}function FU(e){return function(t){t.root||(t=t.return)&&e(t)}}function IU(e,t,n,s){if(e.length>-1&&!e.return)switch(e.type){case Cx:e.return=GN(e.value,e.length,n);return;case BN:return of([ms(e,{value:it(e.value,"@","@"+Pt)})],s);case Hf:if(e.length)return CU(n=e.props,function(l){switch(Sr(l,s=/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":ml(ms(e,{props:[it(l,/:(read-\w+)/,":"+xc+"$1")]})),ml(ms(e,{props:[l]})),wg(e,{props:y1(n,s)});break;case"::placeholder":ml(ms(e,{props:[it(l,/:(plac\w+)/,":"+Pt+"input-$1")]})),ml(ms(e,{props:[it(l,/:(plac\w+)/,":"+xc+"$1")]})),ml(ms(e,{props:[it(l,/:(plac\w+)/,Gt+"input-$1")]})),ml(ms(e,{props:[l]})),wg(e,{props:y1(n,s)});break}return""})}}var BU={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},aa={},Dl=typeof process<"u"&&aa!==void 0&&(aa.REACT_APP_SC_ATTR||aa.SC_ATTR)||"data-styled",YN="active",KN="data-styled-version",Kf="6.1.19",Rx=`/*!sc*/
`,cf=typeof window<"u"&&typeof document<"u",zU=!!(typeof SC_DISABLE_SPEEDY=="boolean"?SC_DISABLE_SPEEDY:typeof process<"u"&&aa!==void 0&&aa.REACT_APP_SC_DISABLE_SPEEDY!==void 0&&aa.REACT_APP_SC_DISABLE_SPEEDY!==""?aa.REACT_APP_SC_DISABLE_SPEEDY!=="false"&&aa.REACT_APP_SC_DISABLE_SPEEDY:typeof process<"u"&&aa!==void 0&&aa.SC_DISABLE_SPEEDY!==void 0&&aa.SC_DISABLE_SPEEDY!==""&&aa.SC_DISABLE_SPEEDY!=="false"&&aa.SC_DISABLE_SPEEDY),Wf=Object.freeze([]),Ml=Object.freeze({});function qU(e,t,n){return n===void 0&&(n=Ml),e.theme!==n.theme&&e.theme||t||n.theme}var WN=new Set(["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","tr","track","u","ul","use","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"]),HU=/[!"#$%&'()*+,./:;<=>?@[\\\]^`{|}~-]+/g,VU=/(^-|-$)/g;function S1(e){return e.replace(HU,"-").replace(VU,"")}var GU=/(a)(d)/gi,gu=52,N1=function(e){return String.fromCharCode(e+(e>25?39:97))};function Ng(e){var t,n="";for(t=Math.abs(e);t>gu;t=t/gu|0)n=N1(t%gu)+n;return(N1(t%gu)+n).replace(GU,"$1-$2")}var Up,JN=5381,vl=function(e,t){for(var n=t.length;n;)e=33*e^t.charCodeAt(--n);return e},ZN=function(e){return vl(JN,e)};function YU(e){return Ng(ZN(e)>>>0)}function KU(e){return e.displayName||e.name||"Component"}function $p(e){return typeof e=="string"&&!0}var XN=typeof Symbol=="function"&&Symbol.for,QN=XN?Symbol.for("react.memo"):60115,WU=XN?Symbol.for("react.forward_ref"):60112,JU={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},ZU={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},e_={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},XU=((Up={})[WU]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},Up[QN]=e_,Up);function _1(e){return("type"in(t=e)&&t.type.$$typeof)===QN?e_:"$$typeof"in e?XU[e.$$typeof]:JU;var t}var QU=Object.defineProperty,e$=Object.getOwnPropertyNames,C1=Object.getOwnPropertySymbols,t$=Object.getOwnPropertyDescriptor,n$=Object.getPrototypeOf,E1=Object.prototype;function t_(e,t,n){if(typeof t!="string"){if(E1){var s=n$(t);s&&s!==E1&&t_(e,s,n)}var l=e$(t);C1&&(l=l.concat(C1(t)));for(var o=_1(e),d=_1(t),f=0;f<l.length;++f){var m=l[f];if(!(m in ZU||n&&n[m]||d&&m in d||o&&m in o)){var p=t$(t,m);try{QU(e,m,p)}catch{}}}}return e}function Ol(e){return typeof e=="function"}function Ax(e){return typeof e=="object"&&"styledComponentId"in e}function ri(e,t){return e&&t?"".concat(e," ").concat(t):e||t||""}function R1(e,t){if(e.length===0)return"";for(var n=e[0],s=1;s<e.length;s++)n+=e[s];return n}function Ec(e){return e!==null&&typeof e=="object"&&e.constructor.name===Object.name&&!("props"in e&&e.$$typeof)}function _g(e,t,n){if(n===void 0&&(n=!1),!n&&!Ec(e)&&!Array.isArray(e))return t;if(Array.isArray(t))for(var s=0;s<t.length;s++)e[s]=_g(e[s],t[s]);else if(Ec(t))for(var s in t)e[s]=_g(e[s],t[s]);return e}function Px(e,t){Object.defineProperty(e,"toString",{value:t})}function Bc(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return new Error("An error occurred. See https://github.com/styled-components/styled-components/blob/main/packages/styled-components/src/utils/errors.md#".concat(e," for more information.").concat(t.length>0?" Args: ".concat(t.join(", ")):""))}var a$=function(){function e(t){this.groupSizes=new Uint32Array(512),this.length=512,this.tag=t}return e.prototype.indexOfGroup=function(t){for(var n=0,s=0;s<t;s++)n+=this.groupSizes[s];return n},e.prototype.insertRules=function(t,n){if(t>=this.groupSizes.length){for(var s=this.groupSizes,l=s.length,o=l;t>=o;)if((o<<=1)<0)throw Bc(16,"".concat(t));this.groupSizes=new Uint32Array(o),this.groupSizes.set(s),this.length=o;for(var d=l;d<o;d++)this.groupSizes[d]=0}for(var f=this.indexOfGroup(t+1),m=(d=0,n.length);d<m;d++)this.tag.insertRule(f,n[d])&&(this.groupSizes[t]++,f++)},e.prototype.clearGroup=function(t){if(t<this.length){var n=this.groupSizes[t],s=this.indexOfGroup(t),l=s+n;this.groupSizes[t]=0;for(var o=s;o<l;o++)this.tag.deleteRule(s)}},e.prototype.getGroup=function(t){var n="";if(t>=this.length||this.groupSizes[t]===0)return n;for(var s=this.groupSizes[t],l=this.indexOfGroup(t),o=l+s,d=l;d<o;d++)n+="".concat(this.tag.getRule(d)).concat(Rx);return n},e}(),Du=new Map,df=new Map,Mu=1,xu=function(e){if(Du.has(e))return Du.get(e);for(;df.has(Mu);)Mu++;var t=Mu++;return Du.set(e,t),df.set(t,e),t},r$=function(e,t){Mu=t+1,Du.set(e,t),df.set(t,e)},s$="style[".concat(Dl,"][").concat(KN,'="').concat(Kf,'"]'),i$=new RegExp("^".concat(Dl,'\\.g(\\d+)\\[id="([\\w\\d-]+)"\\].*?"([^"]*)')),l$=function(e,t,n){for(var s,l=n.split(","),o=0,d=l.length;o<d;o++)(s=l[o])&&e.registerName(t,s)},o$=function(e,t){for(var n,s=((n=t.textContent)!==null&&n!==void 0?n:"").split(Rx),l=[],o=0,d=s.length;o<d;o++){var f=s[o].trim();if(f){var m=f.match(i$);if(m){var p=0|parseInt(m[1],10),g=m[2];p!==0&&(r$(g,p),l$(e,g,m[3]),e.getTag().insertRules(p,l)),l.length=0}else l.push(f)}}},A1=function(e){for(var t=document.querySelectorAll(s$),n=0,s=t.length;n<s;n++){var l=t[n];l&&l.getAttribute(Dl)!==YN&&(o$(e,l),l.parentNode&&l.parentNode.removeChild(l))}};function c$(){return typeof __webpack_nonce__<"u"?__webpack_nonce__:null}var n_=function(e){var t=document.head,n=e||t,s=document.createElement("style"),l=function(f){var m=Array.from(f.querySelectorAll("style[".concat(Dl,"]")));return m[m.length-1]}(n),o=l!==void 0?l.nextSibling:null;s.setAttribute(Dl,YN),s.setAttribute(KN,Kf);var d=c$();return d&&s.setAttribute("nonce",d),n.insertBefore(s,o),s},d$=function(){function e(t){this.element=n_(t),this.element.appendChild(document.createTextNode("")),this.sheet=function(n){if(n.sheet)return n.sheet;for(var s=document.styleSheets,l=0,o=s.length;l<o;l++){var d=s[l];if(d.ownerNode===n)return d}throw Bc(17)}(this.element),this.length=0}return e.prototype.insertRule=function(t,n){try{return this.sheet.insertRule(n,t),this.length++,!0}catch{return!1}},e.prototype.deleteRule=function(t){this.sheet.deleteRule(t),this.length--},e.prototype.getRule=function(t){var n=this.sheet.cssRules[t];return n&&n.cssText?n.cssText:""},e}(),u$=function(){function e(t){this.element=n_(t),this.nodes=this.element.childNodes,this.length=0}return e.prototype.insertRule=function(t,n){if(t<=this.length&&t>=0){var s=document.createTextNode(n);return this.element.insertBefore(s,this.nodes[t]||null),this.length++,!0}return!1},e.prototype.deleteRule=function(t){this.element.removeChild(this.nodes[t]),this.length--},e.prototype.getRule=function(t){return t<this.length?this.nodes[t].textContent:""},e}(),f$=function(){function e(t){this.rules=[],this.length=0}return e.prototype.insertRule=function(t,n){return t<=this.length&&(this.rules.splice(t,0,n),this.length++,!0)},e.prototype.deleteRule=function(t){this.rules.splice(t,1),this.length--},e.prototype.getRule=function(t){return t<this.length?this.rules[t]:""},e}(),P1=cf,h$={isServer:!cf,useCSSOMInjection:!zU},a_=function(){function e(t,n,s){t===void 0&&(t=Ml),n===void 0&&(n={});var l=this;this.options=Yn(Yn({},h$),t),this.gs=n,this.names=new Map(s),this.server=!!t.isServer,!this.server&&cf&&P1&&(P1=!1,A1(this)),Px(this,function(){return function(o){for(var d=o.getTag(),f=d.length,m="",p=function(b){var y=function(R){return df.get(R)}(b);if(y===void 0)return"continue";var w=o.names.get(y),j=d.getGroup(b);if(w===void 0||!w.size||j.length===0)return"continue";var S="".concat(Dl,".g").concat(b,'[id="').concat(y,'"]'),_="";w!==void 0&&w.forEach(function(R){R.length>0&&(_+="".concat(R,","))}),m+="".concat(j).concat(S,'{content:"').concat(_,'"}').concat(Rx)},g=0;g<f;g++)p(g);return m}(l)})}return e.registerId=function(t){return xu(t)},e.prototype.rehydrate=function(){!this.server&&cf&&A1(this)},e.prototype.reconstructWithOptions=function(t,n){return n===void 0&&(n=!0),new e(Yn(Yn({},this.options),t),this.gs,n&&this.names||void 0)},e.prototype.allocateGSInstance=function(t){return this.gs[t]=(this.gs[t]||0)+1},e.prototype.getTag=function(){return this.tag||(this.tag=(t=function(n){var s=n.useCSSOMInjection,l=n.target;return n.isServer?new f$(l):s?new d$(l):new u$(l)}(this.options),new a$(t)));var t},e.prototype.hasNameForId=function(t,n){return this.names.has(t)&&this.names.get(t).has(n)},e.prototype.registerName=function(t,n){if(xu(t),this.names.has(t))this.names.get(t).add(n);else{var s=new Set;s.add(n),this.names.set(t,s)}},e.prototype.insertRules=function(t,n,s){this.registerName(t,n),this.getTag().insertRules(xu(t),s)},e.prototype.clearNames=function(t){this.names.has(t)&&this.names.get(t).clear()},e.prototype.clearRules=function(t){this.getTag().clearGroup(xu(t)),this.clearNames(t)},e.prototype.clearTag=function(){this.tag=void 0},e}(),m$=/&/g,p$=/^\s*\/\/.*$/gm;function r_(e,t){return e.map(function(n){return n.type==="rule"&&(n.value="".concat(t," ").concat(n.value),n.value=n.value.replaceAll(",",",".concat(t," ")),n.props=n.props.map(function(s){return"".concat(t," ").concat(s)})),Array.isArray(n.children)&&n.type!=="@keyframes"&&(n.children=r_(n.children,t)),n})}function g$(e){var t,n,s,l=Ml,o=l.options,d=o===void 0?Ml:o,f=l.plugins,m=f===void 0?Wf:f,p=function(y,w,j){return j.startsWith(n)&&j.endsWith(n)&&j.replaceAll(n,"").length>0?".".concat(t):y},g=m.slice();g.push(function(y){y.type===Hf&&y.value.includes("&")&&(y.props[0]=y.props[0].replace(m$,n).replace(s,p))}),d.prefix&&g.push(IU),g.push(UU);var b=function(y,w,j,S){w===void 0&&(w=""),j===void 0&&(j=""),S===void 0&&(S="&"),t=S,n=w,s=new RegExp("\\".concat(n,"\\b"),"g");var _=y.replace(p$,""),R=OU(j||w?"".concat(j," ").concat(w," { ").concat(_," }"):_);d.namespace&&(R=r_(R,d.namespace));var k=[];return of(R,$U(g.concat(FU(function(N){return k.push(N)})))),k};return b.hash=m.length?m.reduce(function(y,w){return w.name||Bc(15),vl(y,w.name)},JN).toString():"",b}var x$=new a_,Cg=g$(),s_=Me.createContext({shouldForwardProp:void 0,styleSheet:x$,stylis:Cg});s_.Consumer;Me.createContext(void 0);function k1(){return h.useContext(s_)}var b$=function(){function e(t,n){var s=this;this.inject=function(l,o){o===void 0&&(o=Cg);var d=s.name+o.hash;l.hasNameForId(s.id,d)||l.insertRules(s.id,d,o(s.rules,d,"@keyframes"))},this.name=t,this.id="sc-keyframes-".concat(t),this.rules=n,Px(this,function(){throw Bc(12,String(s.name))})}return e.prototype.getName=function(t){return t===void 0&&(t=Cg),this.name+t.hash},e}(),v$=function(e){return e>="A"&&e<="Z"};function T1(e){for(var t="",n=0;n<e.length;n++){var s=e[n];if(n===1&&s==="-"&&e[0]==="-")return e;v$(s)?t+="-"+s.toLowerCase():t+=s}return t.startsWith("ms-")?"-"+t:t}var i_=function(e){return e==null||e===!1||e===""},l_=function(e){var t,n,s=[];for(var l in e){var o=e[l];e.hasOwnProperty(l)&&!i_(o)&&(Array.isArray(o)&&o.isCss||Ol(o)?s.push("".concat(T1(l),":"),o,";"):Ec(o)?s.push.apply(s,lf(lf(["".concat(l," {")],l_(o),!1),["}"],!1)):s.push("".concat(T1(l),": ").concat((t=l,(n=o)==null||typeof n=="boolean"||n===""?"":typeof n!="number"||n===0||t in BU||t.startsWith("--")?String(n).trim():"".concat(n,"px")),";")))}return s};function ci(e,t,n,s){if(i_(e))return[];if(Ax(e))return[".".concat(e.styledComponentId)];if(Ol(e)){if(!Ol(o=e)||o.prototype&&o.prototype.isReactComponent||!t)return[e];var l=e(t);return ci(l,t,n,s)}var o;return e instanceof b$?n?(e.inject(n,s),[e.getName(s)]):[e]:Ec(e)?l_(e):Array.isArray(e)?Array.prototype.concat.apply(Wf,e.map(function(d){return ci(d,t,n,s)})):[e.toString()]}function y$(e){for(var t=0;t<e.length;t+=1){var n=e[t];if(Ol(n)&&!Ax(n))return!1}return!0}var w$=ZN(Kf),j$=function(){function e(t,n,s){this.rules=t,this.staticRulesId="",this.isStatic=(s===void 0||s.isStatic)&&y$(t),this.componentId=n,this.baseHash=vl(w$,n),this.baseStyle=s,a_.registerId(n)}return e.prototype.generateAndInjectStyles=function(t,n,s){var l=this.baseStyle?this.baseStyle.generateAndInjectStyles(t,n,s):"";if(this.isStatic&&!s.hash)if(this.staticRulesId&&n.hasNameForId(this.componentId,this.staticRulesId))l=ri(l,this.staticRulesId);else{var o=R1(ci(this.rules,t,n,s)),d=Ng(vl(this.baseHash,o)>>>0);if(!n.hasNameForId(this.componentId,d)){var f=s(o,".".concat(d),void 0,this.componentId);n.insertRules(this.componentId,d,f)}l=ri(l,d),this.staticRulesId=d}else{for(var m=vl(this.baseHash,s.hash),p="",g=0;g<this.rules.length;g++){var b=this.rules[g];if(typeof b=="string")p+=b;else if(b){var y=R1(ci(b,t,n,s));m=vl(m,y+g),p+=y}}if(p){var w=Ng(m>>>0);n.hasNameForId(this.componentId,w)||n.insertRules(this.componentId,w,s(p,".".concat(w),void 0,this.componentId)),l=ri(l,w)}}return l},e}(),o_=Me.createContext(void 0);o_.Consumer;var Fp={};function S$(e,t,n){var s=Ax(e),l=e,o=!$p(e),d=t.attrs,f=d===void 0?Wf:d,m=t.componentId,p=m===void 0?function(A,P){var E=typeof A!="string"?"sc":S1(A);Fp[E]=(Fp[E]||0)+1;var T="".concat(E,"-").concat(YU(Kf+E+Fp[E]));return P?"".concat(P,"-").concat(T):T}(t.displayName,t.parentComponentId):m,g=t.displayName,b=g===void 0?function(A){return $p(A)?"styled.".concat(A):"Styled(".concat(KU(A),")")}(e):g,y=t.displayName&&t.componentId?"".concat(S1(t.displayName),"-").concat(t.componentId):t.componentId||p,w=s&&l.attrs?l.attrs.concat(f).filter(Boolean):f,j=t.shouldForwardProp;if(s&&l.shouldForwardProp){var S=l.shouldForwardProp;if(t.shouldForwardProp){var _=t.shouldForwardProp;j=function(A,P){return S(A,P)&&_(A,P)}}else j=S}var R=new j$(n,y,s?l.componentStyle:void 0);function k(A,P){return function(E,T,I){var U=E.attrs,Z=E.componentStyle,se=E.defaultProps,F=E.foldedComponentIds,L=E.styledComponentId,$=E.target,W=Me.useContext(o_),O=k1(),q=E.shouldForwardProp||O.shouldForwardProp,B=qU(T,W,se)||Ml,Y=function(ce,fe,Se){for(var _e,ge=Yn(Yn({},fe),{className:void 0,theme:Se}),be=0;be<ce.length;be+=1){var Ae=Ol(_e=ce[be])?_e(ge):_e;for(var ke in Ae)ge[ke]=ke==="className"?ri(ge[ke],Ae[ke]):ke==="style"?Yn(Yn({},ge[ke]),Ae[ke]):Ae[ke]}return fe.className&&(ge.className=ri(ge.className,fe.className)),ge}(U,T,B),D=Y.as||$,V={};for(var J in Y)Y[J]===void 0||J[0]==="$"||J==="as"||J==="theme"&&Y.theme===B||(J==="forwardedAs"?V.as=Y.forwardedAs:q&&!q(J,D)||(V[J]=Y[J]));var ne=function(ce,fe){var Se=k1(),_e=ce.generateAndInjectStyles(fe,Se.styleSheet,Se.stylis);return _e}(Z,Y),X=ri(F,L);return ne&&(X+=" "+ne),Y.className&&(X+=" "+Y.className),V[$p(D)&&!WN.has(D)?"class":"className"]=X,I&&(V.ref=I),h.createElement(D,V)}(N,A,P)}k.displayName=b;var N=Me.forwardRef(k);return N.attrs=w,N.componentStyle=R,N.displayName=b,N.shouldForwardProp=j,N.foldedComponentIds=s?ri(l.foldedComponentIds,l.styledComponentId):"",N.styledComponentId=y,N.target=s?l.target:e,Object.defineProperty(N,"defaultProps",{get:function(){return this._foldedDefaultProps},set:function(A){this._foldedDefaultProps=s?function(P){for(var E=[],T=1;T<arguments.length;T++)E[T-1]=arguments[T];for(var I=0,U=E;I<U.length;I++)_g(P,U[I],!0);return P}({},l.defaultProps,A):A}}),Px(N,function(){return".".concat(N.styledComponentId)}),o&&t_(N,e,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,shouldForwardProp:!0,styledComponentId:!0,target:!0}),N}function D1(e,t){for(var n=[e[0]],s=0,l=t.length;s<l;s+=1)n.push(t[s],e[s+1]);return n}var M1=function(e){return Object.assign(e,{isCss:!0})};function N$(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(Ol(e)||Ec(e))return M1(ci(D1(Wf,lf([e],t,!0))));var s=e;return t.length===0&&s.length===1&&typeof s[0]=="string"?ci(s):M1(ci(D1(s,t)))}function Eg(e,t,n){if(n===void 0&&(n=Ml),!t)throw Bc(1,t);var s=function(l){for(var o=[],d=1;d<arguments.length;d++)o[d-1]=arguments[d];return e(t,n,N$.apply(void 0,lf([l],o,!1)))};return s.attrs=function(l){return Eg(e,t,Yn(Yn({},n),{attrs:Array.prototype.concat(n.attrs,l).filter(Boolean)}))},s.withConfig=function(l){return Eg(e,t,Yn(Yn({},n),l))},s}var c_=function(e){return Eg(S$,e)},Qe=c_;WN.forEach(function(e){Qe[e]=c_(e)});const O1="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2051.79%2034.83'%3e%3cdefs%3e%3cstyle%3e.cls-1{fill:%23037cdb;opacity:0.3;}.cls-2{fill:%23fff;stroke:%23324858;stroke-linecap:round;stroke-linejoin:round;}%3c/style%3e%3c/defs%3e%3ctitle%3eRecurso%2017%3c/title%3e%3cg%20id='Capa_2'%20data-name='Capa%202'%3e%3cg%20id='Capa_1-2'%20data-name='Capa%201'%3e%3cpath%20class='cls-1'%20d='M50.48,19.85C51.81,38.59,32.75,34.41,26.1,34.34h-.46C19,34.41.8,38.81,1.26,19.85L8.39,23H43.33Z'/%3e%3cpath%20class='cls-1'%20d='M50.48,8.8C51.3-3.83,32.75.83,26.1.9a.85.85,0,0,0-.23,0,.91.91,0,0,0-.23,0C19,.83.44-3.83,1.26,8.8L3.4,11.86h45Z'/%3e%3cpath%20class='cls-2'%20d='M2.61,8.87S.47,8.18.5,11.41s2.11,2.52,2.11,2.52'/%3e%3cpath%20class='cls-2'%20d='M2.86,21.72s-1.6,0-1.6-2.28c0-1.87.6-2.66,1.9-3.08a2.15,2.15,0,0,1,2.39.89'/%3e%3cpath%20class='cls-2'%20d='M4.59,23.27s-1.84.31-1.72-2.41,1.49-3.4,2.42-3.56a1.8,1.8,0,0,1,2.06,1'/%3e%3cpath%20class='cls-2'%20d='M6.61,25.25S4.26,25.57,4.48,21a2.42,2.42,0,0,1,1-1.82L5.72,19a2.41,2.41,0,0,1,3.43.5l.08.13'/%3e%3cpath%20class='cls-2'%20d='M11.32,20.82a2.55,2.55,0,0,0-3.51-.92c-2.47,1.09-1.33,7.77.32,7.43a3.23,3.23,0,0,0,2.31-1.6'/%3e%3cpath%20class='cls-2'%20d='M15.3,22.18s-2-3.06-4.15-1.23c-1.88,1.62-.43,9.92,2.11,8.51a4.39,4.39,0,0,0,2.34-2.75'/%3e%3cpath%20class='cls-2'%20d='M20.52,22.83a1,1,0,0,0-.7-1.16,12,12,0,0,0-3.88,0c-.51.08-.75.58-.75,1.14,0,3.63.71,5.11,1.39,6.1a1.93,1.93,0,0,0,3.05.18A6.23,6.23,0,0,0,20.74,26'/%3e%3cpath%20class='cls-2'%20d='M21.27,21.65c-.51.08-.75.58-.74,1.14,0,3.63.71,5.53,1.39,6.52a1.49,1.49,0,0,0,2.46,0c.67-1,1.38-2.87,1.48-6.48a1,1,0,0,0-.71-1.16A12,12,0,0,0,21.27,21.65Z'/%3e%3cpath%20class='cls-2'%20d='M4.76,8.78s-2-1-2.31.46-.39,5.12.93,5.65a2,2,0,0,0,1.38-.06'/%3e%3cpath%20class='cls-2'%20d='M7.43,8.56s-1.76-1.22-2.55,0-.76,6.42.43,7c.71.38,1.94-.48,1.94-.48'/%3e%3cpath%20class='cls-2'%20d='M11.56,9.92a3.58,3.58,0,0,0-2-2.12A1.82,1.82,0,0,0,7.15,9.22c-.48,1.87-.51,5.25.69,7.32,1.06,1.82,3.34-.35,3.34-.35'/%3e%3cpath%20class='cls-2'%20d='M17.36,11c-.92-3.1-3.27-4.55-4.74-3.21s-1.7,5.69-1.5,7.69a2.63,2.63,0,0,0,1.09,1.75c1.41,1.18,4.46.06,4.46.06'/%3e%3cpath%20class='cls-2'%20d='M21.24,19.31a9.4,9.4,0,0,0,3.4-.61,2.11,2.11,0,0,0,1.25-2c0-10.53-4.47-10.16-4.47-10.16s-4.43-.49-4.75,10a2.11,2.11,0,0,0,1.2,2,9.33,9.33,0,0,0,3.37.7'/%3e%3cpath%20class='cls-2'%20d='M49.18,8.87s2.14-.69,2.11,2.54-2.11,2.52-2.11,2.52'/%3e%3cpath%20class='cls-2'%20d='M48.92,21.72s1.61,0,1.61-2.28c0-1.87-.61-2.66-1.91-3.08a2.14,2.14,0,0,0-2.38.89'/%3e%3cpath%20class='cls-2'%20d='M47.2,23.27s1.84.31,1.72-2.41-1.49-3.4-2.43-3.56a1.79,1.79,0,0,0-2.05,1'/%3e%3cpath%20class='cls-2'%20d='M45.18,25.25s2.35.32,2.12-4.26a2.41,2.41,0,0,0-.95-1.82L46.07,19a2.41,2.41,0,0,0-3.43.5l-.08.13'/%3e%3cpath%20class='cls-2'%20d='M40.47,20.82A2.54,2.54,0,0,1,44,19.9c2.47,1.09,1.33,7.77-.33,7.43a3.22,3.22,0,0,1-2.3-1.6'/%3e%3cpath%20class='cls-2'%20d='M36.48,22.18s2-3.06,4.16-1.23c1.88,1.62.42,9.92-2.12,8.51a4.39,4.39,0,0,1-2.33-2.75'/%3e%3cpath%20class='cls-2'%20d='M31.26,22.83A1,1,0,0,1,32,21.67a12,12,0,0,1,3.88,0c.51.08.75.58.75,1.14,0,3.63-.71,5.11-1.39,6.1a1.93,1.93,0,0,1-3.05.18A6.14,6.14,0,0,1,31.05,26'/%3e%3cpath%20class='cls-2'%20d='M30.52,21.65c.51.08.74.58.74,1.14,0,3.63-.71,5.53-1.39,6.52a1.49,1.49,0,0,1-2.46,0c-.67-1-1.38-2.87-1.48-6.48a1,1,0,0,1,.71-1.16A12,12,0,0,1,30.52,21.65Z'/%3e%3cpath%20class='cls-2'%20d='M47,8.78s2-1,2.31.46.4,5.12-.92,5.65A2,2,0,0,1,47,14.83'/%3e%3cpath%20class='cls-2'%20d='M44.36,8.56s1.76-1.22,2.55,0,.76,6.42-.44,7c-.7.38-1.93-.48-1.93-.48'/%3e%3cpath%20class='cls-2'%20d='M40.23,9.92a3.55,3.55,0,0,1,2-2.12,1.82,1.82,0,0,1,2.37,1.42c.48,1.87.51,5.25-.69,7.32-1.06,1.82-3.34-.35-3.34-.35'/%3e%3cpath%20class='cls-2'%20d='M34.43,11c.92-3.1,3.27-4.55,4.73-3.21s1.71,5.69,1.5,7.69a2.61,2.61,0,0,1-1.08,1.75c-1.41,1.18-4.46.06-4.46.06'/%3e%3cpath%20class='cls-2'%20d='M30.54,19.31a9.34,9.34,0,0,1-3.39-.61,2.14,2.14,0,0,1-1.26-2c0-10.53,4.48-10.16,4.48-10.16s4.43-.49,4.75,10a2.13,2.13,0,0,1-1.2,2,9.37,9.37,0,0,1-3.38.7'/%3e%3c/g%3e%3c/g%3e%3c/svg%3e",L1="/assets/aligner-front-active-Pkr1rJle.svg",U1="/assets/aligner-left-RbIXASHp.svg",$1="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2049.66%2033.84'%3e%3cdefs%3e%3cstyle%3e.cls-1{fill:%23324858;}.cls-2{fill:%23fff;stroke:%23324858;stroke-miterlimit:10;}%3c/style%3e%3c/defs%3e%3ctitle%3eRecurso%2014%3c/title%3e%3cg%20id='Capa_2'%20data-name='Capa%202'%3e%3cg%20id='Capa_1-2'%20data-name='Capa%201'%3e%3cpath%20class='cls-1'%20d='M18,.28h.1a2.48,2.48,0,0,1,0,5c-4.24.4-6.65.17-1.61,1.06,5.3,1,10.92-.75,15.1-2.61A18.17,18.17,0,0,1,42.74,2.41l.47.11c5.27,1.36,6.54,5,6.44,8.78a3.35,3.35,0,0,1-1.89,3L20.93,18.18,7.19,14.09,1.14,10.22C2-.35,9.3-.5,18,.28Z'/%3e%3cpath%20class='cls-1'%20d='M.56,20.49s-2.51,9,3.09,11.17C17.84,37.22,44,30.41,44,30.41a7.2,7.2,0,0,0,4.29-6c.41-3.43-1.08-4.15-1.08-4.15l-3.37,1.44-7.79,2.7-6.83,1.1-6.4.39-6.45,0L11.91,25,6.18,23.88l-3.8-.95Z'/%3e%3cpath%20class='cls-2'%20d='M39.32,22.62a7.75,7.75,0,0,0,3.8,1.44c1.91,0,4.36-1,4.09-4.21-.17-2.11-.55-2.35-1.39-3.07'/%3e%3cpath%20class='cls-2'%20d='M2.64,16.63c-1.39.57-2.48,3.77-2,5.49.37,1.41,1.6,3.78,3.64,1.06'/%3e%3cpath%20class='cls-2'%20d='M32.76,24.18a5,5,0,0,0,3.18,1.27c1.68-.09,3.86-1.27,3.4-4.46a4,4,0,0,0-.93-2.5'/%3e%3cpath%20class='cls-2'%20d='M31.4,20C33,21.09,33.74,26.08,30,26.8s-4.17-2.38-4.17-2.38'/%3e%3cpath%20class='cls-2'%20d='M25.58,21.34c1.16,1.85-.52,7.73-3.09,6.52-1.78-.85-2.82-1.74-2.73-5.09'/%3e%3cpath%20class='cls-2'%20d='M4.49,18.91c-.57,4.25,0,6.78,1.57,6.91,1.42.12,3-1,3.63-5.73'/%3e%3cpath%20class='cls-2'%20d='M14.49,23.28c-.07,1.23-.89,3.77-3.19,3.59-1.53-.12-2.55-2.35-1.53-7.15'/%3e%3cpath%20class='cls-2'%20d='M19.45,21.14c1,1.33-.27,6.63-3,6.37-1.78-.16-2.21-2.49-1.92-6'/%3e%3cpath%20class='cls-2'%20d='M5.22,11.79c.08-1-2-4.77-3.75-2.14-1.95,2.94-.55,7,2.2,7.29'/%3e%3cpath%20class='cls-2'%20d='M38.63,17.9c.93,1.05,2.81-.35,5-.81s4.5-.45,3.88-3.58-5.29-3.26-5.29-3.26a5.26,5.26,0,0,0-4.86,3.42'/%3e%3cpath%20class='cls-2'%20d='M10.63,14.1c.29-3.77-3.78-6.17-6-1.16-1.17,2.59-.94,4.44-.55,5.32.81,1.82,3.75,1.84,5.87,1.21'/%3e%3cpath%20class='cls-2'%20d='M30.1,15.17s1.33-2.59,3.66-2.62,4.16.85,4.71,3.15,0,3.53-1.26,3.46a6.29,6.29,0,0,0-3.83.75c-1.47.83-3.37-.6-3.37-.6'/%3e%3cpath%20class='cls-2'%20d='M24.1,15.45s1.06-2.73,3.33-2.77,2.75,2.57,2.89,3.55c.25,1.85-.42,5.75-3.43,5.54a3.75,3.75,0,0,1-2.84-2.22'/%3e%3cpath%20class='cls-2'%20d='M17.93,16.46s.47-3.53,3.43-3.41,3.34,3.67,2.69,6.5-6.1,1.84-6.51.3'/%3e%3cpath%20class='cls-2'%20d='M17.35,20.28C16,22.11,10.13,21,10,19.17c.15-3.84.69-8.23,4.49-8C18.88,11.52,18.13,19.23,17.35,20.28Z'/%3e%3c/g%3e%3c/g%3e%3c/svg%3e",F1="/assets/aligner-right-D6fD7OoG.svg",I1="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2049.66%2033.84'%3e%3cdefs%3e%3cstyle%3e.cls-1{fill:%23324858;}.cls-2{fill:%23fff;stroke:%23324858;stroke-miterlimit:10;}%3c/style%3e%3c/defs%3e%3ctitle%3eRecurso%2012%3c/title%3e%3cg%20id='Capa_2'%20data-name='Capa%202'%3e%3cg%20id='Capa_1-2'%20data-name='Capa%201'%3e%3cpath%20class='cls-1'%20d='M31.63.28h-.11a2.49,2.49,0,0,0,0,5c4.24.4,6.65.17,1.62,1.06-5.31,1-10.93-.75-15.1-2.61A18.19,18.19,0,0,0,6.91,2.41l-.47.11C1.17,3.88-.09,7.49,0,11.3a3.33,3.33,0,0,0,1.89,3l26.83,3.88,13.74-4.09,6.05-3.87C47.69-.35,40.36-.5,31.63.28Z'/%3e%3cpath%20class='cls-1'%20d='M49.09,20.49s2.52,9-3.08,11.17C31.82,37.22,5.63,30.41,5.63,30.41a7.2,7.2,0,0,1-4.29-6C.94,21,2.42,20.28,2.42,20.28L5.8,21.72l7.78,2.7,6.83,1.1,6.4.39,6.46,0L37.74,25l5.74-1.08,3.79-.95Z'/%3e%3cpath%20class='cls-2'%20d='M10.33,22.62a7.75,7.75,0,0,1-3.8,1.44c-1.9,0-4.35-1-4.08-4.21.17-2.11.54-2.35,1.38-3.07'/%3e%3cpath%20class='cls-2'%20d='M47,16.63c1.39.57,2.47,3.77,2,5.49-.37,1.41-1.61,3.78-3.65,1.06'/%3e%3cpath%20class='cls-2'%20d='M16.9,24.18a5,5,0,0,1-3.18,1.27C12,25.36,9.85,24.18,10.31,21a4.05,4.05,0,0,1,.93-2.5'/%3e%3cpath%20class='cls-2'%20d='M18.26,20c-1.6,1.08-2.35,6.07,1.44,6.79s4.16-2.38,4.16-2.38'/%3e%3cpath%20class='cls-2'%20d='M24.07,21.34c-1.16,1.85.53,7.73,3.09,6.52,1.78-.85,2.83-1.74,2.73-5.09'/%3e%3cpath%20class='cls-2'%20d='M45.17,18.91c.56,4.25,0,6.78-1.57,6.91-1.42.12-3-1-3.64-5.73'/%3e%3cpath%20class='cls-2'%20d='M35.17,23.28c.06,1.23.88,3.77,3.19,3.59,1.52-.12,2.55-2.35,1.53-7.15'/%3e%3cpath%20class='cls-2'%20d='M30.21,21.14c-1,1.33.27,6.63,2.95,6.37,1.79-.16,2.22-2.49,1.92-6'/%3e%3cpath%20class='cls-2'%20d='M44.43,11.79c-.08-1,2-4.77,3.76-2.14,1.94,2.94.55,7-2.21,7.29'/%3e%3cpath%20class='cls-2'%20d='M11,17.9c-.93,1.05-2.8-.35-5-.81s-4.5-.45-3.87-3.58,5.28-3.26,5.28-3.26a5.28,5.28,0,0,1,4.87,3.42'/%3e%3cpath%20class='cls-2'%20d='M39,14.1c-.3-3.77,3.77-6.17,6-1.16,1.18,2.59.94,4.44.55,5.32-.8,1.82-3.74,1.84-5.86,1.21'/%3e%3cpath%20class='cls-2'%20d='M19.55,15.17s-1.32-2.59-3.66-2.62-4.16.85-4.71,3.15,0,3.53,1.27,3.46a6.26,6.26,0,0,1,3.82.75c1.48.83,3.38-.6,3.38-.6'/%3e%3cpath%20class='cls-2'%20d='M25.55,15.45s-1.06-2.73-3.32-2.77-2.75,2.57-2.89,3.55c-.26,1.85.41,5.75,3.42,5.54a3.75,3.75,0,0,0,2.85-2.22'/%3e%3cpath%20class='cls-2'%20d='M31.72,16.46s-.47-3.53-3.42-3.41-3.35,3.67-2.69,6.5,6.09,1.84,6.51.3'/%3e%3cpath%20class='cls-2'%20d='M32.31,20.28c1.37,1.83,7.22.7,7.39-1.11-.16-3.84-.69-8.23-4.5-8C30.77,11.52,31.53,19.23,32.31,20.28Z'/%3e%3c/g%3e%3c/g%3e%3c/svg%3e",B1="/assets/aligner-upper-DapjTZhE.svg",z1="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2053.11%2039.15'%3e%3cdefs%3e%3cstyle%3e.cls-1{fill:%23324858;}.cls-2{fill:%23fff;}.cls-2,.cls-3{stroke:%23324858;stroke-linecap:round;stroke-linejoin:round;}.cls-3{fill:none;stroke-width:0.5px;}%3c/style%3e%3c/defs%3e%3ctitle%3eRecurso%2011%3c/title%3e%3cg%20id='Capa_2'%20data-name='Capa%202'%3e%3cg%20id='Capa_1-2'%20data-name='Capa%201'%3e%3cpath%20class='cls-1'%20d='M7.81,8.36C3.41,13.37,0,20.75,0,31.6a7.74,7.74,0,0,0,7.49,7.54c4.53.21,8.27-3.15,8.27-7.33a23.46,23.46,0,0,1,3.12-12.53,9.14,9.14,0,0,1,15.35,0,23.47,23.47,0,0,1,3.12,12.38,7.89,7.89,0,0,0,15.76.14c0-11.57-3.74-19.21-8.41-24.23C35-2.92,17.24-2.38,7.81,8.36Z'/%3e%3cpath%20class='cls-2'%20d='M24.89,11.63c1.52-.38,1.8-4,1.28-5.89-.57-2.09-6.32-.4-5.81,1.55C20.75,8.77,23.14,12.07,24.89,11.63Z'/%3e%3cpath%20class='cls-2'%20d='M19.48,13.26c1.07-.61.52-3.74-.29-5.27s-4.89.86-4.09,2.43C15.71,11.61,18.24,14,19.48,13.26Z'/%3e%3cpath%20class='cls-2'%20d='M16.39,16.62c.79-1.22-.82-3.91-2.48-5.07-.93-.65-1.91.62-3,1.24s-.73,3,.1,3.56C12.26,17.26,15.47,18,16.39,16.62Z'/%3e%3cpath%20class='cls-2'%20d='M13.84,22.6c.76-2-1-4.68-2.83-5.5s-3.18.47-4.11,1.35c-1.18,1.12.35,4.32,1.23,4.83C9.49,24.07,13.25,24.17,13.84,22.6Z'/%3e%3cpath%20class='cls-2'%20d='M9.35,23.84a16.54,16.54,0,0,0-2.88-.43c-.78,0-3.22,1.31-3.12,3.66a16.79,16.79,0,0,0,.52,3.74,4.28,4.28,0,0,0,3.55,2.67H7.5a5.15,5.15,0,0,0,4.81-2.76,3.9,3.9,0,0,0,.27-.65l.13-.4a4.76,4.76,0,0,0,.19-2.12,2.28,2.28,0,0,0-.28-.88C12.18,26,10.51,24.07,9.35,23.84Z'/%3e%3cpath%20class='cls-2'%20d='M29.13,11.63c-1.51-.38-1.8-4-1.28-5.89.58-2.09,6.32-.4,5.81,1.55C33.27,8.77,30.88,12.07,29.13,11.63Z'/%3e%3cpath%20class='cls-2'%20d='M34.55,13.26c-1.08-.61-.52-3.74.28-5.27s4.9.86,4.09,2.43C38.31,11.61,35.78,14,34.55,13.26Z'/%3e%3cpath%20class='cls-2'%20d='M37.64,16.62c-.79-1.22.82-3.91,2.47-5.07.93-.65,1.91.62,3,1.24s.73,3-.1,3.56C41.77,17.26,38.55,18,37.64,16.62Z'/%3e%3cpath%20class='cls-2'%20d='M40.18,22.6c-.76-2,1-4.68,2.83-5.5s3.18.47,4.11,1.35c1.19,1.12-.35,4.32-1.23,4.83C44.53,24.07,40.77,24.17,40.18,22.6Z'/%3e%3cpath%20class='cls-2'%20d='M44.67,23.84a16.54,16.54,0,0,1,2.88-.43c.78,0,3.22,1.31,3.12,3.66a16.09,16.09,0,0,1-.52,3.74,4.28,4.28,0,0,1-3.55,2.67h-.08a5.16,5.16,0,0,1-4.81-2.76,3.9,3.9,0,0,1-.27-.65l-.13-.4a4.91,4.91,0,0,1-.19-2.12,2.28,2.28,0,0,1,.28-.88C41.84,26,43.51,24.07,44.67,23.84Z'/%3e%3cpath%20class='cls-3'%20d='M8.41,25.11a3.24,3.24,0,0,1-3.24,2.28'/%3e%3cpath%20class='cls-3'%20d='M7.5,31.64a3.25,3.25,0,0,1,3.24-2.29'/%3e%3cpath%20class='cls-3'%20d='M5.17,30.16s3.55-3.06,5.57-2.42'/%3e%3cpath%20class='cls-3'%20d='M8.68,20.91s1.89-1.63,3-1.29'/%3e%3cpath%20class='cls-3'%20d='M45.64,25.11a3.24,3.24,0,0,0,3.24,2.28'/%3e%3cpath%20class='cls-3'%20d='M46.55,31.64a3.25,3.25,0,0,0-3.24-2.29'/%3e%3cpath%20class='cls-3'%20d='M48.88,30.16s-3.55-3.06-5.57-2.42'/%3e%3cpath%20class='cls-3'%20d='M45.38,20.91s-1.9-1.63-3-1.29'/%3e%3c/g%3e%3c/g%3e%3c/svg%3e",q1="/assets/aligner-lower-BrDaugTS.svg",H1="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2051.91%2040.18'%3e%3cdefs%3e%3cstyle%3e.cls-1{fill:%23324858;}.cls-2{fill:%23fff;}.cls-2,.cls-3{stroke:%23324858;stroke-linecap:round;stroke-linejoin:round;}.cls-3{fill:none;stroke-width:0.5px;}%3c/style%3e%3c/defs%3e%3ctitle%3eRecurso%2015%3c/title%3e%3cg%20id='Capa_2'%20data-name='Capa%202'%3e%3cg%20id='Capa_1-2'%20data-name='Capa%201'%3e%3cpath%20class='cls-1'%20d='M44.28,31.6c4.29-5.14,7.64-12.71,7.63-23.85A7.76,7.76,0,0,0,44.59,0a7.62,7.62,0,0,0-8.08,7.52,25,25,0,0,1-3.06,12.86,8.7,8.7,0,0,1-15,0,24.92,24.92,0,0,1-3-12.7A7.76,7.76,0,0,0,7.94,0,7.62,7.62,0,0,0,0,7.53C0,19.41,3.65,27.25,8.21,32.41,17.74,43.18,35.06,42.62,44.28,31.6Z'/%3e%3cpath%20class='cls-2'%20d='M24.33,30.46s-.86-.86-1.84.3-2.43,3.75-1.8,4.95,3,1.32,3.59.93.91-1,.91-2.88A5,5,0,0,0,24.33,30.46Z'/%3e%3cpath%20class='cls-2'%20d='M18.74,29.18s-1.83-.3-3.48,2.59,2.36,4.57,3.81,2.89C19.69,33.93,20.73,29.6,18.74,29.18Z'/%3e%3cpath%20class='cls-2'%20d='M15.38,28.12A1.4,1.4,0,0,0,14.24,27c-1.18-.23-3.1-.56-4.6.6-2.17,1.69,2.47,6.33,4.08,5.05A5.1,5.1,0,0,0,15.38,28.12Z'/%3e%3cpath%20class='cls-2'%20d='M27.58,30.46s.86-.86,1.84.3,2.44,3.75,1.8,4.95-3,1.32-3.59.93-.91-1-.91-2.88A5.07,5.07,0,0,1,27.58,30.46Z'/%3e%3cpath%20class='cls-2'%20d='M33.17,29.18s1.84-.3,3.49,2.59-2.37,4.57-3.82,2.89C32.22,33.93,31.18,29.6,33.17,29.18Z'/%3e%3cpath%20class='cls-2'%20d='M36.53,28.12A1.42,1.42,0,0,1,37.67,27c1.18-.23,3.1-.56,4.6.6,2.18,1.69-2.46,6.33-4.08,5.05A5.13,5.13,0,0,1,36.53,28.12Z'/%3e%3cpath%20class='cls-2'%20d='M42.22,16a4.59,4.59,0,0,1,2.87.84c1.32,1,.17,2.13.51,3.38s.87,4.55-1.19,5.8-3.91,1-4.75,0a4.54,4.54,0,0,1-.51-4.38c.61-1.59-.37-2.91.51-4.43A2.55,2.55,0,0,1,42.22,16Z'/%3e%3cpath%20class='cls-2'%20d='M43.65,4.66a5.5,5.5,0,0,1,2.93.93c1.25.92,1.31,1.81,1.63,3s-.48,5.2-2.42,6.38-4.14.67-4.94-.29a4.61,4.61,0,0,1-.67-4.27c.58-1.5-.16-2.87.67-4.3A3.47,3.47,0,0,1,43.65,4.66Z'/%3e%3cpath%20class='cls-3'%20d='M42.37,18.41a12.75,12.75,0,0,1,0,5.64'/%3e%3cpath%20class='cls-3'%20d='M44.69,19.77a7.12,7.12,0,0,1-2,.31'/%3e%3cpath%20class='cls-3'%20d='M40.66,20.83a7.36,7.36,0,0,0,2.05-.07'/%3e%3cpath%20class='cls-3'%20d='M43.94,7.56a21.55,21.55,0,0,1-.38,6'/%3e%3cpath%20class='cls-3'%20d='M41.46,10.19a12.83,12.83,0,0,1,4.64.38'/%3e%3cpath%20class='cls-2'%20d='M9.69,16a4.59,4.59,0,0,0-2.87.84c-1.31,1-.16,2.13-.5,3.38S5.44,24.72,7.5,26s3.91,1,4.76,0a4.57,4.57,0,0,0,.5-4.38c-.6-1.59.38-2.91-.5-4.43A2.56,2.56,0,0,0,9.69,16Z'/%3e%3cpath%20class='cls-2'%20d='M8.26,4.66a5.5,5.5,0,0,0-2.93.93C4.09,6.51,4,7.4,3.71,8.58s.47,5.2,2.42,6.38,4.13.67,4.93-.29a4.59,4.59,0,0,0,.67-4.27c-.57-1.5.17-2.87-.66-4.3A3.48,3.48,0,0,0,8.26,4.66Z'/%3e%3cpath%20class='cls-3'%20d='M9.54,18.41a12.92,12.92,0,0,0,0,5.64'/%3e%3cpath%20class='cls-3'%20d='M7.23,19.77a7,7,0,0,0,2,.31'/%3e%3cpath%20class='cls-3'%20d='M11.25,20.83a7.29,7.29,0,0,1-2-.07'/%3e%3cpath%20class='cls-3'%20d='M8,7.56a21.55,21.55,0,0,0,.38,6'/%3e%3cpath%20class='cls-3'%20d='M10.59,10.19a14.29,14.29,0,0,0-4.9.38'/%3e%3c/g%3e%3c/g%3e%3c/svg%3e",_$="/assets/aligner-info-upper-DUqiEBFF.svg",C$="/assets/aligner-info-lower-BjIw_2eg.svg",Ka=({isActive:e,activeIcon:t,disabledIcon:n,name:s,viewChanger:l})=>e?a.jsxs(R$,{children:[a.jsx(V1,{src:t}),a.jsx(G1,{children:s})]}):a.jsxs(E$,{onClick:()=>l(s),children:[a.jsx(V1,{src:n}),a.jsx(G1,{children:s})]}),V1=Qe.img`
  width: 43px;
  height: 40px;
  display: block;

  @media (max-width: 570px) {
    width: 35px;
  }
`,G1=Qe.p`
  font-size: 14px;
  color: #324858;
  font-weight: bold;
  margin: 0;
`,E$=Qe.div`
  width: 95px;
  height: 95px;
  border-radius: 10px;
  margin-left: 0.4vw;
  margin-right: 0.4vw;
  cursor: pointer;
  opacity: 0.5;
  z-index: 1020;
  display: flex;
  flex-direction: column;
  align-items: center;
  text-align: center;
  justify-content: center;
  @media (max-width: 768px) {
    width: 15vw;
    height: 15vw;
  }
`,R$=Qe.div`
  width: 95px;
  height: 95px;
  border-radius: 10px;
  margin-left: 0.4vw;
  margin-right: 0.4vw;
  background-color: #ffd6f3;
  z-index: 1020;
  display: flex;
  flex-direction: column;
  align-items: center;
  text-align: center;
  justify-content: center;
  @media (max-width: 768px) {
    width: 15vw;
    height: 15vw;
  }
`,Y1=({name:e,jawImg:t,upperCount:n,lowerCount:s})=>a.jsxs(A$,{children:[n?a.jsxs(K1,{children:[a.jsx(W1,{children:n})," ",e," "]}):null,s?a.jsxs(K1,{children:[a.jsx(W1,{children:s})," ",e," "]}):null,a.jsx(P$,{src:t})]}),A$=Qe.div`
  display: flex;
  flex-direction: column;
  text-align: center;
  align-items: center;
  justify-content: center;
  margin: 0 20px;
`,K1=Qe.p`
  color: #212529;
  font-weight: 600;
  margin: 0;
  font-size: 1rem;
`,W1=Qe.span`
  color: #760052;
  font-weight: bold;
  margin: 0;
  font-size: 1rem;
`,P$=Qe.img`
  width: 43px;
  height: 40px;
  display: block;
`;function k$(){const{t:e,i18n:t}=ve(),[n,s]=h.useState(null),[l,o]=h.useState(!0),[d,f]=h.useState(null),{caseId:m}=X4(),[p,g]=h.useState("Front"),[b,y]=h.useState("videos"),[w,j]=h.useState(0),[S,_]=h.useState(!1),[R,k]=h.useState(!1),[N,A]=h.useState(0),P=h.useRef(null),E=t.language==="ar",T=h.useCallback(async()=>{try{o(!0);const{data:X,error:ce}=await ee.from("cases").select("*").eq("id",m).single();if(ce)throw ce;const{data:fe,error:Se}=await ee.from("treatment_plan_images").select("*").eq("case_id",m).order("sequence_order",{ascending:!0});if(Se)throw Se;const _e=await Promise.all((fe||[]).map(async ye=>{const{data:$e}=ee.storage.from("treatment-plans").getPublicUrl(ye.storage_path);return{...ye,url:$e.publicUrl}})),ge={front:[],left:[],right:[],upper:[],lower:[]},be={};_e.filter(ye=>ye.image_category==="sequence").forEach(ye=>{ye.is_video?be[ye.view_type]=ye.url:ge[ye.view_type]&&ge[ye.view_type].push(ye)});const Ae={front:null,left:null,right:null,upper:null,lower:null};_e.filter(ye=>ye.image_category==="beforeAfter").forEach(ye=>{Ae[ye.view_type]!==void 0&&(Ae[ye.view_type]=ye.url)});const ke={...X,sequenceImages:ge,sequenceVideos:be,beforeAfter:Ae};s(ke),o(!1)}catch(X){f(X.message),o(!1)}},[m]);if(h.useEffect(()=>{T()},[T]),h.useEffect(()=>{if(S&&b==="videos"){const X=p.toLowerCase(),ce=n?.sequenceImages?.[X]||[];ce.length>0&&(P.current=setInterval(()=>{j(fe=>fe>=ce.length-1?(_(!1),ce.length-1):fe+1)},500))}else P.current&&clearInterval(P.current);return()=>{P.current&&clearInterval(P.current)}},[S,b,p,n]),h.useEffect(()=>{j(0),_(!1),k(!1),A(0)},[p,b]),h.useEffect(()=>{if(b==="videos"&&n){const X=p.toLowerCase(),ce=n?.sequenceImages?.[X]||[];if(ce.length===0){k(!0);return}k(!1),A(0);let fe=0;const Se=ce.map((_e,ge)=>new Promise(be=>{const Ae=new Image;Ae.onload=()=>{fe++,A(Math.round(fe/ce.length*100)),be()},Ae.onerror=()=>{console.error(`Failed to preload image ${ge+1}:`,_e.url),fe++,A(Math.round(fe/ce.length*100)),be()},Ae.src=_e.url}));Promise.all(Se).then(()=>{k(!0)})}},[p,b,n]),l)return a.jsx(bu,{children:a.jsxs(eF,{className:"flex flex-col items-center",children:[a.jsx(Qt,{size:"large"}),e("viewer.loadingViewer")]})});if(d)return a.jsx(bu,{children:a.jsxs(sj,{children:[e("common.error"),": ",d]})});if(!n)return a.jsx(bu,{children:a.jsx(sj,{children:e("viewer.caseNotFound")})});const I=X=>{y(X)},U=X=>{g(X)},Z={lower:!!(n.sequenceVideos?.lower||n.sequenceImages?.lower?.length>0),upper:!!(n.sequenceVideos?.upper||n.sequenceImages?.upper?.length>0),right:!!(n.sequenceVideos?.right||n.sequenceImages?.right?.length>0),left:!!(n.sequenceVideos?.left||n.sequenceImages?.left?.length>0),front:!!(n.sequenceVideos?.front||n.sequenceImages?.front?.length>0)},se={lower:!!n.beforeAfter.lower,upper:!!n.beforeAfter.upper,right:!!n.beforeAfter.right,left:!!n.beforeAfter.left,front:!!n.beforeAfter.front},F=p.toLowerCase(),L=n.sequenceImages?.[F]||[],$=n.sequenceVideos?.[F],W=n.beforeAfter[F],O=()=>{L.length===0||!R||_(!S)},q=()=>{_(!1),j(0)},B=()=>{_(!1),j(Math.max(0,L.length-1))},Y=()=>{_(!1),j(X=>Math.min(X+1,L.length-1))},D=()=>{_(!1),j(X=>Math.max(X-1,0))},V=Da(n?.first_name),J=Da(n?.last_name),ne=`${V} ${J}`;return a.jsxs(bu,{children:[a.jsx(T$,{children:a.jsx(D$,{children:a.jsx(M$,{src:"/logo.png",alt:"Lumina Logo"})})}),a.jsxs(O$,{children:[a.jsxs(L$,{children:[a.jsxs(J1,{children:[a.jsxs(Z1,{children:[e("viewer.patientName"),":"]}),a.jsx(X1,{children:ne||""})]}),a.jsxs(J1,{children:[a.jsxs(Z1,{children:[e("viewer.caseNumber"),":"]}),a.jsxs(X1,{children:["#",n.id||""]})]})]}),a.jsxs(U$,{children:[a.jsx(Q1,{active:b==="videos",onClick:()=>I("videos"),children:e("viewer.sequenceAnimation")}),a.jsx(Q1,{active:b==="before-after",onClick:()=>I("before-after"),children:e("viewer.beforeAfter")})]}),b==="videos"?a.jsxs(ej,{children:[Z.front&&a.jsx(Ka,{isActive:p==="Front",activeIcon:L1,disabledIcon:O1,name:"Front",viewChanger:U}),Z.left&&a.jsx(Ka,{isActive:p==="Left",activeIcon:$1,disabledIcon:U1,name:"Left",viewChanger:U}),Z.right&&a.jsx(Ka,{isActive:p==="Right",activeIcon:I1,disabledIcon:F1,name:"Right",viewChanger:U}),Z.upper&&a.jsx(Ka,{isActive:p==="Upper",activeIcon:z1,disabledIcon:B1,name:"Upper",viewChanger:U}),Z.lower&&a.jsx(Ka,{isActive:p==="Lower",activeIcon:H1,disabledIcon:q1,name:"Lower",viewChanger:U})]}):a.jsxs(ej,{children:[se.front&&a.jsx(Ka,{isActive:p==="Front",activeIcon:L1,disabledIcon:O1,name:"Front",viewChanger:U}),se.left&&a.jsx(Ka,{isActive:p==="Left",activeIcon:$1,disabledIcon:U1,name:"Left",viewChanger:U}),se.right&&a.jsx(Ka,{isActive:p==="Right",activeIcon:I1,disabledIcon:F1,name:"Right",viewChanger:U}),se.upper&&a.jsx(Ka,{isActive:p==="Upper",activeIcon:z1,disabledIcon:B1,name:"Upper",viewChanger:U}),se.lower&&a.jsx(Ka,{isActive:p==="Lower",activeIcon:H1,disabledIcon:q1,name:"Lower",viewChanger:U})]}),b==="videos"?a.jsxs(a.Fragment,{children:[a.jsx(tj,{children:$?a.jsxs(F$,{controls:!0,autoPlay:!1,loop:!0,children:[a.jsx("source",{src:$,type:"video/mp4"}),"Your browser does not support the video tag."]},F):L.length>0?a.jsxs(a.Fragment,{children:[!R&&a.jsxs(I$,{children:[a.jsxs(B$,{children:[e("viewer.preloadingImages")," ",N,"%"]}),a.jsx(z$,{children:a.jsx(q$,{style:{width:`${N}%`}})})]}),a.jsx($$,{children:L.map((X,ce)=>a.jsx(nj,{src:X.url,alt:`${p} view - step ${ce+1}`,style:{display:ce===w?"block":"none",opacity:R?1:.3},onError:()=>{console.error("Image failed to load:",X.url)}},X.id))}),a.jsxs(H$,{children:[a.jsx(V$,{children:a.jsx(G$,{style:{width:`${(w+1)/L.length*100}%`}})}),a.jsxs(Y$,{children:[e("viewer.step")," ",w+1," ",e("viewer.of")," ",L.length]})]})]}):a.jsx(aj,{children:e("viewer.noSequenceImages")})}),!$&&L.length>0&&a.jsxs(K$,{children:[a.jsx(vu,{onClick:q,title:e("viewer.jumpToStart"),disabled:!R,children:a.jsx(hT,{})}),a.jsx(vu,{onClick:D,title:e("viewer.previousStep"),disabled:!R,children:a.jsx(CT,{})}),a.jsx(W$,{onClick:O,disabled:!R,children:S?a.jsx(yT,{}):a.jsx(ST,{})}),a.jsx(vu,{onClick:Y,title:e("viewer.nextStep"),disabled:!R,children:a.jsx(ET,{})}),a.jsx(vu,{onClick:B,title:e("viewer.jumpToEnd"),disabled:!R,children:a.jsx(mT,{})})]})]}):a.jsx(tj,{children:W?a.jsx(nj,{src:W,alt:`${p} view before/after comparison`}):a.jsx(aj,{children:e("viewer.noBeforeAfterImage")})}),a.jsxs(J$,{children:[a.jsx(rj,{children:a.jsx(Y1,{upperCount:n.upper_jaw_aligners||0,jawImg:_$,name:e("viewer.upperAligners")})}),a.jsx(rj,{children:a.jsx(Y1,{upperCount:n.lower_jaw_aligners||0,jawImg:C$,name:e("viewer.lowerAligners")})})]}),a.jsxs(Z$,{children:[a.jsx(X$,{children:e("viewer.disclaimer.title")}),a.jsx(Q$,{isRTL:E,children:e("viewer.disclaimer.points",{returnObjects:!0}).map((X,ce)=>a.jsxs("li",{children:[X,"."]},ce))})]})]})]})}const bu=Qe.div`
  text-align: center;
  background-color: #f8f9fa;
  min-height: 100vh;
  display: flex;
  flex-direction: column;
  align-items: center;
  color: #212529;
`,T$=Qe.div`
  width: 100%;
  background-color: #fff;
  padding: 1.5rem 2rem;
  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
  display: flex;
  align-items: center;
  justify-content: center;
  position: relative;
`,D$=Qe.div`
  display: flex;
  align-items: center;
  gap: 1rem;
`,M$=Qe.img`
  height: 50px;
  width: auto;
  object-fit: contain;

  @media (max-width: 768px) {
    height: 40px;
  }
`,O$=Qe.div`
  width: 90%;
  max-width: 1200px;
  margin: 2rem auto;
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 2rem;

  @media (max-width: 768px) {
    width: 95%;
    margin: 1rem auto;
  }
`,L$=Qe.div`
  width: 100%;
  background-color: #fff;
  padding: 1.5rem;
  border-radius: 8px;
  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
  display: flex;
  justify-content: center;
  gap: 3rem;

  @media (max-width: 768px) {
    flex-direction: column;
    gap: 1rem;
  }
`,J1=Qe.div`
  display: flex;
  align-items: center;
  gap: 0.5rem;
`,Z1=Qe.span`
  font-size: 0.9rem;
  color: #6c757d;
  font-weight: 500;
`,X1=Qe.span`
  font-size: 1rem;
  color: #212529;
  font-weight: 600;
`,U$=Qe.div`
  display: flex;
  gap: 0.5rem;
  background-color: #fff;
  padding: 0.5rem;
  border-radius: 8px;
  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
`,Q1=Qe.button`
  padding: 0.75rem 2rem;
  background-color: ${e=>e.active?"#760052":"transparent"};
  color: ${e=>e.active?"#fff":"#495057"};
  border: none;
  border-radius: 6px;
  font-size: 0.95rem;
  font-weight: 600;
  cursor: pointer;
  transition: all 0.2s;

  &:hover {
    background-color: ${e=>e.active?"#a72181":"#f8f9fa"};
  }
`,ej=Qe.div`
  display: flex;
  gap: 0.75rem;
  flex-wrap: wrap;
  justify-content: center;
`,tj=Qe.div`
  height: 500px;
  width: 100%;
  background-color: #000;
  border-radius: 8px;
  overflow: hidden;
  display: flex;
  align-items: center;
  justify-content: center;
  box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
  position: relative;

  @media (max-width: 768px) {
    height: 300px;
  }
`,$$=Qe.div`
  position: relative;
  width: 100%;
  height: 100%;
  display: flex;
  align-items: center;
  justify-content: center;
`,nj=Qe.img`
  position: absolute;
  max-height: 100%;
  max-width: 100%;
  object-fit: contain;
  transition: opacity 0.3s ease;
`,F$=Qe.video`
  max-height: 100%;
  max-width: 100%;
  object-fit: contain;
`,I$=Qe.div`
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 1rem;
  z-index: 10;
`,B$=Qe.div`
  color: #fff;
  font-size: 1rem;
  font-weight: 600;
`,z$=Qe.div`
  width: 200px;
  height: 6px;
  background-color: rgba(255, 255, 255, 0.3);
  border-radius: 3px;
  overflow: hidden;
`,q$=Qe.div`
  height: 100%;
  background-color: #760052;
  transition: width 0.3s ease;
`,H$=Qe.div`
  position: absolute;
  bottom: 0;
  left: 0;
  right: 0;
  padding: 1rem;
  background: linear-gradient(to top, rgba(0, 0, 0, 0.8), transparent);
  display: flex;
  flex-direction: column;
  gap: 0.5rem;
`,V$=Qe.div`
  width: 100%;
  height: 4px;
  background-color: rgba(255, 255, 255, 0.3);
  border-radius: 2px;
  overflow: hidden;
  direction: ltr;
`,G$=Qe.div`
  height: 100%;
  background-color: #760052;
  transition: width 0.3s ease;
`,Y$=Qe.div`
  color: #fff;
  font-size: 0.85rem;
  font-weight: 600;
  text-align: center;
`,aj=Qe.div`
  color: #fff;
  font-size: 1.1rem;
  padding: 2rem;
`,K$=Qe.div`
  display: flex;
  gap: 1rem;
  align-items: center;
  justify-content: center;
  background-color: #fff;
  padding: 1rem;
  border-radius: 8px;
  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
  direction: ltr;
`,vu=Qe.button`
  padding: 0.75rem;
  background-color: #fff;
  border: 2px solid #dee2e6;
  border-radius: 6px;
  color: #495057;
  cursor: pointer;
  transition: all 0.2s;
  display: flex;
  align-items: center;
  justify-content: center;

  &:hover:not(:disabled) {
    background-color: #f8f9fa;
    border-color: #a72181;
    color: #a72181;
  }

  &:active:not(:disabled) {
    transform: scale(0.95);
  }

  &:disabled {
    opacity: 0.5;
    cursor: not-allowed;
  }
`,W$=Qe.button`
  padding: 1rem 1.5rem;
  background-color: #760052;
  border: none;
  border-radius: 8px;
  color: #fff;
  cursor: pointer;
  transition: all 0.2s;
  display: flex;
  align-items: center;
  justify-content: center;

  &:hover:not(:disabled) {
    background-color: #a72181;
    transform: scale(1.05);
  }

  &:active:not(:disabled) {
    transform: scale(0.98);
  }

  &:disabled {
    opacity: 0.5;
    cursor: not-allowed;
  }
`,J$=Qe.div`
  display: flex;
  gap: 2rem;
  width: 100%;
  justify-content: center;

  @media (max-width: 768px) {
    flex-direction: column;
    gap: 1rem;
  }
`,rj=Qe.div`
  background-color: #fff;
  padding: 1.5rem 3rem;
  border-radius: 8px;
  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
  text-align: center;
  min-width: 200px;
`,Z$=Qe.div`
  width: 100%;
  background-color: #fff3cd;
  border: 1px solid #ffc107;
  border-radius: 8px;
  padding: 1.5rem 2rem;
  margin-top: 1rem;
  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
`,X$=Qe.div`
  font-size: 1.1rem;
  font-weight: 700;
  color: #856404;
  margin-bottom: 0.75rem;
  text-align: center;
`,Q$=Qe.ul`
  font-size: 0.9rem;
  color: #856404;
  line-height: 1.6;
  margin: 0;
  padding: 0;
  list-style-type: none;
  text-align: ${e=>e.isRTL?"right":"left"};
  direction: ${e=>e.isRTL?"rtl":"ltr"};

  li {
    margin-bottom: 0.5rem;
    position: relative;
    padding-inline-start: 1.5rem;

    &:before {
      content: '';
      position: absolute;
      left: ${e=>e.isRTL?"auto":"0"};
      right: ${e=>e.isRTL?"0":"auto"};
      font-weight: bold;
    }
  }
`;Qe.div`
  height: 1px;
  background-color: #ffc107;
  margin: 1rem 0;
  opacity: 0.5;
`;const eF=Qe.div`
  font-size: 1.2rem;
  color: #6c757d;
  padding: 4rem;
`,sj=Qe.div`
  font-size: 1.1rem;
  color: #dc3545;
  padding: 2rem;
`,tF=({isOpen:e,onClose:t,onSubmit:n})=>{const{t:s,i18n:l}=ve(),o=l.language==="ar",[d,f]=h.useState({full_name:"",clinic:"",phone:"",email:"",address:"",password:"",language_preference:"en"}),[m,p]=h.useState(!1),[g,b]=h.useState(null),[y,w]=h.useState(!1),[j,S]=h.useState(!1),_=N=>{f({...d,[N.target.name]:N.target.value})},R=()=>{const A="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789!@#$%^&*";let P="";for(let E=0;E<12;E++)P+=A.charAt(Math.floor(Math.random()*A.length));f({...d,password:P}),S(!0)},k=async N=>{N.preventDefault(),b(null),p(!0);try{if(!d.full_name||!d.email||!d.clinic)throw new Error(s("settings.errors.fillAllFields"));if(!d.password||d.password.length<6)throw new Error(s("settings.errors.passwordTooShort"));await n(d),w(!0),setTimeout(()=>{w(!1),f({full_name:"",clinic:"",phone:"",email:"",address:"",password:"",language_preference:"en"}),S(!1),t()},3e3)}catch(A){b(A.message)}finally{p(!1)}};return e?a.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50",children:a.jsxs("div",{className:"relative w-full max-w-2xl bg-white rounded-lg shadow-xl mx-4 max-h-[90vh] overflow-y-auto",children:[a.jsxs("div",{className:"sticky top-0 bg-white border-b px-6 py-4 flex items-center justify-between",children:[a.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:s("signUpRequests.createUser")}),a.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600 transition-colors",children:a.jsx(sn,{className:"w-6 h-6"})})]}),y?a.jsx("div",{className:"p-6",children:a.jsx("div",{className:"rounded-md bg-green-50 p-4",children:a.jsx("div",{className:"flex",children:a.jsxs("div",{className:"ml-3",children:[a.jsx("h3",{className:"text-sm font-medium text-green-800",children:s("signUpRequests.userCreatedSuccess")}),a.jsx("p",{className:"mt-2 text-sm text-green-700",children:s("signUpRequests.passwordHint")})]})})})}):a.jsxs("div",{className:"p-6 space-y-4",children:[g&&a.jsx("div",{className:"rounded-md bg-red-50 p-4",children:a.jsx("div",{className:"flex",children:a.jsx("div",{className:"ml-3",children:a.jsx("h3",{className:"text-sm font-medium text-red-800",children:g})})})}),a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"full_name",className:"block text-sm font-medium text-gray-700 mb-1",children:[s("signUpRequests.fullName")," ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"text",id:"full_name",name:"full_name",required:!0,value:d.full_name,onChange:_,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-sky-600 focus:border-transparent",placeholder:"Dr. John Doe"})]}),a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-1",children:[s("signUpRequests.email")," ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"email",id:"email",name:"email",required:!0,value:d.email,onChange:_,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-sky-600 focus:border-transparent",placeholder:"john.doe@example.com"})]}),a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-1",children:[s("auth.password")," ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx("div",{className:"relative flex-1",children:a.jsx("input",{type:j?"text":"password",id:"password",name:"password",required:!0,value:d.password,onChange:_,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-sky-600 focus:border-transparent",placeholder:s("signUpRequests.passwordPlaceholder")})}),a.jsx("button",{type:"button",onClick:()=>S(!j),className:"px-3 py-2 border border-gray-300 rounded-md text-gray-700 hover:bg-gray-50 text-sm",children:s(j?"common.hide":"common.show")}),a.jsx("button",{type:"button",onClick:R,className:"px-3 py-2 bg-gray-100 border border-gray-300 rounded-md text-gray-700 hover:bg-gray-200 text-sm whitespace-nowrap",children:s("common.generate")})]}),a.jsx("p",{className:"mt-1 text-xs text-gray-500",children:s("signUpRequests.passwordHint")})]}),a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"clinic",className:"block text-sm font-medium text-gray-700 mb-1",children:[s("signUpRequests.clinicName")," ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"text",id:"clinic",name:"clinic",required:!0,value:d.clinic,onChange:_,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-sky-600 focus:border-transparent",placeholder:"City Medical Center"})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"phone",className:"block text-sm font-medium text-gray-700 mb-1",children:s("signUpRequests.phoneNumber")}),a.jsx("input",{type:"tel",id:"phone",name:"phone",value:d.phone,onChange:_,className:`w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-sky-600 focus:border-transparent ${o?"text-right":""}`,placeholder:"+1 (555) 123-4567"})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"address",className:"block text-sm font-medium text-gray-700 mb-1",children:s("signUpRequests.clinicAddress")}),a.jsx("textarea",{id:"address",name:"address",rows:"2",value:d.address,onChange:_,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-sky-600 focus:border-transparent",placeholder:"123 Main Street, Suite 100, City, State 12345"})]}),a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"language_preference",className:"block text-sm font-medium text-gray-700 mb-1",children:[s("signUpRequests.prefferedLanguage")," ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsxs("select",{id:"language_preference",name:"language_preference",required:!0,value:d.language_preference,onChange:_,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-sky-600 focus:border-transparent bg-white",children:[a.jsx("option",{value:"en",children:"English"}),a.jsx("option",{value:"ar",children:" (Arabic)"})]}),a.jsx("p",{className:"mt-1 text-xs text-gray-500",children:s("signUpRequests.prefferedLanguageSubtext")})]}),a.jsxs("div",{className:"flex gap-3 pt-4",children:[a.jsx("button",{type:"button",onClick:t,className:"flex-1 px-4 py-2 border border-gray-300 rounded-md text-gray-700 hover:bg-gray-50 font-medium",children:s("common.cancel")}),a.jsx("button",{type:"button",onClick:k,disabled:m,className:"flex-1 px-4 py-2 bg-brand-600 text-white rounded-md hover:bg-brand-700 font-medium disabled:bg-brand-400",children:s(m?"signUpRequests.creatingAccount":"signUpRequests.createUser")})]})]})]})}):null},nF=()=>{const{t:e,i18n:t}=ve(),n=t.language==="ar",[s,l]=h.useState([]),[o,d]=h.useState(!0),[f,m]=h.useState(!1),[p,g]=h.useState(null),[b,y]=h.useState(!1),[w,j]=h.useState(!1),[S,_]=h.useState(""),[R,k]=h.useState(null),[N,A]=h.useState(null);h.useEffect(()=>{P()},[]);const P=async(F=!1)=>{try{F?m(!0):d(!0);const{data:L,error:$}=await ee.from("signup_requests").select("*").order("created_at",{ascending:!1});if($)throw $;l(L||[]),A(null)}catch(L){console.error("Error fetching requests:",L),A(L.message)}finally{d(!1),m(!1)}},E=()=>{P(!0)},T=async()=>{if(!S||S.length<6){A(e("signUpRequests.passwordRequired"));return}k(p.id),A(null);try{const{data:F,error:L}=await ee.functions.invoke("register-with-profile",{body:{email:p.email,password:S,full_name:p.full_name,clinic:p.clinic,phone:p.phone,address:p.address,language_preference:p.language_preference||"en"}});if(L)throw new et(L.message);if(F.error)throw new et(F.error);if(!F.success||!F.user)throw new et("User creation failed - no user returned");const{error:$}=await ee.from("signup_requests").update({status:"approved",approved_at:new Date().toISOString(),user_id:F.user.id}).eq("id",p.id);if($)throw $;console.log("User created successfully:",F.user),console.log("Profile created:",F.profile),alert(`${e("signUpRequests.userCreatedSuccess")}
${e("signUpRequests.email")}: ${p.email}
${e("signUpRequests.password")}: ${S}`),y(!1),_(""),g(null),P()}catch(F){console.error("Error approving request:",F),A(F.message||"Failed to create user account")}finally{k(null)}},I=async F=>{if(confirm(e("signUpRequests.confirmReject"))){k(F);try{const{error:L}=await ee.from("signup_requests").update({status:"rejected",rejected_at:new Date().toISOString()}).eq("id",F);if(L)throw L;P()}catch(L){console.error("Error rejecting request:",L),A(L.message)}finally{k(null)}}},U=async F=>{try{const{data:L,error:$}=await ee.functions.invoke("create-user",{body:{email:F.email,password:F.password,full_name:F.full_name,clinic:F.clinic,phone:F.phone,address:F.address,language_preference:F.language_preference||"en"}});if($)throw new et($.message);if(L.error)throw new et(L.error);if(!L.success||!L.user)throw new et("User creation failed");console.log("User created successfully:",L.user),console.log("Profile created:",L.profile),alert(`${e("signUpRequests.userCreatedSuccess")}
${e("signUpRequests.email")}: ${F.email}
${e("signUpRequests.password")}: ${F.password}`)}catch(L){throw console.error("Error creating user:",L),new et(L.message||"Failed to create user account")}},Z=F=>{const L={pending:{bg:"bg-yellow-100",text:"text-yellow-800",icon:Tf,label:e("signUpRequests.statusPending")},approved:{bg:"bg-green-100",text:"text-green-800",icon:mw,label:e("signUpRequests.statusApproved")},rejected:{bg:"bg-red-100",text:"text-red-800",icon:xw,label:e("signUpRequests.statusRejected")}},$=L[F]||L.pending,W=$.icon;return a.jsxs("span",{className:`inline-flex items-center gap-1 px-2.5 py-0.5 rounded-full text-xs font-medium ${$.bg} ${$.text}`,children:[a.jsx(W,{className:"w-3 h-3"}),$.label]})},se=F=>{const L=F==="ar";return a.jsxs("span",{className:`inline-flex items-center gap-1 px-2 py-1 rounded text-xs font-medium ${L?"bg-purple-100 text-purple-800":"bg-blue-100 text-blue-800"}`,children:[a.jsx(tg,{className:"w-3 h-3"}),L?"":"English"]})};return a.jsxs(a.Fragment,{children:[N&&a.jsx(et,{error:N}),a.jsx(wi,{submit:!1,createUser:!0,onCreateUser:()=>j(!0),children:e("signUpRequests.title")}),a.jsxs("div",{className:"flex w-full justify-between items-center gap-4",children:[a.jsx("p",{className:"text-body font-body text-subtext-color",children:e("signUpRequests.subtitle")}),a.jsx("div",{className:"flex items-center gap-2 flex-shrink-0",children:a.jsx(Jt,{icon:a.jsx($n,{className:f?"animate-spin":""}),onClick:E,disabled:f})})]}),a.jsx(z,{header:a.jsxs(z.HeaderRow,{children:[a.jsx(z.HeaderCell,{children:e("signUpRequests.name")}),a.jsx(z.HeaderCell,{children:e("signUpRequests.email")}),a.jsx(z.HeaderCell,{children:e("signUpRequests.clinic")}),a.jsx(z.HeaderCell,{children:e("signUpRequests.phone")}),a.jsx(z.HeaderCell,{children:e("signUpRequests.status")}),a.jsx(z.HeaderCell,{children:e("signUpRequests.date")}),a.jsx(z.HeaderCell,{children:e("common.actions")})]}),children:o?a.jsx(z.Row,{children:a.jsx(z.Cell,{colSpan:7,children:a.jsx("div",{className:"flex w-full h-full min-h-[100px] justify-center items-center",children:a.jsx(Qt,{size:"medium"})})})}):s.length===0?a.jsx(z.Row,{children:a.jsx(z.Cell,{colSpan:7,children:a.jsx("div",{className:"text-center py-8",children:a.jsx("span",{className:"text-neutral-500",children:e("signUpRequests.noRequests")})})})}):s.map(F=>a.jsxs(z.Row,{children:[a.jsx(z.Cell,{children:a.jsx("span",{className:"whitespace-nowrap text-body-bold font-body-bold text-neutral-700",children:F.full_name})}),a.jsx(z.Cell,{children:a.jsx("span",{className:"whitespace-nowrap text-body font-body text-neutral-700",children:F.email})}),a.jsx(z.Cell,{children:a.jsx("span",{className:"whitespace-nowrap text-body font-body text-neutral-500",children:F.clinic})}),a.jsx(z.Cell,{children:a.jsx("span",{className:"whitespace-nowrap text-body font-body text-neutral-500",style:{direction:"ltr"},children:F.phone||"-"})}),a.jsx(z.Cell,{children:Z(F.status)}),a.jsx(z.Cell,{children:a.jsx("span",{className:"whitespace-nowrap text-body font-body text-neutral-500",children:new Date(F.created_at).toLocaleDateString()})}),a.jsx(z.Cell,{children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("button",{onClick:()=>{g(F),y(!0)},className:"text-sky-600 hover:text-sky-900",title:e("common.viewDetails"),children:a.jsx(El,{className:"w-5 h-5"})}),F.status==="pending"&&a.jsxs(a.Fragment,{children:[a.jsx("button",{onClick:()=>{g(F),y(!0)},disabled:R===F.id,className:"text-success-600 hover:text-success-900 disabled:opacity-50",title:e("common.approve"),children:a.jsx(mw,{className:"w-5 h-5"})}),a.jsx("button",{onClick:()=>I(F.id),disabled:R===F.id,className:"text-error-600 hover:text-error-900 disabled:opacity-50",title:e("common.reject"),children:a.jsx(xw,{className:"w-5 h-5"})})]})]})})]},F.id))}),b&&p&&a.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50",children:a.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-2xl w-full mx-4 max-h-[90vh] overflow-y-auto",children:[a.jsx("div",{className:"px-6 py-4 border-b",children:a.jsx("h3",{className:"text-xl font-bold text-gray-900",children:e("signUpRequests.reviewRequest")})}),a.jsxs("div",{className:"p-6 space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:e("signUpRequests.fullName")}),a.jsx("p",{className:"mt-1 text-sm text-gray-900",children:p.full_name})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:e("signUpRequests.email")}),a.jsx("p",{className:"mt-1 text-sm text-gray-900",children:p.email})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:e("signUpRequests.clinicName")}),a.jsx("p",{className:"mt-1 text-sm text-gray-900",children:p.clinic})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:e("signUpRequests.phoneNumber")}),a.jsx("p",{className:`mt-1 text-sm text-gray-900 ${n?"text-right":""}`,style:{direction:"ltr"},children:p.phone||"N/A"})]})]}),p.address&&a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:e("signUpRequests.clinicAddress")}),a.jsx("p",{className:"mt-1 text-sm text-gray-900",children:p.address})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Language Preference"}),a.jsx("div",{className:"mt-1",children:se(p.language_preference||"en")})]}),p.status==="pending"&&a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-1",children:[e("signUpRequests.setPassword")," ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"text",id:"password",value:S,onChange:F=>_(F.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-indigo-600 focus:border-transparent",placeholder:e("signUpRequests.passwordPlaceholder")}),a.jsx("p",{className:"mt-1 text-xs text-gray-500",children:e("signUpRequests.passwordHint")})]})]}),a.jsxs("div",{className:"px-6 py-4 bg-gray-50 flex gap-3",children:[a.jsx(de,{variant:"neutral-secondary",onClick:()=>{y(!1),_(""),g(null),A(null)},children:e("common.cancel")}),p.status==="pending"&&a.jsx(de,{variant:"brand-primary",onClick:T,disabled:R===p.id,children:R===p.id?e("signUpRequests.creatingAccount"):e("signUpRequests.approveAndCreate")})]})]})}),a.jsx(tF,{isOpen:w,onClose:()=>j(!1),onSubmit:U})]})},aF=BR([{element:a.jsx(G7,{}),children:[{element:a.jsx(r8,{}),path:"/about"},{element:a.jsx(Y7,{}),path:"/features"}]},{element:a.jsx(f1,{}),path:"/"},{element:a.jsx(f1,{}),path:"/login"},{element:a.jsx(cL,{}),path:"/reset-password"},{element:a.jsx(oL,{}),path:"/update-password"},{path:"/case-viewer/:caseId",element:a.jsx(k$,{})},{element:a.jsx(m1,{children:a.jsx(h1,{role:"user",children:a.jsx(PL,{})})}),loader:ML,children:[{element:a.jsx(lL,{}),path:"/app/dashboard",loader:$L},{element:a.jsx(fL,{}),path:"/app/cases"},{path:"/app/cases/:caseId",element:a.jsx(X9,{}),loader:hL},{element:a.jsx(Q9,{}),path:"/app/cases/new"},{element:a.jsx(oU,{}),path:"/app/billing"},{element:a.jsx(jU,{}),path:"/app/billing/log"},{path:"/app/profile",element:a.jsx(IL,{})},{path:"/app/settings",element:a.jsx(FL,{})}]},{element:a.jsx(m1,{children:a.jsx(h1,{role:"admin",children:a.jsx(DL,{})})}),loader:OL,children:[{element:a.jsx(jL,{}),path:"/admin/dashboard",loader:BL},{element:a.jsx(YL,{}),path:"/admin/cases"},{element:a.jsx(nF,{}),path:"/admin/signup-requests"},{element:a.jsx(_9,{}),path:"/admin/cases/new"},{path:"/admin/cases/:caseId",element:a.jsx(vU,{}),loader:KL},{path:"/admin/doctors",element:a.jsx(JL,{}),loader:p9},{path:"/admin/doctors/:doctorId",element:a.jsx(m9,{}),loader:g9},{path:"/admin/settings",element:a.jsx(y9,{})},{path:"/admin/billing",element:a.jsx($9,{})},{path:"/admin/billing/log",element:a.jsx(wU,{})}]},{path:"/app",loader:()=>Kn("/app/dashboard")},{path:"/admin",loader:()=>Kn("/admin/dashboard")},{path:"*",element:a.jsx(LL,{})},{path:"/unauthorized",element:a.jsx(UL,{})}]);function rF(){return a.jsx(hR,{router:aF,hydrateFallbackElement:null})}const d_={search:"",save:"",cancel:"",delete:"",edit:"",submit:"",required:"",loading:" ...",error:"",success:"",refresh:"",clear:"",previous:"",next:"",actions:"",viewDetails:" ",approve:"",reject:"",creating:" ...",updating:" ...",close:"",generate:"",hide:"",show:"",print:"",learnMore:"  ",noDescription:"   .",noRecords:"     ."},u_={dashboard:"",home:"",doctors:"",cases:"",billing:" ",settings:"",signOut:" ",allCases:" ",signUpRequests:" ",transactionLog:" ",paymentsHistory:" ",profile:" "},f_={title:"",hello:" .",totalCases:" ",pendingReview:" ",completedBy3DA:" ",recentCases:" ",paymentOverview:"    ",noCases:"   .",searchCases:"  ..."},h_={title:" ",patient:"",patientName:" ",doctor:"",clinic:"",phone:"",status:"",submitted:" ",submissionDate:" ",caseId:" ",noCases:"     .",noMatchingCases:"    .",searchPatientOrDoctor:"    ...",showing:"",of:"",cases:"",filters:{status:"",allStatuses:" ",date:"",allDates:" ",clinic:"",allClinics:" ",sortBy:" ",activeFilters:" :",clearFilters:"",submitted:" ",rejected:"",awaitingApproval:" ",rejectedByDoctor:"   ",approved:" ",inProduction:" ",readyForDelivery:" ",delivered:"",completed:"",today:"",thisWeek:" ",thisMonth:" ",thisQuarter:" ",thisYear:" ",newestFirst:" ",oldestFirst:" ",patientAZ:" -",patientZA:" -",doctorAZ:" -",doctorZA:" -",clinicAZ:" -",clinicZA:" -",statusAZ:" -",statusZA:" -",material:" ",allMaterials:" ",mostCasesFirst:"  ",fewestCasesFirst:"  "}},m_={title:"  ",myBilling:" ",subtitle:"   ",userSubtitle:"    ",totalEarnings:" ",totalReceived:"  ",totalDue:" ",pending:"",totalPaid:" ",totalExpenses:" ",doctorsBilling:" ",myCasesAndBilling:"",searchDoctors:"  ...",transactionLog:" ",receivePayment:" ",makePayment:" ",table:{case:"",patient:"",treatmentDetails:" ",date:"",payment:"",noCases:"    .",unknownPatient:"  ",standardTreatment:" ",alignersCount:"{{count}} ",urgent:"",notSet:" ",remaining:"",paymentStatus:{unpaid:" ",paid:"",na:" ",due:"",overdue:"",pending:"",processing:" ",unknown:" "}}},p_={header:{doctor:"",cases:"",dueAmount:" ",status:"",lastPayment:" "},noDoctorsFound:"    .",unknownDoctor:"  ",totalCases:"",unpaidCases:" ",status:{due:"",current:""},neverPaid:"",collectPaymentButton:" "},g_={title:"",adminSettings:" ",subtitle:"  ",adminSubtitle:"    ",language:"",selectLanguage:" ",english:"",arabic:"",currentLanguage:" ",updateEmail:"  ",newEmail:"  ",emailDescription:"       ",emailPlaceholder:"   ",changePassword:"  ",currentPassword:"  ",newPassword:"  ",confirmPassword:"  ",passwordDescription:"    ",passwordPlaceholder:"   ",currentPasswordPlaceholder:"   ",confirmPasswordPlaceholder:"   ",updatePassword:"  ",accountSecurity:" ",contactInformation:" ",emailAddress:"  ",phoneNumber:" ",updateContactInfo:"  ",serviceManagement:" ",caseStudyFee:"  ",caseStudyFeeDescription:"       .",amountUSD:" ( )",saveFee:" ",alignerMaterials:" ",services:"",errors:{invalidEmail:"     .",passwordTooShort:"      6   .",passwordMismatch:"     .",fillAllFields:"     ",incorrectPassword:"    "},success:{emailUpdated:"    .",passwordUpdated:"    .",contactUpdated:"   ",phoneUpdated:"  ",feeUpdated:"    ",preferencesSaved:"  "}},x_={signIn:" ",signUp:" ",signOut:" ",email:" ",password:" ",forgotPassword:"   ",dontHaveAccount:"  ",alreadyHaveAccount:"   "},b_={title:"  ",subtitle:"    ",profilePhoto:"  ",avatarDescription:"     ",personalInformation:" ",personalInfoDescription:"    ",fullName:" ",fullNamePlaceholder:"  ",email:" ",emailPlaceholder:" ",phoneNumber:" ",phonePlaceholder:"  ",clinicName:" ",clinicPlaceholder:"  ",clinicAddress:" ",addressPlaceholder:"  ",saveChanges:" ",errors:{fetchFailed:"   ",updateFailed:"   ",avatarFailed:"   "},success:{updated:"    !",avatarUpdated:"    "}},v_={title:"   ",subtitle:"    ",exportCSV:" CSV",searchPlaceholder:"         ...",noTransactions:"      ",showing:"",of:"",transactions:"",processedBy:"  ",paymentReceived:"",expense:"",stats:{totalTransactions:" ",totalRevenue:" ",totalExpenses:" ",netIncome:" "},filters:{allTypes:" ",paymentsReceived:" ",expenses:"",allTime:" ",today:"",lastWeek:" 7 ",lastMonth:" 30 "},table:{transactionId:" ",id:"",date:"",type:"",from:"",email:" ",clinic:"",description:"",amount:"",processedBy:"  "}},y_={title:" ",subtitle:"     ",searchPlaceholder:"       ...",noPayments:"     ",cases:"",case:"",receivedBy:"",notes:"",generalPayment:" ",payments:"",stats:{totalPayments:" ",totalPaid:" ",amountDue:" "}},w_={title:" ",subtitle:"      ",expenseAmount:"  *",description:"/ *",descriptionPlaceholder:"  (          )",recordExpense:" ",recording:" ",errors:{recordFailed:"  ",validExpense:"    "},success:{expenseRecorded:"   !"}},j_={title:" ",loadingViewer:"   ...",caseNotFound:"    ",patientName:" ",caseNumber:" ",sequenceAnimation:"",beforeAfter:" ",preloadingImages:"  ...",step:"",of:"",noSequenceImages:"    ",noBeforeAfterImage:"    /   ",jumpToStart:"  ",previousStep:" ",nextStep:" ",jumpToEnd:"  ",upperAligners:"  ",lowerAligners:"  ",disclaimer:{title:" ",points:["          ","      ","      "]}},S_=JSON.parse(`{"treatmentOptionsTitle":"  ","treatmentOptions":" ","midlineAnalysis":"  ","occlusalRelationship":" ","mm":"","caseDetails":" ","downloadFiles":" ","downloading":" ","openViewer":"  ","viewOriginalCase":"  ","refinementCase":" ","caseAcceptanceCard":{"title":" ","description":"              ","acceptCase":" ","declineCase":" ","caseStudyFee":"  ","caseStudyFeeSet":"          ","caseAcceptedAlert":"            . ","caseAcceptedAlertTitle":" "},"deleteCase":" ","deleteCaseConfirm":"             ","caseDeclined":" ","reason":" ","declinedOn":"","at":"","undoDecline":"   ","undoing":"    ","dentalChart":"  ","caseInformation":" ","patientInformation":" ","firstName":" ","lastName":" ","doctorName":" ","phone":" ","submissionDate":"  ","caseId":" ","clinic":" ","alignerMaterial":" ","notSpecified":" ","refinementReason":"  ","printCaseInfo":"  ","exportPDF":"  PDF","caseNotFound":"  .","caseNumber":"-{{id}}","refinementBadge":" #{{number}}","treatmentPlanReview":"  ","declineReason":" ","rejectionReason":" ","declinePlan":" ","requestEdit":" ","approvePlan":"  ","refinement":{"caseActions":" ","description":"               .","markCompleted":" ","requestRefinement":" ","dialog":{"title":" ","description":"       .","warningTitle":"  ","warningMessage":"        .      .","treatmentOptionsUpdate":"        ","dentalChartUpdate":"       ","diagnosisUpdate":"        ","reasonLabel":"  ","reasonHelp":"     (           )","reasonPlaceholder":"   ...","materialLabel":"   *","noMaterials":"     ","uploadMethod":"  ","individualFiles":"  (    )","compressedArchive":"  (     ZIP/RAR )","scansRequired":"   *","individualHelp":"      .        STL  OBJ  PLY.","compressedHelp":"   ZIP  RAR       :      .       .","upperJawScan":"  ","lowerJawScan":"  ","biteScan":" ","compressedLabel":"  ","additionalFiles":"  ()","filesSelected":"  {{count}} ","submitting":" ...","submitButton":"  "},"errors":{"loadServicesFailed":"    ","reasonRequired":"    ","materialRequired":"   ","allScansRequired":"     ","compressedRequired":"    ","notAuthenticated":"   ","compressedUploadFailed":"     ","scanUploadFailed":"        ","submitFailed":"    "},"success":{"submitted":"    !"}},"refinementHistory":{"title":" ","loading":"   ...","caseTitle":"  #{{id}}","caseDescription":" {{number}} -   {{material}} - {{reason}}","standardMaterial":"","noReason":"   ","viewCase":"  ","status":{"submitted":"","awaitingApproval":"  ","approved":" ","inProduction":" ","readyForDelivery":" ","delivered":"","completed":""}},"satisfaction":{"display":{"title":" ","rating":"","feedback":"","completedOn":" "},"errors":{"ratingRequired":"  ","completeFailed":"   .    ."},"dialog":{"title":" ","description":"   .     .","ratingLabel":"    ","commentsLabel":"  ()","commentsHelp":"    .","commentsPlaceholder":" ...","submitting":" ...","submitButton":" "},"success":{"completed":"   !"}},"dialogs":{"approval":{"title":"    ","message":"                .","lockMessage":"    ","productionMessage":"     .","approving":" ...","confirmButton":" "},"decline":{"title":" ","message":"     .","reasonLabel":" ","reasonPlaceholder":"    ...","reasonRequired":"     .","infoText":"          .","adminInfoText":"       .","declining":" ...","confirmButton":" "},"requestEdit":{"title":"   ","subtitle":"               .","changeMaterial":"  ","currentMaterial":"  :","materialDescription":"   .       .","selectMaterial":"   ","noMaterials":"   ","notesLabel":"  ()","notesDescription":"          .","notesPlaceholder":"      ...","notesHelp":"        .","warningTitle":"  ","warningMessage":"            .           .","submitting":" ...","submitButton":"  "}},"treatmentPlan":{"upperJawAligners":"  ","lowerJawAligners":"  ","aligners":"","estimatedDuration":" ","months":"","caseStudyFee":"  ","alignersPrice":" ","deliveryCharges":" ","totalCost":" ","viewIPRChart":"   ","adminNotes":" "},"caseNotes":{"doctorNotes":" ","caseNotes":"  ","additionalNotes":"  ","adminPlaceholder":"       ...","userPlaceholder":"         ...","adminHelp":"         .","userHelp":"        ","saving":" ...","saveNote":" ","noNotes":"    "},"fileDownload":{"uploadedFiles":" ","fileName":" ","type":"","status":"","actions":"","upperJawScan":"  ","lowerJawScan":"  ","biteScan":" ","allInOne":" ","additionalFile":"  {{number}}","upperJaw":" ","lowerJaw":" ","bite":"","compressedFile":" ","additional":"","available":"","notUploaded":"  ","noFiles":"      ."},"toast":{"planApproved":"    ","approveFailed":"    ","planDeclined":"   ","declineFailed":"   ","materialUpdatedReeval":"   .        .","materialUpdated":"    .","updateMaterialFailed":"    "},"statusMessages":{"awaitingApproval":"           .","approved":"   .   .","inProduction":"   .","readyForDelivery":"  .","delivered":"   .","completed":" .","userRejected":"   ."},"alerts":{"submitted":{"title":"    ","description":"          ."},"accepted":{"title":"   -   ","description":"        ."},"awaiting_user_approval":{"title":"     ","description":"     ."},"approved":{"title":"     ","description":"  .      ."},"in_production":{"title":"  ","description":"   ' '   ."},"ready_for_delivery":{"title":"  ","description":"   ' '    ."},"delivered":{"title":"   ","description":"     ''   ."},"completed":{"title":"  ","description":"   ."},"rejected":{"title":"  ","description":"      .        ."},"user_rejected":{"title":"   ","description":"             ."}}}`),N_={title:"  ",newCase:" ",submitCase:" ",submitCaseButton:"  ",submitting:" ...",unknownDoctor:"  ",unknownPatient:"  ",upperJawScan:"  ",lowerJawScan:"  ",biteScan:" ",compressedScans:"  ",additionalFile:"  {{number}}",patientInfo:{firstNameLabel:" ",firstNamePlaceholder:"   ",lastNameLabel:" ",lastNamePlaceholder:"   ",urgentCase:" ",deliveryDateLabel:"  ",deliveryDateHelp:"    ",urgentNoticeTitle:"  ",urgentNoticeDescription:"       .         ."},treatmentOptions:{treatmentArch:"   ",upperArch:" ",lowerArch:" ",bothArches:" ",alignerMaterial:"  ",materialDetails:"   ",materialDesc:"       ."},fileUpload:{requiredScans:" ",uploadMethod:"  ",individualFiles:"  (    )",compressedArchive:"  (     ZIP/RAR )",individualTitle:" ",individualDescription:"      .        STL  OBJ  PLY.",upperJawLabel:"  ",lowerJawLabel:"  ",biteScanLabel:" ",compressedTitle:"  ",compressedDescription:"   ZIP  RAR       :      .     (  : upper_jaw.stl lower_jaw.stl bite.stl)   .",compressedLabel:"  ",additionalFiles:"  ()",filesSelected:"  {{count}} "},diagnosis:{title:" ",chiefComplaint:" ",chiefComplaintPlaceholder:"       ...",chiefComplaintHelp:"      ",upperMidline:"  ",lowerMidline:"  ",centered:"",shiftedRight:" ",shiftedLeft:" ",shiftAmount:" ",shiftAmountHelp:"  ",shiftAmountPlaceholder:" 2.5",canineRelationship:" ",molarRelationship:" ",rightSide:" ",leftSide:" ",selectClass:" ",classI:" ",classII:" ",classIII:" ",additionalNotes:"  ",additionalNotesPlaceholder:"           ...",additionalNotesHelp:"        "},errors:{authRequired:"     ",firstNameRequired:"  ",lastNameRequired:"  ",deliveryDateRequired:"    ",deliveryDateFuture:"      ",scanRequired:"{{scan}} ",compressedRequired:"   ",maxFilesExceeded:"  5    ",fileTooLarge:"  .      100 .",invalidFileType:"   .    : {{types}}",uploadFailed:" ",unexpected:"   "},success:{submitted:"   !"}},__={title:"   ()",selectDoctor:{label:" ",helpText:"    ",placeholder:"    ...",noResults:"    "},alerts:{fileUploadOptional:" :   .       .",success:"     !"},errors:{doctorRequired:"    "}},C_={submitted:{title:"  ",description:"       "},awaitingUserApproval:{title:"   ",description:"          ."},approved:{title:"    ",description:"      .   ."},inProduction:{title:"  ",description:"  .      ."},readyForDelivery:{title:"  ",description:" .       ."},delivered:{title:"  ",description:"  .       ."},completed:{title:" ",description:" .   !"},rejected:{title:"  ",description:"      .        ."},user_rejected:{title:"   ",description:"             ."},default:{title:" ",description:"          ."}},E_={netIncome:" ",duePayments:"",totalExpenses:" ",allTime:" ",outstanding:"",receivePayment:" ",recordExpense:" "},R_={amountDue:" ",totalPaid:" ",pendingCases:" ",cases:"",inProgress:" ",finished:""},A_={submitted:" ",accepted:"",underReview:" ",rejected:"",awaitingApproval:" ",patientRejected:"  ",userRejected:"   ",approved:" ",inProduction:" ",readyForDelivery:" ",delivered:"",completed:""},P_={createUserButton:"  "},k_={title:" ",statuses:{movable:"  ",unmovable:"      ",missing:"   ",note:"        "},statusLabels:{movable:"  ",unmovable:"   ",missing:"",note:""}},T_={printButton:"  ",estimatedDurationLabel:"  ()",actionButtons:" ",addViewer:"   ",addIPRChart:"   ",editIPRChart:"   ",iprChart:"  ",available:"",viewChart:" ",openViewer:"  ",copyLink:" ",copied:" !",declineCase:" ",sendForApproval:"  ",editPlan:"  ",printDialogTitle:"  ",statusMessages:{editing:"          .",awaitingApproval:"      .",approved:"       .   .",rejected:"     .",inProduction:" ",readyForDelivery:" ",delivered:"        ''   .",userRejected:"          ."},print:{treatmentPlanDetails:"  ",footer:"     {{date}} | Lumina"}},D_={title:" ",editNote:" ",addNote:" ",additionalNotes:" ",placeholder:"         ",helpText:"        .",saving:" ...",saveNote:" ",noNotes:"     .",toast:{saved:"   ",saveFailed:"   "}},M_={title:" ",editNote:" ",addNote:" ",additionalNotes:" ",placeholder:"      ...",helpText:"         .",saving:" ...",saveNote:" ",noNotes:"     .",toast:{saved:"   ",saveFailed:"   "}},O_={breadcrumbTitle:" ",totalPatients:" ",activeCases:" ",paymentStatus:" ",paidAmount:" ",remainingAmount:" ",partialPayment:"{{percent}}% "},L_={title:" ",subtitle:"       .",doctorLabel:"",name:"",doctorPlaceholder:" ...",notes:"",invoice:"",casesIncluded:" ",paymentReceipt:" ",printInvoice:" ",paymentInvoice:" ",paymentInvoiceDescription:"        ",patient:" ",totalPayment:" :",paymentSummary:" ",paymentAmountLabel:"  ( )",paymentAmountPlaceholder:"0.00",notesLabel:" ()",notesPlaceholder:"     ...",unpaidCasesTitle:"  ",selectedSummary:"{{selected}}  {{total}} ",loadingCases:"  ...",noUnpaidCases:"      .",statusLabel:"",createdLabel:" ",remainingShort:"",paidOfTotal:"{{paid}}   {{total}}",selectedCasesTotal:"  :",paymentAmount:" :",remainingAmount:" :",remainingSplitNote:"     {{count}}   ",cancel:"",processPayment:" ",processing:" ..."},U_={title:"  ",buttons:{startProduction:" ",markReady:"  ",markDelivered:" "},messages:{approved:"    .    .",inProduction:"   .",readyForDelivery:" .   .",delivered:"    .        .",completed:"  .",default:"       ."}},$_={caseDeclined:"  ",doctorDeclineReason:"  ",adminDeclineReason:"  ",approvePlan:"  ",toast:{caseDeleted:"   ",deleteFailed:"   ",iprSaved:"     ",iprFailed:"     "}},F_={noCasesToShow:"   "},I_={upperJaw:" ",lowerJaw:" ",description:"   ",legend:"         ",instructions:{title:":",enterValues:"     (M)  (D)   ",enterMillimeters:"   ( 0.2 0.5)",leaveEmpty:"        ",combineValues:"     (   #8 +   #9)",clickSave:"         "},saveButton:"   "},B_={title:"  ",subtitle:"        .",tabs:{sequence:" ",beforeAfter:" "},alerts:{sequence:{title:"  ",description:"        .       1  2 ."},beforeAfter:{title:"   ",description:"          ."}},views:{front:" ",left:" ",right:" ",upper:" ",lower:" "},labels:{existing:" ",newUploads:" ",step:"",imageExists:" ",currentImage:" ",noImages:"    ",newVideo:" ",currentVideo:" "},buttons:{addImages:" ",upload:" ",uploading:" ...",replaceVideo:" ",replace:" ",select:" "},toast:{deleted:"   ",deleteFailed:"  ",uploaded:"   ",uploadFailed:"  "}},z_={welcomeBack:" ",subtitle:"     Lumina  ",enterCredentials:"       ",emailPlaceholder:"  ",passwordPlaceholder:"  ",signingIn:"  ...",requestAccess:"   ",forgotPasswordText:"   ",resetPassword:"   ",errors:{emptyFields:"     ",submitFailed:"   "},signUpDialog:{title:"   ",fullName:" ",fullNamePlaceholder:".  ",email:" ",emailPlaceholder:"ahmed@example.com",clinicName:" ",clinicNamePlaceholder:"  ",phoneNumber:" ",phoneNumberPlaceholder:"+966 50 123 4567",clinicAddress:" ",clinicAddressPlaceholder:"    123    12345",languagePreference:" ",languageHelp:"    ",submitting:" ...",submitButton:" ",successTitle:"   !",successMessage:"      .",errors:{requiredFields:"    "}}},q_={title:"   ",subtitle:"          .",emailLabel:" ",emailPlaceholder:"you@example.com",sending:" ...",sendButton:" ",backToSignIn:"  ",errors:{emailRequired:"    "},success:{instructionsSent:"         "}},H_={title:" ",subtitle:"      ",name:"",email:" ",clinic:"",phone:"",status:"",date:"",noRequests:"      ",reviewRequest:"  ",fullName:" ",clinicName:" ",phoneNumber:" ",clinicAddress:" ",prefferedLanguage:" ",prefferedLanguageSubtext:"    ",setPassword:"  ",passwordRequired:"      6   ",passwordPlaceholder:"   ",passwordHint:"6   .      .",approveAndCreate:"  ",creatingAccount:"  ...",createUser:" ",userCreatedSuccess:"    !",password:" ",confirmReject:"      ",statusPending:" ",statusApproved:"",statusRejected:""},sF={common:d_,navigation:u_,dashboard:f_,cases:h_,billing:m_,billingTable:p_,settings:g_,auth:x_,profile:b_,transactions:v_,doctorTransactions:y_,expenseDialog:w_,viewer:j_,casePage:S_,caseSubmit:N_,adminCaseSubmit:__,caseStatus:C_,billingStats:E_,doctorBillingStats:R_,caseStatusBadge:A_,signUpRequestPage:P_,dentalChart:k_,adminTreatmentPlan:T_,adminNotes:D_,internalNotes:M_,adminDoctorDetails:O_,paymentCollectionDialog:L_,manufacturingProgress:U_,adminCasePage:$_,casesPage:F_,iprChart:I_,treatmentPlanImages:B_,login:z_,resetPassword:q_,signUpRequests:H_},iF=Object.freeze(Object.defineProperty({__proto__:null,adminCasePage:$_,adminCaseSubmit:__,adminDoctorDetails:O_,adminNotes:D_,adminTreatmentPlan:T_,auth:x_,billing:m_,billingStats:E_,billingTable:p_,casePage:S_,caseStatus:C_,caseStatusBadge:A_,caseSubmit:N_,cases:h_,casesPage:F_,common:d_,dashboard:f_,default:sF,dentalChart:k_,doctorBillingStats:R_,doctorTransactions:y_,expenseDialog:w_,internalNotes:M_,iprChart:I_,login:z_,manufacturingProgress:U_,navigation:u_,paymentCollectionDialog:L_,profile:b_,resetPassword:q_,settings:g_,signUpRequestPage:P_,signUpRequests:H_,transactions:v_,treatmentPlanImages:B_,viewer:j_},Symbol.toStringTag,{value:"Module"})),V_={search:"Search",save:"Save",cancel:"Cancel",delete:"Delete",edit:"Edit",submit:"Submit",required:"required",loading:"Loading...",error:"Error",success:"Success",refresh:"Refresh",clear:"Clear",previous:"Previous",next:"Next",actions:"Actions",viewDetails:"View Details",approve:"Approve",reject:"Reject",creating:"Creating...",updating:"Updating...",close:"Close",generate:"Generate",hide:"Hide",show:"Show",print:"Print",learnMore:"Learn more about our systems",noDescription:"No description available.",noRecords:"No materials found."},G_={dashboard:"Dashboard",doctors:"Doctors",cases:"Cases",billing:"Billing",settings:"Settings",signOut:"Sign Out",allCases:"All Cases",signUpRequests:"Sign Up Requests",transactionLog:"Transaction Log",paymentsHistory:"Payments History",home:"Home",profile:"Profile"},Y_={title:"Dashboard",hello:"Hello, Dr.",totalCases:"TOTAL CASES",pendingReview:"PENDING REVIEW",completedBy3DA:"COMPLETED",recentCases:"Recent Cases",paymentOverview:"Payment Overview",noCases:"No recent cases.",searchCases:"Search cases..."},K_={title:"All Cases",patient:"Patient",patientName:"Patient Name",doctor:"Doctor",clinic:"Clinic",phone:"Phone",status:"Status",submitted:"Submitted",submissionDate:"Submission Date",caseId:"Case ID",noCases:"No cases found.",noMatchingCases:"No cases match your filters.",searchPatientOrDoctor:"Search patient or doctor...",showing:"Showing",of:"of",cases:"cases",filters:{clinic:"Clinic",allClinics:"All Clinics",status:"Status",allStatuses:"All Statuses",date:"Date",allDates:"All Dates",sortBy:"Sort By",activeFilters:"Active filters:",clearFilters:"Clear",submitted:"Submitted",rejected:"Rejected",awaitingApproval:"Awaiting Approval",rejectedByDoctor:"Rejected by Doctor",approved:"Approved",inProduction:"In Production",readyForDelivery:"Ready for Delivery",delivered:"Delivered",completed:"Completed",today:"Today",thisWeek:"This Week",thisMonth:"This Month",thisQuarter:"This Quarter",thisYear:"This Year",newestFirst:"Newest First",oldestFirst:"Oldest First",patientAZ:"Patient A-Z",patientZA:"Patient Z-A",doctorAZ:"Doctor A-Z",doctorZA:"Doctor Z-A",clinicAZ:"Clinic A-Z",clinicZA:"Clinic Z-A",statusAZ:"Status A-Z",statusZA:"Status Z-A",material:"Aligners System",allMaterials:"All Aligners Systems",mostCasesFirst:"Most Cases First",fewestCasesFirst:"Fewest Cases First"}},W_={title:"Billing Management",myBilling:"My Billing",subtitle:"Manage payments and track billing information",userSubtitle:"View your cases and track billing information",totalEarnings:"TOTAL EARNINGS",totalReceived:"TOTAL RECEIVED",totalDue:"TOTAL DUE",pending:"PENDING",totalPaid:"TOTAL PAID",totalExpenses:"TOTAL EXPENSES",doctorsBilling:"Doctors Billing",myCasesAndBilling:"My Billings",searchDoctors:"Search doctors...",transactionLog:"Transaction Log",receivePayment:"Receive Payment",makePayment:"Make Payment",table:{case:"Case",patient:"Patient",treatmentDetails:"Treatment Details",date:"Date",payment:"Payment",noCases:"No cases found.",unknownPatient:"Unknown Patient",standardTreatment:"Standard Treatment",alignersCount:"{{count}} aligners",urgent:"URGENT",notSet:"Not set",remaining:"remaining",paymentStatus:{unpaid:"Unpaid",paid:"Paid",na:"N/A",due:"Due",overdue:"Overdue",pending:"Pending",processing:"Processing",unknown:"Unknown"}}},J_={header:{doctor:"Doctor",cases:"Cases",dueAmount:"Due Amount",status:"Status",lastPayment:"Last Payment"},noDoctorsFound:"No doctors found.",unknownDoctor:"Unknown Doctor",totalCases:"total",unpaidCases:"unpaid",status:{due:"Due",current:"Current"},neverPaid:"Never",collectPaymentButton:"Collect Payment"},Z_={title:"Submit New Case",newCase:"New Case",submitCase:"Submit Case",submitCaseButton:"Submit New Case",submitting:"Submitting...",unknownDoctor:"Unknown Doctor",unknownPatient:"Unknown Patient",upperJawScan:"Upper Jaw Scan",lowerJawScan:"Lower Jaw Scan",biteScan:"Bite Scan",compressedScans:"Compressed Scans Archive",additionalFile:"Additional File {{number}}",patientInfo:{firstNameLabel:"First Name (required)",firstNamePlaceholder:"Enter patient's first name",lastNameLabel:"Last Name (required)",lastNamePlaceholder:"Enter patient's last name",urgentCase:"Urgent Case",deliveryDateLabel:"Required Delivery Date",deliveryDateHelp:"Select the latest acceptable delivery date",urgentNoticeTitle:"Urgent Case Notice",urgentNoticeDescription:"Urgent cases may incur additional fees and are subject to availability. We'll contact you to confirm the delivery timeline and any extra charges."},treatmentOptions:{treatmentArch:"Treatment Arch",upperArch:"Upper arch",lowerArch:"Lower arch",bothArches:"Both arches",alignerMaterial:"Preferred Aligners System",materialDetails:"Aligners Systems & Pricing",materialDesc:"Compare our available aligner systems and features."},fileUpload:{requiredScans:"Required Scans",uploadMethod:"Choose Upload Method",individualFiles:"Individual Files (Upload each scan separately)",compressedArchive:"Compressed Archive (Upload all scans in one ZIP/RAR file)",individualTitle:"Individual Files",individualDescription:"Please upload each scan file separately. Ensure all scan files are in STL, OBJ, or PLY format.",upperJawLabel:"Upper Jaw Scan",lowerJawLabel:"Lower Jaw Scan",biteScanLabel:"Bite Scan",compressedTitle:"Compressed Archive Requirements",compressedDescription:"Upload a single ZIP or RAR file containing all three required scans: Upper Jaw, Lower Jaw, and Bite scans. Please name your files clearly (e.g., upper_jaw.stl, lower_jaw.stl, bite.stl) for easy identification.",compressedLabel:"Compressed Scan Archive",additionalFiles:"Additional Files (Optional)",filesSelected:"{{count}} file(s) selected"},diagnosis:{title:"Basic Diagnosis",chiefComplaint:"Chief Complaint",chiefComplaintPlaceholder:"Describe the patient's main concern or reason for seeking treatment...",chiefComplaintHelp:"Enter the patient's primary complaint or treatment goal",upperMidline:"Upper Midline",lowerMidline:"Lower Midline",centered:"Centered",shiftedRight:"Shifted right",shiftedLeft:"Shifted left",shiftAmount:"Shift Amount",shiftAmountHelp:"Enter shift in millimeters",shiftAmountPlaceholder:"e.g., 2.5",canineRelationship:"Canine Relationship",molarRelationship:"Molar Relationship",rightSide:"Right Side",leftSide:"Left Side",selectClass:"Select class",classI:"Class I",classII:"Class II",classIII:"Class III",additionalNotes:"Treatment Plan",additionalNotesPlaceholder:"Enter your suggested treatment plan, or any special instructions, patient history, or additional details about specific teeth...",additionalNotesHelp:"Add your treatment plane or any special instructions for this case"},errors:{authRequired:"User must be authenticated to submit a case",firstNameRequired:"First name is required",lastNameRequired:"Last name is required",deliveryDateRequired:"Delivery date is required for urgent cases",deliveryDateFuture:"Delivery date must be in the future",scanRequired:"{{scan}} is required",compressedRequired:"Compressed scan archive is required",maxFilesExceeded:"Maximum of 5 additional files allowed",fileTooLarge:"File is too large. Maximum file size is 100MB.",invalidFileType:"Invalid file type. Allowed types are: {{types}}",uploadFailed:"Upload failed",unexpected:"An unexpected error occurred"},success:{submitted:"Case submitted successfully!"}},X_={title:"Submit New Case (Admin)",selectDoctor:{label:"Select Doctor",helpText:"Search and select the doctor for this case",placeholder:"Search by doctor name or email...",noResults:"No doctors found"},alerts:{fileUploadOptional:"Admin Note: File uploads are optional. You can submit the case without files and add them later.",success:"Case submitted successfully for the selected doctor!"},errors:{doctorRequired:"Please select a doctor for this case"}},Q_={submitted:{title:"Waiting for admin acceptance",description:"Your case is submitted successfully, please wait for the admin acceptance"},awaitingUserApproval:{title:"Treatment Plan Ready for Approval",description:"Please review the aligners count and estimated duration, then approve or decline the plan."},approved:{title:"Treatment Plan Approved",description:"Your treatment plan has been approved. Production will start soon."},inProduction:{title:"Aligners Are In Production",description:"Your aligners are being manufactured. You will be notified when they are ready for delivery."},readyForDelivery:{title:"Aligners Ready for Delivery",description:"Your aligners are ready. Out team will contact you to arrange pickup or delivery."},delivered:{title:"Aligners Delivered",description:"You have received the aligners. Please advise your patient to follow the wear schedule and instructions."},completed:{title:"Treatment Completed",description:"The treatment is complete. Thank you for choosing us!"},rejected:{title:"Case has been declined",description:"This case was declined and is no longer active. You can undo this action if needed."},user_rejected:{title:"Treatment plan was declined",description:"This case's Treatment plan was declined and the case is no longer active."},default:{title:"Case Updates",description:"We will notify you here when there are updates to your treatment plan."}},eC={netIncome:"Net Income",duePayments:"Due Payments",totalExpenses:"Total Expenses",allTime:"all time",outstanding:"outstanding",receivePayment:"Receive Payment",recordExpense:"Record Expense"},tC=JSON.parse(`{"treatmentOptionsTitle":"Treatment & Diagnosis Details","treatmentOptions":"Treatment Options","midlineAnalysis":"Midline Analysis","occlusalRelationship":"Occlusal Relationship","mm":"mm","caseDetails":"Case Details","downloadFiles":"Download Files","downloading":"Downloading...","openViewer":"Open Case Viewer","viewOriginalCase":"View Original Case","refinementCase":"Refinement","statusMessages":{"awaitingApproval":"Please review the treatment plan details and choose to approve, decline, or request edits.","approved":"Your plan is approved. Production will start soon.","inProduction":"Your aligners are currently being manufactured.","readyForDelivery":"Your aligners are ready for delivery.","delivered":"Your aligners have been delivered. Follow your treatment schedule.","completed":"Your treatment is completed.","userRejected":"You have declined the treatment plan."},"caseAcceptanceCard":{"title":"Case Review","description":"Review the submitted case and decide whether to accept or decline it. If accepted, you can proceed to create the treatment plan.","acceptCase":"Accept Case","declineCase":"Decline Case","caseStudyFee":"Case Study Fee","caseStudyFeeSet":"Case study fee has been set. You can now proceed to create the treatment plan.","caseAcceptedAlert":"This case has been accepted. The case study fee has been set and the case is ready for treatment planning.","caseAcceptedAlertTitle":"Case Accepted"},"deleteCase":"Delete Case","deleteCaseConfirm":"This action cannot be undone. Are you sure you want to permanently delete this case?","caseDeclined":"Case Declined","reason":"Reason","declinedOn":"Declined on","at":"at","undoDecline":"Undo Decline","undoing":"Undoing...","dentalChart":"Dental Chart","caseInformation":"Case Information","patientInformation":"Patient Information","firstName":"First Name","lastName":"Last Name","doctorName":"Doctor's Name","phone":"Phone","submissionDate":"Submission Date","caseId":"Case ID","clinic":"Clinic","alignerMaterial":"Aligners System","notSpecified":"Not specified","refinementReason":"Refinement Reason","printCaseInfo":"Print Case Info","exportPDF":"Export PDF","caseNotFound":"Case not found.","caseNumber":"Case-{{id}}","refinementBadge":"Refinement #{{number}}","treatmentPlanReview":"Treatment Plan Review","declineReason":"Decline Reason","rejectionReason":"Rejection Reason","declinePlan":"Decline Plan","requestEdit":"Request Edit","approvePlan":"Approve Plan","fileDownload":{"uploadedFiles":"Uploaded Files","fileName":"File Name","type":"Type","status":"Status","actions":"Actions","upperJawScan":"Upper Jaw Scan","lowerJawScan":"Lower Jaw Scan","biteScan":"Bite Scan","allInOne":"All-in-One","additionalFile":"Additional File {{number}}","upperJaw":"Upper Jaw","lowerJaw":"Lower Jaw","bite":"Bite","compressedFile":"Compressed File","additional":"Additional","available":"Available","notUploaded":"Not uploaded","noFiles":"No files uploaded for this case."},"caseNotes":{"doctorNotes":"Treatment Plan","caseNotes":"Treatment Plan","additionalNotes":"Additional Notes","adminPlaceholder":"Enter any special instructions, internal comments, etc...","userPlaceholder":"Enter any special instructions, patient history, or additional details...","adminHelp":"Add any additional information or internal notes about this case.","userHelp":"Add any additional information or special instructions for this case","saving":"Saving...","saveNote":"Save Note","noNotes":"No notes added yet"},"treatmentPlan":{"upperJawAligners":"Upper Jaw Aligners","lowerJawAligners":"Lower Jaw Aligners","aligners":"Aligners","estimatedDuration":"Estimated Duration","months":"Months","caseStudyFee":"Case Study Fee","alignersPrice":"Aligners Price","deliveryCharges":"Delivery Charges","totalCost":"Total Cost","viewIPRChart":"View IPR Chart","adminNotes":"Admin Notes"},"refinement":{"caseActions":"Case Actions","description":"Mark your case as completed or request a refinement if you need additional aligners or treatment adjustments.","markCompleted":"Mark as Completed","requestRefinement":"Request Refinement","dialog":{"title":"Request Refinement","description":"Request a refinement of your treatment plan with new scans and updated preferences.","warningTitle":" Important Information","warningMessage":"Your refinement request will be reviewed by our team. We will contact you with pricing and treatment details.","reasonLabel":"Reason for Refinement","treatmentOptionsUpdate":"Review and update treatment options if needed","dentalChartUpdate":"Update tooth status if there are any changes","diagnosisUpdate":"Review and update diagnosis information if needed","reasonHelp":"Please describe why you need refinement (e.g., treatment not progressing as expected, new concerns, etc.)","reasonPlaceholder":"Enter reason for refinement...","materialLabel":"Preferred Aligner System *","noMaterials":"No aligner systems available","uploadMethod":"Choose Upload Method","individualFiles":"Individual Files (Upload each scan separately)","compressedArchive":"Compressed Archive (Upload all scans in one ZIP/RAR file)","scansRequired":"New Scans Required *","individualHelp":"Please upload each scan file separately. Ensure all scan files are in STL, OBJ, or PLY format.","compressedHelp":"Upload a single ZIP or RAR file containing all three required scans: Upper Jaw, Lower Jaw, and Bite scans. Please name your files clearly for easy identification.","upperJawScan":"Upper Jaw Scan","lowerJawScan":"Lower Jaw Scan","biteScan":"Bite Scan","compressedLabel":"Compressed Scan Archive","additionalFiles":"Additional Files (Optional)","filesSelected":"{{count}} file(s) selected","submitting":"Submitting...","submitButton":"Submit Refinement Request"},"errors":{"loadServicesFailed":"Failed to load service options","reasonRequired":"Please provide a reason for the refinement request","materialRequired":"Please select an aligners system","allScansRequired":"Please upload all required scan files","compressedRequired":"Please upload the compressed scan archive","notAuthenticated":"User not authenticated","compressedUploadFailed":"Failed to upload compressed scan file","scanUploadFailed":"Failed to upload one or more scan files","submitFailed":"Failed to submit refinement case"},"success":{"submitted":"Refinement case submitted successfully!"}},"refinementHistory":{"title":"Refinement History","loading":"Loading refinement history...","caseTitle":"Refinement Case #{{id}}","caseDescription":"Refinement {{number}} - {{material}} aligners - {{reason}}","standardMaterial":"Standard","noReason":"No reason provided","viewCase":"View Case ","status":{"submitted":"Submitted","awaitingApproval":"Awaiting Approval","approved":"Approved","inProduction":"In Production","readyForDelivery":"Ready for Delivery","delivered":"Delivered","completed":"Completed"}},"satisfaction":{"display":{"title":"Case Satisfaction","rating":"Rating","feedback":"Feedback","completedOn":"Completed on"},"dialog":{"title":"Complete Your Case","description":"Please share your experience with us. Your feedback helps us improve our service.","ratingLabel":"How satisfied are you with the treatment?","commentsLabel":"Additional Comments (Optional)","commentsHelp":"Tell us about your experience with the treatment.","commentsPlaceholder":"Share your feedback...","submitting":"Submitting...","submitButton":"Complete Case"},"errors":{"ratingRequired":"Please provide a rating","completeFailed":"Failed to mark case as completed"},"success":{"completed":"Case marked as completed!"}},"dialogs":{"approval":{"title":"Confirm Treatment Plan Approval","message":"Are you sure you want to approve this treatment plan? Once approved, production will begin and the plan cannot be modified.","lockMessage":" Treatment plan will be locked","productionMessage":"Production of your aligners will begin shortly after approval.","approving":"Approving...","confirmButton":"Confirm Approval"},"decline":{"title":"Decline Case","message":"Please provide the reason of declining the treatment plan.","reasonLabel":"Decline Reason","reasonPlaceholder":"Enter the reason for declining this case...","reasonRequired":"Please provide a reason for declining this case.","infoText":"This information will be recorded and may be shared with relevant team members.","adminInfoText":"This information will be sent for the doctor for future reference.","declining":"Declining...","confirmButton":"Confirm Decline"},"requestEdit":{"title":"Request Treatment Plan Edit","subtitle":"Request changes to your patient's treatment plan by selecting a different aligners system and adding notes.","changeMaterial":"Change Aligners System","currentMaterial":"Current System:","materialDescription":"Select a different aligner system. Your case will be re-evaluated by our team.","selectMaterial":"Select New Aligners System","noMaterials":"No aligner systems available","notesLabel":"Additional Notes (Optional)","notesDescription":"Add any specific requests or concerns about your treatment plan.","notesPlaceholder":"Enter any additional notes or requests for our team...","notesHelp":"These notes will be visible to the team member reviewing your case.","warningTitle":" Important Information","warningMessage":"Changing the aligner system will send your case back to out team for re-evaluation. You will need to approve the updated treatment plan once it's ready.","submitting":"Submitting...","submitButton":"Submit Edit Request"}},"toast":{"planApproved":"Plan approved successfully","approveFailed":"Failed to approve plan","planDeclined":"Plan declined successfully","declineFailed":"Failed to decline plan","materialUpdatedReeval":"System updated. Case is sent for re-evaluation by our team.","materialUpdated":"System updated successfully.","updateMaterialFailed":"Failed to update the Aligners System"},"alerts":{"submitted":{"title":"Review the case and accept it","description":"Review the case information, then accept or decline the case."},"accepted":{"title":"Case accepted - Create treatment plan","description":"Set aligners count and duration, then send to doctor for approval."},"awaiting_user_approval":{"title":"Treatment plan is sent to doctor for approval","description":"Waiting for the doctor approval to proceed with the production process."},"approved":{"title":"Doctor approved the treatment plan","description":"Proceed with manufacturing. Update the case status as production progresses."},"in_production":{"title":"Aligners are in production","description":"Update to Ready for Delivery when manufacturing is complete."},"ready_for_delivery":{"title":"Aligners are ready for delivery","description":"Mark as Delivered once the clinic receives their aligners."},"delivered":{"title":"Aligners has been delivered to the clinic","description":"The doctor will mark the case as 'Completed' when treatment finishes."},"completed":{"title":"The case is complete","description":"The doctor had finished the case"},"rejected":{"title":"Case has been declined","description":"This case was declined and is no longer active. You can undo this action if needed."},"user_rejected":{"title":"Treatment plan was declined","description":"This case's Treatment plan was declined by the doctor and the case is no longer active."}}}`),nC={title:"Settings",adminSettings:"Admin Settings",subtitle:"Manage your account and preferences",adminSubtitle:"Manage your account security and service options",language:"Language",selectLanguage:"Select Language",english:"English",arabic:"Arabic",currentLanguage:"Current Language",updateEmail:"Update Email",newEmail:"New Email",emailDescription:"Change the email address you use to sign in",emailPlaceholder:"Enter new email",changePassword:"Change Password",currentPassword:"Current Password",newPassword:"New Password",confirmPassword:"Confirm Password",passwordDescription:"Set a new password for your account",passwordPlaceholder:"Enter new password",currentPasswordPlaceholder:"Enter current password",confirmPasswordPlaceholder:"Confirm new password",updatePassword:"Update Password",accountSecurity:"Account Security",contactInformation:"Contact Information",emailAddress:"Email Address",phoneNumber:"Phone Number",updateContactInfo:"Update Contact Info",serviceManagement:"Service Management",caseStudyFee:"Case Study Fee",caseStudyFeeDescription:"This fee is charged when a new case is accepted.",amountUSD:"Amount (USD)",saveFee:"Save Fee",alignerMaterials:"Aligners Systems",services:"Services",errors:{invalidEmail:"Please enter a valid email address.",passwordTooShort:"Password must be at least 6 characters.",passwordMismatch:"New password and confirmation do not match.",fillAllFields:"Please fill all password fields",incorrectPassword:"Current password is incorrect"},success:{emailUpdated:"Email updated successfully.",passwordUpdated:"Password updated successfully.",contactUpdated:"Contact info updated",phoneUpdated:"Phone updated",feeUpdated:"Case acceptance fee updated",preferencesSaved:"Preferences saved"}},aC={signIn:"Sign In",signUp:"Sign Up",signOut:"Sign Out",email:"Email",password:"Password",forgotPassword:"Forgot Password?",dontHaveAccount:"Don't have an account?",alreadyHaveAccount:"Already have an account?"},rC={title:"Profile Settings",subtitle:"Manage your personal information and contact details",profilePhoto:"Profile Photo",avatarDescription:"Upload a profile picture or avatar",personalInformation:"Personal Information",personalInfoDescription:"Update your personal details and contact information",fullName:"Full Name",fullNamePlaceholder:"Enter your full name",email:"Email",emailPlaceholder:"Your Email",phoneNumber:"Phone Number",phonePlaceholder:"Enter your phone number",clinicName:"Clinic Name",clinicPlaceholder:"Enter your clinic name",clinicAddress:"Clinic Address",addressPlaceholder:"Enter your clinic address",saveChanges:"Save Changes",errors:{fetchFailed:"Failed to load profile",updateFailed:"Failed to update profile",avatarFailed:"Failed to upload avatar"},success:{updated:"Profile updated successfully!",avatarUpdated:"Avatar updated successfully"}},sC={title:"Transaction Log",subtitle:"View all payment and expense transactions",exportCSV:"Export CSV",searchPlaceholder:"Search by name, email, clinic, or transaction ID...",noTransactions:"No transactions found matching your filters",showing:"Showing",of:"of",transactions:"transactions",processedBy:"Processed by",paymentReceived:"Payment",expense:"Expense",stats:{totalTransactions:"TOTAL TRANSACTIONS",totalRevenue:"TOTAL REVENUE",totalExpenses:"TOTAL EXPENSES",netIncome:"NET INCOME"},filters:{allTypes:"All Types",paymentsReceived:"Payments Received",expenses:"Expenses",allTime:"All Time",today:"Today",lastWeek:"Last 7 Days",lastMonth:"Last 30 Days"},table:{transactionId:"Transaction ID",id:"ID",date:"Date",type:"Type",from:"From",email:"Email",clinic:"Clinic",description:"Description",amount:"Amount",processedBy:"Processed By"}},iC={title:"Payment History",subtitle:"View your payment transaction history",searchPlaceholder:"Search by description, case name, or transaction ID...",noPayments:"No payment transactions found",cases:"Cases",case:"case",receivedBy:"Received By",notes:"Notes",generalPayment:"General payment",payments:"payments",stats:{totalPayments:"TOTAL PAYMENTS",totalPaid:"TOTAL PAID",amountDue:"AMOUNT DUE"}},lC={amountDue:"Amount Due",totalPaid:"Total Paid",pendingCases:"Pending Cases",cases:"cases",inProgress:"in progress",finished:"finished"},oC={submitted:"Submitted",accepted:"Accepted by Admin",underReview:"Under Review",rejected:"Rejected by Admin",awaitingApproval:"Awaiting Approval",patientRejected:"Rejected by Patient",userRejected:"Rejected by Doctor",approved:"Approved by Doctor",inProduction:"In Production",readyForDelivery:"Ready for Delivery",delivered:"Delivered",completed:"Completed"},cC={createUserButton:"Create User"},dC={title:"Dental Chart",statuses:{movable:"Can be moved orthodontically",unmovable:"Dental implant, bridge pontic, or ankylosed teeth",missing:"Missing or to be extracted",note:"A note about this tooth in the Treatment Plan field"},statusLabels:{movable:"Movable",unmovable:"Unmovable",missing:"Missing",note:"Note"}},uC={printButton:"Print",estimatedDurationLabel:"Estimated Duration (months)",actionButtons:"Action Buttons",addViewer:"Add Treatment Plan Viewer",addIPRChart:"Add IPR Chart",editIPRChart:"Edit IPR Chart",iprChart:"IPR Chart",available:"Available",viewChart:"View Chart",openViewer:"Open Case Viewer",copyLink:"Copy link",copied:"Copied!",declineCase:"Decline Case",sendForApproval:"Send for Doctor Approval",editPlan:"Edit plan details",printDialogTitle:"Print Treatment Plan",statusMessages:{editing:"Choose to decline the case or set plan details and send to the doctor for approval.",awaitingApproval:"Plan details are awaiting doctor approval.",approved:"Plan approved by doctor. Proceed with manufacturing.",rejected:"Case has been declined and is inactive.",inProduction:"Manufacturing in progress.",readyForDelivery:"Ready for delivery to the doctor.",delivered:"The aligners have been delivered to the doctor. The doctor can mark the case as completed when finished.",userRejected:"Case treatment plan has been declined by the doctor and is inactive."},print:{treatmentPlanDetails:"Treatment Plan Details",footer:"This document was generated on {{date}} | Lumina"}},fC={title:"Admin Notes",editNote:"Edit Note",addNote:"Add Note",additionalNotes:"Additional Notes",placeholder:"Enter any special instructions or comments for the doctor",helpText:"Add any additional information or notes about this case for the doctor.",saving:"Saving...",saveNote:"Save Note",noNotes:"No lab notes added yet.",toast:{saved:"Admin note saved",saveFailed:"Failed to save note"}},hC={title:"Internal Notes",editNote:"Edit Note",addNote:"Add Note",additionalNotes:"Additional Notes",placeholder:"Enter any special instructions, internal comments, etc...",helpText:"Add any additional information or internal notes about this case.",saving:"Saving...",saveNote:"Save Note",noNotes:"No lab notes added yet.",toast:{saved:"Internal note saved",saveFailed:"Failed to save note"}},mC={breadcrumbTitle:"Doctor Details",totalPatients:"Total Patients",activeCases:"Active Cases",paymentStatus:"Payment Status",paidAmount:"Paid Amount",remainingAmount:"Remaining",partialPayment:"{{percent}}% Paid"},pC={title:"Collect Payment",subtitle:"Enter payment details and select cases to allocate the payment.",doctorLabel:"Doctor",name:"Name",notes:"Notes",doctorPlaceholder:"Select a doctor...",paymentAmountLabel:"Payment Amount (USD)",paymentAmountPlaceholder:"0.00",totalPayment:"Total Payment:",paymentReceipt:"Payment Receipt",printInvoice:"Print Invoice",paymentInvoice:"Payment Invoice",paymentInvoiceDescription:"Your payment has been processed successfully. You can print this invoice for your records.",casesIncluded:"Cases Included",invoice:"Invoice",paymentSummary:"Payment Summary",notesLabel:"Notes (Optional)",notesPlaceholder:"Add any notes about this payment...",unpaidCasesTitle:"Unpaid Cases",selectedSummary:"{{selected}} of {{total}} selected",loadingCases:"Loading cases...",noUnpaidCases:"No unpaid cases found for this doctor.",statusLabel:"Status",createdLabel:"Created",remainingShort:"remaining",paidOfTotal:"{{paid}} paid of {{total}}",selectedCasesTotal:"Selected Cases Total:",paymentAmount:"Payment Amount:",remainingAmount:"Remaining Amount:",remainingSplitNote:"Remaining amount will be split among {{count}} unselected cases",cancel:"Cancel",processPayment:"Process Payment",processing:"Processing...",patient:"Patient"},gC={title:"Manufacturing Progress",buttons:{startProduction:"Start Production",markReady:"Mark Ready for Delivery",markDelivered:"Mark Delivered"},messages:{approved:"Treatment plan approved. Ready to begin production.",inProduction:"Aligners are currently being manufactured.",readyForDelivery:"Manufacturing complete. Aligners are ready to be shipped.",delivered:"The aligners have been delivered to the doctor. The doctor can mark the case as completed when finished.",completed:"Case completed successfully.",default:"Update the case status as you progress through manufacturing and delivery."}},xC={noCasesToShow:"No cases to show"},bC={upperJaw:"Upper Jaw (Maxilla)",lowerJaw:"Lower Jaw (Mandible)",description:"Interproximal reduction values in millimeters",legend:"Orange values indicate IPR (Interproximal Reduction) in millimeters",instructions:{title:"Instructions:",enterValues:"Enter mesial (M) and distal (D) IPR values in millimeters for each tooth",enterMillimeters:"Enter values in millimeters (e.g., 0.2, 0.5)",leaveEmpty:"Leave fields empty for surfaces with no IPR",combineValues:"The viewer will combine adjacent values (e.g., mesial of #8 + mesial of #9)",clickSave:"Click Save to store the IPR chart with the treatment plan"},saveButton:"Save IPR Chart"},vC={title:"Treatment Plan Images",subtitle:"Upload sequence images and before/after comparisons for this case.",tabs:{sequence:"Sequence Images",beforeAfter:"Before & After"},alerts:{sequence:{title:"Upload Sequence Images",description:"Upload multiple images for each view showing the treatment progression. Images will be numbered automatically as Step 1, Step 2, etc."},beforeAfter:{title:"Upload Before & After",description:"Upload a single combined image showing both before and after for each view."}},views:{front:"Front View",left:"Left View",right:"Right View",upper:"Upper Occlusal",lower:"Lower Occlusal"},labels:{existing:"Existing Steps",newUploads:"Pending Uploads",newVideo:"New Video",currentVideo:"Current Video",step:"Step",imageExists:"Image exists",currentImage:"Current Image",noImages:"No images uploaded yet"},buttons:{addImages:"Add Images",upload:"Upload Images",uploading:"Uploading...",replaceVideo:"Replace Video",replace:"Replace Image",select:"Select Image"},toast:{deleted:"Image deleted successfully",deleteFailed:"Failed to delete image",uploaded:"Images uploaded successfully",uploadFailed:"Failed to upload images"}},yC={welcomeBack:"Welcome back",subtitle:"Sign in to view and submit your Lumina cases",enterCredentials:"Enter your credentials to access your account",emailPlaceholder:"Enter your email",passwordPlaceholder:"Enter your password",signingIn:"Signing in...",requestAccess:"Request Account",forgotPasswordText:"Forgot your password?",resetPassword:"Reset Password",errors:{emptyFields:"Please enter both email and password",submitFailed:"Failed to submit request"},signUpDialog:{title:"Request Account Access",fullName:"Full Name",fullNamePlaceholder:"Dr. John Doe",email:"Email Address",emailPlaceholder:"john.doe@example.com",clinicName:"Clinic Name",clinicNamePlaceholder:"City Medical Center",phoneNumber:"Phone Number",phoneNumberPlaceholder:"+1 (555) 123-4567",clinicAddress:"Clinic Address",clinicAddressPlaceholder:"123 Main Street, Suite 100, City, State 12345",languagePreference:"Preferred Language",languageHelp:"Choose your preferred language for the application interface",submitting:"Submitting...",submitButton:"Submit Request",successTitle:"Request submitted successfully!",successMessage:"An administrator will review your request and create your account soon.",errors:{requiredFields:"Please fill in all required fields"}}},wC={title:"Reset your password",subtitle:"Enter your email address and we'll send you instructions to reset your password.",emailLabel:"Email address",emailPlaceholder:"you@example.com",sending:"Sending instructions...",sendButton:"Send reset instructions",backToSignIn:"Back to sign in",errors:{emailRequired:"Please enter your email address"},success:{instructionsSent:"Password reset instructions have been sent to your email"}},jC={title:"Sign Up Requests",subtitle:"Review and approve new user registrations",name:"Name",email:"Email",clinic:"Clinic",phone:"Phone",status:"Status",date:"Date",noRequests:"No sign-up requests found",reviewRequest:"Review Sign-Up Request",fullName:"Full Name",clinicName:"Clinic Name",phoneNumber:"Phone Number",clinicAddress:"Clinic Address",prefferedLanguage:"Preffered Language",prefferedLanguageSubtext:"Choose the preferred language for the application interface",setPassword:"Set Password",passwordRequired:"Password must be at least 6 characters",passwordPlaceholder:"Enter password for user",passwordHint:"Minimum 6 characters. Make sure to save this password.",approveAndCreate:"Approve & Create Account",creatingAccount:"Creating Account...",createUser:"Create User",userCreatedSuccess:"User account created successfully!",password:"Password",confirmReject:"Are you sure you want to reject this request?",statusPending:"Pending",statusApproved:"Approved",statusRejected:"Rejected"},SC={caseDeclined:"Case Declined",doctorDeclineReason:"Doctor Decline Reason",adminDeclineReason:"Admin Decline Reason",approvePlan:"Approve Plan",toast:{caseDeleted:"Case deleted successfully",deleteFailed:"Failed to delete case",iprSaved:"IPR data saved successfully",iprFailed:"Failed to save IPR data"}},NC={title:"Record Expense",subtitle:"Enter expense details for business costs and payments made.",expenseAmount:"Expense Amount *",description:"Description/Notes *",descriptionPlaceholder:"Describe the expense (e.g., Munqeth Wahood Lab Fees, office supplies, equipment)...",recordExpense:"Record Expense",recording:"Recording...",errors:{recordFailed:"Failed to record expense",validExpense:"Please enter a valid expense amount"},success:{expenseRecorded:"Expense recorded successfully!"}},_C={title:"Case Viewer",loadingViewer:"Loading case viewer...",caseNotFound:"Case not found",patientName:"Patient Name",caseNumber:"Case Number",sequenceAnimation:"Sequence Animation",beforeAfter:"Before & After",preloadingImages:"Preloading images...",step:"Step",of:"of",noSequenceImages:"No sequence images available for this view",noBeforeAfterImage:"No before/after image available for this view",jumpToStart:"Jump to Start",previousStep:"Previous Step",nextStep:"Next Step",jumpToEnd:"Jump to End",upperAligners:"Upper Aligners",lowerAligners:"Lower Aligners",disclaimer:{title:"Important Notice",points:["There may be differences between the computer-generated prediction and the actual clinical outcome","The number of aligners may increase depending on the case requirements","The treating doctor is solely responsible for the treatment plan"]}},lF={common:V_,navigation:G_,dashboard:Y_,cases:K_,billing:W_,billingTable:J_,caseSubmit:Z_,adminCaseSubmit:X_,caseStatus:Q_,billingStats:eC,casePage:tC,settings:nC,auth:aC,profile:rC,transactions:sC,doctorTransactions:iC,doctorBillingStats:lC,caseStatusBadge:oC,signUpRequestPage:cC,dentalChart:dC,adminTreatmentPlan:uC,adminNotes:fC,internalNotes:hC,adminDoctorDetails:mC,paymentCollectionDialog:pC,manufacturingProgress:gC,casesPage:xC,iprChart:bC,treatmentPlanImages:vC,login:yC,resetPassword:wC,signUpRequests:jC,adminCasePage:SC,expenseDialog:NC,viewer:_C},oF=Object.freeze(Object.defineProperty({__proto__:null,adminCasePage:SC,adminCaseSubmit:X_,adminDoctorDetails:mC,adminNotes:fC,adminTreatmentPlan:uC,auth:aC,billing:W_,billingStats:eC,billingTable:J_,casePage:tC,caseStatus:Q_,caseStatusBadge:oC,caseSubmit:Z_,cases:K_,casesPage:xC,common:V_,dashboard:Y_,default:lF,dentalChart:dC,doctorBillingStats:lC,doctorTransactions:iC,expenseDialog:NC,internalNotes:hC,iprChart:bC,login:yC,manufacturingProgress:gC,navigation:G_,paymentCollectionDialog:pC,profile:rC,resetPassword:wC,settings:nC,signUpRequestPage:cC,signUpRequests:jC,transactions:sC,treatmentPlanImages:vC,viewer:_C},Symbol.toStringTag,{value:"Module"})),{slice:cF,forEach:dF}=[];function uF(e){return dF.call(cF.call(arguments,1),t=>{if(t)for(const n in t)e[n]===void 0&&(e[n]=t[n])}),e}function fF(e){return typeof e!="string"?!1:[/<\s*script.*?>/i,/<\s*\/\s*script\s*>/i,/<\s*img.*?on\w+\s*=/i,/<\s*\w+\s*on\w+\s*=.*?>/i,/javascript\s*:/i,/vbscript\s*:/i,/expression\s*\(/i,/eval\s*\(/i,/alert\s*\(/i,/document\.cookie/i,/document\.write\s*\(/i,/window\.location/i,/innerHTML/i].some(n=>n.test(e))}const ij=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/,hF=function(e,t){const s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{path:"/"},l=encodeURIComponent(t);let o=`${e}=${l}`;if(s.maxAge>0){const d=s.maxAge-0;if(Number.isNaN(d))throw new Error("maxAge should be a Number");o+=`; Max-Age=${Math.floor(d)}`}if(s.domain){if(!ij.test(s.domain))throw new TypeError("option domain is invalid");o+=`; Domain=${s.domain}`}if(s.path){if(!ij.test(s.path))throw new TypeError("option path is invalid");o+=`; Path=${s.path}`}if(s.expires){if(typeof s.expires.toUTCString!="function")throw new TypeError("option expires is invalid");o+=`; Expires=${s.expires.toUTCString()}`}if(s.httpOnly&&(o+="; HttpOnly"),s.secure&&(o+="; Secure"),s.sameSite)switch(typeof s.sameSite=="string"?s.sameSite.toLowerCase():s.sameSite){case!0:o+="; SameSite=Strict";break;case"lax":o+="; SameSite=Lax";break;case"strict":o+="; SameSite=Strict";break;case"none":o+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}return s.partitioned&&(o+="; Partitioned"),o},lj={create(e,t,n,s){let l=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{path:"/",sameSite:"strict"};n&&(l.expires=new Date,l.expires.setTime(l.expires.getTime()+n*60*1e3)),s&&(l.domain=s),document.cookie=hF(e,t,l)},read(e){const t=`${e}=`,n=document.cookie.split(";");for(let s=0;s<n.length;s++){let l=n[s];for(;l.charAt(0)===" ";)l=l.substring(1,l.length);if(l.indexOf(t)===0)return l.substring(t.length,l.length)}return null},remove(e,t){this.create(e,"",-1,t)}};var mF={name:"cookie",lookup(e){let{lookupCookie:t}=e;if(t&&typeof document<"u")return lj.read(t)||void 0},cacheUserLanguage(e,t){let{lookupCookie:n,cookieMinutes:s,cookieDomain:l,cookieOptions:o}=t;n&&typeof document<"u"&&lj.create(n,e,s,l,o)}},pF={name:"querystring",lookup(e){let{lookupQuerystring:t}=e,n;if(typeof window<"u"){let{search:s}=window.location;!window.location.search&&window.location.hash?.indexOf("?")>-1&&(s=window.location.hash.substring(window.location.hash.indexOf("?")));const o=s.substring(1).split("&");for(let d=0;d<o.length;d++){const f=o[d].indexOf("=");f>0&&o[d].substring(0,f)===t&&(n=o[d].substring(f+1))}}return n}},gF={name:"hash",lookup(e){let{lookupHash:t,lookupFromHashIndex:n}=e,s;if(typeof window<"u"){const{hash:l}=window.location;if(l&&l.length>2){const o=l.substring(1);if(t){const d=o.split("&");for(let f=0;f<d.length;f++){const m=d[f].indexOf("=");m>0&&d[f].substring(0,m)===t&&(s=d[f].substring(m+1))}}if(s)return s;if(!s&&n>-1){const d=l.match(/\/([a-zA-Z-]*)/g);return Array.isArray(d)?d[typeof n=="number"?n:0]?.replace("/",""):void 0}}}return s}};let pl=null;const oj=()=>{if(pl!==null)return pl;try{if(pl=typeof window<"u"&&window.localStorage!==null,!pl)return!1;const e="i18next.translate.boo";window.localStorage.setItem(e,"foo"),window.localStorage.removeItem(e)}catch{pl=!1}return pl};var xF={name:"localStorage",lookup(e){let{lookupLocalStorage:t}=e;if(t&&oj())return window.localStorage.getItem(t)||void 0},cacheUserLanguage(e,t){let{lookupLocalStorage:n}=t;n&&oj()&&window.localStorage.setItem(n,e)}};let gl=null;const cj=()=>{if(gl!==null)return gl;try{if(gl=typeof window<"u"&&window.sessionStorage!==null,!gl)return!1;const e="i18next.translate.boo";window.sessionStorage.setItem(e,"foo"),window.sessionStorage.removeItem(e)}catch{gl=!1}return gl};var bF={name:"sessionStorage",lookup(e){let{lookupSessionStorage:t}=e;if(t&&cj())return window.sessionStorage.getItem(t)||void 0},cacheUserLanguage(e,t){let{lookupSessionStorage:n}=t;n&&cj()&&window.sessionStorage.setItem(n,e)}},vF={name:"navigator",lookup(e){const t=[];if(typeof navigator<"u"){const{languages:n,userLanguage:s,language:l}=navigator;if(n)for(let o=0;o<n.length;o++)t.push(n[o]);s&&t.push(s),l&&t.push(l)}return t.length>0?t:void 0}},yF={name:"htmlTag",lookup(e){let{htmlTag:t}=e,n;const s=t||(typeof document<"u"?document.documentElement:null);return s&&typeof s.getAttribute=="function"&&(n=s.getAttribute("lang")),n}},wF={name:"path",lookup(e){let{lookupFromPathIndex:t}=e;if(typeof window>"u")return;const n=window.location.pathname.match(/\/([a-zA-Z-]*)/g);return Array.isArray(n)?n[typeof t=="number"?t:0]?.replace("/",""):void 0}},jF={name:"subdomain",lookup(e){let{lookupFromSubdomainIndex:t}=e;const n=typeof t=="number"?t+1:1,s=typeof window<"u"&&window.location?.hostname?.match(/^(\w{2,5})\.(([a-z0-9-]{1,63}\.[a-z]{2,6})|localhost)/i);if(s)return s[n]}};let CC=!1;try{document.cookie,CC=!0}catch{}const EC=["querystring","cookie","localStorage","sessionStorage","navigator","htmlTag"];CC||EC.splice(1,1);const SF=()=>({order:EC,lookupQuerystring:"lng",lookupCookie:"i18next",lookupLocalStorage:"i18nextLng",lookupSessionStorage:"i18nextLng",caches:["localStorage"],excludeCacheFor:["cimode"],convertDetectedLanguage:e=>e});class RC{constructor(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.type="languageDetector",this.detectors={},this.init(t,n)}init(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{languageUtils:{}},n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.services=t,this.options=uF(n,this.options||{},SF()),typeof this.options.convertDetectedLanguage=="string"&&this.options.convertDetectedLanguage.indexOf("15897")>-1&&(this.options.convertDetectedLanguage=l=>l.replace("-","_")),this.options.lookupFromUrlIndex&&(this.options.lookupFromPathIndex=this.options.lookupFromUrlIndex),this.i18nOptions=s,this.addDetector(mF),this.addDetector(pF),this.addDetector(xF),this.addDetector(bF),this.addDetector(vF),this.addDetector(yF),this.addDetector(wF),this.addDetector(jF),this.addDetector(gF)}addDetector(t){return this.detectors[t.name]=t,this}detect(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.options.order,n=[];return t.forEach(s=>{if(this.detectors[s]){let l=this.detectors[s].lookup(this.options);l&&typeof l=="string"&&(l=[l]),l&&(n=n.concat(l))}}),n=n.filter(s=>s!=null&&!fF(s)).map(s=>this.options.convertDetectedLanguage(s)),this.services&&this.services.languageUtils&&this.services.languageUtils.getBestMatchFromCodes?n:n.length>0?n[0]:null}cacheUserLanguage(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.options.caches;n&&(this.options.excludeCacheFor&&this.options.excludeCacheFor.indexOf(t)>-1||n.forEach(s=>{this.detectors[s]&&this.detectors[s].cacheUserLanguage(t,this.options)}))}}RC.type="languageDetector";const Ip=Object.assign({"./locales/ar.json":iF,"./locales/en.json":oF}),AC={};for(const e in Ip){const t=e.match(/\.\/locales\/(.+)\.json$/)[1];AC[t]={translation:Ip[e].default||Ip[e]}}const kx=localStorage.getItem("language")||"en";document.dir=kx==="ar"?"rtl":"ltr";document.documentElement.lang=kx;Dn.use(RC).use(k7).init({resources:AC,fallbackLng:"en",lng:kx,detection:{order:["localStorage","navigator"],caches:["localStorage"]},interpolation:{escapeValue:!1},react:{useSuspense:!1}});Dn.on("languageChanged",e=>{document.dir=e==="ar"?"rtl":"ltr",document.documentElement.lang=e,localStorage.setItem("language",e)});VE.createRoot(document.getElementById("root")).render(a.jsx(h.StrictMode,{children:a.jsx(rF,{})}));
