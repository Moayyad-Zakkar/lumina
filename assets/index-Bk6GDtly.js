function DE(e,t){for(var n=0;n<t.length;n++){const s=t[n];if(typeof s!="string"&&!Array.isArray(s)){for(const l in s)if(l!=="default"&&!(l in e)){const o=Object.getOwnPropertyDescriptor(s,l);o&&Object.defineProperty(e,l,o.get?o:{enumerable:!0,get:()=>s[l]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))s(l);new MutationObserver(l=>{for(const o of l)if(o.type==="childList")for(const d of o.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&s(d)}).observe(document,{childList:!0,subtree:!0});function n(l){const o={};return l.integrity&&(o.integrity=l.integrity),l.referrerPolicy&&(o.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?o.credentials="include":l.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function s(l){if(l.ep)return;l.ep=!0;const o=n(l);fetch(l.href,o)}})();function wg(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function ME(e){if(Object.prototype.hasOwnProperty.call(e,"__esModule"))return e;var t=e.default;if(typeof t=="function"){var n=function s(){var l=!1;try{l=this instanceof s}catch{}return l?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(s){var l=Object.getOwnPropertyDescriptor(e,s);Object.defineProperty(n,s,l.get?l:{enumerable:!0,get:function(){return e[s]}})}),n}var Ym={exports:{}},Fo={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ny;function OE(){if(ny)return Fo;ny=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(s,l,o){var d=null;if(o!==void 0&&(d=""+o),l.key!==void 0&&(d=""+l.key),"key"in l){o={};for(var f in l)f!=="key"&&(o[f]=l[f])}else o=l;return l=o.ref,{$$typeof:e,type:s,key:d,ref:l!==void 0?l:null,props:o}}return Fo.Fragment=t,Fo.jsx=n,Fo.jsxs=n,Fo}var ay;function LE(){return ay||(ay=1,Ym.exports=OE()),Ym.exports}var r=LE(),Km={exports:{}},tt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ry;function UE(){if(ry)return tt;ry=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),d=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),b=Symbol.iterator;function y(D){return D===null||typeof D!="object"?null:(D=b&&D[b]||D["@@iterator"],typeof D=="function"?D:null)}var w={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},j=Object.assign,S={};function E(D,z,ae){this.props=D,this.context=z,this.refs=S,this.updater=ae||w}E.prototype.isReactComponent={},E.prototype.setState=function(D,z){if(typeof D!="object"&&typeof D!="function"&&D!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,D,z,"setState")},E.prototype.forceUpdate=function(D){this.updater.enqueueForceUpdate(this,D,"forceUpdate")};function R(){}R.prototype=E.prototype;function A(D,z,ae){this.props=D,this.context=z,this.refs=S,this.updater=ae||w}var N=A.prototype=new R;N.constructor=A,j(N,E.prototype),N.isPureReactComponent=!0;var P=Array.isArray,T={H:null,A:null,T:null,S:null,V:null},C=Object.prototype.hasOwnProperty;function k(D,z,ae,Q,ne,he){return ae=he.ref,{$$typeof:e,type:D,key:z,ref:ae!==void 0?ae:null,props:he}}function $(D,z){return k(D.type,z,void 0,void 0,void 0,D.props)}function O(D){return typeof D=="object"&&D!==null&&D.$$typeof===e}function V(D){var z={"=":"=0",":":"=2"};return"$"+D.replace(/[=:]/g,function(ae){return z[ae]})}var W=/\/+/g;function L(D,z){return typeof D=="object"&&D!==null&&D.key!=null?V(""+D.key):z.toString(36)}function F(){}function B(D){switch(D.status){case"fulfilled":return D.value;case"rejected":throw D.reason;default:switch(typeof D.status=="string"?D.then(F,F):(D.status="pending",D.then(function(z){D.status==="pending"&&(D.status="fulfilled",D.value=z)},function(z){D.status==="pending"&&(D.status="rejected",D.reason=z)})),D.status){case"fulfilled":return D.value;case"rejected":throw D.reason}}throw D}function te(D,z,ae,Q,ne){var he=typeof D;(he==="undefined"||he==="boolean")&&(D=null);var ge=!1;if(D===null)ge=!0;else switch(he){case"bigint":case"string":case"number":ge=!0;break;case"object":switch(D.$$typeof){case e:case t:ge=!0;break;case g:return ge=D._init,te(ge(D._payload),z,ae,Q,ne)}}if(ge)return ne=ne(D),ge=Q===""?"."+L(D,0):Q,P(ne)?(ae="",ge!=null&&(ae=ge.replace(W,"$&/")+"/"),te(ne,z,ae,"",function(ue){return ue})):ne!=null&&(O(ne)&&(ne=$(ne,ae+(ne.key==null||D&&D.key===ne.key?"":(""+ne.key).replace(W,"$&/")+"/")+ge)),z.push(ne)),1;ge=0;var we=Q===""?".":Q+":";if(P(D))for(var Te=0;Te<D.length;Te++)Q=D[Te],he=we+L(Q,Te),ge+=te(Q,z,ae,he,ne);else if(Te=y(D),typeof Te=="function")for(D=Te.call(D),Te=0;!(Q=D.next()).done;)Q=Q.value,he=we+L(Q,Te++),ge+=te(Q,z,ae,he,ne);else if(he==="object"){if(typeof D.then=="function")return te(B(D),z,ae,Q,ne);throw z=String(D),Error("Objects are not valid as a React child (found: "+(z==="[object Object]"?"object with keys {"+Object.keys(D).join(", ")+"}":z)+"). If you meant to render a collection of children, use an array instead.")}return ge}function U(D,z,ae){if(D==null)return D;var Q=[],ne=0;return te(D,Q,"","",function(he){return z.call(ae,he,ne++)}),Q}function q(D){if(D._status===-1){var z=D._result;z=z(),z.then(function(ae){(D._status===0||D._status===-1)&&(D._status=1,D._result=ae)},function(ae){(D._status===0||D._status===-1)&&(D._status=2,D._result=ae)}),D._status===-1&&(D._status=0,D._result=z)}if(D._status===1)return D._result.default;throw D._result}var G=typeof reportError=="function"?reportError:function(D){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var z=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof D=="object"&&D!==null&&typeof D.message=="string"?String(D.message):String(D),error:D});if(!window.dispatchEvent(z))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",D);return}console.error(D)};function J(){}return tt.Children={map:U,forEach:function(D,z,ae){U(D,function(){z.apply(this,arguments)},ae)},count:function(D){var z=0;return U(D,function(){z++}),z},toArray:function(D){return U(D,function(z){return z})||[]},only:function(D){if(!O(D))throw Error("React.Children.only expected to receive a single React element child.");return D}},tt.Component=E,tt.Fragment=n,tt.Profiler=l,tt.PureComponent=A,tt.StrictMode=s,tt.Suspense=m,tt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=T,tt.__COMPILER_RUNTIME={__proto__:null,c:function(D){return T.H.useMemoCache(D)}},tt.cache=function(D){return function(){return D.apply(null,arguments)}},tt.cloneElement=function(D,z,ae){if(D==null)throw Error("The argument must be a React element, but you passed "+D+".");var Q=j({},D.props),ne=D.key,he=void 0;if(z!=null)for(ge in z.ref!==void 0&&(he=void 0),z.key!==void 0&&(ne=""+z.key),z)!C.call(z,ge)||ge==="key"||ge==="__self"||ge==="__source"||ge==="ref"&&z.ref===void 0||(Q[ge]=z[ge]);var ge=arguments.length-2;if(ge===1)Q.children=ae;else if(1<ge){for(var we=Array(ge),Te=0;Te<ge;Te++)we[Te]=arguments[Te+2];Q.children=we}return k(D.type,ne,void 0,void 0,he,Q)},tt.createContext=function(D){return D={$$typeof:d,_currentValue:D,_currentValue2:D,_threadCount:0,Provider:null,Consumer:null},D.Provider=D,D.Consumer={$$typeof:o,_context:D},D},tt.createElement=function(D,z,ae){var Q,ne={},he=null;if(z!=null)for(Q in z.key!==void 0&&(he=""+z.key),z)C.call(z,Q)&&Q!=="key"&&Q!=="__self"&&Q!=="__source"&&(ne[Q]=z[Q]);var ge=arguments.length-2;if(ge===1)ne.children=ae;else if(1<ge){for(var we=Array(ge),Te=0;Te<ge;Te++)we[Te]=arguments[Te+2];ne.children=we}if(D&&D.defaultProps)for(Q in ge=D.defaultProps,ge)ne[Q]===void 0&&(ne[Q]=ge[Q]);return k(D,he,void 0,void 0,null,ne)},tt.createRef=function(){return{current:null}},tt.forwardRef=function(D){return{$$typeof:f,render:D}},tt.isValidElement=O,tt.lazy=function(D){return{$$typeof:g,_payload:{_status:-1,_result:D},_init:q}},tt.memo=function(D,z){return{$$typeof:p,type:D,compare:z===void 0?null:z}},tt.startTransition=function(D){var z=T.T,ae={};T.T=ae;try{var Q=D(),ne=T.S;ne!==null&&ne(ae,Q),typeof Q=="object"&&Q!==null&&typeof Q.then=="function"&&Q.then(J,G)}catch(he){G(he)}finally{T.T=z}},tt.unstable_useCacheRefresh=function(){return T.H.useCacheRefresh()},tt.use=function(D){return T.H.use(D)},tt.useActionState=function(D,z,ae){return T.H.useActionState(D,z,ae)},tt.useCallback=function(D,z){return T.H.useCallback(D,z)},tt.useContext=function(D){return T.H.useContext(D)},tt.useDebugValue=function(){},tt.useDeferredValue=function(D,z){return T.H.useDeferredValue(D,z)},tt.useEffect=function(D,z,ae){var Q=T.H;if(typeof ae=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return Q.useEffect(D,z)},tt.useId=function(){return T.H.useId()},tt.useImperativeHandle=function(D,z,ae){return T.H.useImperativeHandle(D,z,ae)},tt.useInsertionEffect=function(D,z){return T.H.useInsertionEffect(D,z)},tt.useLayoutEffect=function(D,z){return T.H.useLayoutEffect(D,z)},tt.useMemo=function(D,z){return T.H.useMemo(D,z)},tt.useOptimistic=function(D,z){return T.H.useOptimistic(D,z)},tt.useReducer=function(D,z,ae){return T.H.useReducer(D,z,ae)},tt.useRef=function(D){return T.H.useRef(D)},tt.useState=function(D){return T.H.useState(D)},tt.useSyncExternalStore=function(D,z,ae){return T.H.useSyncExternalStore(D,z,ae)},tt.useTransition=function(){return T.H.useTransition()},tt.version="19.1.0",tt}var sy;function Ec(){return sy||(sy=1,Km.exports=UE()),Km.exports}var h=Ec();const De=wg(h),Ml=DE({__proto__:null,default:De},[h]);var Wm={exports:{}},Io={},Jm={exports:{}},Zm={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var iy;function $E(){return iy||(iy=1,function(e){function t(U,q){var G=U.length;U.push(q);e:for(;0<G;){var J=G-1>>>1,D=U[J];if(0<l(D,q))U[J]=q,U[G]=D,G=J;else break e}}function n(U){return U.length===0?null:U[0]}function s(U){if(U.length===0)return null;var q=U[0],G=U.pop();if(G!==q){U[0]=G;e:for(var J=0,D=U.length,z=D>>>1;J<z;){var ae=2*(J+1)-1,Q=U[ae],ne=ae+1,he=U[ne];if(0>l(Q,G))ne<D&&0>l(he,Q)?(U[J]=he,U[ne]=G,J=ne):(U[J]=Q,U[ae]=G,J=ae);else if(ne<D&&0>l(he,G))U[J]=he,U[ne]=G,J=ne;else break e}}return q}function l(U,q){var G=U.sortIndex-q.sortIndex;return G!==0?G:U.id-q.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var d=Date,f=d.now();e.unstable_now=function(){return d.now()-f}}var m=[],p=[],g=1,b=null,y=3,w=!1,j=!1,S=!1,E=!1,R=typeof setTimeout=="function"?setTimeout:null,A=typeof clearTimeout=="function"?clearTimeout:null,N=typeof setImmediate<"u"?setImmediate:null;function P(U){for(var q=n(p);q!==null;){if(q.callback===null)s(p);else if(q.startTime<=U)s(p),q.sortIndex=q.expirationTime,t(m,q);else break;q=n(p)}}function T(U){if(S=!1,P(U),!j)if(n(m)!==null)j=!0,C||(C=!0,L());else{var q=n(p);q!==null&&te(T,q.startTime-U)}}var C=!1,k=-1,$=5,O=-1;function V(){return E?!0:!(e.unstable_now()-O<$)}function W(){if(E=!1,C){var U=e.unstable_now();O=U;var q=!0;try{e:{j=!1,S&&(S=!1,A(k),k=-1),w=!0;var G=y;try{t:{for(P(U),b=n(m);b!==null&&!(b.expirationTime>U&&V());){var J=b.callback;if(typeof J=="function"){b.callback=null,y=b.priorityLevel;var D=J(b.expirationTime<=U);if(U=e.unstable_now(),typeof D=="function"){b.callback=D,P(U),q=!0;break t}b===n(m)&&s(m),P(U)}else s(m);b=n(m)}if(b!==null)q=!0;else{var z=n(p);z!==null&&te(T,z.startTime-U),q=!1}}break e}finally{b=null,y=G,w=!1}q=void 0}}finally{q?L():C=!1}}}var L;if(typeof N=="function")L=function(){N(W)};else if(typeof MessageChannel<"u"){var F=new MessageChannel,B=F.port2;F.port1.onmessage=W,L=function(){B.postMessage(null)}}else L=function(){R(W,0)};function te(U,q){k=R(function(){U(e.unstable_now())},q)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(U){U.callback=null},e.unstable_forceFrameRate=function(U){0>U||125<U?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):$=0<U?Math.floor(1e3/U):5},e.unstable_getCurrentPriorityLevel=function(){return y},e.unstable_next=function(U){switch(y){case 1:case 2:case 3:var q=3;break;default:q=y}var G=y;y=q;try{return U()}finally{y=G}},e.unstable_requestPaint=function(){E=!0},e.unstable_runWithPriority=function(U,q){switch(U){case 1:case 2:case 3:case 4:case 5:break;default:U=3}var G=y;y=U;try{return q()}finally{y=G}},e.unstable_scheduleCallback=function(U,q,G){var J=e.unstable_now();switch(typeof G=="object"&&G!==null?(G=G.delay,G=typeof G=="number"&&0<G?J+G:J):G=J,U){case 1:var D=-1;break;case 2:D=250;break;case 5:D=1073741823;break;case 4:D=1e4;break;default:D=5e3}return D=G+D,U={id:g++,callback:q,priorityLevel:U,startTime:G,expirationTime:D,sortIndex:-1},G>J?(U.sortIndex=G,t(p,U),n(m)===null&&U===n(p)&&(S?(A(k),k=-1):S=!0,te(T,G-J))):(U.sortIndex=D,t(m,U),j||w||(j=!0,C||(C=!0,L()))),U},e.unstable_shouldYield=V,e.unstable_wrapCallback=function(U){var q=y;return function(){var G=y;y=q;try{return U.apply(this,arguments)}finally{y=G}}}}(Zm)),Zm}var ly;function FE(){return ly||(ly=1,Jm.exports=$E()),Jm.exports}var Xm={exports:{}},En={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var oy;function IE(){if(oy)return En;oy=1;var e=Ec();function t(m){var p="https://react.dev/errors/"+m;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var g=2;g<arguments.length;g++)p+="&args[]="+encodeURIComponent(arguments[g])}return"Minified React error #"+m+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},l=Symbol.for("react.portal");function o(m,p,g){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:b==null?null:""+b,children:m,containerInfo:p,implementation:g}}var d=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function f(m,p){if(m==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return En.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,En.createPortal=function(m,p){var g=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(t(299));return o(m,p,null,g)},En.flushSync=function(m){var p=d.T,g=s.p;try{if(d.T=null,s.p=2,m)return m()}finally{d.T=p,s.p=g,s.d.f()}},En.preconnect=function(m,p){typeof m=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,s.d.C(m,p))},En.prefetchDNS=function(m){typeof m=="string"&&s.d.D(m)},En.preinit=function(m,p){if(typeof m=="string"&&p&&typeof p.as=="string"){var g=p.as,b=f(g,p.crossOrigin),y=typeof p.integrity=="string"?p.integrity:void 0,w=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;g==="style"?s.d.S(m,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:b,integrity:y,fetchPriority:w}):g==="script"&&s.d.X(m,{crossOrigin:b,integrity:y,fetchPriority:w,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},En.preinitModule=function(m,p){if(typeof m=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var g=f(p.as,p.crossOrigin);s.d.M(m,{crossOrigin:g,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&s.d.M(m)},En.preload=function(m,p){if(typeof m=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var g=p.as,b=f(g,p.crossOrigin);s.d.L(m,g,{crossOrigin:b,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},En.preloadModule=function(m,p){if(typeof m=="string")if(p){var g=f(p.as,p.crossOrigin);s.d.m(m,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:g,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else s.d.m(m)},En.requestFormReset=function(m){s.d.r(m)},En.unstable_batchedUpdates=function(m,p){return m(p)},En.useFormState=function(m,p,g){return d.H.useFormState(m,p,g)},En.useFormStatus=function(){return d.H.useHostTransitionStatus()},En.version="19.1.0",En}var cy;function n2(){if(cy)return Xm.exports;cy=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),Xm.exports=IE(),Xm.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dy;function BE(){if(dy)return Io;dy=1;var e=FE(),t=Ec(),n=n2();function s(a){var i="https://react.dev/errors/"+a;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var c=2;c<arguments.length;c++)i+="&args[]="+encodeURIComponent(arguments[c])}return"Minified React error #"+a+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(a){return!(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11)}function o(a){var i=a,c=a;if(a.alternate)for(;i.return;)i=i.return;else{a=i;do i=a,(i.flags&4098)!==0&&(c=i.return),a=i.return;while(a)}return i.tag===3?c:null}function d(a){if(a.tag===13){var i=a.memoizedState;if(i===null&&(a=a.alternate,a!==null&&(i=a.memoizedState)),i!==null)return i.dehydrated}return null}function f(a){if(o(a)!==a)throw Error(s(188))}function m(a){var i=a.alternate;if(!i){if(i=o(a),i===null)throw Error(s(188));return i!==a?null:a}for(var c=a,u=i;;){var x=c.return;if(x===null)break;var v=x.alternate;if(v===null){if(u=x.return,u!==null){c=u;continue}break}if(x.child===v.child){for(v=x.child;v;){if(v===c)return f(x),a;if(v===u)return f(x),i;v=v.sibling}throw Error(s(188))}if(c.return!==u.return)c=x,u=v;else{for(var _=!1,M=x.child;M;){if(M===c){_=!0,c=x,u=v;break}if(M===u){_=!0,u=x,c=v;break}M=M.sibling}if(!_){for(M=v.child;M;){if(M===c){_=!0,c=v,u=x;break}if(M===u){_=!0,u=v,c=x;break}M=M.sibling}if(!_)throw Error(s(189))}}if(c.alternate!==u)throw Error(s(190))}if(c.tag!==3)throw Error(s(188));return c.stateNode.current===c?a:i}function p(a){var i=a.tag;if(i===5||i===26||i===27||i===6)return a;for(a=a.child;a!==null;){if(i=p(a),i!==null)return i;a=a.sibling}return null}var g=Object.assign,b=Symbol.for("react.element"),y=Symbol.for("react.transitional.element"),w=Symbol.for("react.portal"),j=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),E=Symbol.for("react.profiler"),R=Symbol.for("react.provider"),A=Symbol.for("react.consumer"),N=Symbol.for("react.context"),P=Symbol.for("react.forward_ref"),T=Symbol.for("react.suspense"),C=Symbol.for("react.suspense_list"),k=Symbol.for("react.memo"),$=Symbol.for("react.lazy"),O=Symbol.for("react.activity"),V=Symbol.for("react.memo_cache_sentinel"),W=Symbol.iterator;function L(a){return a===null||typeof a!="object"?null:(a=W&&a[W]||a["@@iterator"],typeof a=="function"?a:null)}var F=Symbol.for("react.client.reference");function B(a){if(a==null)return null;if(typeof a=="function")return a.$$typeof===F?null:a.displayName||a.name||null;if(typeof a=="string")return a;switch(a){case j:return"Fragment";case E:return"Profiler";case S:return"StrictMode";case T:return"Suspense";case C:return"SuspenseList";case O:return"Activity"}if(typeof a=="object")switch(a.$$typeof){case w:return"Portal";case N:return(a.displayName||"Context")+".Provider";case A:return(a._context.displayName||"Context")+".Consumer";case P:var i=a.render;return a=a.displayName,a||(a=i.displayName||i.name||"",a=a!==""?"ForwardRef("+a+")":"ForwardRef"),a;case k:return i=a.displayName||null,i!==null?i:B(a.type)||"Memo";case $:i=a._payload,a=a._init;try{return B(a(i))}catch{}}return null}var te=Array.isArray,U=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,q=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,G={pending:!1,data:null,method:null,action:null},J=[],D=-1;function z(a){return{current:a}}function ae(a){0>D||(a.current=J[D],J[D]=null,D--)}function Q(a,i){D++,J[D]=a.current,a.current=i}var ne=z(null),he=z(null),ge=z(null),we=z(null);function Te(a,i){switch(Q(ge,i),Q(he,a),Q(ne,null),i.nodeType){case 9:case 11:a=(a=i.documentElement)&&(a=a.namespaceURI)?Pv(a):0;break;default:if(a=i.tagName,i=i.namespaceURI)i=Pv(i),a=Tv(i,a);else switch(a){case"svg":a=1;break;case"math":a=2;break;default:a=0}}ae(ne),Q(ne,a)}function ue(){ae(ne),ae(he),ae(ge)}function xe(a){a.memoizedState!==null&&Q(we,a);var i=ne.current,c=Tv(i,a.type);i!==c&&(Q(he,a),Q(ne,c))}function Ne(a){he.current===a&&(ae(ne),ae(he)),we.current===a&&(ae(we),Mo._currentValue=G)}var Pe=Object.prototype.hasOwnProperty,Re=e.unstable_scheduleCallback,Be=e.unstable_cancelCallback,be=e.unstable_shouldYield,Ae=e.unstable_requestPaint,Fe=e.unstable_now,wt=e.unstable_getCurrentPriorityLevel,gt=e.unstable_ImmediatePriority,je=e.unstable_UserBlockingPriority,it=e.unstable_NormalPriority,at=e.unstable_LowPriority,_t=e.unstable_IdlePriority,xt=e.log,$t=e.unstable_setDisableYieldValue,Pt=null,rt=null;function Ve(a){if(typeof xt=="function"&&$t(a),rt&&typeof rt.setStrictMode=="function")try{rt.setStrictMode(Pt,a)}catch{}}var ut=Math.clz32?Math.clz32:vt,kn=Math.log,Nn=Math.LN2;function vt(a){return a>>>=0,a===0?32:31-(kn(a)/Nn|0)|0}var Oe=256,Tt=4194304;function un(a){var i=a&42;if(i!==0)return i;switch(a&-a){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return a&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return a}}function Kn(a,i,c){var u=a.pendingLanes;if(u===0)return 0;var x=0,v=a.suspendedLanes,_=a.pingedLanes;a=a.warmLanes;var M=u&134217727;return M!==0?(u=M&~v,u!==0?x=un(u):(_&=M,_!==0?x=un(_):c||(c=M&~a,c!==0&&(x=un(c))))):(M=u&~v,M!==0?x=un(M):_!==0?x=un(_):c||(c=u&~a,c!==0&&(x=un(c)))),x===0?0:i!==0&&i!==x&&(i&v)===0&&(v=x&-x,c=i&-i,v>=c||v===32&&(c&4194048)!==0)?i:x}function yn(a,i){return(a.pendingLanes&~(a.suspendedLanes&~a.pingedLanes)&i)===0}function _a(a,i){switch(a){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function la(){var a=Oe;return Oe<<=1,(Oe&4194048)===0&&(Oe=256),a}function Es(){var a=Tt;return Tt<<=1,(Tt&62914560)===0&&(Tt=4194304),a}function tr(a){for(var i=[],c=0;31>c;c++)i.push(a);return i}function Fa(a,i){a.pendingLanes|=i,i!==268435456&&(a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0)}function Rs(a,i,c,u,x,v){var _=a.pendingLanes;a.pendingLanes=c,a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0,a.expiredLanes&=c,a.entangledLanes&=c,a.errorRecoveryDisabledLanes&=c,a.shellSuspendCounter=0;var M=a.entanglements,H=a.expirationTimes,se=a.hiddenUpdates;for(c=_&~c;0<c;){var de=31-ut(c),pe=1<<de;M[de]=0,H[de]=-1;var ie=se[de];if(ie!==null)for(se[de]=null,de=0;de<ie.length;de++){var oe=ie[de];oe!==null&&(oe.lane&=-536870913)}c&=~pe}u!==0&&Ia(a,u,0),v!==0&&x===0&&a.tag!==0&&(a.suspendedLanes|=v&~(_&~i))}function Ia(a,i,c){a.pendingLanes|=i,a.suspendedLanes&=~i;var u=31-ut(i);a.entangledLanes|=i,a.entanglements[u]=a.entanglements[u]|1073741824|c&4194090}function Ba(a,i){var c=a.entangledLanes|=i;for(a=a.entanglements;c;){var u=31-ut(c),x=1<<u;x&i|a[u]&i&&(a[u]|=i),c&=~x}}function As(a){switch(a){case 2:a=1;break;case 8:a=4;break;case 32:a=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:a=128;break;case 268435456:a=134217728;break;default:a=0}return a}function Ps(a){return a&=-a,2<a?8<a?(a&134217727)!==0?32:268435456:8:2}function Y(){var a=q.p;return a!==0?a:(a=window.event,a===void 0?32:Jv(a.type))}function ee(a,i){var c=q.p;try{return q.p=a,i()}finally{q.p=c}}var le=Math.random().toString(36).slice(2),me="__reactFiber$"+le,Se="__reactProps$"+le,Le="__reactContainer$"+le,qe="__reactEvents$"+le,ke="__reactListeners$"+le,ze="__reactHandles$"+le,Ue="__reactResources$"+le,Ke="__reactMarker$"+le;function We(a){delete a[me],delete a[Se],delete a[qe],delete a[ke],delete a[ze]}function Qe(a){var i=a[me];if(i)return i;for(var c=a.parentNode;c;){if(i=c[Le]||c[me]){if(c=i.alternate,i.child!==null||c!==null&&c.child!==null)for(a=Ov(a);a!==null;){if(c=a[me])return c;a=Ov(a)}return i}a=c,c=a.parentNode}return null}function jt(a){if(a=a[me]||a[Le]){var i=a.tag;if(i===5||i===6||i===13||i===26||i===27||i===3)return a}return null}function qt(a){var i=a.tag;if(i===5||i===26||i===27||i===6)return a.stateNode;throw Error(s(33))}function Zt(a){var i=a[Ue];return i||(i=a[Ue]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function St(a){a[Ke]=!0}var bt=new Set,kr={};function Dn(a,i){oa(a,i),oa(a+"Capture",i)}function oa(a,i){for(kr[a]=i,a=0;a<i.length;a++)bt.add(i[a])}var Fn=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Dr={},Mr={};function Hl(a){return Pe.call(Mr,a)?!0:Pe.call(Dr,a)?!1:Fn.test(a)?Mr[a]=!0:(Dr[a]=!0,!1)}function ca(a,i,c){if(Hl(i))if(c===null)a.removeAttribute(i);else{switch(typeof c){case"undefined":case"function":case"symbol":a.removeAttribute(i);return;case"boolean":var u=i.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){a.removeAttribute(i);return}}a.setAttribute(i,""+c)}}function nr(a,i,c){if(c===null)a.removeAttribute(i);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(i);return}a.setAttribute(i,""+c)}}function ot(a,i,c,u){if(u===null)a.removeAttribute(c);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(c);return}a.setAttributeNS(i,c,""+u)}}var _n,Ca;function Ea(a){if(_n===void 0)try{throw Error()}catch(c){var i=c.stack.trim().match(/\n( *(at )?)/);_n=i&&i[1]||"",Ca=-1<c.stack.indexOf(`
    at`)?" (<anonymous>)":-1<c.stack.indexOf("@")?"@unknown:0:0":""}return`
`+_n+a+Ca}var Ts=!1;function Yt(a,i){if(!a||Ts)return"";Ts=!0;var c=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(i){var pe=function(){throw Error()};if(Object.defineProperty(pe.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(pe,[])}catch(oe){var ie=oe}Reflect.construct(a,[],pe)}else{try{pe.call()}catch(oe){ie=oe}a.call(pe.prototype)}}else{try{throw Error()}catch(oe){ie=oe}(pe=a())&&typeof pe.catch=="function"&&pe.catch(function(){})}}catch(oe){if(oe&&ie&&typeof oe.stack=="string")return[oe.stack,ie.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var x=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");x&&x.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var v=u.DetermineComponentFrameRoot(),_=v[0],M=v[1];if(_&&M){var H=_.split(`
`),se=M.split(`
`);for(x=u=0;u<H.length&&!H[u].includes("DetermineComponentFrameRoot");)u++;for(;x<se.length&&!se[x].includes("DetermineComponentFrameRoot");)x++;if(u===H.length||x===se.length)for(u=H.length-1,x=se.length-1;1<=u&&0<=x&&H[u]!==se[x];)x--;for(;1<=u&&0<=x;u--,x--)if(H[u]!==se[x]){if(u!==1||x!==1)do if(u--,x--,0>x||H[u]!==se[x]){var de=`
`+H[u].replace(" at new "," at ");return a.displayName&&de.includes("<anonymous>")&&(de=de.replace("<anonymous>",a.displayName)),de}while(1<=u&&0<=x);break}}}finally{Ts=!1,Error.prepareStackTrace=c}return(c=a?a.displayName||a.name:"")?Ea(c):""}function Or(a){switch(a.tag){case 26:case 27:case 5:return Ea(a.type);case 16:return Ea("Lazy");case 13:return Ea("Suspense");case 19:return Ea("SuspenseList");case 0:case 15:return Yt(a.type,!1);case 11:return Yt(a.type.render,!1);case 1:return Yt(a.type,!0);case 31:return Ea("Activity");default:return""}}function Vl(a){try{var i="";do i+=Or(a),a=a.return;while(a);return i}catch(c){return`
Error generating stack: `+c.message+`
`+c.stack}}function In(a){switch(typeof a){case"bigint":case"boolean":case"number":case"string":case"undefined":return a;case"object":return a;default:return""}}function _x(a){var i=a.type;return(a=a.nodeName)&&a.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function RC(a){var i=_x(a)?"checked":"value",c=Object.getOwnPropertyDescriptor(a.constructor.prototype,i),u=""+a[i];if(!a.hasOwnProperty(i)&&typeof c<"u"&&typeof c.get=="function"&&typeof c.set=="function"){var x=c.get,v=c.set;return Object.defineProperty(a,i,{configurable:!0,get:function(){return x.call(this)},set:function(_){u=""+_,v.call(this,_)}}),Object.defineProperty(a,i,{enumerable:c.enumerable}),{getValue:function(){return u},setValue:function(_){u=""+_},stopTracking:function(){a._valueTracker=null,delete a[i]}}}}function zc(a){a._valueTracker||(a._valueTracker=RC(a))}function Cx(a){if(!a)return!1;var i=a._valueTracker;if(!i)return!0;var c=i.getValue(),u="";return a&&(u=_x(a)?a.checked?"true":"false":a.value),a=u,a!==c?(i.setValue(a),!0):!1}function qc(a){if(a=a||(typeof document<"u"?document:void 0),typeof a>"u")return null;try{return a.activeElement||a.body}catch{return a.body}}var AC=/[\n"\\]/g;function da(a){return a.replace(AC,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function Hf(a,i,c,u,x,v,_,M){a.name="",_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?a.type=_:a.removeAttribute("type"),i!=null?_==="number"?(i===0&&a.value===""||a.value!=i)&&(a.value=""+In(i)):a.value!==""+In(i)&&(a.value=""+In(i)):_!=="submit"&&_!=="reset"||a.removeAttribute("value"),i!=null?Vf(a,_,In(i)):c!=null?Vf(a,_,In(c)):u!=null&&a.removeAttribute("value"),x==null&&v!=null&&(a.defaultChecked=!!v),x!=null&&(a.checked=x&&typeof x!="function"&&typeof x!="symbol"),M!=null&&typeof M!="function"&&typeof M!="symbol"&&typeof M!="boolean"?a.name=""+In(M):a.removeAttribute("name")}function Ex(a,i,c,u,x,v,_,M){if(v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(a.type=v),i!=null||c!=null){if(!(v!=="submit"&&v!=="reset"||i!=null))return;c=c!=null?""+In(c):"",i=i!=null?""+In(i):c,M||i===a.value||(a.value=i),a.defaultValue=i}u=u??x,u=typeof u!="function"&&typeof u!="symbol"&&!!u,a.checked=M?a.checked:!!u,a.defaultChecked=!!u,_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(a.name=_)}function Vf(a,i,c){i==="number"&&qc(a.ownerDocument)===a||a.defaultValue===""+c||(a.defaultValue=""+c)}function yi(a,i,c,u){if(a=a.options,i){i={};for(var x=0;x<c.length;x++)i["$"+c[x]]=!0;for(c=0;c<a.length;c++)x=i.hasOwnProperty("$"+a[c].value),a[c].selected!==x&&(a[c].selected=x),x&&u&&(a[c].defaultSelected=!0)}else{for(c=""+In(c),i=null,x=0;x<a.length;x++){if(a[x].value===c){a[x].selected=!0,u&&(a[x].defaultSelected=!0);return}i!==null||a[x].disabled||(i=a[x])}i!==null&&(i.selected=!0)}}function Rx(a,i,c){if(i!=null&&(i=""+In(i),i!==a.value&&(a.value=i),c==null)){a.defaultValue!==i&&(a.defaultValue=i);return}a.defaultValue=c!=null?""+In(c):""}function Ax(a,i,c,u){if(i==null){if(u!=null){if(c!=null)throw Error(s(92));if(te(u)){if(1<u.length)throw Error(s(93));u=u[0]}c=u}c==null&&(c=""),i=c}c=In(i),a.defaultValue=c,u=a.textContent,u===c&&u!==""&&u!==null&&(a.value=u)}function wi(a,i){if(i){var c=a.firstChild;if(c&&c===a.lastChild&&c.nodeType===3){c.nodeValue=i;return}}a.textContent=i}var PC=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Px(a,i,c){var u=i.indexOf("--")===0;c==null||typeof c=="boolean"||c===""?u?a.setProperty(i,""):i==="float"?a.cssFloat="":a[i]="":u?a.setProperty(i,c):typeof c!="number"||c===0||PC.has(i)?i==="float"?a.cssFloat=c:a[i]=(""+c).trim():a[i]=c+"px"}function Tx(a,i,c){if(i!=null&&typeof i!="object")throw Error(s(62));if(a=a.style,c!=null){for(var u in c)!c.hasOwnProperty(u)||i!=null&&i.hasOwnProperty(u)||(u.indexOf("--")===0?a.setProperty(u,""):u==="float"?a.cssFloat="":a[u]="");for(var x in i)u=i[x],i.hasOwnProperty(x)&&c[x]!==u&&Px(a,x,u)}else for(var v in i)i.hasOwnProperty(v)&&Px(a,v,i[v])}function Gf(a){if(a.indexOf("-")===-1)return!1;switch(a){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var TC=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),kC=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Hc(a){return kC.test(""+a)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":a}var Yf=null;function Kf(a){return a=a.target||a.srcElement||window,a.correspondingUseElement&&(a=a.correspondingUseElement),a.nodeType===3?a.parentNode:a}var ji=null,Si=null;function kx(a){var i=jt(a);if(i&&(a=i.stateNode)){var c=a[Se]||null;e:switch(a=i.stateNode,i.type){case"input":if(Hf(a,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name),i=c.name,c.type==="radio"&&i!=null){for(c=a;c.parentNode;)c=c.parentNode;for(c=c.querySelectorAll('input[name="'+da(""+i)+'"][type="radio"]'),i=0;i<c.length;i++){var u=c[i];if(u!==a&&u.form===a.form){var x=u[Se]||null;if(!x)throw Error(s(90));Hf(u,x.value,x.defaultValue,x.defaultValue,x.checked,x.defaultChecked,x.type,x.name)}}for(i=0;i<c.length;i++)u=c[i],u.form===a.form&&Cx(u)}break e;case"textarea":Rx(a,c.value,c.defaultValue);break e;case"select":i=c.value,i!=null&&yi(a,!!c.multiple,i,!1)}}}var Wf=!1;function Dx(a,i,c){if(Wf)return a(i,c);Wf=!0;try{var u=a(i);return u}finally{if(Wf=!1,(ji!==null||Si!==null)&&(Ad(),ji&&(i=ji,a=Si,Si=ji=null,kx(i),a)))for(i=0;i<a.length;i++)kx(a[i])}}function Gl(a,i){var c=a.stateNode;if(c===null)return null;var u=c[Se]||null;if(u===null)return null;c=u[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(a=a.type,u=!(a==="button"||a==="input"||a==="select"||a==="textarea")),a=!u;break e;default:a=!1}if(a)return null;if(c&&typeof c!="function")throw Error(s(231,i,typeof c));return c}var ar=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Jf=!1;if(ar)try{var Yl={};Object.defineProperty(Yl,"passive",{get:function(){Jf=!0}}),window.addEventListener("test",Yl,Yl),window.removeEventListener("test",Yl,Yl)}catch{Jf=!1}var Lr=null,Zf=null,Vc=null;function Mx(){if(Vc)return Vc;var a,i=Zf,c=i.length,u,x="value"in Lr?Lr.value:Lr.textContent,v=x.length;for(a=0;a<c&&i[a]===x[a];a++);var _=c-a;for(u=1;u<=_&&i[c-u]===x[v-u];u++);return Vc=x.slice(a,1<u?1-u:void 0)}function Gc(a){var i=a.keyCode;return"charCode"in a?(a=a.charCode,a===0&&i===13&&(a=13)):a=i,a===10&&(a=13),32<=a||a===13?a:0}function Yc(){return!0}function Ox(){return!1}function Bn(a){function i(c,u,x,v,_){this._reactName=c,this._targetInst=x,this.type=u,this.nativeEvent=v,this.target=_,this.currentTarget=null;for(var M in a)a.hasOwnProperty(M)&&(c=a[M],this[M]=c?c(v):v[M]);return this.isDefaultPrevented=(v.defaultPrevented!=null?v.defaultPrevented:v.returnValue===!1)?Yc:Ox,this.isPropagationStopped=Ox,this}return g(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var c=this.nativeEvent;c&&(c.preventDefault?c.preventDefault():typeof c.returnValue!="unknown"&&(c.returnValue=!1),this.isDefaultPrevented=Yc)},stopPropagation:function(){var c=this.nativeEvent;c&&(c.stopPropagation?c.stopPropagation():typeof c.cancelBubble!="unknown"&&(c.cancelBubble=!0),this.isPropagationStopped=Yc)},persist:function(){},isPersistent:Yc}),i}var ks={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(a){return a.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Kc=Bn(ks),Kl=g({},ks,{view:0,detail:0}),DC=Bn(Kl),Xf,Qf,Wl,Wc=g({},Kl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:th,button:0,buttons:0,relatedTarget:function(a){return a.relatedTarget===void 0?a.fromElement===a.srcElement?a.toElement:a.fromElement:a.relatedTarget},movementX:function(a){return"movementX"in a?a.movementX:(a!==Wl&&(Wl&&a.type==="mousemove"?(Xf=a.screenX-Wl.screenX,Qf=a.screenY-Wl.screenY):Qf=Xf=0,Wl=a),Xf)},movementY:function(a){return"movementY"in a?a.movementY:Qf}}),Lx=Bn(Wc),MC=g({},Wc,{dataTransfer:0}),OC=Bn(MC),LC=g({},Kl,{relatedTarget:0}),eh=Bn(LC),UC=g({},ks,{animationName:0,elapsedTime:0,pseudoElement:0}),$C=Bn(UC),FC=g({},ks,{clipboardData:function(a){return"clipboardData"in a?a.clipboardData:window.clipboardData}}),IC=Bn(FC),BC=g({},ks,{data:0}),Ux=Bn(BC),zC={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},qC={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},HC={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function VC(a){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(a):(a=HC[a])?!!i[a]:!1}function th(){return VC}var GC=g({},Kl,{key:function(a){if(a.key){var i=zC[a.key]||a.key;if(i!=="Unidentified")return i}return a.type==="keypress"?(a=Gc(a),a===13?"Enter":String.fromCharCode(a)):a.type==="keydown"||a.type==="keyup"?qC[a.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:th,charCode:function(a){return a.type==="keypress"?Gc(a):0},keyCode:function(a){return a.type==="keydown"||a.type==="keyup"?a.keyCode:0},which:function(a){return a.type==="keypress"?Gc(a):a.type==="keydown"||a.type==="keyup"?a.keyCode:0}}),YC=Bn(GC),KC=g({},Wc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),$x=Bn(KC),WC=g({},Kl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:th}),JC=Bn(WC),ZC=g({},ks,{propertyName:0,elapsedTime:0,pseudoElement:0}),XC=Bn(ZC),QC=g({},Wc,{deltaX:function(a){return"deltaX"in a?a.deltaX:"wheelDeltaX"in a?-a.wheelDeltaX:0},deltaY:function(a){return"deltaY"in a?a.deltaY:"wheelDeltaY"in a?-a.wheelDeltaY:"wheelDelta"in a?-a.wheelDelta:0},deltaZ:0,deltaMode:0}),e3=Bn(QC),t3=g({},ks,{newState:0,oldState:0}),n3=Bn(t3),a3=[9,13,27,32],nh=ar&&"CompositionEvent"in window,Jl=null;ar&&"documentMode"in document&&(Jl=document.documentMode);var r3=ar&&"TextEvent"in window&&!Jl,Fx=ar&&(!nh||Jl&&8<Jl&&11>=Jl),Ix=" ",Bx=!1;function zx(a,i){switch(a){case"keyup":return a3.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function qx(a){return a=a.detail,typeof a=="object"&&"data"in a?a.data:null}var Ni=!1;function s3(a,i){switch(a){case"compositionend":return qx(i);case"keypress":return i.which!==32?null:(Bx=!0,Ix);case"textInput":return a=i.data,a===Ix&&Bx?null:a;default:return null}}function i3(a,i){if(Ni)return a==="compositionend"||!nh&&zx(a,i)?(a=Mx(),Vc=Zf=Lr=null,Ni=!1,a):null;switch(a){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return Fx&&i.locale!=="ko"?null:i.data;default:return null}}var l3={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Hx(a){var i=a&&a.nodeName&&a.nodeName.toLowerCase();return i==="input"?!!l3[a.type]:i==="textarea"}function Vx(a,i,c,u){ji?Si?Si.push(u):Si=[u]:ji=u,i=Od(i,"onChange"),0<i.length&&(c=new Kc("onChange","change",null,c,u),a.push({event:c,listeners:i}))}var Zl=null,Xl=null;function o3(a){_v(a,0)}function Jc(a){var i=qt(a);if(Cx(i))return a}function Gx(a,i){if(a==="change")return i}var Yx=!1;if(ar){var ah;if(ar){var rh="oninput"in document;if(!rh){var Kx=document.createElement("div");Kx.setAttribute("oninput","return;"),rh=typeof Kx.oninput=="function"}ah=rh}else ah=!1;Yx=ah&&(!document.documentMode||9<document.documentMode)}function Wx(){Zl&&(Zl.detachEvent("onpropertychange",Jx),Xl=Zl=null)}function Jx(a){if(a.propertyName==="value"&&Jc(Xl)){var i=[];Vx(i,Xl,a,Kf(a)),Dx(o3,i)}}function c3(a,i,c){a==="focusin"?(Wx(),Zl=i,Xl=c,Zl.attachEvent("onpropertychange",Jx)):a==="focusout"&&Wx()}function d3(a){if(a==="selectionchange"||a==="keyup"||a==="keydown")return Jc(Xl)}function u3(a,i){if(a==="click")return Jc(i)}function f3(a,i){if(a==="input"||a==="change")return Jc(i)}function h3(a,i){return a===i&&(a!==0||1/a===1/i)||a!==a&&i!==i}var Wn=typeof Object.is=="function"?Object.is:h3;function Ql(a,i){if(Wn(a,i))return!0;if(typeof a!="object"||a===null||typeof i!="object"||i===null)return!1;var c=Object.keys(a),u=Object.keys(i);if(c.length!==u.length)return!1;for(u=0;u<c.length;u++){var x=c[u];if(!Pe.call(i,x)||!Wn(a[x],i[x]))return!1}return!0}function Zx(a){for(;a&&a.firstChild;)a=a.firstChild;return a}function Xx(a,i){var c=Zx(a);a=0;for(var u;c;){if(c.nodeType===3){if(u=a+c.textContent.length,a<=i&&u>=i)return{node:c,offset:i-a};a=u}e:{for(;c;){if(c.nextSibling){c=c.nextSibling;break e}c=c.parentNode}c=void 0}c=Zx(c)}}function Qx(a,i){return a&&i?a===i?!0:a&&a.nodeType===3?!1:i&&i.nodeType===3?Qx(a,i.parentNode):"contains"in a?a.contains(i):a.compareDocumentPosition?!!(a.compareDocumentPosition(i)&16):!1:!1}function e0(a){a=a!=null&&a.ownerDocument!=null&&a.ownerDocument.defaultView!=null?a.ownerDocument.defaultView:window;for(var i=qc(a.document);i instanceof a.HTMLIFrameElement;){try{var c=typeof i.contentWindow.location.href=="string"}catch{c=!1}if(c)a=i.contentWindow;else break;i=qc(a.document)}return i}function sh(a){var i=a&&a.nodeName&&a.nodeName.toLowerCase();return i&&(i==="input"&&(a.type==="text"||a.type==="search"||a.type==="tel"||a.type==="url"||a.type==="password")||i==="textarea"||a.contentEditable==="true")}var m3=ar&&"documentMode"in document&&11>=document.documentMode,_i=null,ih=null,eo=null,lh=!1;function t0(a,i,c){var u=c.window===c?c.document:c.nodeType===9?c:c.ownerDocument;lh||_i==null||_i!==qc(u)||(u=_i,"selectionStart"in u&&sh(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),eo&&Ql(eo,u)||(eo=u,u=Od(ih,"onSelect"),0<u.length&&(i=new Kc("onSelect","select",null,i,c),a.push({event:i,listeners:u}),i.target=_i)))}function Ds(a,i){var c={};return c[a.toLowerCase()]=i.toLowerCase(),c["Webkit"+a]="webkit"+i,c["Moz"+a]="moz"+i,c}var Ci={animationend:Ds("Animation","AnimationEnd"),animationiteration:Ds("Animation","AnimationIteration"),animationstart:Ds("Animation","AnimationStart"),transitionrun:Ds("Transition","TransitionRun"),transitionstart:Ds("Transition","TransitionStart"),transitioncancel:Ds("Transition","TransitionCancel"),transitionend:Ds("Transition","TransitionEnd")},oh={},n0={};ar&&(n0=document.createElement("div").style,"AnimationEvent"in window||(delete Ci.animationend.animation,delete Ci.animationiteration.animation,delete Ci.animationstart.animation),"TransitionEvent"in window||delete Ci.transitionend.transition);function Ms(a){if(oh[a])return oh[a];if(!Ci[a])return a;var i=Ci[a],c;for(c in i)if(i.hasOwnProperty(c)&&c in n0)return oh[a]=i[c];return a}var a0=Ms("animationend"),r0=Ms("animationiteration"),s0=Ms("animationstart"),p3=Ms("transitionrun"),g3=Ms("transitionstart"),x3=Ms("transitioncancel"),i0=Ms("transitionend"),l0=new Map,ch="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");ch.push("scrollEnd");function Ra(a,i){l0.set(a,i),Dn(i,[a])}var o0=new WeakMap;function ua(a,i){if(typeof a=="object"&&a!==null){var c=o0.get(a);return c!==void 0?c:(i={value:a,source:i,stack:Vl(i)},o0.set(a,i),i)}return{value:a,source:i,stack:Vl(i)}}var fa=[],Ei=0,dh=0;function Zc(){for(var a=Ei,i=dh=Ei=0;i<a;){var c=fa[i];fa[i++]=null;var u=fa[i];fa[i++]=null;var x=fa[i];fa[i++]=null;var v=fa[i];if(fa[i++]=null,u!==null&&x!==null){var _=u.pending;_===null?x.next=x:(x.next=_.next,_.next=x),u.pending=x}v!==0&&c0(c,x,v)}}function Xc(a,i,c,u){fa[Ei++]=a,fa[Ei++]=i,fa[Ei++]=c,fa[Ei++]=u,dh|=u,a.lanes|=u,a=a.alternate,a!==null&&(a.lanes|=u)}function uh(a,i,c,u){return Xc(a,i,c,u),Qc(a)}function Ri(a,i){return Xc(a,null,null,i),Qc(a)}function c0(a,i,c){a.lanes|=c;var u=a.alternate;u!==null&&(u.lanes|=c);for(var x=!1,v=a.return;v!==null;)v.childLanes|=c,u=v.alternate,u!==null&&(u.childLanes|=c),v.tag===22&&(a=v.stateNode,a===null||a._visibility&1||(x=!0)),a=v,v=v.return;return a.tag===3?(v=a.stateNode,x&&i!==null&&(x=31-ut(c),a=v.hiddenUpdates,u=a[x],u===null?a[x]=[i]:u.push(i),i.lane=c|536870912),v):null}function Qc(a){if(50<Co)throw Co=0,xm=null,Error(s(185));for(var i=a.return;i!==null;)a=i,i=a.return;return a.tag===3?a.stateNode:null}var Ai={};function b3(a,i,c,u){this.tag=a,this.key=c,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Jn(a,i,c,u){return new b3(a,i,c,u)}function fh(a){return a=a.prototype,!(!a||!a.isReactComponent)}function rr(a,i){var c=a.alternate;return c===null?(c=Jn(a.tag,i,a.key,a.mode),c.elementType=a.elementType,c.type=a.type,c.stateNode=a.stateNode,c.alternate=a,a.alternate=c):(c.pendingProps=i,c.type=a.type,c.flags=0,c.subtreeFlags=0,c.deletions=null),c.flags=a.flags&65011712,c.childLanes=a.childLanes,c.lanes=a.lanes,c.child=a.child,c.memoizedProps=a.memoizedProps,c.memoizedState=a.memoizedState,c.updateQueue=a.updateQueue,i=a.dependencies,c.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},c.sibling=a.sibling,c.index=a.index,c.ref=a.ref,c.refCleanup=a.refCleanup,c}function d0(a,i){a.flags&=65011714;var c=a.alternate;return c===null?(a.childLanes=0,a.lanes=i,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=c.childLanes,a.lanes=c.lanes,a.child=c.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=c.memoizedProps,a.memoizedState=c.memoizedState,a.updateQueue=c.updateQueue,a.type=c.type,i=c.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),a}function ed(a,i,c,u,x,v){var _=0;if(u=a,typeof a=="function")fh(a)&&(_=1);else if(typeof a=="string")_=yE(a,c,ne.current)?26:a==="html"||a==="head"||a==="body"?27:5;else e:switch(a){case O:return a=Jn(31,c,i,x),a.elementType=O,a.lanes=v,a;case j:return Os(c.children,x,v,i);case S:_=8,x|=24;break;case E:return a=Jn(12,c,i,x|2),a.elementType=E,a.lanes=v,a;case T:return a=Jn(13,c,i,x),a.elementType=T,a.lanes=v,a;case C:return a=Jn(19,c,i,x),a.elementType=C,a.lanes=v,a;default:if(typeof a=="object"&&a!==null)switch(a.$$typeof){case R:case N:_=10;break e;case A:_=9;break e;case P:_=11;break e;case k:_=14;break e;case $:_=16,u=null;break e}_=29,c=Error(s(130,a===null?"null":typeof a,"")),u=null}return i=Jn(_,c,i,x),i.elementType=a,i.type=u,i.lanes=v,i}function Os(a,i,c,u){return a=Jn(7,a,u,i),a.lanes=c,a}function hh(a,i,c){return a=Jn(6,a,null,i),a.lanes=c,a}function mh(a,i,c){return i=Jn(4,a.children!==null?a.children:[],a.key,i),i.lanes=c,i.stateNode={containerInfo:a.containerInfo,pendingChildren:null,implementation:a.implementation},i}var Pi=[],Ti=0,td=null,nd=0,ha=[],ma=0,Ls=null,sr=1,ir="";function Us(a,i){Pi[Ti++]=nd,Pi[Ti++]=td,td=a,nd=i}function u0(a,i,c){ha[ma++]=sr,ha[ma++]=ir,ha[ma++]=Ls,Ls=a;var u=sr;a=ir;var x=32-ut(u)-1;u&=~(1<<x),c+=1;var v=32-ut(i)+x;if(30<v){var _=x-x%5;v=(u&(1<<_)-1).toString(32),u>>=_,x-=_,sr=1<<32-ut(i)+x|c<<x|u,ir=v+a}else sr=1<<v|c<<x|u,ir=a}function ph(a){a.return!==null&&(Us(a,1),u0(a,1,0))}function gh(a){for(;a===td;)td=Pi[--Ti],Pi[Ti]=null,nd=Pi[--Ti],Pi[Ti]=null;for(;a===Ls;)Ls=ha[--ma],ha[ma]=null,ir=ha[--ma],ha[ma]=null,sr=ha[--ma],ha[ma]=null}var Mn=null,Qt=null,Ct=!1,$s=null,za=!1,xh=Error(s(519));function Fs(a){var i=Error(s(418,""));throw ao(ua(i,a)),xh}function f0(a){var i=a.stateNode,c=a.type,u=a.memoizedProps;switch(i[me]=a,i[Se]=u,c){case"dialog":ht("cancel",i),ht("close",i);break;case"iframe":case"object":case"embed":ht("load",i);break;case"video":case"audio":for(c=0;c<Ro.length;c++)ht(Ro[c],i);break;case"source":ht("error",i);break;case"img":case"image":case"link":ht("error",i),ht("load",i);break;case"details":ht("toggle",i);break;case"input":ht("invalid",i),Ex(i,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0),zc(i);break;case"select":ht("invalid",i);break;case"textarea":ht("invalid",i),Ax(i,u.value,u.defaultValue,u.children),zc(i)}c=u.children,typeof c!="string"&&typeof c!="number"&&typeof c!="bigint"||i.textContent===""+c||u.suppressHydrationWarning===!0||Av(i.textContent,c)?(u.popover!=null&&(ht("beforetoggle",i),ht("toggle",i)),u.onScroll!=null&&ht("scroll",i),u.onScrollEnd!=null&&ht("scrollend",i),u.onClick!=null&&(i.onclick=Ld),i=!0):i=!1,i||Fs(a)}function h0(a){for(Mn=a.return;Mn;)switch(Mn.tag){case 5:case 13:za=!1;return;case 27:case 3:za=!0;return;default:Mn=Mn.return}}function to(a){if(a!==Mn)return!1;if(!Ct)return h0(a),Ct=!0,!1;var i=a.tag,c;if((c=i!==3&&i!==27)&&((c=i===5)&&(c=a.type,c=!(c!=="form"&&c!=="button")||Dm(a.type,a.memoizedProps)),c=!c),c&&Qt&&Fs(a),h0(a),i===13){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(s(317));e:{for(a=a.nextSibling,i=0;a;){if(a.nodeType===8)if(c=a.data,c==="/$"){if(i===0){Qt=Pa(a.nextSibling);break e}i--}else c!=="$"&&c!=="$!"&&c!=="$?"||i++;a=a.nextSibling}Qt=null}}else i===27?(i=Qt,Xr(a.type)?(a=Um,Um=null,Qt=a):Qt=i):Qt=Mn?Pa(a.stateNode.nextSibling):null;return!0}function no(){Qt=Mn=null,Ct=!1}function m0(){var a=$s;return a!==null&&(Hn===null?Hn=a:Hn.push.apply(Hn,a),$s=null),a}function ao(a){$s===null?$s=[a]:$s.push(a)}var bh=z(null),Is=null,lr=null;function Ur(a,i,c){Q(bh,i._currentValue),i._currentValue=c}function or(a){a._currentValue=bh.current,ae(bh)}function vh(a,i,c){for(;a!==null;){var u=a.alternate;if((a.childLanes&i)!==i?(a.childLanes|=i,u!==null&&(u.childLanes|=i)):u!==null&&(u.childLanes&i)!==i&&(u.childLanes|=i),a===c)break;a=a.return}}function yh(a,i,c,u){var x=a.child;for(x!==null&&(x.return=a);x!==null;){var v=x.dependencies;if(v!==null){var _=x.child;v=v.firstContext;e:for(;v!==null;){var M=v;v=x;for(var H=0;H<i.length;H++)if(M.context===i[H]){v.lanes|=c,M=v.alternate,M!==null&&(M.lanes|=c),vh(v.return,c,a),u||(_=null);break e}v=M.next}}else if(x.tag===18){if(_=x.return,_===null)throw Error(s(341));_.lanes|=c,v=_.alternate,v!==null&&(v.lanes|=c),vh(_,c,a),_=null}else _=x.child;if(_!==null)_.return=x;else for(_=x;_!==null;){if(_===a){_=null;break}if(x=_.sibling,x!==null){x.return=_.return,_=x;break}_=_.return}x=_}}function ro(a,i,c,u){a=null;for(var x=i,v=!1;x!==null;){if(!v){if((x.flags&524288)!==0)v=!0;else if((x.flags&262144)!==0)break}if(x.tag===10){var _=x.alternate;if(_===null)throw Error(s(387));if(_=_.memoizedProps,_!==null){var M=x.type;Wn(x.pendingProps.value,_.value)||(a!==null?a.push(M):a=[M])}}else if(x===we.current){if(_=x.alternate,_===null)throw Error(s(387));_.memoizedState.memoizedState!==x.memoizedState.memoizedState&&(a!==null?a.push(Mo):a=[Mo])}x=x.return}a!==null&&yh(i,a,c,u),i.flags|=262144}function ad(a){for(a=a.firstContext;a!==null;){if(!Wn(a.context._currentValue,a.memoizedValue))return!0;a=a.next}return!1}function Bs(a){Is=a,lr=null,a=a.dependencies,a!==null&&(a.firstContext=null)}function Cn(a){return p0(Is,a)}function rd(a,i){return Is===null&&Bs(a),p0(a,i)}function p0(a,i){var c=i._currentValue;if(i={context:i,memoizedValue:c,next:null},lr===null){if(a===null)throw Error(s(308));lr=i,a.dependencies={lanes:0,firstContext:i},a.flags|=524288}else lr=lr.next=i;return c}var v3=typeof AbortController<"u"?AbortController:function(){var a=[],i=this.signal={aborted:!1,addEventListener:function(c,u){a.push(u)}};this.abort=function(){i.aborted=!0,a.forEach(function(c){return c()})}},y3=e.unstable_scheduleCallback,w3=e.unstable_NormalPriority,cn={$$typeof:N,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function wh(){return{controller:new v3,data:new Map,refCount:0}}function so(a){a.refCount--,a.refCount===0&&y3(w3,function(){a.controller.abort()})}var io=null,jh=0,ki=0,Di=null;function j3(a,i){if(io===null){var c=io=[];jh=0,ki=Nm(),Di={status:"pending",value:void 0,then:function(u){c.push(u)}}}return jh++,i.then(g0,g0),i}function g0(){if(--jh===0&&io!==null){Di!==null&&(Di.status="fulfilled");var a=io;io=null,ki=0,Di=null;for(var i=0;i<a.length;i++)(0,a[i])()}}function S3(a,i){var c=[],u={status:"pending",value:null,reason:null,then:function(x){c.push(x)}};return a.then(function(){u.status="fulfilled",u.value=i;for(var x=0;x<c.length;x++)(0,c[x])(i)},function(x){for(u.status="rejected",u.reason=x,x=0;x<c.length;x++)(0,c[x])(void 0)}),u}var x0=U.S;U.S=function(a,i){typeof i=="object"&&i!==null&&typeof i.then=="function"&&j3(a,i),x0!==null&&x0(a,i)};var zs=z(null);function Sh(){var a=zs.current;return a!==null?a:It.pooledCache}function sd(a,i){i===null?Q(zs,zs.current):Q(zs,i.pool)}function b0(){var a=Sh();return a===null?null:{parent:cn._currentValue,pool:a}}var lo=Error(s(460)),v0=Error(s(474)),id=Error(s(542)),Nh={then:function(){}};function y0(a){return a=a.status,a==="fulfilled"||a==="rejected"}function ld(){}function w0(a,i,c){switch(c=a[c],c===void 0?a.push(i):c!==i&&(i.then(ld,ld),i=c),i.status){case"fulfilled":return i.value;case"rejected":throw a=i.reason,S0(a),a;default:if(typeof i.status=="string")i.then(ld,ld);else{if(a=It,a!==null&&100<a.shellSuspendCounter)throw Error(s(482));a=i,a.status="pending",a.then(function(u){if(i.status==="pending"){var x=i;x.status="fulfilled",x.value=u}},function(u){if(i.status==="pending"){var x=i;x.status="rejected",x.reason=u}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw a=i.reason,S0(a),a}throw oo=i,lo}}var oo=null;function j0(){if(oo===null)throw Error(s(459));var a=oo;return oo=null,a}function S0(a){if(a===lo||a===id)throw Error(s(483))}var $r=!1;function _h(a){a.updateQueue={baseState:a.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Ch(a,i){a=a.updateQueue,i.updateQueue===a&&(i.updateQueue={baseState:a.baseState,firstBaseUpdate:a.firstBaseUpdate,lastBaseUpdate:a.lastBaseUpdate,shared:a.shared,callbacks:null})}function Fr(a){return{lane:a,tag:0,payload:null,callback:null,next:null}}function Ir(a,i,c){var u=a.updateQueue;if(u===null)return null;if(u=u.shared,(kt&2)!==0){var x=u.pending;return x===null?i.next=i:(i.next=x.next,x.next=i),u.pending=i,i=Qc(a),c0(a,null,c),i}return Xc(a,u,i,c),Qc(a)}function co(a,i,c){if(i=i.updateQueue,i!==null&&(i=i.shared,(c&4194048)!==0)){var u=i.lanes;u&=a.pendingLanes,c|=u,i.lanes=c,Ba(a,c)}}function Eh(a,i){var c=a.updateQueue,u=a.alternate;if(u!==null&&(u=u.updateQueue,c===u)){var x=null,v=null;if(c=c.firstBaseUpdate,c!==null){do{var _={lane:c.lane,tag:c.tag,payload:c.payload,callback:null,next:null};v===null?x=v=_:v=v.next=_,c=c.next}while(c!==null);v===null?x=v=i:v=v.next=i}else x=v=i;c={baseState:u.baseState,firstBaseUpdate:x,lastBaseUpdate:v,shared:u.shared,callbacks:u.callbacks},a.updateQueue=c;return}a=c.lastBaseUpdate,a===null?c.firstBaseUpdate=i:a.next=i,c.lastBaseUpdate=i}var Rh=!1;function uo(){if(Rh){var a=Di;if(a!==null)throw a}}function fo(a,i,c,u){Rh=!1;var x=a.updateQueue;$r=!1;var v=x.firstBaseUpdate,_=x.lastBaseUpdate,M=x.shared.pending;if(M!==null){x.shared.pending=null;var H=M,se=H.next;H.next=null,_===null?v=se:_.next=se,_=H;var de=a.alternate;de!==null&&(de=de.updateQueue,M=de.lastBaseUpdate,M!==_&&(M===null?de.firstBaseUpdate=se:M.next=se,de.lastBaseUpdate=H))}if(v!==null){var pe=x.baseState;_=0,de=se=H=null,M=v;do{var ie=M.lane&-536870913,oe=ie!==M.lane;if(oe?(yt&ie)===ie:(u&ie)===ie){ie!==0&&ie===ki&&(Rh=!0),de!==null&&(de=de.next={lane:0,tag:M.tag,payload:M.payload,callback:null,next:null});e:{var Je=a,He=M;ie=i;var Lt=c;switch(He.tag){case 1:if(Je=He.payload,typeof Je=="function"){pe=Je.call(Lt,pe,ie);break e}pe=Je;break e;case 3:Je.flags=Je.flags&-65537|128;case 0:if(Je=He.payload,ie=typeof Je=="function"?Je.call(Lt,pe,ie):Je,ie==null)break e;pe=g({},pe,ie);break e;case 2:$r=!0}}ie=M.callback,ie!==null&&(a.flags|=64,oe&&(a.flags|=8192),oe=x.callbacks,oe===null?x.callbacks=[ie]:oe.push(ie))}else oe={lane:ie,tag:M.tag,payload:M.payload,callback:M.callback,next:null},de===null?(se=de=oe,H=pe):de=de.next=oe,_|=ie;if(M=M.next,M===null){if(M=x.shared.pending,M===null)break;oe=M,M=oe.next,oe.next=null,x.lastBaseUpdate=oe,x.shared.pending=null}}while(!0);de===null&&(H=pe),x.baseState=H,x.firstBaseUpdate=se,x.lastBaseUpdate=de,v===null&&(x.shared.lanes=0),Kr|=_,a.lanes=_,a.memoizedState=pe}}function N0(a,i){if(typeof a!="function")throw Error(s(191,a));a.call(i)}function _0(a,i){var c=a.callbacks;if(c!==null)for(a.callbacks=null,a=0;a<c.length;a++)N0(c[a],i)}var Mi=z(null),od=z(0);function C0(a,i){a=pr,Q(od,a),Q(Mi,i),pr=a|i.baseLanes}function Ah(){Q(od,pr),Q(Mi,Mi.current)}function Ph(){pr=od.current,ae(Mi),ae(od)}var Br=0,lt=null,Mt=null,rn=null,cd=!1,Oi=!1,qs=!1,dd=0,ho=0,Li=null,N3=0;function tn(){throw Error(s(321))}function Th(a,i){if(i===null)return!1;for(var c=0;c<i.length&&c<a.length;c++)if(!Wn(a[c],i[c]))return!1;return!0}function kh(a,i,c,u,x,v){return Br=v,lt=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,U.H=a===null||a.memoizedState===null?cb:db,qs=!1,v=c(u,x),qs=!1,Oi&&(v=R0(i,c,u,x)),E0(a),v}function E0(a){U.H=gd;var i=Mt!==null&&Mt.next!==null;if(Br=0,rn=Mt=lt=null,cd=!1,ho=0,Li=null,i)throw Error(s(300));a===null||fn||(a=a.dependencies,a!==null&&ad(a)&&(fn=!0))}function R0(a,i,c,u){lt=a;var x=0;do{if(Oi&&(Li=null),ho=0,Oi=!1,25<=x)throw Error(s(301));if(x+=1,rn=Mt=null,a.updateQueue!=null){var v=a.updateQueue;v.lastEffect=null,v.events=null,v.stores=null,v.memoCache!=null&&(v.memoCache.index=0)}U.H=T3,v=i(c,u)}while(Oi);return v}function _3(){var a=U.H,i=a.useState()[0];return i=typeof i.then=="function"?mo(i):i,a=a.useState()[0],(Mt!==null?Mt.memoizedState:null)!==a&&(lt.flags|=1024),i}function Dh(){var a=dd!==0;return dd=0,a}function Mh(a,i,c){i.updateQueue=a.updateQueue,i.flags&=-2053,a.lanes&=~c}function Oh(a){if(cd){for(a=a.memoizedState;a!==null;){var i=a.queue;i!==null&&(i.pending=null),a=a.next}cd=!1}Br=0,rn=Mt=lt=null,Oi=!1,ho=dd=0,Li=null}function zn(){var a={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return rn===null?lt.memoizedState=rn=a:rn=rn.next=a,rn}function sn(){if(Mt===null){var a=lt.alternate;a=a!==null?a.memoizedState:null}else a=Mt.next;var i=rn===null?lt.memoizedState:rn.next;if(i!==null)rn=i,Mt=a;else{if(a===null)throw lt.alternate===null?Error(s(467)):Error(s(310));Mt=a,a={memoizedState:Mt.memoizedState,baseState:Mt.baseState,baseQueue:Mt.baseQueue,queue:Mt.queue,next:null},rn===null?lt.memoizedState=rn=a:rn=rn.next=a}return rn}function Lh(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function mo(a){var i=ho;return ho+=1,Li===null&&(Li=[]),a=w0(Li,a,i),i=lt,(rn===null?i.memoizedState:rn.next)===null&&(i=i.alternate,U.H=i===null||i.memoizedState===null?cb:db),a}function ud(a){if(a!==null&&typeof a=="object"){if(typeof a.then=="function")return mo(a);if(a.$$typeof===N)return Cn(a)}throw Error(s(438,String(a)))}function Uh(a){var i=null,c=lt.updateQueue;if(c!==null&&(i=c.memoCache),i==null){var u=lt.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(i={data:u.data.map(function(x){return x.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),c===null&&(c=Lh(),lt.updateQueue=c),c.memoCache=i,c=i.data[i.index],c===void 0)for(c=i.data[i.index]=Array(a),u=0;u<a;u++)c[u]=V;return i.index++,c}function cr(a,i){return typeof i=="function"?i(a):i}function fd(a){var i=sn();return $h(i,Mt,a)}function $h(a,i,c){var u=a.queue;if(u===null)throw Error(s(311));u.lastRenderedReducer=c;var x=a.baseQueue,v=u.pending;if(v!==null){if(x!==null){var _=x.next;x.next=v.next,v.next=_}i.baseQueue=x=v,u.pending=null}if(v=a.baseState,x===null)a.memoizedState=v;else{i=x.next;var M=_=null,H=null,se=i,de=!1;do{var pe=se.lane&-536870913;if(pe!==se.lane?(yt&pe)===pe:(Br&pe)===pe){var ie=se.revertLane;if(ie===0)H!==null&&(H=H.next={lane:0,revertLane:0,action:se.action,hasEagerState:se.hasEagerState,eagerState:se.eagerState,next:null}),pe===ki&&(de=!0);else if((Br&ie)===ie){se=se.next,ie===ki&&(de=!0);continue}else pe={lane:0,revertLane:se.revertLane,action:se.action,hasEagerState:se.hasEagerState,eagerState:se.eagerState,next:null},H===null?(M=H=pe,_=v):H=H.next=pe,lt.lanes|=ie,Kr|=ie;pe=se.action,qs&&c(v,pe),v=se.hasEagerState?se.eagerState:c(v,pe)}else ie={lane:pe,revertLane:se.revertLane,action:se.action,hasEagerState:se.hasEagerState,eagerState:se.eagerState,next:null},H===null?(M=H=ie,_=v):H=H.next=ie,lt.lanes|=pe,Kr|=pe;se=se.next}while(se!==null&&se!==i);if(H===null?_=v:H.next=M,!Wn(v,a.memoizedState)&&(fn=!0,de&&(c=Di,c!==null)))throw c;a.memoizedState=v,a.baseState=_,a.baseQueue=H,u.lastRenderedState=v}return x===null&&(u.lanes=0),[a.memoizedState,u.dispatch]}function Fh(a){var i=sn(),c=i.queue;if(c===null)throw Error(s(311));c.lastRenderedReducer=a;var u=c.dispatch,x=c.pending,v=i.memoizedState;if(x!==null){c.pending=null;var _=x=x.next;do v=a(v,_.action),_=_.next;while(_!==x);Wn(v,i.memoizedState)||(fn=!0),i.memoizedState=v,i.baseQueue===null&&(i.baseState=v),c.lastRenderedState=v}return[v,u]}function A0(a,i,c){var u=lt,x=sn(),v=Ct;if(v){if(c===void 0)throw Error(s(407));c=c()}else c=i();var _=!Wn((Mt||x).memoizedState,c);_&&(x.memoizedState=c,fn=!0),x=x.queue;var M=k0.bind(null,u,x,a);if(po(2048,8,M,[a]),x.getSnapshot!==i||_||rn!==null&&rn.memoizedState.tag&1){if(u.flags|=2048,Ui(9,hd(),T0.bind(null,u,x,c,i),null),It===null)throw Error(s(349));v||(Br&124)!==0||P0(u,i,c)}return c}function P0(a,i,c){a.flags|=16384,a={getSnapshot:i,value:c},i=lt.updateQueue,i===null?(i=Lh(),lt.updateQueue=i,i.stores=[a]):(c=i.stores,c===null?i.stores=[a]:c.push(a))}function T0(a,i,c,u){i.value=c,i.getSnapshot=u,D0(i)&&M0(a)}function k0(a,i,c){return c(function(){D0(i)&&M0(a)})}function D0(a){var i=a.getSnapshot;a=a.value;try{var c=i();return!Wn(a,c)}catch{return!0}}function M0(a){var i=Ri(a,2);i!==null&&ta(i,a,2)}function Ih(a){var i=zn();if(typeof a=="function"){var c=a;if(a=c(),qs){Ve(!0);try{c()}finally{Ve(!1)}}}return i.memoizedState=i.baseState=a,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:cr,lastRenderedState:a},i}function O0(a,i,c,u){return a.baseState=c,$h(a,Mt,typeof u=="function"?u:cr)}function C3(a,i,c,u,x){if(pd(a))throw Error(s(485));if(a=i.action,a!==null){var v={payload:x,action:a,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(_){v.listeners.push(_)}};U.T!==null?c(!0):v.isTransition=!1,u(v),c=i.pending,c===null?(v.next=i.pending=v,L0(i,v)):(v.next=c.next,i.pending=c.next=v)}}function L0(a,i){var c=i.action,u=i.payload,x=a.state;if(i.isTransition){var v=U.T,_={};U.T=_;try{var M=c(x,u),H=U.S;H!==null&&H(_,M),U0(a,i,M)}catch(se){Bh(a,i,se)}finally{U.T=v}}else try{v=c(x,u),U0(a,i,v)}catch(se){Bh(a,i,se)}}function U0(a,i,c){c!==null&&typeof c=="object"&&typeof c.then=="function"?c.then(function(u){$0(a,i,u)},function(u){return Bh(a,i,u)}):$0(a,i,c)}function $0(a,i,c){i.status="fulfilled",i.value=c,F0(i),a.state=c,i=a.pending,i!==null&&(c=i.next,c===i?a.pending=null:(c=c.next,i.next=c,L0(a,c)))}function Bh(a,i,c){var u=a.pending;if(a.pending=null,u!==null){u=u.next;do i.status="rejected",i.reason=c,F0(i),i=i.next;while(i!==u)}a.action=null}function F0(a){a=a.listeners;for(var i=0;i<a.length;i++)(0,a[i])()}function I0(a,i){return i}function B0(a,i){if(Ct){var c=It.formState;if(c!==null){e:{var u=lt;if(Ct){if(Qt){t:{for(var x=Qt,v=za;x.nodeType!==8;){if(!v){x=null;break t}if(x=Pa(x.nextSibling),x===null){x=null;break t}}v=x.data,x=v==="F!"||v==="F"?x:null}if(x){Qt=Pa(x.nextSibling),u=x.data==="F!";break e}}Fs(u)}u=!1}u&&(i=c[0])}}return c=zn(),c.memoizedState=c.baseState=i,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:I0,lastRenderedState:i},c.queue=u,c=ib.bind(null,lt,u),u.dispatch=c,u=Ih(!1),v=Gh.bind(null,lt,!1,u.queue),u=zn(),x={state:i,dispatch:null,action:a,pending:null},u.queue=x,c=C3.bind(null,lt,x,v,c),x.dispatch=c,u.memoizedState=a,[i,c,!1]}function z0(a){var i=sn();return q0(i,Mt,a)}function q0(a,i,c){if(i=$h(a,i,I0)[0],a=fd(cr)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var u=mo(i)}catch(_){throw _===lo?id:_}else u=i;i=sn();var x=i.queue,v=x.dispatch;return c!==i.memoizedState&&(lt.flags|=2048,Ui(9,hd(),E3.bind(null,x,c),null)),[u,v,a]}function E3(a,i){a.action=i}function H0(a){var i=sn(),c=Mt;if(c!==null)return q0(i,c,a);sn(),i=i.memoizedState,c=sn();var u=c.queue.dispatch;return c.memoizedState=a,[i,u,!1]}function Ui(a,i,c,u){return a={tag:a,create:c,deps:u,inst:i,next:null},i=lt.updateQueue,i===null&&(i=Lh(),lt.updateQueue=i),c=i.lastEffect,c===null?i.lastEffect=a.next=a:(u=c.next,c.next=a,a.next=u,i.lastEffect=a),a}function hd(){return{destroy:void 0,resource:void 0}}function V0(){return sn().memoizedState}function md(a,i,c,u){var x=zn();u=u===void 0?null:u,lt.flags|=a,x.memoizedState=Ui(1|i,hd(),c,u)}function po(a,i,c,u){var x=sn();u=u===void 0?null:u;var v=x.memoizedState.inst;Mt!==null&&u!==null&&Th(u,Mt.memoizedState.deps)?x.memoizedState=Ui(i,v,c,u):(lt.flags|=a,x.memoizedState=Ui(1|i,v,c,u))}function G0(a,i){md(8390656,8,a,i)}function Y0(a,i){po(2048,8,a,i)}function K0(a,i){return po(4,2,a,i)}function W0(a,i){return po(4,4,a,i)}function J0(a,i){if(typeof i=="function"){a=a();var c=i(a);return function(){typeof c=="function"?c():i(null)}}if(i!=null)return a=a(),i.current=a,function(){i.current=null}}function Z0(a,i,c){c=c!=null?c.concat([a]):null,po(4,4,J0.bind(null,i,a),c)}function zh(){}function X0(a,i){var c=sn();i=i===void 0?null:i;var u=c.memoizedState;return i!==null&&Th(i,u[1])?u[0]:(c.memoizedState=[a,i],a)}function Q0(a,i){var c=sn();i=i===void 0?null:i;var u=c.memoizedState;if(i!==null&&Th(i,u[1]))return u[0];if(u=a(),qs){Ve(!0);try{a()}finally{Ve(!1)}}return c.memoizedState=[u,i],u}function qh(a,i,c){return c===void 0||(Br&1073741824)!==0?a.memoizedState=i:(a.memoizedState=c,a=nv(),lt.lanes|=a,Kr|=a,c)}function eb(a,i,c,u){return Wn(c,i)?c:Mi.current!==null?(a=qh(a,c,u),Wn(a,i)||(fn=!0),a):(Br&42)===0?(fn=!0,a.memoizedState=c):(a=nv(),lt.lanes|=a,Kr|=a,i)}function tb(a,i,c,u,x){var v=q.p;q.p=v!==0&&8>v?v:8;var _=U.T,M={};U.T=M,Gh(a,!1,i,c);try{var H=x(),se=U.S;if(se!==null&&se(M,H),H!==null&&typeof H=="object"&&typeof H.then=="function"){var de=S3(H,u);go(a,i,de,ea(a))}else go(a,i,u,ea(a))}catch(pe){go(a,i,{then:function(){},status:"rejected",reason:pe},ea())}finally{q.p=v,U.T=_}}function R3(){}function Hh(a,i,c,u){if(a.tag!==5)throw Error(s(476));var x=nb(a).queue;tb(a,x,i,G,c===null?R3:function(){return ab(a),c(u)})}function nb(a){var i=a.memoizedState;if(i!==null)return i;i={memoizedState:G,baseState:G,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:cr,lastRenderedState:G},next:null};var c={};return i.next={memoizedState:c,baseState:c,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:cr,lastRenderedState:c},next:null},a.memoizedState=i,a=a.alternate,a!==null&&(a.memoizedState=i),i}function ab(a){var i=nb(a).next.queue;go(a,i,{},ea())}function Vh(){return Cn(Mo)}function rb(){return sn().memoizedState}function sb(){return sn().memoizedState}function A3(a){for(var i=a.return;i!==null;){switch(i.tag){case 24:case 3:var c=ea();a=Fr(c);var u=Ir(i,a,c);u!==null&&(ta(u,i,c),co(u,i,c)),i={cache:wh()},a.payload=i;return}i=i.return}}function P3(a,i,c){var u=ea();c={lane:u,revertLane:0,action:c,hasEagerState:!1,eagerState:null,next:null},pd(a)?lb(i,c):(c=uh(a,i,c,u),c!==null&&(ta(c,a,u),ob(c,i,u)))}function ib(a,i,c){var u=ea();go(a,i,c,u)}function go(a,i,c,u){var x={lane:u,revertLane:0,action:c,hasEagerState:!1,eagerState:null,next:null};if(pd(a))lb(i,x);else{var v=a.alternate;if(a.lanes===0&&(v===null||v.lanes===0)&&(v=i.lastRenderedReducer,v!==null))try{var _=i.lastRenderedState,M=v(_,c);if(x.hasEagerState=!0,x.eagerState=M,Wn(M,_))return Xc(a,i,x,0),It===null&&Zc(),!1}catch{}finally{}if(c=uh(a,i,x,u),c!==null)return ta(c,a,u),ob(c,i,u),!0}return!1}function Gh(a,i,c,u){if(u={lane:2,revertLane:Nm(),action:u,hasEagerState:!1,eagerState:null,next:null},pd(a)){if(i)throw Error(s(479))}else i=uh(a,c,u,2),i!==null&&ta(i,a,2)}function pd(a){var i=a.alternate;return a===lt||i!==null&&i===lt}function lb(a,i){Oi=cd=!0;var c=a.pending;c===null?i.next=i:(i.next=c.next,c.next=i),a.pending=i}function ob(a,i,c){if((c&4194048)!==0){var u=i.lanes;u&=a.pendingLanes,c|=u,i.lanes=c,Ba(a,c)}}var gd={readContext:Cn,use:ud,useCallback:tn,useContext:tn,useEffect:tn,useImperativeHandle:tn,useLayoutEffect:tn,useInsertionEffect:tn,useMemo:tn,useReducer:tn,useRef:tn,useState:tn,useDebugValue:tn,useDeferredValue:tn,useTransition:tn,useSyncExternalStore:tn,useId:tn,useHostTransitionStatus:tn,useFormState:tn,useActionState:tn,useOptimistic:tn,useMemoCache:tn,useCacheRefresh:tn},cb={readContext:Cn,use:ud,useCallback:function(a,i){return zn().memoizedState=[a,i===void 0?null:i],a},useContext:Cn,useEffect:G0,useImperativeHandle:function(a,i,c){c=c!=null?c.concat([a]):null,md(4194308,4,J0.bind(null,i,a),c)},useLayoutEffect:function(a,i){return md(4194308,4,a,i)},useInsertionEffect:function(a,i){md(4,2,a,i)},useMemo:function(a,i){var c=zn();i=i===void 0?null:i;var u=a();if(qs){Ve(!0);try{a()}finally{Ve(!1)}}return c.memoizedState=[u,i],u},useReducer:function(a,i,c){var u=zn();if(c!==void 0){var x=c(i);if(qs){Ve(!0);try{c(i)}finally{Ve(!1)}}}else x=i;return u.memoizedState=u.baseState=x,a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:a,lastRenderedState:x},u.queue=a,a=a.dispatch=P3.bind(null,lt,a),[u.memoizedState,a]},useRef:function(a){var i=zn();return a={current:a},i.memoizedState=a},useState:function(a){a=Ih(a);var i=a.queue,c=ib.bind(null,lt,i);return i.dispatch=c,[a.memoizedState,c]},useDebugValue:zh,useDeferredValue:function(a,i){var c=zn();return qh(c,a,i)},useTransition:function(){var a=Ih(!1);return a=tb.bind(null,lt,a.queue,!0,!1),zn().memoizedState=a,[!1,a]},useSyncExternalStore:function(a,i,c){var u=lt,x=zn();if(Ct){if(c===void 0)throw Error(s(407));c=c()}else{if(c=i(),It===null)throw Error(s(349));(yt&124)!==0||P0(u,i,c)}x.memoizedState=c;var v={value:c,getSnapshot:i};return x.queue=v,G0(k0.bind(null,u,v,a),[a]),u.flags|=2048,Ui(9,hd(),T0.bind(null,u,v,c,i),null),c},useId:function(){var a=zn(),i=It.identifierPrefix;if(Ct){var c=ir,u=sr;c=(u&~(1<<32-ut(u)-1)).toString(32)+c,i=""+i+"R"+c,c=dd++,0<c&&(i+="H"+c.toString(32)),i+=""}else c=N3++,i=""+i+"r"+c.toString(32)+"";return a.memoizedState=i},useHostTransitionStatus:Vh,useFormState:B0,useActionState:B0,useOptimistic:function(a){var i=zn();i.memoizedState=i.baseState=a;var c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=c,i=Gh.bind(null,lt,!0,c),c.dispatch=i,[a,i]},useMemoCache:Uh,useCacheRefresh:function(){return zn().memoizedState=A3.bind(null,lt)}},db={readContext:Cn,use:ud,useCallback:X0,useContext:Cn,useEffect:Y0,useImperativeHandle:Z0,useInsertionEffect:K0,useLayoutEffect:W0,useMemo:Q0,useReducer:fd,useRef:V0,useState:function(){return fd(cr)},useDebugValue:zh,useDeferredValue:function(a,i){var c=sn();return eb(c,Mt.memoizedState,a,i)},useTransition:function(){var a=fd(cr)[0],i=sn().memoizedState;return[typeof a=="boolean"?a:mo(a),i]},useSyncExternalStore:A0,useId:rb,useHostTransitionStatus:Vh,useFormState:z0,useActionState:z0,useOptimistic:function(a,i){var c=sn();return O0(c,Mt,a,i)},useMemoCache:Uh,useCacheRefresh:sb},T3={readContext:Cn,use:ud,useCallback:X0,useContext:Cn,useEffect:Y0,useImperativeHandle:Z0,useInsertionEffect:K0,useLayoutEffect:W0,useMemo:Q0,useReducer:Fh,useRef:V0,useState:function(){return Fh(cr)},useDebugValue:zh,useDeferredValue:function(a,i){var c=sn();return Mt===null?qh(c,a,i):eb(c,Mt.memoizedState,a,i)},useTransition:function(){var a=Fh(cr)[0],i=sn().memoizedState;return[typeof a=="boolean"?a:mo(a),i]},useSyncExternalStore:A0,useId:rb,useHostTransitionStatus:Vh,useFormState:H0,useActionState:H0,useOptimistic:function(a,i){var c=sn();return Mt!==null?O0(c,Mt,a,i):(c.baseState=a,[a,c.queue.dispatch])},useMemoCache:Uh,useCacheRefresh:sb},$i=null,xo=0;function xd(a){var i=xo;return xo+=1,$i===null&&($i=[]),w0($i,a,i)}function bo(a,i){i=i.props.ref,a.ref=i!==void 0?i:null}function bd(a,i){throw i.$$typeof===b?Error(s(525)):(a=Object.prototype.toString.call(i),Error(s(31,a==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":a)))}function ub(a){var i=a._init;return i(a._payload)}function fb(a){function i(X,K){if(a){var re=X.deletions;re===null?(X.deletions=[K],X.flags|=16):re.push(K)}}function c(X,K){if(!a)return null;for(;K!==null;)i(X,K),K=K.sibling;return null}function u(X){for(var K=new Map;X!==null;)X.key!==null?K.set(X.key,X):K.set(X.index,X),X=X.sibling;return K}function x(X,K){return X=rr(X,K),X.index=0,X.sibling=null,X}function v(X,K,re){return X.index=re,a?(re=X.alternate,re!==null?(re=re.index,re<K?(X.flags|=67108866,K):re):(X.flags|=67108866,K)):(X.flags|=1048576,K)}function _(X){return a&&X.alternate===null&&(X.flags|=67108866),X}function M(X,K,re,fe){return K===null||K.tag!==6?(K=hh(re,X.mode,fe),K.return=X,K):(K=x(K,re),K.return=X,K)}function H(X,K,re,fe){var Me=re.type;return Me===j?de(X,K,re.props.children,fe,re.key):K!==null&&(K.elementType===Me||typeof Me=="object"&&Me!==null&&Me.$$typeof===$&&ub(Me)===K.type)?(K=x(K,re.props),bo(K,re),K.return=X,K):(K=ed(re.type,re.key,re.props,null,X.mode,fe),bo(K,re),K.return=X,K)}function se(X,K,re,fe){return K===null||K.tag!==4||K.stateNode.containerInfo!==re.containerInfo||K.stateNode.implementation!==re.implementation?(K=mh(re,X.mode,fe),K.return=X,K):(K=x(K,re.children||[]),K.return=X,K)}function de(X,K,re,fe,Me){return K===null||K.tag!==7?(K=Os(re,X.mode,fe,Me),K.return=X,K):(K=x(K,re),K.return=X,K)}function pe(X,K,re){if(typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint")return K=hh(""+K,X.mode,re),K.return=X,K;if(typeof K=="object"&&K!==null){switch(K.$$typeof){case y:return re=ed(K.type,K.key,K.props,null,X.mode,re),bo(re,K),re.return=X,re;case w:return K=mh(K,X.mode,re),K.return=X,K;case $:var fe=K._init;return K=fe(K._payload),pe(X,K,re)}if(te(K)||L(K))return K=Os(K,X.mode,re,null),K.return=X,K;if(typeof K.then=="function")return pe(X,xd(K),re);if(K.$$typeof===N)return pe(X,rd(X,K),re);bd(X,K)}return null}function ie(X,K,re,fe){var Me=K!==null?K.key:null;if(typeof re=="string"&&re!==""||typeof re=="number"||typeof re=="bigint")return Me!==null?null:M(X,K,""+re,fe);if(typeof re=="object"&&re!==null){switch(re.$$typeof){case y:return re.key===Me?H(X,K,re,fe):null;case w:return re.key===Me?se(X,K,re,fe):null;case $:return Me=re._init,re=Me(re._payload),ie(X,K,re,fe)}if(te(re)||L(re))return Me!==null?null:de(X,K,re,fe,null);if(typeof re.then=="function")return ie(X,K,xd(re),fe);if(re.$$typeof===N)return ie(X,K,rd(X,re),fe);bd(X,re)}return null}function oe(X,K,re,fe,Me){if(typeof fe=="string"&&fe!==""||typeof fe=="number"||typeof fe=="bigint")return X=X.get(re)||null,M(K,X,""+fe,Me);if(typeof fe=="object"&&fe!==null){switch(fe.$$typeof){case y:return X=X.get(fe.key===null?re:fe.key)||null,H(K,X,fe,Me);case w:return X=X.get(fe.key===null?re:fe.key)||null,se(K,X,fe,Me);case $:var ct=fe._init;return fe=ct(fe._payload),oe(X,K,re,fe,Me)}if(te(fe)||L(fe))return X=X.get(re)||null,de(K,X,fe,Me,null);if(typeof fe.then=="function")return oe(X,K,re,xd(fe),Me);if(fe.$$typeof===N)return oe(X,K,re,rd(K,fe),Me);bd(K,fe)}return null}function Je(X,K,re,fe){for(var Me=null,ct=null,Ie=K,Ge=K=0,mn=null;Ie!==null&&Ge<re.length;Ge++){Ie.index>Ge?(mn=Ie,Ie=null):mn=Ie.sibling;var Nt=ie(X,Ie,re[Ge],fe);if(Nt===null){Ie===null&&(Ie=mn);break}a&&Ie&&Nt.alternate===null&&i(X,Ie),K=v(Nt,K,Ge),ct===null?Me=Nt:ct.sibling=Nt,ct=Nt,Ie=mn}if(Ge===re.length)return c(X,Ie),Ct&&Us(X,Ge),Me;if(Ie===null){for(;Ge<re.length;Ge++)Ie=pe(X,re[Ge],fe),Ie!==null&&(K=v(Ie,K,Ge),ct===null?Me=Ie:ct.sibling=Ie,ct=Ie);return Ct&&Us(X,Ge),Me}for(Ie=u(Ie);Ge<re.length;Ge++)mn=oe(Ie,X,Ge,re[Ge],fe),mn!==null&&(a&&mn.alternate!==null&&Ie.delete(mn.key===null?Ge:mn.key),K=v(mn,K,Ge),ct===null?Me=mn:ct.sibling=mn,ct=mn);return a&&Ie.forEach(function(as){return i(X,as)}),Ct&&Us(X,Ge),Me}function He(X,K,re,fe){if(re==null)throw Error(s(151));for(var Me=null,ct=null,Ie=K,Ge=K=0,mn=null,Nt=re.next();Ie!==null&&!Nt.done;Ge++,Nt=re.next()){Ie.index>Ge?(mn=Ie,Ie=null):mn=Ie.sibling;var as=ie(X,Ie,Nt.value,fe);if(as===null){Ie===null&&(Ie=mn);break}a&&Ie&&as.alternate===null&&i(X,Ie),K=v(as,K,Ge),ct===null?Me=as:ct.sibling=as,ct=as,Ie=mn}if(Nt.done)return c(X,Ie),Ct&&Us(X,Ge),Me;if(Ie===null){for(;!Nt.done;Ge++,Nt=re.next())Nt=pe(X,Nt.value,fe),Nt!==null&&(K=v(Nt,K,Ge),ct===null?Me=Nt:ct.sibling=Nt,ct=Nt);return Ct&&Us(X,Ge),Me}for(Ie=u(Ie);!Nt.done;Ge++,Nt=re.next())Nt=oe(Ie,X,Ge,Nt.value,fe),Nt!==null&&(a&&Nt.alternate!==null&&Ie.delete(Nt.key===null?Ge:Nt.key),K=v(Nt,K,Ge),ct===null?Me=Nt:ct.sibling=Nt,ct=Nt);return a&&Ie.forEach(function(kE){return i(X,kE)}),Ct&&Us(X,Ge),Me}function Lt(X,K,re,fe){if(typeof re=="object"&&re!==null&&re.type===j&&re.key===null&&(re=re.props.children),typeof re=="object"&&re!==null){switch(re.$$typeof){case y:e:{for(var Me=re.key;K!==null;){if(K.key===Me){if(Me=re.type,Me===j){if(K.tag===7){c(X,K.sibling),fe=x(K,re.props.children),fe.return=X,X=fe;break e}}else if(K.elementType===Me||typeof Me=="object"&&Me!==null&&Me.$$typeof===$&&ub(Me)===K.type){c(X,K.sibling),fe=x(K,re.props),bo(fe,re),fe.return=X,X=fe;break e}c(X,K);break}else i(X,K);K=K.sibling}re.type===j?(fe=Os(re.props.children,X.mode,fe,re.key),fe.return=X,X=fe):(fe=ed(re.type,re.key,re.props,null,X.mode,fe),bo(fe,re),fe.return=X,X=fe)}return _(X);case w:e:{for(Me=re.key;K!==null;){if(K.key===Me)if(K.tag===4&&K.stateNode.containerInfo===re.containerInfo&&K.stateNode.implementation===re.implementation){c(X,K.sibling),fe=x(K,re.children||[]),fe.return=X,X=fe;break e}else{c(X,K);break}else i(X,K);K=K.sibling}fe=mh(re,X.mode,fe),fe.return=X,X=fe}return _(X);case $:return Me=re._init,re=Me(re._payload),Lt(X,K,re,fe)}if(te(re))return Je(X,K,re,fe);if(L(re)){if(Me=L(re),typeof Me!="function")throw Error(s(150));return re=Me.call(re),He(X,K,re,fe)}if(typeof re.then=="function")return Lt(X,K,xd(re),fe);if(re.$$typeof===N)return Lt(X,K,rd(X,re),fe);bd(X,re)}return typeof re=="string"&&re!==""||typeof re=="number"||typeof re=="bigint"?(re=""+re,K!==null&&K.tag===6?(c(X,K.sibling),fe=x(K,re),fe.return=X,X=fe):(c(X,K),fe=hh(re,X.mode,fe),fe.return=X,X=fe),_(X)):c(X,K)}return function(X,K,re,fe){try{xo=0;var Me=Lt(X,K,re,fe);return $i=null,Me}catch(Ie){if(Ie===lo||Ie===id)throw Ie;var ct=Jn(29,Ie,null,X.mode);return ct.lanes=fe,ct.return=X,ct}finally{}}}var Fi=fb(!0),hb=fb(!1),pa=z(null),qa=null;function zr(a){var i=a.alternate;Q(dn,dn.current&1),Q(pa,a),qa===null&&(i===null||Mi.current!==null||i.memoizedState!==null)&&(qa=a)}function mb(a){if(a.tag===22){if(Q(dn,dn.current),Q(pa,a),qa===null){var i=a.alternate;i!==null&&i.memoizedState!==null&&(qa=a)}}else qr()}function qr(){Q(dn,dn.current),Q(pa,pa.current)}function dr(a){ae(pa),qa===a&&(qa=null),ae(dn)}var dn=z(0);function vd(a){for(var i=a;i!==null;){if(i.tag===13){var c=i.memoizedState;if(c!==null&&(c=c.dehydrated,c===null||c.data==="$?"||Lm(c)))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===a)break;for(;i.sibling===null;){if(i.return===null||i.return===a)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}function Yh(a,i,c,u){i=a.memoizedState,c=c(u,i),c=c==null?i:g({},i,c),a.memoizedState=c,a.lanes===0&&(a.updateQueue.baseState=c)}var Kh={enqueueSetState:function(a,i,c){a=a._reactInternals;var u=ea(),x=Fr(u);x.payload=i,c!=null&&(x.callback=c),i=Ir(a,x,u),i!==null&&(ta(i,a,u),co(i,a,u))},enqueueReplaceState:function(a,i,c){a=a._reactInternals;var u=ea(),x=Fr(u);x.tag=1,x.payload=i,c!=null&&(x.callback=c),i=Ir(a,x,u),i!==null&&(ta(i,a,u),co(i,a,u))},enqueueForceUpdate:function(a,i){a=a._reactInternals;var c=ea(),u=Fr(c);u.tag=2,i!=null&&(u.callback=i),i=Ir(a,u,c),i!==null&&(ta(i,a,c),co(i,a,c))}};function pb(a,i,c,u,x,v,_){return a=a.stateNode,typeof a.shouldComponentUpdate=="function"?a.shouldComponentUpdate(u,v,_):i.prototype&&i.prototype.isPureReactComponent?!Ql(c,u)||!Ql(x,v):!0}function gb(a,i,c,u){a=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(c,u),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(c,u),i.state!==a&&Kh.enqueueReplaceState(i,i.state,null)}function Hs(a,i){var c=i;if("ref"in i){c={};for(var u in i)u!=="ref"&&(c[u]=i[u])}if(a=a.defaultProps){c===i&&(c=g({},c));for(var x in a)c[x]===void 0&&(c[x]=a[x])}return c}var yd=typeof reportError=="function"?reportError:function(a){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof a=="object"&&a!==null&&typeof a.message=="string"?String(a.message):String(a),error:a});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",a);return}console.error(a)};function xb(a){yd(a)}function bb(a){console.error(a)}function vb(a){yd(a)}function wd(a,i){try{var c=a.onUncaughtError;c(i.value,{componentStack:i.stack})}catch(u){setTimeout(function(){throw u})}}function yb(a,i,c){try{var u=a.onCaughtError;u(c.value,{componentStack:c.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(x){setTimeout(function(){throw x})}}function Wh(a,i,c){return c=Fr(c),c.tag=3,c.payload={element:null},c.callback=function(){wd(a,i)},c}function wb(a){return a=Fr(a),a.tag=3,a}function jb(a,i,c,u){var x=c.type.getDerivedStateFromError;if(typeof x=="function"){var v=u.value;a.payload=function(){return x(v)},a.callback=function(){yb(i,c,u)}}var _=c.stateNode;_!==null&&typeof _.componentDidCatch=="function"&&(a.callback=function(){yb(i,c,u),typeof x!="function"&&(Wr===null?Wr=new Set([this]):Wr.add(this));var M=u.stack;this.componentDidCatch(u.value,{componentStack:M!==null?M:""})})}function k3(a,i,c,u,x){if(c.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(i=c.alternate,i!==null&&ro(i,c,x,!0),c=pa.current,c!==null){switch(c.tag){case 13:return qa===null?vm():c.alternate===null&&en===0&&(en=3),c.flags&=-257,c.flags|=65536,c.lanes=x,u===Nh?c.flags|=16384:(i=c.updateQueue,i===null?c.updateQueue=new Set([u]):i.add(u),wm(a,u,x)),!1;case 22:return c.flags|=65536,u===Nh?c.flags|=16384:(i=c.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([u])},c.updateQueue=i):(c=i.retryQueue,c===null?i.retryQueue=new Set([u]):c.add(u)),wm(a,u,x)),!1}throw Error(s(435,c.tag))}return wm(a,u,x),vm(),!1}if(Ct)return i=pa.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=x,u!==xh&&(a=Error(s(422),{cause:u}),ao(ua(a,c)))):(u!==xh&&(i=Error(s(423),{cause:u}),ao(ua(i,c))),a=a.current.alternate,a.flags|=65536,x&=-x,a.lanes|=x,u=ua(u,c),x=Wh(a.stateNode,u,x),Eh(a,x),en!==4&&(en=2)),!1;var v=Error(s(520),{cause:u});if(v=ua(v,c),_o===null?_o=[v]:_o.push(v),en!==4&&(en=2),i===null)return!0;u=ua(u,c),c=i;do{switch(c.tag){case 3:return c.flags|=65536,a=x&-x,c.lanes|=a,a=Wh(c.stateNode,u,a),Eh(c,a),!1;case 1:if(i=c.type,v=c.stateNode,(c.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||v!==null&&typeof v.componentDidCatch=="function"&&(Wr===null||!Wr.has(v))))return c.flags|=65536,x&=-x,c.lanes|=x,x=wb(x),jb(x,a,c,u),Eh(c,x),!1}c=c.return}while(c!==null);return!1}var Sb=Error(s(461)),fn=!1;function wn(a,i,c,u){i.child=a===null?hb(i,null,c,u):Fi(i,a.child,c,u)}function Nb(a,i,c,u,x){c=c.render;var v=i.ref;if("ref"in u){var _={};for(var M in u)M!=="ref"&&(_[M]=u[M])}else _=u;return Bs(i),u=kh(a,i,c,_,v,x),M=Dh(),a!==null&&!fn?(Mh(a,i,x),ur(a,i,x)):(Ct&&M&&ph(i),i.flags|=1,wn(a,i,u,x),i.child)}function _b(a,i,c,u,x){if(a===null){var v=c.type;return typeof v=="function"&&!fh(v)&&v.defaultProps===void 0&&c.compare===null?(i.tag=15,i.type=v,Cb(a,i,v,u,x)):(a=ed(c.type,null,u,i,i.mode,x),a.ref=i.ref,a.return=i,i.child=a)}if(v=a.child,!am(a,x)){var _=v.memoizedProps;if(c=c.compare,c=c!==null?c:Ql,c(_,u)&&a.ref===i.ref)return ur(a,i,x)}return i.flags|=1,a=rr(v,u),a.ref=i.ref,a.return=i,i.child=a}function Cb(a,i,c,u,x){if(a!==null){var v=a.memoizedProps;if(Ql(v,u)&&a.ref===i.ref)if(fn=!1,i.pendingProps=u=v,am(a,x))(a.flags&131072)!==0&&(fn=!0);else return i.lanes=a.lanes,ur(a,i,x)}return Jh(a,i,c,u,x)}function Eb(a,i,c){var u=i.pendingProps,x=u.children,v=a!==null?a.memoizedState:null;if(u.mode==="hidden"){if((i.flags&128)!==0){if(u=v!==null?v.baseLanes|c:c,a!==null){for(x=i.child=a.child,v=0;x!==null;)v=v|x.lanes|x.childLanes,x=x.sibling;i.childLanes=v&~u}else i.childLanes=0,i.child=null;return Rb(a,i,u,c)}if((c&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},a!==null&&sd(i,v!==null?v.cachePool:null),v!==null?C0(i,v):Ah(),mb(i);else return i.lanes=i.childLanes=536870912,Rb(a,i,v!==null?v.baseLanes|c:c,c)}else v!==null?(sd(i,v.cachePool),C0(i,v),qr(),i.memoizedState=null):(a!==null&&sd(i,null),Ah(),qr());return wn(a,i,x,c),i.child}function Rb(a,i,c,u){var x=Sh();return x=x===null?null:{parent:cn._currentValue,pool:x},i.memoizedState={baseLanes:c,cachePool:x},a!==null&&sd(i,null),Ah(),mb(i),a!==null&&ro(a,i,u,!0),null}function jd(a,i){var c=i.ref;if(c===null)a!==null&&a.ref!==null&&(i.flags|=4194816);else{if(typeof c!="function"&&typeof c!="object")throw Error(s(284));(a===null||a.ref!==c)&&(i.flags|=4194816)}}function Jh(a,i,c,u,x){return Bs(i),c=kh(a,i,c,u,void 0,x),u=Dh(),a!==null&&!fn?(Mh(a,i,x),ur(a,i,x)):(Ct&&u&&ph(i),i.flags|=1,wn(a,i,c,x),i.child)}function Ab(a,i,c,u,x,v){return Bs(i),i.updateQueue=null,c=R0(i,u,c,x),E0(a),u=Dh(),a!==null&&!fn?(Mh(a,i,v),ur(a,i,v)):(Ct&&u&&ph(i),i.flags|=1,wn(a,i,c,v),i.child)}function Pb(a,i,c,u,x){if(Bs(i),i.stateNode===null){var v=Ai,_=c.contextType;typeof _=="object"&&_!==null&&(v=Cn(_)),v=new c(u,v),i.memoizedState=v.state!==null&&v.state!==void 0?v.state:null,v.updater=Kh,i.stateNode=v,v._reactInternals=i,v=i.stateNode,v.props=u,v.state=i.memoizedState,v.refs={},_h(i),_=c.contextType,v.context=typeof _=="object"&&_!==null?Cn(_):Ai,v.state=i.memoizedState,_=c.getDerivedStateFromProps,typeof _=="function"&&(Yh(i,c,_,u),v.state=i.memoizedState),typeof c.getDerivedStateFromProps=="function"||typeof v.getSnapshotBeforeUpdate=="function"||typeof v.UNSAFE_componentWillMount!="function"&&typeof v.componentWillMount!="function"||(_=v.state,typeof v.componentWillMount=="function"&&v.componentWillMount(),typeof v.UNSAFE_componentWillMount=="function"&&v.UNSAFE_componentWillMount(),_!==v.state&&Kh.enqueueReplaceState(v,v.state,null),fo(i,u,v,x),uo(),v.state=i.memoizedState),typeof v.componentDidMount=="function"&&(i.flags|=4194308),u=!0}else if(a===null){v=i.stateNode;var M=i.memoizedProps,H=Hs(c,M);v.props=H;var se=v.context,de=c.contextType;_=Ai,typeof de=="object"&&de!==null&&(_=Cn(de));var pe=c.getDerivedStateFromProps;de=typeof pe=="function"||typeof v.getSnapshotBeforeUpdate=="function",M=i.pendingProps!==M,de||typeof v.UNSAFE_componentWillReceiveProps!="function"&&typeof v.componentWillReceiveProps!="function"||(M||se!==_)&&gb(i,v,u,_),$r=!1;var ie=i.memoizedState;v.state=ie,fo(i,u,v,x),uo(),se=i.memoizedState,M||ie!==se||$r?(typeof pe=="function"&&(Yh(i,c,pe,u),se=i.memoizedState),(H=$r||pb(i,c,H,u,ie,se,_))?(de||typeof v.UNSAFE_componentWillMount!="function"&&typeof v.componentWillMount!="function"||(typeof v.componentWillMount=="function"&&v.componentWillMount(),typeof v.UNSAFE_componentWillMount=="function"&&v.UNSAFE_componentWillMount()),typeof v.componentDidMount=="function"&&(i.flags|=4194308)):(typeof v.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=u,i.memoizedState=se),v.props=u,v.state=se,v.context=_,u=H):(typeof v.componentDidMount=="function"&&(i.flags|=4194308),u=!1)}else{v=i.stateNode,Ch(a,i),_=i.memoizedProps,de=Hs(c,_),v.props=de,pe=i.pendingProps,ie=v.context,se=c.contextType,H=Ai,typeof se=="object"&&se!==null&&(H=Cn(se)),M=c.getDerivedStateFromProps,(se=typeof M=="function"||typeof v.getSnapshotBeforeUpdate=="function")||typeof v.UNSAFE_componentWillReceiveProps!="function"&&typeof v.componentWillReceiveProps!="function"||(_!==pe||ie!==H)&&gb(i,v,u,H),$r=!1,ie=i.memoizedState,v.state=ie,fo(i,u,v,x),uo();var oe=i.memoizedState;_!==pe||ie!==oe||$r||a!==null&&a.dependencies!==null&&ad(a.dependencies)?(typeof M=="function"&&(Yh(i,c,M,u),oe=i.memoizedState),(de=$r||pb(i,c,de,u,ie,oe,H)||a!==null&&a.dependencies!==null&&ad(a.dependencies))?(se||typeof v.UNSAFE_componentWillUpdate!="function"&&typeof v.componentWillUpdate!="function"||(typeof v.componentWillUpdate=="function"&&v.componentWillUpdate(u,oe,H),typeof v.UNSAFE_componentWillUpdate=="function"&&v.UNSAFE_componentWillUpdate(u,oe,H)),typeof v.componentDidUpdate=="function"&&(i.flags|=4),typeof v.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof v.componentDidUpdate!="function"||_===a.memoizedProps&&ie===a.memoizedState||(i.flags|=4),typeof v.getSnapshotBeforeUpdate!="function"||_===a.memoizedProps&&ie===a.memoizedState||(i.flags|=1024),i.memoizedProps=u,i.memoizedState=oe),v.props=u,v.state=oe,v.context=H,u=de):(typeof v.componentDidUpdate!="function"||_===a.memoizedProps&&ie===a.memoizedState||(i.flags|=4),typeof v.getSnapshotBeforeUpdate!="function"||_===a.memoizedProps&&ie===a.memoizedState||(i.flags|=1024),u=!1)}return v=u,jd(a,i),u=(i.flags&128)!==0,v||u?(v=i.stateNode,c=u&&typeof c.getDerivedStateFromError!="function"?null:v.render(),i.flags|=1,a!==null&&u?(i.child=Fi(i,a.child,null,x),i.child=Fi(i,null,c,x)):wn(a,i,c,x),i.memoizedState=v.state,a=i.child):a=ur(a,i,x),a}function Tb(a,i,c,u){return no(),i.flags|=256,wn(a,i,c,u),i.child}var Zh={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Xh(a){return{baseLanes:a,cachePool:b0()}}function Qh(a,i,c){return a=a!==null?a.childLanes&~c:0,i&&(a|=ga),a}function kb(a,i,c){var u=i.pendingProps,x=!1,v=(i.flags&128)!==0,_;if((_=v)||(_=a!==null&&a.memoizedState===null?!1:(dn.current&2)!==0),_&&(x=!0,i.flags&=-129),_=(i.flags&32)!==0,i.flags&=-33,a===null){if(Ct){if(x?zr(i):qr(),Ct){var M=Qt,H;if(H=M){e:{for(H=M,M=za;H.nodeType!==8;){if(!M){M=null;break e}if(H=Pa(H.nextSibling),H===null){M=null;break e}}M=H}M!==null?(i.memoizedState={dehydrated:M,treeContext:Ls!==null?{id:sr,overflow:ir}:null,retryLane:536870912,hydrationErrors:null},H=Jn(18,null,null,0),H.stateNode=M,H.return=i,i.child=H,Mn=i,Qt=null,H=!0):H=!1}H||Fs(i)}if(M=i.memoizedState,M!==null&&(M=M.dehydrated,M!==null))return Lm(M)?i.lanes=32:i.lanes=536870912,null;dr(i)}return M=u.children,u=u.fallback,x?(qr(),x=i.mode,M=Sd({mode:"hidden",children:M},x),u=Os(u,x,c,null),M.return=i,u.return=i,M.sibling=u,i.child=M,x=i.child,x.memoizedState=Xh(c),x.childLanes=Qh(a,_,c),i.memoizedState=Zh,u):(zr(i),em(i,M))}if(H=a.memoizedState,H!==null&&(M=H.dehydrated,M!==null)){if(v)i.flags&256?(zr(i),i.flags&=-257,i=tm(a,i,c)):i.memoizedState!==null?(qr(),i.child=a.child,i.flags|=128,i=null):(qr(),x=u.fallback,M=i.mode,u=Sd({mode:"visible",children:u.children},M),x=Os(x,M,c,null),x.flags|=2,u.return=i,x.return=i,u.sibling=x,i.child=u,Fi(i,a.child,null,c),u=i.child,u.memoizedState=Xh(c),u.childLanes=Qh(a,_,c),i.memoizedState=Zh,i=x);else if(zr(i),Lm(M)){if(_=M.nextSibling&&M.nextSibling.dataset,_)var se=_.dgst;_=se,u=Error(s(419)),u.stack="",u.digest=_,ao({value:u,source:null,stack:null}),i=tm(a,i,c)}else if(fn||ro(a,i,c,!1),_=(c&a.childLanes)!==0,fn||_){if(_=It,_!==null&&(u=c&-c,u=(u&42)!==0?1:As(u),u=(u&(_.suspendedLanes|c))!==0?0:u,u!==0&&u!==H.retryLane))throw H.retryLane=u,Ri(a,u),ta(_,a,u),Sb;M.data==="$?"||vm(),i=tm(a,i,c)}else M.data==="$?"?(i.flags|=192,i.child=a.child,i=null):(a=H.treeContext,Qt=Pa(M.nextSibling),Mn=i,Ct=!0,$s=null,za=!1,a!==null&&(ha[ma++]=sr,ha[ma++]=ir,ha[ma++]=Ls,sr=a.id,ir=a.overflow,Ls=i),i=em(i,u.children),i.flags|=4096);return i}return x?(qr(),x=u.fallback,M=i.mode,H=a.child,se=H.sibling,u=rr(H,{mode:"hidden",children:u.children}),u.subtreeFlags=H.subtreeFlags&65011712,se!==null?x=rr(se,x):(x=Os(x,M,c,null),x.flags|=2),x.return=i,u.return=i,u.sibling=x,i.child=u,u=x,x=i.child,M=a.child.memoizedState,M===null?M=Xh(c):(H=M.cachePool,H!==null?(se=cn._currentValue,H=H.parent!==se?{parent:se,pool:se}:H):H=b0(),M={baseLanes:M.baseLanes|c,cachePool:H}),x.memoizedState=M,x.childLanes=Qh(a,_,c),i.memoizedState=Zh,u):(zr(i),c=a.child,a=c.sibling,c=rr(c,{mode:"visible",children:u.children}),c.return=i,c.sibling=null,a!==null&&(_=i.deletions,_===null?(i.deletions=[a],i.flags|=16):_.push(a)),i.child=c,i.memoizedState=null,c)}function em(a,i){return i=Sd({mode:"visible",children:i},a.mode),i.return=a,a.child=i}function Sd(a,i){return a=Jn(22,a,null,i),a.lanes=0,a.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},a}function tm(a,i,c){return Fi(i,a.child,null,c),a=em(i,i.pendingProps.children),a.flags|=2,i.memoizedState=null,a}function Db(a,i,c){a.lanes|=i;var u=a.alternate;u!==null&&(u.lanes|=i),vh(a.return,i,c)}function nm(a,i,c,u,x){var v=a.memoizedState;v===null?a.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:u,tail:c,tailMode:x}:(v.isBackwards=i,v.rendering=null,v.renderingStartTime=0,v.last=u,v.tail=c,v.tailMode=x)}function Mb(a,i,c){var u=i.pendingProps,x=u.revealOrder,v=u.tail;if(wn(a,i,u.children,c),u=dn.current,(u&2)!==0)u=u&1|2,i.flags|=128;else{if(a!==null&&(a.flags&128)!==0)e:for(a=i.child;a!==null;){if(a.tag===13)a.memoizedState!==null&&Db(a,c,i);else if(a.tag===19)Db(a,c,i);else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===i)break e;for(;a.sibling===null;){if(a.return===null||a.return===i)break e;a=a.return}a.sibling.return=a.return,a=a.sibling}u&=1}switch(Q(dn,u),x){case"forwards":for(c=i.child,x=null;c!==null;)a=c.alternate,a!==null&&vd(a)===null&&(x=c),c=c.sibling;c=x,c===null?(x=i.child,i.child=null):(x=c.sibling,c.sibling=null),nm(i,!1,x,c,v);break;case"backwards":for(c=null,x=i.child,i.child=null;x!==null;){if(a=x.alternate,a!==null&&vd(a)===null){i.child=x;break}a=x.sibling,x.sibling=c,c=x,x=a}nm(i,!0,c,null,v);break;case"together":nm(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function ur(a,i,c){if(a!==null&&(i.dependencies=a.dependencies),Kr|=i.lanes,(c&i.childLanes)===0)if(a!==null){if(ro(a,i,c,!1),(c&i.childLanes)===0)return null}else return null;if(a!==null&&i.child!==a.child)throw Error(s(153));if(i.child!==null){for(a=i.child,c=rr(a,a.pendingProps),i.child=c,c.return=i;a.sibling!==null;)a=a.sibling,c=c.sibling=rr(a,a.pendingProps),c.return=i;c.sibling=null}return i.child}function am(a,i){return(a.lanes&i)!==0?!0:(a=a.dependencies,!!(a!==null&&ad(a)))}function D3(a,i,c){switch(i.tag){case 3:Te(i,i.stateNode.containerInfo),Ur(i,cn,a.memoizedState.cache),no();break;case 27:case 5:xe(i);break;case 4:Te(i,i.stateNode.containerInfo);break;case 10:Ur(i,i.type,i.memoizedProps.value);break;case 13:var u=i.memoizedState;if(u!==null)return u.dehydrated!==null?(zr(i),i.flags|=128,null):(c&i.child.childLanes)!==0?kb(a,i,c):(zr(i),a=ur(a,i,c),a!==null?a.sibling:null);zr(i);break;case 19:var x=(a.flags&128)!==0;if(u=(c&i.childLanes)!==0,u||(ro(a,i,c,!1),u=(c&i.childLanes)!==0),x){if(u)return Mb(a,i,c);i.flags|=128}if(x=i.memoizedState,x!==null&&(x.rendering=null,x.tail=null,x.lastEffect=null),Q(dn,dn.current),u)break;return null;case 22:case 23:return i.lanes=0,Eb(a,i,c);case 24:Ur(i,cn,a.memoizedState.cache)}return ur(a,i,c)}function Ob(a,i,c){if(a!==null)if(a.memoizedProps!==i.pendingProps)fn=!0;else{if(!am(a,c)&&(i.flags&128)===0)return fn=!1,D3(a,i,c);fn=(a.flags&131072)!==0}else fn=!1,Ct&&(i.flags&1048576)!==0&&u0(i,nd,i.index);switch(i.lanes=0,i.tag){case 16:e:{a=i.pendingProps;var u=i.elementType,x=u._init;if(u=x(u._payload),i.type=u,typeof u=="function")fh(u)?(a=Hs(u,a),i.tag=1,i=Pb(null,i,u,a,c)):(i.tag=0,i=Jh(null,i,u,a,c));else{if(u!=null){if(x=u.$$typeof,x===P){i.tag=11,i=Nb(null,i,u,a,c);break e}else if(x===k){i.tag=14,i=_b(null,i,u,a,c);break e}}throw i=B(u)||u,Error(s(306,i,""))}}return i;case 0:return Jh(a,i,i.type,i.pendingProps,c);case 1:return u=i.type,x=Hs(u,i.pendingProps),Pb(a,i,u,x,c);case 3:e:{if(Te(i,i.stateNode.containerInfo),a===null)throw Error(s(387));u=i.pendingProps;var v=i.memoizedState;x=v.element,Ch(a,i),fo(i,u,null,c);var _=i.memoizedState;if(u=_.cache,Ur(i,cn,u),u!==v.cache&&yh(i,[cn],c,!0),uo(),u=_.element,v.isDehydrated)if(v={element:u,isDehydrated:!1,cache:_.cache},i.updateQueue.baseState=v,i.memoizedState=v,i.flags&256){i=Tb(a,i,u,c);break e}else if(u!==x){x=ua(Error(s(424)),i),ao(x),i=Tb(a,i,u,c);break e}else{switch(a=i.stateNode.containerInfo,a.nodeType){case 9:a=a.body;break;default:a=a.nodeName==="HTML"?a.ownerDocument.body:a}for(Qt=Pa(a.firstChild),Mn=i,Ct=!0,$s=null,za=!0,c=hb(i,null,u,c),i.child=c;c;)c.flags=c.flags&-3|4096,c=c.sibling}else{if(no(),u===x){i=ur(a,i,c);break e}wn(a,i,u,c)}i=i.child}return i;case 26:return jd(a,i),a===null?(c=Fv(i.type,null,i.pendingProps,null))?i.memoizedState=c:Ct||(c=i.type,a=i.pendingProps,u=Ud(ge.current).createElement(c),u[me]=i,u[Se]=a,Sn(u,c,a),St(u),i.stateNode=u):i.memoizedState=Fv(i.type,a.memoizedProps,i.pendingProps,a.memoizedState),null;case 27:return xe(i),a===null&&Ct&&(u=i.stateNode=Lv(i.type,i.pendingProps,ge.current),Mn=i,za=!0,x=Qt,Xr(i.type)?(Um=x,Qt=Pa(u.firstChild)):Qt=x),wn(a,i,i.pendingProps.children,c),jd(a,i),a===null&&(i.flags|=4194304),i.child;case 5:return a===null&&Ct&&((x=u=Qt)&&(u=lE(u,i.type,i.pendingProps,za),u!==null?(i.stateNode=u,Mn=i,Qt=Pa(u.firstChild),za=!1,x=!0):x=!1),x||Fs(i)),xe(i),x=i.type,v=i.pendingProps,_=a!==null?a.memoizedProps:null,u=v.children,Dm(x,v)?u=null:_!==null&&Dm(x,_)&&(i.flags|=32),i.memoizedState!==null&&(x=kh(a,i,_3,null,null,c),Mo._currentValue=x),jd(a,i),wn(a,i,u,c),i.child;case 6:return a===null&&Ct&&((a=c=Qt)&&(c=oE(c,i.pendingProps,za),c!==null?(i.stateNode=c,Mn=i,Qt=null,a=!0):a=!1),a||Fs(i)),null;case 13:return kb(a,i,c);case 4:return Te(i,i.stateNode.containerInfo),u=i.pendingProps,a===null?i.child=Fi(i,null,u,c):wn(a,i,u,c),i.child;case 11:return Nb(a,i,i.type,i.pendingProps,c);case 7:return wn(a,i,i.pendingProps,c),i.child;case 8:return wn(a,i,i.pendingProps.children,c),i.child;case 12:return wn(a,i,i.pendingProps.children,c),i.child;case 10:return u=i.pendingProps,Ur(i,i.type,u.value),wn(a,i,u.children,c),i.child;case 9:return x=i.type._context,u=i.pendingProps.children,Bs(i),x=Cn(x),u=u(x),i.flags|=1,wn(a,i,u,c),i.child;case 14:return _b(a,i,i.type,i.pendingProps,c);case 15:return Cb(a,i,i.type,i.pendingProps,c);case 19:return Mb(a,i,c);case 31:return u=i.pendingProps,c=i.mode,u={mode:u.mode,children:u.children},a===null?(c=Sd(u,c),c.ref=i.ref,i.child=c,c.return=i,i=c):(c=rr(a.child,u),c.ref=i.ref,i.child=c,c.return=i,i=c),i;case 22:return Eb(a,i,c);case 24:return Bs(i),u=Cn(cn),a===null?(x=Sh(),x===null&&(x=It,v=wh(),x.pooledCache=v,v.refCount++,v!==null&&(x.pooledCacheLanes|=c),x=v),i.memoizedState={parent:u,cache:x},_h(i),Ur(i,cn,x)):((a.lanes&c)!==0&&(Ch(a,i),fo(i,null,null,c),uo()),x=a.memoizedState,v=i.memoizedState,x.parent!==u?(x={parent:u,cache:u},i.memoizedState=x,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=x),Ur(i,cn,u)):(u=v.cache,Ur(i,cn,u),u!==x.cache&&yh(i,[cn],c,!0))),wn(a,i,i.pendingProps.children,c),i.child;case 29:throw i.pendingProps}throw Error(s(156,i.tag))}function fr(a){a.flags|=4}function Lb(a,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)a.flags&=-16777217;else if(a.flags|=16777216,!Hv(i)){if(i=pa.current,i!==null&&((yt&4194048)===yt?qa!==null:(yt&62914560)!==yt&&(yt&536870912)===0||i!==qa))throw oo=Nh,v0;a.flags|=8192}}function Nd(a,i){i!==null&&(a.flags|=4),a.flags&16384&&(i=a.tag!==22?Es():536870912,a.lanes|=i,qi|=i)}function vo(a,i){if(!Ct)switch(a.tailMode){case"hidden":i=a.tail;for(var c=null;i!==null;)i.alternate!==null&&(c=i),i=i.sibling;c===null?a.tail=null:c.sibling=null;break;case"collapsed":c=a.tail;for(var u=null;c!==null;)c.alternate!==null&&(u=c),c=c.sibling;u===null?i||a.tail===null?a.tail=null:a.tail.sibling=null:u.sibling=null}}function Xt(a){var i=a.alternate!==null&&a.alternate.child===a.child,c=0,u=0;if(i)for(var x=a.child;x!==null;)c|=x.lanes|x.childLanes,u|=x.subtreeFlags&65011712,u|=x.flags&65011712,x.return=a,x=x.sibling;else for(x=a.child;x!==null;)c|=x.lanes|x.childLanes,u|=x.subtreeFlags,u|=x.flags,x.return=a,x=x.sibling;return a.subtreeFlags|=u,a.childLanes=c,i}function M3(a,i,c){var u=i.pendingProps;switch(gh(i),i.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Xt(i),null;case 1:return Xt(i),null;case 3:return c=i.stateNode,u=null,a!==null&&(u=a.memoizedState.cache),i.memoizedState.cache!==u&&(i.flags|=2048),or(cn),ue(),c.pendingContext&&(c.context=c.pendingContext,c.pendingContext=null),(a===null||a.child===null)&&(to(i)?fr(i):a===null||a.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,m0())),Xt(i),null;case 26:return c=i.memoizedState,a===null?(fr(i),c!==null?(Xt(i),Lb(i,c)):(Xt(i),i.flags&=-16777217)):c?c!==a.memoizedState?(fr(i),Xt(i),Lb(i,c)):(Xt(i),i.flags&=-16777217):(a.memoizedProps!==u&&fr(i),Xt(i),i.flags&=-16777217),null;case 27:Ne(i),c=ge.current;var x=i.type;if(a!==null&&i.stateNode!=null)a.memoizedProps!==u&&fr(i);else{if(!u){if(i.stateNode===null)throw Error(s(166));return Xt(i),null}a=ne.current,to(i)?f0(i):(a=Lv(x,u,c),i.stateNode=a,fr(i))}return Xt(i),null;case 5:if(Ne(i),c=i.type,a!==null&&i.stateNode!=null)a.memoizedProps!==u&&fr(i);else{if(!u){if(i.stateNode===null)throw Error(s(166));return Xt(i),null}if(a=ne.current,to(i))f0(i);else{switch(x=Ud(ge.current),a){case 1:a=x.createElementNS("http://www.w3.org/2000/svg",c);break;case 2:a=x.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;default:switch(c){case"svg":a=x.createElementNS("http://www.w3.org/2000/svg",c);break;case"math":a=x.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;case"script":a=x.createElement("div"),a.innerHTML="<script><\/script>",a=a.removeChild(a.firstChild);break;case"select":a=typeof u.is=="string"?x.createElement("select",{is:u.is}):x.createElement("select"),u.multiple?a.multiple=!0:u.size&&(a.size=u.size);break;default:a=typeof u.is=="string"?x.createElement(c,{is:u.is}):x.createElement(c)}}a[me]=i,a[Se]=u;e:for(x=i.child;x!==null;){if(x.tag===5||x.tag===6)a.appendChild(x.stateNode);else if(x.tag!==4&&x.tag!==27&&x.child!==null){x.child.return=x,x=x.child;continue}if(x===i)break e;for(;x.sibling===null;){if(x.return===null||x.return===i)break e;x=x.return}x.sibling.return=x.return,x=x.sibling}i.stateNode=a;e:switch(Sn(a,c,u),c){case"button":case"input":case"select":case"textarea":a=!!u.autoFocus;break e;case"img":a=!0;break e;default:a=!1}a&&fr(i)}}return Xt(i),i.flags&=-16777217,null;case 6:if(a&&i.stateNode!=null)a.memoizedProps!==u&&fr(i);else{if(typeof u!="string"&&i.stateNode===null)throw Error(s(166));if(a=ge.current,to(i)){if(a=i.stateNode,c=i.memoizedProps,u=null,x=Mn,x!==null)switch(x.tag){case 27:case 5:u=x.memoizedProps}a[me]=i,a=!!(a.nodeValue===c||u!==null&&u.suppressHydrationWarning===!0||Av(a.nodeValue,c)),a||Fs(i)}else a=Ud(a).createTextNode(u),a[me]=i,i.stateNode=a}return Xt(i),null;case 13:if(u=i.memoizedState,a===null||a.memoizedState!==null&&a.memoizedState.dehydrated!==null){if(x=to(i),u!==null&&u.dehydrated!==null){if(a===null){if(!x)throw Error(s(318));if(x=i.memoizedState,x=x!==null?x.dehydrated:null,!x)throw Error(s(317));x[me]=i}else no(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;Xt(i),x=!1}else x=m0(),a!==null&&a.memoizedState!==null&&(a.memoizedState.hydrationErrors=x),x=!0;if(!x)return i.flags&256?(dr(i),i):(dr(i),null)}if(dr(i),(i.flags&128)!==0)return i.lanes=c,i;if(c=u!==null,a=a!==null&&a.memoizedState!==null,c){u=i.child,x=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(x=u.alternate.memoizedState.cachePool.pool);var v=null;u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(v=u.memoizedState.cachePool.pool),v!==x&&(u.flags|=2048)}return c!==a&&c&&(i.child.flags|=8192),Nd(i,i.updateQueue),Xt(i),null;case 4:return ue(),a===null&&Rm(i.stateNode.containerInfo),Xt(i),null;case 10:return or(i.type),Xt(i),null;case 19:if(ae(dn),x=i.memoizedState,x===null)return Xt(i),null;if(u=(i.flags&128)!==0,v=x.rendering,v===null)if(u)vo(x,!1);else{if(en!==0||a!==null&&(a.flags&128)!==0)for(a=i.child;a!==null;){if(v=vd(a),v!==null){for(i.flags|=128,vo(x,!1),a=v.updateQueue,i.updateQueue=a,Nd(i,a),i.subtreeFlags=0,a=c,c=i.child;c!==null;)d0(c,a),c=c.sibling;return Q(dn,dn.current&1|2),i.child}a=a.sibling}x.tail!==null&&Fe()>Ed&&(i.flags|=128,u=!0,vo(x,!1),i.lanes=4194304)}else{if(!u)if(a=vd(v),a!==null){if(i.flags|=128,u=!0,a=a.updateQueue,i.updateQueue=a,Nd(i,a),vo(x,!0),x.tail===null&&x.tailMode==="hidden"&&!v.alternate&&!Ct)return Xt(i),null}else 2*Fe()-x.renderingStartTime>Ed&&c!==536870912&&(i.flags|=128,u=!0,vo(x,!1),i.lanes=4194304);x.isBackwards?(v.sibling=i.child,i.child=v):(a=x.last,a!==null?a.sibling=v:i.child=v,x.last=v)}return x.tail!==null?(i=x.tail,x.rendering=i,x.tail=i.sibling,x.renderingStartTime=Fe(),i.sibling=null,a=dn.current,Q(dn,u?a&1|2:a&1),i):(Xt(i),null);case 22:case 23:return dr(i),Ph(),u=i.memoizedState!==null,a!==null?a.memoizedState!==null!==u&&(i.flags|=8192):u&&(i.flags|=8192),u?(c&536870912)!==0&&(i.flags&128)===0&&(Xt(i),i.subtreeFlags&6&&(i.flags|=8192)):Xt(i),c=i.updateQueue,c!==null&&Nd(i,c.retryQueue),c=null,a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(c=a.memoizedState.cachePool.pool),u=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(u=i.memoizedState.cachePool.pool),u!==c&&(i.flags|=2048),a!==null&&ae(zs),null;case 24:return c=null,a!==null&&(c=a.memoizedState.cache),i.memoizedState.cache!==c&&(i.flags|=2048),or(cn),Xt(i),null;case 25:return null;case 30:return null}throw Error(s(156,i.tag))}function O3(a,i){switch(gh(i),i.tag){case 1:return a=i.flags,a&65536?(i.flags=a&-65537|128,i):null;case 3:return or(cn),ue(),a=i.flags,(a&65536)!==0&&(a&128)===0?(i.flags=a&-65537|128,i):null;case 26:case 27:case 5:return Ne(i),null;case 13:if(dr(i),a=i.memoizedState,a!==null&&a.dehydrated!==null){if(i.alternate===null)throw Error(s(340));no()}return a=i.flags,a&65536?(i.flags=a&-65537|128,i):null;case 19:return ae(dn),null;case 4:return ue(),null;case 10:return or(i.type),null;case 22:case 23:return dr(i),Ph(),a!==null&&ae(zs),a=i.flags,a&65536?(i.flags=a&-65537|128,i):null;case 24:return or(cn),null;case 25:return null;default:return null}}function Ub(a,i){switch(gh(i),i.tag){case 3:or(cn),ue();break;case 26:case 27:case 5:Ne(i);break;case 4:ue();break;case 13:dr(i);break;case 19:ae(dn);break;case 10:or(i.type);break;case 22:case 23:dr(i),Ph(),a!==null&&ae(zs);break;case 24:or(cn)}}function yo(a,i){try{var c=i.updateQueue,u=c!==null?c.lastEffect:null;if(u!==null){var x=u.next;c=x;do{if((c.tag&a)===a){u=void 0;var v=c.create,_=c.inst;u=v(),_.destroy=u}c=c.next}while(c!==x)}}catch(M){Ft(i,i.return,M)}}function Hr(a,i,c){try{var u=i.updateQueue,x=u!==null?u.lastEffect:null;if(x!==null){var v=x.next;u=v;do{if((u.tag&a)===a){var _=u.inst,M=_.destroy;if(M!==void 0){_.destroy=void 0,x=i;var H=c,se=M;try{se()}catch(de){Ft(x,H,de)}}}u=u.next}while(u!==v)}}catch(de){Ft(i,i.return,de)}}function $b(a){var i=a.updateQueue;if(i!==null){var c=a.stateNode;try{_0(i,c)}catch(u){Ft(a,a.return,u)}}}function Fb(a,i,c){c.props=Hs(a.type,a.memoizedProps),c.state=a.memoizedState;try{c.componentWillUnmount()}catch(u){Ft(a,i,u)}}function wo(a,i){try{var c=a.ref;if(c!==null){switch(a.tag){case 26:case 27:case 5:var u=a.stateNode;break;case 30:u=a.stateNode;break;default:u=a.stateNode}typeof c=="function"?a.refCleanup=c(u):c.current=u}}catch(x){Ft(a,i,x)}}function Ha(a,i){var c=a.ref,u=a.refCleanup;if(c!==null)if(typeof u=="function")try{u()}catch(x){Ft(a,i,x)}finally{a.refCleanup=null,a=a.alternate,a!=null&&(a.refCleanup=null)}else if(typeof c=="function")try{c(null)}catch(x){Ft(a,i,x)}else c.current=null}function Ib(a){var i=a.type,c=a.memoizedProps,u=a.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":c.autoFocus&&u.focus();break e;case"img":c.src?u.src=c.src:c.srcSet&&(u.srcset=c.srcSet)}}catch(x){Ft(a,a.return,x)}}function rm(a,i,c){try{var u=a.stateNode;nE(u,a.type,c,i),u[Se]=i}catch(x){Ft(a,a.return,x)}}function Bb(a){return a.tag===5||a.tag===3||a.tag===26||a.tag===27&&Xr(a.type)||a.tag===4}function sm(a){e:for(;;){for(;a.sibling===null;){if(a.return===null||Bb(a.return))return null;a=a.return}for(a.sibling.return=a.return,a=a.sibling;a.tag!==5&&a.tag!==6&&a.tag!==18;){if(a.tag===27&&Xr(a.type)||a.flags&2||a.child===null||a.tag===4)continue e;a.child.return=a,a=a.child}if(!(a.flags&2))return a.stateNode}}function im(a,i,c){var u=a.tag;if(u===5||u===6)a=a.stateNode,i?(c.nodeType===9?c.body:c.nodeName==="HTML"?c.ownerDocument.body:c).insertBefore(a,i):(i=c.nodeType===9?c.body:c.nodeName==="HTML"?c.ownerDocument.body:c,i.appendChild(a),c=c._reactRootContainer,c!=null||i.onclick!==null||(i.onclick=Ld));else if(u!==4&&(u===27&&Xr(a.type)&&(c=a.stateNode,i=null),a=a.child,a!==null))for(im(a,i,c),a=a.sibling;a!==null;)im(a,i,c),a=a.sibling}function _d(a,i,c){var u=a.tag;if(u===5||u===6)a=a.stateNode,i?c.insertBefore(a,i):c.appendChild(a);else if(u!==4&&(u===27&&Xr(a.type)&&(c=a.stateNode),a=a.child,a!==null))for(_d(a,i,c),a=a.sibling;a!==null;)_d(a,i,c),a=a.sibling}function zb(a){var i=a.stateNode,c=a.memoizedProps;try{for(var u=a.type,x=i.attributes;x.length;)i.removeAttributeNode(x[0]);Sn(i,u,c),i[me]=a,i[Se]=c}catch(v){Ft(a,a.return,v)}}var hr=!1,nn=!1,lm=!1,qb=typeof WeakSet=="function"?WeakSet:Set,hn=null;function L3(a,i){if(a=a.containerInfo,Tm=qd,a=e0(a),sh(a)){if("selectionStart"in a)var c={start:a.selectionStart,end:a.selectionEnd};else e:{c=(c=a.ownerDocument)&&c.defaultView||window;var u=c.getSelection&&c.getSelection();if(u&&u.rangeCount!==0){c=u.anchorNode;var x=u.anchorOffset,v=u.focusNode;u=u.focusOffset;try{c.nodeType,v.nodeType}catch{c=null;break e}var _=0,M=-1,H=-1,se=0,de=0,pe=a,ie=null;t:for(;;){for(var oe;pe!==c||x!==0&&pe.nodeType!==3||(M=_+x),pe!==v||u!==0&&pe.nodeType!==3||(H=_+u),pe.nodeType===3&&(_+=pe.nodeValue.length),(oe=pe.firstChild)!==null;)ie=pe,pe=oe;for(;;){if(pe===a)break t;if(ie===c&&++se===x&&(M=_),ie===v&&++de===u&&(H=_),(oe=pe.nextSibling)!==null)break;pe=ie,ie=pe.parentNode}pe=oe}c=M===-1||H===-1?null:{start:M,end:H}}else c=null}c=c||{start:0,end:0}}else c=null;for(km={focusedElem:a,selectionRange:c},qd=!1,hn=i;hn!==null;)if(i=hn,a=i.child,(i.subtreeFlags&1024)!==0&&a!==null)a.return=i,hn=a;else for(;hn!==null;){switch(i=hn,v=i.alternate,a=i.flags,i.tag){case 0:break;case 11:case 15:break;case 1:if((a&1024)!==0&&v!==null){a=void 0,c=i,x=v.memoizedProps,v=v.memoizedState,u=c.stateNode;try{var Je=Hs(c.type,x,c.elementType===c.type);a=u.getSnapshotBeforeUpdate(Je,v),u.__reactInternalSnapshotBeforeUpdate=a}catch(He){Ft(c,c.return,He)}}break;case 3:if((a&1024)!==0){if(a=i.stateNode.containerInfo,c=a.nodeType,c===9)Om(a);else if(c===1)switch(a.nodeName){case"HEAD":case"HTML":case"BODY":Om(a);break;default:a.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((a&1024)!==0)throw Error(s(163))}if(a=i.sibling,a!==null){a.return=i.return,hn=a;break}hn=i.return}}function Hb(a,i,c){var u=c.flags;switch(c.tag){case 0:case 11:case 15:Vr(a,c),u&4&&yo(5,c);break;case 1:if(Vr(a,c),u&4)if(a=c.stateNode,i===null)try{a.componentDidMount()}catch(_){Ft(c,c.return,_)}else{var x=Hs(c.type,i.memoizedProps);i=i.memoizedState;try{a.componentDidUpdate(x,i,a.__reactInternalSnapshotBeforeUpdate)}catch(_){Ft(c,c.return,_)}}u&64&&$b(c),u&512&&wo(c,c.return);break;case 3:if(Vr(a,c),u&64&&(a=c.updateQueue,a!==null)){if(i=null,c.child!==null)switch(c.child.tag){case 27:case 5:i=c.child.stateNode;break;case 1:i=c.child.stateNode}try{_0(a,i)}catch(_){Ft(c,c.return,_)}}break;case 27:i===null&&u&4&&zb(c);case 26:case 5:Vr(a,c),i===null&&u&4&&Ib(c),u&512&&wo(c,c.return);break;case 12:Vr(a,c);break;case 13:Vr(a,c),u&4&&Yb(a,c),u&64&&(a=c.memoizedState,a!==null&&(a=a.dehydrated,a!==null&&(c=V3.bind(null,c),cE(a,c))));break;case 22:if(u=c.memoizedState!==null||hr,!u){i=i!==null&&i.memoizedState!==null||nn,x=hr;var v=nn;hr=u,(nn=i)&&!v?Gr(a,c,(c.subtreeFlags&8772)!==0):Vr(a,c),hr=x,nn=v}break;case 30:break;default:Vr(a,c)}}function Vb(a){var i=a.alternate;i!==null&&(a.alternate=null,Vb(i)),a.child=null,a.deletions=null,a.sibling=null,a.tag===5&&(i=a.stateNode,i!==null&&We(i)),a.stateNode=null,a.return=null,a.dependencies=null,a.memoizedProps=null,a.memoizedState=null,a.pendingProps=null,a.stateNode=null,a.updateQueue=null}var Kt=null,qn=!1;function mr(a,i,c){for(c=c.child;c!==null;)Gb(a,i,c),c=c.sibling}function Gb(a,i,c){if(rt&&typeof rt.onCommitFiberUnmount=="function")try{rt.onCommitFiberUnmount(Pt,c)}catch{}switch(c.tag){case 26:nn||Ha(c,i),mr(a,i,c),c.memoizedState?c.memoizedState.count--:c.stateNode&&(c=c.stateNode,c.parentNode.removeChild(c));break;case 27:nn||Ha(c,i);var u=Kt,x=qn;Xr(c.type)&&(Kt=c.stateNode,qn=!1),mr(a,i,c),Po(c.stateNode),Kt=u,qn=x;break;case 5:nn||Ha(c,i);case 6:if(u=Kt,x=qn,Kt=null,mr(a,i,c),Kt=u,qn=x,Kt!==null)if(qn)try{(Kt.nodeType===9?Kt.body:Kt.nodeName==="HTML"?Kt.ownerDocument.body:Kt).removeChild(c.stateNode)}catch(v){Ft(c,i,v)}else try{Kt.removeChild(c.stateNode)}catch(v){Ft(c,i,v)}break;case 18:Kt!==null&&(qn?(a=Kt,Mv(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,c.stateNode),$o(a)):Mv(Kt,c.stateNode));break;case 4:u=Kt,x=qn,Kt=c.stateNode.containerInfo,qn=!0,mr(a,i,c),Kt=u,qn=x;break;case 0:case 11:case 14:case 15:nn||Hr(2,c,i),nn||Hr(4,c,i),mr(a,i,c);break;case 1:nn||(Ha(c,i),u=c.stateNode,typeof u.componentWillUnmount=="function"&&Fb(c,i,u)),mr(a,i,c);break;case 21:mr(a,i,c);break;case 22:nn=(u=nn)||c.memoizedState!==null,mr(a,i,c),nn=u;break;default:mr(a,i,c)}}function Yb(a,i){if(i.memoizedState===null&&(a=i.alternate,a!==null&&(a=a.memoizedState,a!==null&&(a=a.dehydrated,a!==null))))try{$o(a)}catch(c){Ft(i,i.return,c)}}function U3(a){switch(a.tag){case 13:case 19:var i=a.stateNode;return i===null&&(i=a.stateNode=new qb),i;case 22:return a=a.stateNode,i=a._retryCache,i===null&&(i=a._retryCache=new qb),i;default:throw Error(s(435,a.tag))}}function om(a,i){var c=U3(a);i.forEach(function(u){var x=G3.bind(null,a,u);c.has(u)||(c.add(u),u.then(x,x))})}function Zn(a,i){var c=i.deletions;if(c!==null)for(var u=0;u<c.length;u++){var x=c[u],v=a,_=i,M=_;e:for(;M!==null;){switch(M.tag){case 27:if(Xr(M.type)){Kt=M.stateNode,qn=!1;break e}break;case 5:Kt=M.stateNode,qn=!1;break e;case 3:case 4:Kt=M.stateNode.containerInfo,qn=!0;break e}M=M.return}if(Kt===null)throw Error(s(160));Gb(v,_,x),Kt=null,qn=!1,v=x.alternate,v!==null&&(v.return=null),x.return=null}if(i.subtreeFlags&13878)for(i=i.child;i!==null;)Kb(i,a),i=i.sibling}var Aa=null;function Kb(a,i){var c=a.alternate,u=a.flags;switch(a.tag){case 0:case 11:case 14:case 15:Zn(i,a),Xn(a),u&4&&(Hr(3,a,a.return),yo(3,a),Hr(5,a,a.return));break;case 1:Zn(i,a),Xn(a),u&512&&(nn||c===null||Ha(c,c.return)),u&64&&hr&&(a=a.updateQueue,a!==null&&(u=a.callbacks,u!==null&&(c=a.shared.hiddenCallbacks,a.shared.hiddenCallbacks=c===null?u:c.concat(u))));break;case 26:var x=Aa;if(Zn(i,a),Xn(a),u&512&&(nn||c===null||Ha(c,c.return)),u&4){var v=c!==null?c.memoizedState:null;if(u=a.memoizedState,c===null)if(u===null)if(a.stateNode===null){e:{u=a.type,c=a.memoizedProps,x=x.ownerDocument||x;t:switch(u){case"title":v=x.getElementsByTagName("title")[0],(!v||v[Ke]||v[me]||v.namespaceURI==="http://www.w3.org/2000/svg"||v.hasAttribute("itemprop"))&&(v=x.createElement(u),x.head.insertBefore(v,x.querySelector("head > title"))),Sn(v,u,c),v[me]=a,St(v),u=v;break e;case"link":var _=zv("link","href",x).get(u+(c.href||""));if(_){for(var M=0;M<_.length;M++)if(v=_[M],v.getAttribute("href")===(c.href==null||c.href===""?null:c.href)&&v.getAttribute("rel")===(c.rel==null?null:c.rel)&&v.getAttribute("title")===(c.title==null?null:c.title)&&v.getAttribute("crossorigin")===(c.crossOrigin==null?null:c.crossOrigin)){_.splice(M,1);break t}}v=x.createElement(u),Sn(v,u,c),x.head.appendChild(v);break;case"meta":if(_=zv("meta","content",x).get(u+(c.content||""))){for(M=0;M<_.length;M++)if(v=_[M],v.getAttribute("content")===(c.content==null?null:""+c.content)&&v.getAttribute("name")===(c.name==null?null:c.name)&&v.getAttribute("property")===(c.property==null?null:c.property)&&v.getAttribute("http-equiv")===(c.httpEquiv==null?null:c.httpEquiv)&&v.getAttribute("charset")===(c.charSet==null?null:c.charSet)){_.splice(M,1);break t}}v=x.createElement(u),Sn(v,u,c),x.head.appendChild(v);break;default:throw Error(s(468,u))}v[me]=a,St(v),u=v}a.stateNode=u}else qv(x,a.type,a.stateNode);else a.stateNode=Bv(x,u,a.memoizedProps);else v!==u?(v===null?c.stateNode!==null&&(c=c.stateNode,c.parentNode.removeChild(c)):v.count--,u===null?qv(x,a.type,a.stateNode):Bv(x,u,a.memoizedProps)):u===null&&a.stateNode!==null&&rm(a,a.memoizedProps,c.memoizedProps)}break;case 27:Zn(i,a),Xn(a),u&512&&(nn||c===null||Ha(c,c.return)),c!==null&&u&4&&rm(a,a.memoizedProps,c.memoizedProps);break;case 5:if(Zn(i,a),Xn(a),u&512&&(nn||c===null||Ha(c,c.return)),a.flags&32){x=a.stateNode;try{wi(x,"")}catch(oe){Ft(a,a.return,oe)}}u&4&&a.stateNode!=null&&(x=a.memoizedProps,rm(a,x,c!==null?c.memoizedProps:x)),u&1024&&(lm=!0);break;case 6:if(Zn(i,a),Xn(a),u&4){if(a.stateNode===null)throw Error(s(162));u=a.memoizedProps,c=a.stateNode;try{c.nodeValue=u}catch(oe){Ft(a,a.return,oe)}}break;case 3:if(Id=null,x=Aa,Aa=$d(i.containerInfo),Zn(i,a),Aa=x,Xn(a),u&4&&c!==null&&c.memoizedState.isDehydrated)try{$o(i.containerInfo)}catch(oe){Ft(a,a.return,oe)}lm&&(lm=!1,Wb(a));break;case 4:u=Aa,Aa=$d(a.stateNode.containerInfo),Zn(i,a),Xn(a),Aa=u;break;case 12:Zn(i,a),Xn(a);break;case 13:Zn(i,a),Xn(a),a.child.flags&8192&&a.memoizedState!==null!=(c!==null&&c.memoizedState!==null)&&(mm=Fe()),u&4&&(u=a.updateQueue,u!==null&&(a.updateQueue=null,om(a,u)));break;case 22:x=a.memoizedState!==null;var H=c!==null&&c.memoizedState!==null,se=hr,de=nn;if(hr=se||x,nn=de||H,Zn(i,a),nn=de,hr=se,Xn(a),u&8192)e:for(i=a.stateNode,i._visibility=x?i._visibility&-2:i._visibility|1,x&&(c===null||H||hr||nn||Vs(a)),c=null,i=a;;){if(i.tag===5||i.tag===26){if(c===null){H=c=i;try{if(v=H.stateNode,x)_=v.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none";else{M=H.stateNode;var pe=H.memoizedProps.style,ie=pe!=null&&pe.hasOwnProperty("display")?pe.display:null;M.style.display=ie==null||typeof ie=="boolean"?"":(""+ie).trim()}}catch(oe){Ft(H,H.return,oe)}}}else if(i.tag===6){if(c===null){H=i;try{H.stateNode.nodeValue=x?"":H.memoizedProps}catch(oe){Ft(H,H.return,oe)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===a)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===a)break e;for(;i.sibling===null;){if(i.return===null||i.return===a)break e;c===i&&(c=null),i=i.return}c===i&&(c=null),i.sibling.return=i.return,i=i.sibling}u&4&&(u=a.updateQueue,u!==null&&(c=u.retryQueue,c!==null&&(u.retryQueue=null,om(a,c))));break;case 19:Zn(i,a),Xn(a),u&4&&(u=a.updateQueue,u!==null&&(a.updateQueue=null,om(a,u)));break;case 30:break;case 21:break;default:Zn(i,a),Xn(a)}}function Xn(a){var i=a.flags;if(i&2){try{for(var c,u=a.return;u!==null;){if(Bb(u)){c=u;break}u=u.return}if(c==null)throw Error(s(160));switch(c.tag){case 27:var x=c.stateNode,v=sm(a);_d(a,v,x);break;case 5:var _=c.stateNode;c.flags&32&&(wi(_,""),c.flags&=-33);var M=sm(a);_d(a,M,_);break;case 3:case 4:var H=c.stateNode.containerInfo,se=sm(a);im(a,se,H);break;default:throw Error(s(161))}}catch(de){Ft(a,a.return,de)}a.flags&=-3}i&4096&&(a.flags&=-4097)}function Wb(a){if(a.subtreeFlags&1024)for(a=a.child;a!==null;){var i=a;Wb(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),a=a.sibling}}function Vr(a,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)Hb(a,i.alternate,i),i=i.sibling}function Vs(a){for(a=a.child;a!==null;){var i=a;switch(i.tag){case 0:case 11:case 14:case 15:Hr(4,i,i.return),Vs(i);break;case 1:Ha(i,i.return);var c=i.stateNode;typeof c.componentWillUnmount=="function"&&Fb(i,i.return,c),Vs(i);break;case 27:Po(i.stateNode);case 26:case 5:Ha(i,i.return),Vs(i);break;case 22:i.memoizedState===null&&Vs(i);break;case 30:Vs(i);break;default:Vs(i)}a=a.sibling}}function Gr(a,i,c){for(c=c&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var u=i.alternate,x=a,v=i,_=v.flags;switch(v.tag){case 0:case 11:case 15:Gr(x,v,c),yo(4,v);break;case 1:if(Gr(x,v,c),u=v,x=u.stateNode,typeof x.componentDidMount=="function")try{x.componentDidMount()}catch(se){Ft(u,u.return,se)}if(u=v,x=u.updateQueue,x!==null){var M=u.stateNode;try{var H=x.shared.hiddenCallbacks;if(H!==null)for(x.shared.hiddenCallbacks=null,x=0;x<H.length;x++)N0(H[x],M)}catch(se){Ft(u,u.return,se)}}c&&_&64&&$b(v),wo(v,v.return);break;case 27:zb(v);case 26:case 5:Gr(x,v,c),c&&u===null&&_&4&&Ib(v),wo(v,v.return);break;case 12:Gr(x,v,c);break;case 13:Gr(x,v,c),c&&_&4&&Yb(x,v);break;case 22:v.memoizedState===null&&Gr(x,v,c),wo(v,v.return);break;case 30:break;default:Gr(x,v,c)}i=i.sibling}}function cm(a,i){var c=null;a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(c=a.memoizedState.cachePool.pool),a=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(a=i.memoizedState.cachePool.pool),a!==c&&(a!=null&&a.refCount++,c!=null&&so(c))}function dm(a,i){a=null,i.alternate!==null&&(a=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==a&&(i.refCount++,a!=null&&so(a))}function Va(a,i,c,u){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)Jb(a,i,c,u),i=i.sibling}function Jb(a,i,c,u){var x=i.flags;switch(i.tag){case 0:case 11:case 15:Va(a,i,c,u),x&2048&&yo(9,i);break;case 1:Va(a,i,c,u);break;case 3:Va(a,i,c,u),x&2048&&(a=null,i.alternate!==null&&(a=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==a&&(i.refCount++,a!=null&&so(a)));break;case 12:if(x&2048){Va(a,i,c,u),a=i.stateNode;try{var v=i.memoizedProps,_=v.id,M=v.onPostCommit;typeof M=="function"&&M(_,i.alternate===null?"mount":"update",a.passiveEffectDuration,-0)}catch(H){Ft(i,i.return,H)}}else Va(a,i,c,u);break;case 13:Va(a,i,c,u);break;case 23:break;case 22:v=i.stateNode,_=i.alternate,i.memoizedState!==null?v._visibility&2?Va(a,i,c,u):jo(a,i):v._visibility&2?Va(a,i,c,u):(v._visibility|=2,Ii(a,i,c,u,(i.subtreeFlags&10256)!==0)),x&2048&&cm(_,i);break;case 24:Va(a,i,c,u),x&2048&&dm(i.alternate,i);break;default:Va(a,i,c,u)}}function Ii(a,i,c,u,x){for(x=x&&(i.subtreeFlags&10256)!==0,i=i.child;i!==null;){var v=a,_=i,M=c,H=u,se=_.flags;switch(_.tag){case 0:case 11:case 15:Ii(v,_,M,H,x),yo(8,_);break;case 23:break;case 22:var de=_.stateNode;_.memoizedState!==null?de._visibility&2?Ii(v,_,M,H,x):jo(v,_):(de._visibility|=2,Ii(v,_,M,H,x)),x&&se&2048&&cm(_.alternate,_);break;case 24:Ii(v,_,M,H,x),x&&se&2048&&dm(_.alternate,_);break;default:Ii(v,_,M,H,x)}i=i.sibling}}function jo(a,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var c=a,u=i,x=u.flags;switch(u.tag){case 22:jo(c,u),x&2048&&cm(u.alternate,u);break;case 24:jo(c,u),x&2048&&dm(u.alternate,u);break;default:jo(c,u)}i=i.sibling}}var So=8192;function Bi(a){if(a.subtreeFlags&So)for(a=a.child;a!==null;)Zb(a),a=a.sibling}function Zb(a){switch(a.tag){case 26:Bi(a),a.flags&So&&a.memoizedState!==null&&jE(Aa,a.memoizedState,a.memoizedProps);break;case 5:Bi(a);break;case 3:case 4:var i=Aa;Aa=$d(a.stateNode.containerInfo),Bi(a),Aa=i;break;case 22:a.memoizedState===null&&(i=a.alternate,i!==null&&i.memoizedState!==null?(i=So,So=16777216,Bi(a),So=i):Bi(a));break;default:Bi(a)}}function Xb(a){var i=a.alternate;if(i!==null&&(a=i.child,a!==null)){i.child=null;do i=a.sibling,a.sibling=null,a=i;while(a!==null)}}function No(a){var i=a.deletions;if((a.flags&16)!==0){if(i!==null)for(var c=0;c<i.length;c++){var u=i[c];hn=u,ev(u,a)}Xb(a)}if(a.subtreeFlags&10256)for(a=a.child;a!==null;)Qb(a),a=a.sibling}function Qb(a){switch(a.tag){case 0:case 11:case 15:No(a),a.flags&2048&&Hr(9,a,a.return);break;case 3:No(a);break;case 12:No(a);break;case 22:var i=a.stateNode;a.memoizedState!==null&&i._visibility&2&&(a.return===null||a.return.tag!==13)?(i._visibility&=-3,Cd(a)):No(a);break;default:No(a)}}function Cd(a){var i=a.deletions;if((a.flags&16)!==0){if(i!==null)for(var c=0;c<i.length;c++){var u=i[c];hn=u,ev(u,a)}Xb(a)}for(a=a.child;a!==null;){switch(i=a,i.tag){case 0:case 11:case 15:Hr(8,i,i.return),Cd(i);break;case 22:c=i.stateNode,c._visibility&2&&(c._visibility&=-3,Cd(i));break;default:Cd(i)}a=a.sibling}}function ev(a,i){for(;hn!==null;){var c=hn;switch(c.tag){case 0:case 11:case 15:Hr(8,c,i);break;case 23:case 22:if(c.memoizedState!==null&&c.memoizedState.cachePool!==null){var u=c.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:so(c.memoizedState.cache)}if(u=c.child,u!==null)u.return=c,hn=u;else e:for(c=a;hn!==null;){u=hn;var x=u.sibling,v=u.return;if(Vb(u),u===c){hn=null;break e}if(x!==null){x.return=v,hn=x;break e}hn=v}}}var $3={getCacheForType:function(a){var i=Cn(cn),c=i.data.get(a);return c===void 0&&(c=a(),i.data.set(a,c)),c}},F3=typeof WeakMap=="function"?WeakMap:Map,kt=0,It=null,ft=null,yt=0,Dt=0,Qn=null,Yr=!1,zi=!1,um=!1,pr=0,en=0,Kr=0,Gs=0,fm=0,ga=0,qi=0,_o=null,Hn=null,hm=!1,mm=0,Ed=1/0,Rd=null,Wr=null,jn=0,Jr=null,Hi=null,Vi=0,pm=0,gm=null,tv=null,Co=0,xm=null;function ea(){if((kt&2)!==0&&yt!==0)return yt&-yt;if(U.T!==null){var a=ki;return a!==0?a:Nm()}return Y()}function nv(){ga===0&&(ga=(yt&536870912)===0||Ct?la():536870912);var a=pa.current;return a!==null&&(a.flags|=32),ga}function ta(a,i,c){(a===It&&(Dt===2||Dt===9)||a.cancelPendingCommit!==null)&&(Gi(a,0),Zr(a,yt,ga,!1)),Fa(a,c),((kt&2)===0||a!==It)&&(a===It&&((kt&2)===0&&(Gs|=c),en===4&&Zr(a,yt,ga,!1)),Ga(a))}function av(a,i,c){if((kt&6)!==0)throw Error(s(327));var u=!c&&(i&124)===0&&(i&a.expiredLanes)===0||yn(a,i),x=u?z3(a,i):ym(a,i,!0),v=u;do{if(x===0){zi&&!u&&Zr(a,i,0,!1);break}else{if(c=a.current.alternate,v&&!I3(c)){x=ym(a,i,!1),v=!1;continue}if(x===2){if(v=i,a.errorRecoveryDisabledLanes&v)var _=0;else _=a.pendingLanes&-536870913,_=_!==0?_:_&536870912?536870912:0;if(_!==0){i=_;e:{var M=a;x=_o;var H=M.current.memoizedState.isDehydrated;if(H&&(Gi(M,_).flags|=256),_=ym(M,_,!1),_!==2){if(um&&!H){M.errorRecoveryDisabledLanes|=v,Gs|=v,x=4;break e}v=Hn,Hn=x,v!==null&&(Hn===null?Hn=v:Hn.push.apply(Hn,v))}x=_}if(v=!1,x!==2)continue}}if(x===1){Gi(a,0),Zr(a,i,0,!0);break}e:{switch(u=a,v=x,v){case 0:case 1:throw Error(s(345));case 4:if((i&4194048)!==i)break;case 6:Zr(u,i,ga,!Yr);break e;case 2:Hn=null;break;case 3:case 5:break;default:throw Error(s(329))}if((i&62914560)===i&&(x=mm+300-Fe(),10<x)){if(Zr(u,i,ga,!Yr),Kn(u,0,!0)!==0)break e;u.timeoutHandle=kv(rv.bind(null,u,c,Hn,Rd,hm,i,ga,Gs,qi,Yr,v,2,-0,0),x);break e}rv(u,c,Hn,Rd,hm,i,ga,Gs,qi,Yr,v,0,-0,0)}}break}while(!0);Ga(a)}function rv(a,i,c,u,x,v,_,M,H,se,de,pe,ie,oe){if(a.timeoutHandle=-1,pe=i.subtreeFlags,(pe&8192||(pe&16785408)===16785408)&&(Do={stylesheets:null,count:0,unsuspend:wE},Zb(i),pe=SE(),pe!==null)){a.cancelPendingCommit=pe(uv.bind(null,a,i,v,c,u,x,_,M,H,de,1,ie,oe)),Zr(a,v,_,!se);return}uv(a,i,v,c,u,x,_,M,H)}function I3(a){for(var i=a;;){var c=i.tag;if((c===0||c===11||c===15)&&i.flags&16384&&(c=i.updateQueue,c!==null&&(c=c.stores,c!==null)))for(var u=0;u<c.length;u++){var x=c[u],v=x.getSnapshot;x=x.value;try{if(!Wn(v(),x))return!1}catch{return!1}}if(c=i.child,i.subtreeFlags&16384&&c!==null)c.return=i,i=c;else{if(i===a)break;for(;i.sibling===null;){if(i.return===null||i.return===a)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Zr(a,i,c,u){i&=~fm,i&=~Gs,a.suspendedLanes|=i,a.pingedLanes&=~i,u&&(a.warmLanes|=i),u=a.expirationTimes;for(var x=i;0<x;){var v=31-ut(x),_=1<<v;u[v]=-1,x&=~_}c!==0&&Ia(a,c,i)}function Ad(){return(kt&6)===0?(Eo(0),!1):!0}function bm(){if(ft!==null){if(Dt===0)var a=ft.return;else a=ft,lr=Is=null,Oh(a),$i=null,xo=0,a=ft;for(;a!==null;)Ub(a.alternate,a),a=a.return;ft=null}}function Gi(a,i){var c=a.timeoutHandle;c!==-1&&(a.timeoutHandle=-1,rE(c)),c=a.cancelPendingCommit,c!==null&&(a.cancelPendingCommit=null,c()),bm(),It=a,ft=c=rr(a.current,null),yt=i,Dt=0,Qn=null,Yr=!1,zi=yn(a,i),um=!1,qi=ga=fm=Gs=Kr=en=0,Hn=_o=null,hm=!1,(i&8)!==0&&(i|=i&32);var u=a.entangledLanes;if(u!==0)for(a=a.entanglements,u&=i;0<u;){var x=31-ut(u),v=1<<x;i|=a[x],u&=~v}return pr=i,Zc(),c}function sv(a,i){lt=null,U.H=gd,i===lo||i===id?(i=j0(),Dt=3):i===v0?(i=j0(),Dt=4):Dt=i===Sb?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,Qn=i,ft===null&&(en=1,wd(a,ua(i,a.current)))}function iv(){var a=U.H;return U.H=gd,a===null?gd:a}function lv(){var a=U.A;return U.A=$3,a}function vm(){en=4,Yr||(yt&4194048)!==yt&&pa.current!==null||(zi=!0),(Kr&134217727)===0&&(Gs&134217727)===0||It===null||Zr(It,yt,ga,!1)}function ym(a,i,c){var u=kt;kt|=2;var x=iv(),v=lv();(It!==a||yt!==i)&&(Rd=null,Gi(a,i)),i=!1;var _=en;e:do try{if(Dt!==0&&ft!==null){var M=ft,H=Qn;switch(Dt){case 8:bm(),_=6;break e;case 3:case 2:case 9:case 6:pa.current===null&&(i=!0);var se=Dt;if(Dt=0,Qn=null,Yi(a,M,H,se),c&&zi){_=0;break e}break;default:se=Dt,Dt=0,Qn=null,Yi(a,M,H,se)}}B3(),_=en;break}catch(de){sv(a,de)}while(!0);return i&&a.shellSuspendCounter++,lr=Is=null,kt=u,U.H=x,U.A=v,ft===null&&(It=null,yt=0,Zc()),_}function B3(){for(;ft!==null;)ov(ft)}function z3(a,i){var c=kt;kt|=2;var u=iv(),x=lv();It!==a||yt!==i?(Rd=null,Ed=Fe()+500,Gi(a,i)):zi=yn(a,i);e:do try{if(Dt!==0&&ft!==null){i=ft;var v=Qn;t:switch(Dt){case 1:Dt=0,Qn=null,Yi(a,i,v,1);break;case 2:case 9:if(y0(v)){Dt=0,Qn=null,cv(i);break}i=function(){Dt!==2&&Dt!==9||It!==a||(Dt=7),Ga(a)},v.then(i,i);break e;case 3:Dt=7;break e;case 4:Dt=5;break e;case 7:y0(v)?(Dt=0,Qn=null,cv(i)):(Dt=0,Qn=null,Yi(a,i,v,7));break;case 5:var _=null;switch(ft.tag){case 26:_=ft.memoizedState;case 5:case 27:var M=ft;if(!_||Hv(_)){Dt=0,Qn=null;var H=M.sibling;if(H!==null)ft=H;else{var se=M.return;se!==null?(ft=se,Pd(se)):ft=null}break t}}Dt=0,Qn=null,Yi(a,i,v,5);break;case 6:Dt=0,Qn=null,Yi(a,i,v,6);break;case 8:bm(),en=6;break e;default:throw Error(s(462))}}q3();break}catch(de){sv(a,de)}while(!0);return lr=Is=null,U.H=u,U.A=x,kt=c,ft!==null?0:(It=null,yt=0,Zc(),en)}function q3(){for(;ft!==null&&!be();)ov(ft)}function ov(a){var i=Ob(a.alternate,a,pr);a.memoizedProps=a.pendingProps,i===null?Pd(a):ft=i}function cv(a){var i=a,c=i.alternate;switch(i.tag){case 15:case 0:i=Ab(c,i,i.pendingProps,i.type,void 0,yt);break;case 11:i=Ab(c,i,i.pendingProps,i.type.render,i.ref,yt);break;case 5:Oh(i);default:Ub(c,i),i=ft=d0(i,pr),i=Ob(c,i,pr)}a.memoizedProps=a.pendingProps,i===null?Pd(a):ft=i}function Yi(a,i,c,u){lr=Is=null,Oh(i),$i=null,xo=0;var x=i.return;try{if(k3(a,x,i,c,yt)){en=1,wd(a,ua(c,a.current)),ft=null;return}}catch(v){if(x!==null)throw ft=x,v;en=1,wd(a,ua(c,a.current)),ft=null;return}i.flags&32768?(Ct||u===1?a=!0:zi||(yt&536870912)!==0?a=!1:(Yr=a=!0,(u===2||u===9||u===3||u===6)&&(u=pa.current,u!==null&&u.tag===13&&(u.flags|=16384))),dv(i,a)):Pd(i)}function Pd(a){var i=a;do{if((i.flags&32768)!==0){dv(i,Yr);return}a=i.return;var c=M3(i.alternate,i,pr);if(c!==null){ft=c;return}if(i=i.sibling,i!==null){ft=i;return}ft=i=a}while(i!==null);en===0&&(en=5)}function dv(a,i){do{var c=O3(a.alternate,a);if(c!==null){c.flags&=32767,ft=c;return}if(c=a.return,c!==null&&(c.flags|=32768,c.subtreeFlags=0,c.deletions=null),!i&&(a=a.sibling,a!==null)){ft=a;return}ft=a=c}while(a!==null);en=6,ft=null}function uv(a,i,c,u,x,v,_,M,H){a.cancelPendingCommit=null;do Td();while(jn!==0);if((kt&6)!==0)throw Error(s(327));if(i!==null){if(i===a.current)throw Error(s(177));if(v=i.lanes|i.childLanes,v|=dh,Rs(a,c,v,_,M,H),a===It&&(ft=It=null,yt=0),Hi=i,Jr=a,Vi=c,pm=v,gm=x,tv=u,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(a.callbackNode=null,a.callbackPriority=0,Y3(it,function(){return gv(),null})):(a.callbackNode=null,a.callbackPriority=0),u=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||u){u=U.T,U.T=null,x=q.p,q.p=2,_=kt,kt|=4;try{L3(a,i,c)}finally{kt=_,q.p=x,U.T=u}}jn=1,fv(),hv(),mv()}}function fv(){if(jn===1){jn=0;var a=Jr,i=Hi,c=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||c){c=U.T,U.T=null;var u=q.p;q.p=2;var x=kt;kt|=4;try{Kb(i,a);var v=km,_=e0(a.containerInfo),M=v.focusedElem,H=v.selectionRange;if(_!==M&&M&&M.ownerDocument&&Qx(M.ownerDocument.documentElement,M)){if(H!==null&&sh(M)){var se=H.start,de=H.end;if(de===void 0&&(de=se),"selectionStart"in M)M.selectionStart=se,M.selectionEnd=Math.min(de,M.value.length);else{var pe=M.ownerDocument||document,ie=pe&&pe.defaultView||window;if(ie.getSelection){var oe=ie.getSelection(),Je=M.textContent.length,He=Math.min(H.start,Je),Lt=H.end===void 0?He:Math.min(H.end,Je);!oe.extend&&He>Lt&&(_=Lt,Lt=He,He=_);var X=Xx(M,He),K=Xx(M,Lt);if(X&&K&&(oe.rangeCount!==1||oe.anchorNode!==X.node||oe.anchorOffset!==X.offset||oe.focusNode!==K.node||oe.focusOffset!==K.offset)){var re=pe.createRange();re.setStart(X.node,X.offset),oe.removeAllRanges(),He>Lt?(oe.addRange(re),oe.extend(K.node,K.offset)):(re.setEnd(K.node,K.offset),oe.addRange(re))}}}}for(pe=[],oe=M;oe=oe.parentNode;)oe.nodeType===1&&pe.push({element:oe,left:oe.scrollLeft,top:oe.scrollTop});for(typeof M.focus=="function"&&M.focus(),M=0;M<pe.length;M++){var fe=pe[M];fe.element.scrollLeft=fe.left,fe.element.scrollTop=fe.top}}qd=!!Tm,km=Tm=null}finally{kt=x,q.p=u,U.T=c}}a.current=i,jn=2}}function hv(){if(jn===2){jn=0;var a=Jr,i=Hi,c=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||c){c=U.T,U.T=null;var u=q.p;q.p=2;var x=kt;kt|=4;try{Hb(a,i.alternate,i)}finally{kt=x,q.p=u,U.T=c}}jn=3}}function mv(){if(jn===4||jn===3){jn=0,Ae();var a=Jr,i=Hi,c=Vi,u=tv;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?jn=5:(jn=0,Hi=Jr=null,pv(a,a.pendingLanes));var x=a.pendingLanes;if(x===0&&(Wr=null),Ps(c),i=i.stateNode,rt&&typeof rt.onCommitFiberRoot=="function")try{rt.onCommitFiberRoot(Pt,i,void 0,(i.current.flags&128)===128)}catch{}if(u!==null){i=U.T,x=q.p,q.p=2,U.T=null;try{for(var v=a.onRecoverableError,_=0;_<u.length;_++){var M=u[_];v(M.value,{componentStack:M.stack})}}finally{U.T=i,q.p=x}}(Vi&3)!==0&&Td(),Ga(a),x=a.pendingLanes,(c&4194090)!==0&&(x&42)!==0?a===xm?Co++:(Co=0,xm=a):Co=0,Eo(0)}}function pv(a,i){(a.pooledCacheLanes&=i)===0&&(i=a.pooledCache,i!=null&&(a.pooledCache=null,so(i)))}function Td(a){return fv(),hv(),mv(),gv()}function gv(){if(jn!==5)return!1;var a=Jr,i=pm;pm=0;var c=Ps(Vi),u=U.T,x=q.p;try{q.p=32>c?32:c,U.T=null,c=gm,gm=null;var v=Jr,_=Vi;if(jn=0,Hi=Jr=null,Vi=0,(kt&6)!==0)throw Error(s(331));var M=kt;if(kt|=4,Qb(v.current),Jb(v,v.current,_,c),kt=M,Eo(0,!1),rt&&typeof rt.onPostCommitFiberRoot=="function")try{rt.onPostCommitFiberRoot(Pt,v)}catch{}return!0}finally{q.p=x,U.T=u,pv(a,i)}}function xv(a,i,c){i=ua(c,i),i=Wh(a.stateNode,i,2),a=Ir(a,i,2),a!==null&&(Fa(a,2),Ga(a))}function Ft(a,i,c){if(a.tag===3)xv(a,a,c);else for(;i!==null;){if(i.tag===3){xv(i,a,c);break}else if(i.tag===1){var u=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(Wr===null||!Wr.has(u))){a=ua(c,a),c=wb(2),u=Ir(i,c,2),u!==null&&(jb(c,u,i,a),Fa(u,2),Ga(u));break}}i=i.return}}function wm(a,i,c){var u=a.pingCache;if(u===null){u=a.pingCache=new F3;var x=new Set;u.set(i,x)}else x=u.get(i),x===void 0&&(x=new Set,u.set(i,x));x.has(c)||(um=!0,x.add(c),a=H3.bind(null,a,i,c),i.then(a,a))}function H3(a,i,c){var u=a.pingCache;u!==null&&u.delete(i),a.pingedLanes|=a.suspendedLanes&c,a.warmLanes&=~c,It===a&&(yt&c)===c&&(en===4||en===3&&(yt&62914560)===yt&&300>Fe()-mm?(kt&2)===0&&Gi(a,0):fm|=c,qi===yt&&(qi=0)),Ga(a)}function bv(a,i){i===0&&(i=Es()),a=Ri(a,i),a!==null&&(Fa(a,i),Ga(a))}function V3(a){var i=a.memoizedState,c=0;i!==null&&(c=i.retryLane),bv(a,c)}function G3(a,i){var c=0;switch(a.tag){case 13:var u=a.stateNode,x=a.memoizedState;x!==null&&(c=x.retryLane);break;case 19:u=a.stateNode;break;case 22:u=a.stateNode._retryCache;break;default:throw Error(s(314))}u!==null&&u.delete(i),bv(a,c)}function Y3(a,i){return Re(a,i)}var kd=null,Ki=null,jm=!1,Dd=!1,Sm=!1,Ys=0;function Ga(a){a!==Ki&&a.next===null&&(Ki===null?kd=Ki=a:Ki=Ki.next=a),Dd=!0,jm||(jm=!0,W3())}function Eo(a,i){if(!Sm&&Dd){Sm=!0;do for(var c=!1,u=kd;u!==null;){if(a!==0){var x=u.pendingLanes;if(x===0)var v=0;else{var _=u.suspendedLanes,M=u.pingedLanes;v=(1<<31-ut(42|a)+1)-1,v&=x&~(_&~M),v=v&201326741?v&201326741|1:v?v|2:0}v!==0&&(c=!0,jv(u,v))}else v=yt,v=Kn(u,u===It?v:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),(v&3)===0||yn(u,v)||(c=!0,jv(u,v));u=u.next}while(c);Sm=!1}}function K3(){vv()}function vv(){Dd=jm=!1;var a=0;Ys!==0&&(aE()&&(a=Ys),Ys=0);for(var i=Fe(),c=null,u=kd;u!==null;){var x=u.next,v=yv(u,i);v===0?(u.next=null,c===null?kd=x:c.next=x,x===null&&(Ki=c)):(c=u,(a!==0||(v&3)!==0)&&(Dd=!0)),u=x}Eo(a)}function yv(a,i){for(var c=a.suspendedLanes,u=a.pingedLanes,x=a.expirationTimes,v=a.pendingLanes&-62914561;0<v;){var _=31-ut(v),M=1<<_,H=x[_];H===-1?((M&c)===0||(M&u)!==0)&&(x[_]=_a(M,i)):H<=i&&(a.expiredLanes|=M),v&=~M}if(i=It,c=yt,c=Kn(a,a===i?c:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),u=a.callbackNode,c===0||a===i&&(Dt===2||Dt===9)||a.cancelPendingCommit!==null)return u!==null&&u!==null&&Be(u),a.callbackNode=null,a.callbackPriority=0;if((c&3)===0||yn(a,c)){if(i=c&-c,i===a.callbackPriority)return i;switch(u!==null&&Be(u),Ps(c)){case 2:case 8:c=je;break;case 32:c=it;break;case 268435456:c=_t;break;default:c=it}return u=wv.bind(null,a),c=Re(c,u),a.callbackPriority=i,a.callbackNode=c,i}return u!==null&&u!==null&&Be(u),a.callbackPriority=2,a.callbackNode=null,2}function wv(a,i){if(jn!==0&&jn!==5)return a.callbackNode=null,a.callbackPriority=0,null;var c=a.callbackNode;if(Td()&&a.callbackNode!==c)return null;var u=yt;return u=Kn(a,a===It?u:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),u===0?null:(av(a,u,i),yv(a,Fe()),a.callbackNode!=null&&a.callbackNode===c?wv.bind(null,a):null)}function jv(a,i){if(Td())return null;av(a,i,!0)}function W3(){sE(function(){(kt&6)!==0?Re(gt,K3):vv()})}function Nm(){return Ys===0&&(Ys=la()),Ys}function Sv(a){return a==null||typeof a=="symbol"||typeof a=="boolean"?null:typeof a=="function"?a:Hc(""+a)}function Nv(a,i){var c=i.ownerDocument.createElement("input");return c.name=i.name,c.value=i.value,a.id&&c.setAttribute("form",a.id),i.parentNode.insertBefore(c,i),a=new FormData(a),c.parentNode.removeChild(c),a}function J3(a,i,c,u,x){if(i==="submit"&&c&&c.stateNode===x){var v=Sv((x[Se]||null).action),_=u.submitter;_&&(i=(i=_[Se]||null)?Sv(i.formAction):_.getAttribute("formAction"),i!==null&&(v=i,_=null));var M=new Kc("action","action",null,u,x);a.push({event:M,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(Ys!==0){var H=_?Nv(x,_):new FormData(x);Hh(c,{pending:!0,data:H,method:x.method,action:v},null,H)}}else typeof v=="function"&&(M.preventDefault(),H=_?Nv(x,_):new FormData(x),Hh(c,{pending:!0,data:H,method:x.method,action:v},v,H))},currentTarget:x}]})}}for(var _m=0;_m<ch.length;_m++){var Cm=ch[_m],Z3=Cm.toLowerCase(),X3=Cm[0].toUpperCase()+Cm.slice(1);Ra(Z3,"on"+X3)}Ra(a0,"onAnimationEnd"),Ra(r0,"onAnimationIteration"),Ra(s0,"onAnimationStart"),Ra("dblclick","onDoubleClick"),Ra("focusin","onFocus"),Ra("focusout","onBlur"),Ra(p3,"onTransitionRun"),Ra(g3,"onTransitionStart"),Ra(x3,"onTransitionCancel"),Ra(i0,"onTransitionEnd"),oa("onMouseEnter",["mouseout","mouseover"]),oa("onMouseLeave",["mouseout","mouseover"]),oa("onPointerEnter",["pointerout","pointerover"]),oa("onPointerLeave",["pointerout","pointerover"]),Dn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Dn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Dn("onBeforeInput",["compositionend","keypress","textInput","paste"]),Dn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Dn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Dn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ro="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Q3=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ro));function _v(a,i){i=(i&4)!==0;for(var c=0;c<a.length;c++){var u=a[c],x=u.event;u=u.listeners;e:{var v=void 0;if(i)for(var _=u.length-1;0<=_;_--){var M=u[_],H=M.instance,se=M.currentTarget;if(M=M.listener,H!==v&&x.isPropagationStopped())break e;v=M,x.currentTarget=se;try{v(x)}catch(de){yd(de)}x.currentTarget=null,v=H}else for(_=0;_<u.length;_++){if(M=u[_],H=M.instance,se=M.currentTarget,M=M.listener,H!==v&&x.isPropagationStopped())break e;v=M,x.currentTarget=se;try{v(x)}catch(de){yd(de)}x.currentTarget=null,v=H}}}}function ht(a,i){var c=i[qe];c===void 0&&(c=i[qe]=new Set);var u=a+"__bubble";c.has(u)||(Cv(i,a,2,!1),c.add(u))}function Em(a,i,c){var u=0;i&&(u|=4),Cv(c,a,u,i)}var Md="_reactListening"+Math.random().toString(36).slice(2);function Rm(a){if(!a[Md]){a[Md]=!0,bt.forEach(function(c){c!=="selectionchange"&&(Q3.has(c)||Em(c,!1,a),Em(c,!0,a))});var i=a.nodeType===9?a:a.ownerDocument;i===null||i[Md]||(i[Md]=!0,Em("selectionchange",!1,i))}}function Cv(a,i,c,u){switch(Jv(i)){case 2:var x=CE;break;case 8:x=EE;break;default:x=zm}c=x.bind(null,i,c,a),x=void 0,!Jf||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(x=!0),u?x!==void 0?a.addEventListener(i,c,{capture:!0,passive:x}):a.addEventListener(i,c,!0):x!==void 0?a.addEventListener(i,c,{passive:x}):a.addEventListener(i,c,!1)}function Am(a,i,c,u,x){var v=u;if((i&1)===0&&(i&2)===0&&u!==null)e:for(;;){if(u===null)return;var _=u.tag;if(_===3||_===4){var M=u.stateNode.containerInfo;if(M===x)break;if(_===4)for(_=u.return;_!==null;){var H=_.tag;if((H===3||H===4)&&_.stateNode.containerInfo===x)return;_=_.return}for(;M!==null;){if(_=Qe(M),_===null)return;if(H=_.tag,H===5||H===6||H===26||H===27){u=v=_;continue e}M=M.parentNode}}u=u.return}Dx(function(){var se=v,de=Kf(c),pe=[];e:{var ie=l0.get(a);if(ie!==void 0){var oe=Kc,Je=a;switch(a){case"keypress":if(Gc(c)===0)break e;case"keydown":case"keyup":oe=YC;break;case"focusin":Je="focus",oe=eh;break;case"focusout":Je="blur",oe=eh;break;case"beforeblur":case"afterblur":oe=eh;break;case"click":if(c.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":oe=Lx;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":oe=OC;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":oe=JC;break;case a0:case r0:case s0:oe=$C;break;case i0:oe=XC;break;case"scroll":case"scrollend":oe=DC;break;case"wheel":oe=e3;break;case"copy":case"cut":case"paste":oe=IC;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":oe=$x;break;case"toggle":case"beforetoggle":oe=n3}var He=(i&4)!==0,Lt=!He&&(a==="scroll"||a==="scrollend"),X=He?ie!==null?ie+"Capture":null:ie;He=[];for(var K=se,re;K!==null;){var fe=K;if(re=fe.stateNode,fe=fe.tag,fe!==5&&fe!==26&&fe!==27||re===null||X===null||(fe=Gl(K,X),fe!=null&&He.push(Ao(K,fe,re))),Lt)break;K=K.return}0<He.length&&(ie=new oe(ie,Je,null,c,de),pe.push({event:ie,listeners:He}))}}if((i&7)===0){e:{if(ie=a==="mouseover"||a==="pointerover",oe=a==="mouseout"||a==="pointerout",ie&&c!==Yf&&(Je=c.relatedTarget||c.fromElement)&&(Qe(Je)||Je[Le]))break e;if((oe||ie)&&(ie=de.window===de?de:(ie=de.ownerDocument)?ie.defaultView||ie.parentWindow:window,oe?(Je=c.relatedTarget||c.toElement,oe=se,Je=Je?Qe(Je):null,Je!==null&&(Lt=o(Je),He=Je.tag,Je!==Lt||He!==5&&He!==27&&He!==6)&&(Je=null)):(oe=null,Je=se),oe!==Je)){if(He=Lx,fe="onMouseLeave",X="onMouseEnter",K="mouse",(a==="pointerout"||a==="pointerover")&&(He=$x,fe="onPointerLeave",X="onPointerEnter",K="pointer"),Lt=oe==null?ie:qt(oe),re=Je==null?ie:qt(Je),ie=new He(fe,K+"leave",oe,c,de),ie.target=Lt,ie.relatedTarget=re,fe=null,Qe(de)===se&&(He=new He(X,K+"enter",Je,c,de),He.target=re,He.relatedTarget=Lt,fe=He),Lt=fe,oe&&Je)t:{for(He=oe,X=Je,K=0,re=He;re;re=Wi(re))K++;for(re=0,fe=X;fe;fe=Wi(fe))re++;for(;0<K-re;)He=Wi(He),K--;for(;0<re-K;)X=Wi(X),re--;for(;K--;){if(He===X||X!==null&&He===X.alternate)break t;He=Wi(He),X=Wi(X)}He=null}else He=null;oe!==null&&Ev(pe,ie,oe,He,!1),Je!==null&&Lt!==null&&Ev(pe,Lt,Je,He,!0)}}e:{if(ie=se?qt(se):window,oe=ie.nodeName&&ie.nodeName.toLowerCase(),oe==="select"||oe==="input"&&ie.type==="file")var Me=Gx;else if(Hx(ie))if(Yx)Me=f3;else{Me=d3;var ct=c3}else oe=ie.nodeName,!oe||oe.toLowerCase()!=="input"||ie.type!=="checkbox"&&ie.type!=="radio"?se&&Gf(se.elementType)&&(Me=Gx):Me=u3;if(Me&&(Me=Me(a,se))){Vx(pe,Me,c,de);break e}ct&&ct(a,ie,se),a==="focusout"&&se&&ie.type==="number"&&se.memoizedProps.value!=null&&Vf(ie,"number",ie.value)}switch(ct=se?qt(se):window,a){case"focusin":(Hx(ct)||ct.contentEditable==="true")&&(_i=ct,ih=se,eo=null);break;case"focusout":eo=ih=_i=null;break;case"mousedown":lh=!0;break;case"contextmenu":case"mouseup":case"dragend":lh=!1,t0(pe,c,de);break;case"selectionchange":if(m3)break;case"keydown":case"keyup":t0(pe,c,de)}var Ie;if(nh)e:{switch(a){case"compositionstart":var Ge="onCompositionStart";break e;case"compositionend":Ge="onCompositionEnd";break e;case"compositionupdate":Ge="onCompositionUpdate";break e}Ge=void 0}else Ni?zx(a,c)&&(Ge="onCompositionEnd"):a==="keydown"&&c.keyCode===229&&(Ge="onCompositionStart");Ge&&(Fx&&c.locale!=="ko"&&(Ni||Ge!=="onCompositionStart"?Ge==="onCompositionEnd"&&Ni&&(Ie=Mx()):(Lr=de,Zf="value"in Lr?Lr.value:Lr.textContent,Ni=!0)),ct=Od(se,Ge),0<ct.length&&(Ge=new Ux(Ge,a,null,c,de),pe.push({event:Ge,listeners:ct}),Ie?Ge.data=Ie:(Ie=qx(c),Ie!==null&&(Ge.data=Ie)))),(Ie=r3?s3(a,c):i3(a,c))&&(Ge=Od(se,"onBeforeInput"),0<Ge.length&&(ct=new Ux("onBeforeInput","beforeinput",null,c,de),pe.push({event:ct,listeners:Ge}),ct.data=Ie)),J3(pe,a,se,c,de)}_v(pe,i)})}function Ao(a,i,c){return{instance:a,listener:i,currentTarget:c}}function Od(a,i){for(var c=i+"Capture",u=[];a!==null;){var x=a,v=x.stateNode;if(x=x.tag,x!==5&&x!==26&&x!==27||v===null||(x=Gl(a,c),x!=null&&u.unshift(Ao(a,x,v)),x=Gl(a,i),x!=null&&u.push(Ao(a,x,v))),a.tag===3)return u;a=a.return}return[]}function Wi(a){if(a===null)return null;do a=a.return;while(a&&a.tag!==5&&a.tag!==27);return a||null}function Ev(a,i,c,u,x){for(var v=i._reactName,_=[];c!==null&&c!==u;){var M=c,H=M.alternate,se=M.stateNode;if(M=M.tag,H!==null&&H===u)break;M!==5&&M!==26&&M!==27||se===null||(H=se,x?(se=Gl(c,v),se!=null&&_.unshift(Ao(c,se,H))):x||(se=Gl(c,v),se!=null&&_.push(Ao(c,se,H)))),c=c.return}_.length!==0&&a.push({event:i,listeners:_})}var eE=/\r\n?/g,tE=/\u0000|\uFFFD/g;function Rv(a){return(typeof a=="string"?a:""+a).replace(eE,`
`).replace(tE,"")}function Av(a,i){return i=Rv(i),Rv(a)===i}function Ld(){}function Ot(a,i,c,u,x,v){switch(c){case"children":typeof u=="string"?i==="body"||i==="textarea"&&u===""||wi(a,u):(typeof u=="number"||typeof u=="bigint")&&i!=="body"&&wi(a,""+u);break;case"className":nr(a,"class",u);break;case"tabIndex":nr(a,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":nr(a,c,u);break;case"style":Tx(a,u,v);break;case"data":if(i!=="object"){nr(a,"data",u);break}case"src":case"href":if(u===""&&(i!=="a"||c!=="href")){a.removeAttribute(c);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){a.removeAttribute(c);break}u=Hc(""+u),a.setAttribute(c,u);break;case"action":case"formAction":if(typeof u=="function"){a.setAttribute(c,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof v=="function"&&(c==="formAction"?(i!=="input"&&Ot(a,i,"name",x.name,x,null),Ot(a,i,"formEncType",x.formEncType,x,null),Ot(a,i,"formMethod",x.formMethod,x,null),Ot(a,i,"formTarget",x.formTarget,x,null)):(Ot(a,i,"encType",x.encType,x,null),Ot(a,i,"method",x.method,x,null),Ot(a,i,"target",x.target,x,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){a.removeAttribute(c);break}u=Hc(""+u),a.setAttribute(c,u);break;case"onClick":u!=null&&(a.onclick=Ld);break;case"onScroll":u!=null&&ht("scroll",a);break;case"onScrollEnd":u!=null&&ht("scrollend",a);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(s(61));if(c=u.__html,c!=null){if(x.children!=null)throw Error(s(60));a.innerHTML=c}}break;case"multiple":a.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":a.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){a.removeAttribute("xlink:href");break}c=Hc(""+u),a.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",c);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?a.setAttribute(c,""+u):a.removeAttribute(c);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?a.setAttribute(c,""):a.removeAttribute(c);break;case"capture":case"download":u===!0?a.setAttribute(c,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?a.setAttribute(c,u):a.removeAttribute(c);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?a.setAttribute(c,u):a.removeAttribute(c);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?a.removeAttribute(c):a.setAttribute(c,u);break;case"popover":ht("beforetoggle",a),ht("toggle",a),ca(a,"popover",u);break;case"xlinkActuate":ot(a,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":ot(a,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":ot(a,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":ot(a,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":ot(a,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":ot(a,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":ot(a,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":ot(a,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":ot(a,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":ca(a,"is",u);break;case"innerText":case"textContent":break;default:(!(2<c.length)||c[0]!=="o"&&c[0]!=="O"||c[1]!=="n"&&c[1]!=="N")&&(c=TC.get(c)||c,ca(a,c,u))}}function Pm(a,i,c,u,x,v){switch(c){case"style":Tx(a,u,v);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(s(61));if(c=u.__html,c!=null){if(x.children!=null)throw Error(s(60));a.innerHTML=c}}break;case"children":typeof u=="string"?wi(a,u):(typeof u=="number"||typeof u=="bigint")&&wi(a,""+u);break;case"onScroll":u!=null&&ht("scroll",a);break;case"onScrollEnd":u!=null&&ht("scrollend",a);break;case"onClick":u!=null&&(a.onclick=Ld);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!kr.hasOwnProperty(c))e:{if(c[0]==="o"&&c[1]==="n"&&(x=c.endsWith("Capture"),i=c.slice(2,x?c.length-7:void 0),v=a[Se]||null,v=v!=null?v[c]:null,typeof v=="function"&&a.removeEventListener(i,v,x),typeof u=="function")){typeof v!="function"&&v!==null&&(c in a?a[c]=null:a.hasAttribute(c)&&a.removeAttribute(c)),a.addEventListener(i,u,x);break e}c in a?a[c]=u:u===!0?a.setAttribute(c,""):ca(a,c,u)}}}function Sn(a,i,c){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ht("error",a),ht("load",a);var u=!1,x=!1,v;for(v in c)if(c.hasOwnProperty(v)){var _=c[v];if(_!=null)switch(v){case"src":u=!0;break;case"srcSet":x=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:Ot(a,i,v,_,c,null)}}x&&Ot(a,i,"srcSet",c.srcSet,c,null),u&&Ot(a,i,"src",c.src,c,null);return;case"input":ht("invalid",a);var M=v=_=x=null,H=null,se=null;for(u in c)if(c.hasOwnProperty(u)){var de=c[u];if(de!=null)switch(u){case"name":x=de;break;case"type":_=de;break;case"checked":H=de;break;case"defaultChecked":se=de;break;case"value":v=de;break;case"defaultValue":M=de;break;case"children":case"dangerouslySetInnerHTML":if(de!=null)throw Error(s(137,i));break;default:Ot(a,i,u,de,c,null)}}Ex(a,v,M,H,se,_,x,!1),zc(a);return;case"select":ht("invalid",a),u=_=v=null;for(x in c)if(c.hasOwnProperty(x)&&(M=c[x],M!=null))switch(x){case"value":v=M;break;case"defaultValue":_=M;break;case"multiple":u=M;default:Ot(a,i,x,M,c,null)}i=v,c=_,a.multiple=!!u,i!=null?yi(a,!!u,i,!1):c!=null&&yi(a,!!u,c,!0);return;case"textarea":ht("invalid",a),v=x=u=null;for(_ in c)if(c.hasOwnProperty(_)&&(M=c[_],M!=null))switch(_){case"value":u=M;break;case"defaultValue":x=M;break;case"children":v=M;break;case"dangerouslySetInnerHTML":if(M!=null)throw Error(s(91));break;default:Ot(a,i,_,M,c,null)}Ax(a,u,x,v),zc(a);return;case"option":for(H in c)if(c.hasOwnProperty(H)&&(u=c[H],u!=null))switch(H){case"selected":a.selected=u&&typeof u!="function"&&typeof u!="symbol";break;default:Ot(a,i,H,u,c,null)}return;case"dialog":ht("beforetoggle",a),ht("toggle",a),ht("cancel",a),ht("close",a);break;case"iframe":case"object":ht("load",a);break;case"video":case"audio":for(u=0;u<Ro.length;u++)ht(Ro[u],a);break;case"image":ht("error",a),ht("load",a);break;case"details":ht("toggle",a);break;case"embed":case"source":case"link":ht("error",a),ht("load",a);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(se in c)if(c.hasOwnProperty(se)&&(u=c[se],u!=null))switch(se){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:Ot(a,i,se,u,c,null)}return;default:if(Gf(i)){for(de in c)c.hasOwnProperty(de)&&(u=c[de],u!==void 0&&Pm(a,i,de,u,c,void 0));return}}for(M in c)c.hasOwnProperty(M)&&(u=c[M],u!=null&&Ot(a,i,M,u,c,null))}function nE(a,i,c,u){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var x=null,v=null,_=null,M=null,H=null,se=null,de=null;for(oe in c){var pe=c[oe];if(c.hasOwnProperty(oe)&&pe!=null)switch(oe){case"checked":break;case"value":break;case"defaultValue":H=pe;default:u.hasOwnProperty(oe)||Ot(a,i,oe,null,u,pe)}}for(var ie in u){var oe=u[ie];if(pe=c[ie],u.hasOwnProperty(ie)&&(oe!=null||pe!=null))switch(ie){case"type":v=oe;break;case"name":x=oe;break;case"checked":se=oe;break;case"defaultChecked":de=oe;break;case"value":_=oe;break;case"defaultValue":M=oe;break;case"children":case"dangerouslySetInnerHTML":if(oe!=null)throw Error(s(137,i));break;default:oe!==pe&&Ot(a,i,ie,oe,u,pe)}}Hf(a,_,M,H,se,de,v,x);return;case"select":oe=_=M=ie=null;for(v in c)if(H=c[v],c.hasOwnProperty(v)&&H!=null)switch(v){case"value":break;case"multiple":oe=H;default:u.hasOwnProperty(v)||Ot(a,i,v,null,u,H)}for(x in u)if(v=u[x],H=c[x],u.hasOwnProperty(x)&&(v!=null||H!=null))switch(x){case"value":ie=v;break;case"defaultValue":M=v;break;case"multiple":_=v;default:v!==H&&Ot(a,i,x,v,u,H)}i=M,c=_,u=oe,ie!=null?yi(a,!!c,ie,!1):!!u!=!!c&&(i!=null?yi(a,!!c,i,!0):yi(a,!!c,c?[]:"",!1));return;case"textarea":oe=ie=null;for(M in c)if(x=c[M],c.hasOwnProperty(M)&&x!=null&&!u.hasOwnProperty(M))switch(M){case"value":break;case"children":break;default:Ot(a,i,M,null,u,x)}for(_ in u)if(x=u[_],v=c[_],u.hasOwnProperty(_)&&(x!=null||v!=null))switch(_){case"value":ie=x;break;case"defaultValue":oe=x;break;case"children":break;case"dangerouslySetInnerHTML":if(x!=null)throw Error(s(91));break;default:x!==v&&Ot(a,i,_,x,u,v)}Rx(a,ie,oe);return;case"option":for(var Je in c)if(ie=c[Je],c.hasOwnProperty(Je)&&ie!=null&&!u.hasOwnProperty(Je))switch(Je){case"selected":a.selected=!1;break;default:Ot(a,i,Je,null,u,ie)}for(H in u)if(ie=u[H],oe=c[H],u.hasOwnProperty(H)&&ie!==oe&&(ie!=null||oe!=null))switch(H){case"selected":a.selected=ie&&typeof ie!="function"&&typeof ie!="symbol";break;default:Ot(a,i,H,ie,u,oe)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var He in c)ie=c[He],c.hasOwnProperty(He)&&ie!=null&&!u.hasOwnProperty(He)&&Ot(a,i,He,null,u,ie);for(se in u)if(ie=u[se],oe=c[se],u.hasOwnProperty(se)&&ie!==oe&&(ie!=null||oe!=null))switch(se){case"children":case"dangerouslySetInnerHTML":if(ie!=null)throw Error(s(137,i));break;default:Ot(a,i,se,ie,u,oe)}return;default:if(Gf(i)){for(var Lt in c)ie=c[Lt],c.hasOwnProperty(Lt)&&ie!==void 0&&!u.hasOwnProperty(Lt)&&Pm(a,i,Lt,void 0,u,ie);for(de in u)ie=u[de],oe=c[de],!u.hasOwnProperty(de)||ie===oe||ie===void 0&&oe===void 0||Pm(a,i,de,ie,u,oe);return}}for(var X in c)ie=c[X],c.hasOwnProperty(X)&&ie!=null&&!u.hasOwnProperty(X)&&Ot(a,i,X,null,u,ie);for(pe in u)ie=u[pe],oe=c[pe],!u.hasOwnProperty(pe)||ie===oe||ie==null&&oe==null||Ot(a,i,pe,ie,u,oe)}var Tm=null,km=null;function Ud(a){return a.nodeType===9?a:a.ownerDocument}function Pv(a){switch(a){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Tv(a,i){if(a===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return a===1&&i==="foreignObject"?0:a}function Dm(a,i){return a==="textarea"||a==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var Mm=null;function aE(){var a=window.event;return a&&a.type==="popstate"?a===Mm?!1:(Mm=a,!0):(Mm=null,!1)}var kv=typeof setTimeout=="function"?setTimeout:void 0,rE=typeof clearTimeout=="function"?clearTimeout:void 0,Dv=typeof Promise=="function"?Promise:void 0,sE=typeof queueMicrotask=="function"?queueMicrotask:typeof Dv<"u"?function(a){return Dv.resolve(null).then(a).catch(iE)}:kv;function iE(a){setTimeout(function(){throw a})}function Xr(a){return a==="head"}function Mv(a,i){var c=i,u=0,x=0;do{var v=c.nextSibling;if(a.removeChild(c),v&&v.nodeType===8)if(c=v.data,c==="/$"){if(0<u&&8>u){c=u;var _=a.ownerDocument;if(c&1&&Po(_.documentElement),c&2&&Po(_.body),c&4)for(c=_.head,Po(c),_=c.firstChild;_;){var M=_.nextSibling,H=_.nodeName;_[Ke]||H==="SCRIPT"||H==="STYLE"||H==="LINK"&&_.rel.toLowerCase()==="stylesheet"||c.removeChild(_),_=M}}if(x===0){a.removeChild(v),$o(i);return}x--}else c==="$"||c==="$?"||c==="$!"?x++:u=c.charCodeAt(0)-48;else u=0;c=v}while(c);$o(i)}function Om(a){var i=a.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var c=i;switch(i=i.nextSibling,c.nodeName){case"HTML":case"HEAD":case"BODY":Om(c),We(c);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(c.rel.toLowerCase()==="stylesheet")continue}a.removeChild(c)}}function lE(a,i,c,u){for(;a.nodeType===1;){var x=c;if(a.nodeName.toLowerCase()!==i.toLowerCase()){if(!u&&(a.nodeName!=="INPUT"||a.type!=="hidden"))break}else if(u){if(!a[Ke])switch(i){case"meta":if(!a.hasAttribute("itemprop"))break;return a;case"link":if(v=a.getAttribute("rel"),v==="stylesheet"&&a.hasAttribute("data-precedence"))break;if(v!==x.rel||a.getAttribute("href")!==(x.href==null||x.href===""?null:x.href)||a.getAttribute("crossorigin")!==(x.crossOrigin==null?null:x.crossOrigin)||a.getAttribute("title")!==(x.title==null?null:x.title))break;return a;case"style":if(a.hasAttribute("data-precedence"))break;return a;case"script":if(v=a.getAttribute("src"),(v!==(x.src==null?null:x.src)||a.getAttribute("type")!==(x.type==null?null:x.type)||a.getAttribute("crossorigin")!==(x.crossOrigin==null?null:x.crossOrigin))&&v&&a.hasAttribute("async")&&!a.hasAttribute("itemprop"))break;return a;default:return a}}else if(i==="input"&&a.type==="hidden"){var v=x.name==null?null:""+x.name;if(x.type==="hidden"&&a.getAttribute("name")===v)return a}else return a;if(a=Pa(a.nextSibling),a===null)break}return null}function oE(a,i,c){if(i==="")return null;for(;a.nodeType!==3;)if((a.nodeType!==1||a.nodeName!=="INPUT"||a.type!=="hidden")&&!c||(a=Pa(a.nextSibling),a===null))return null;return a}function Lm(a){return a.data==="$!"||a.data==="$?"&&a.ownerDocument.readyState==="complete"}function cE(a,i){var c=a.ownerDocument;if(a.data!=="$?"||c.readyState==="complete")i();else{var u=function(){i(),c.removeEventListener("DOMContentLoaded",u)};c.addEventListener("DOMContentLoaded",u),a._reactRetry=u}}function Pa(a){for(;a!=null;a=a.nextSibling){var i=a.nodeType;if(i===1||i===3)break;if(i===8){if(i=a.data,i==="$"||i==="$!"||i==="$?"||i==="F!"||i==="F")break;if(i==="/$")return null}}return a}var Um=null;function Ov(a){a=a.previousSibling;for(var i=0;a;){if(a.nodeType===8){var c=a.data;if(c==="$"||c==="$!"||c==="$?"){if(i===0)return a;i--}else c==="/$"&&i++}a=a.previousSibling}return null}function Lv(a,i,c){switch(i=Ud(c),a){case"html":if(a=i.documentElement,!a)throw Error(s(452));return a;case"head":if(a=i.head,!a)throw Error(s(453));return a;case"body":if(a=i.body,!a)throw Error(s(454));return a;default:throw Error(s(451))}}function Po(a){for(var i=a.attributes;i.length;)a.removeAttributeNode(i[0]);We(a)}var xa=new Map,Uv=new Set;function $d(a){return typeof a.getRootNode=="function"?a.getRootNode():a.nodeType===9?a:a.ownerDocument}var gr=q.d;q.d={f:dE,r:uE,D:fE,C:hE,L:mE,m:pE,X:xE,S:gE,M:bE};function dE(){var a=gr.f(),i=Ad();return a||i}function uE(a){var i=jt(a);i!==null&&i.tag===5&&i.type==="form"?ab(i):gr.r(a)}var Ji=typeof document>"u"?null:document;function $v(a,i,c){var u=Ji;if(u&&typeof i=="string"&&i){var x=da(i);x='link[rel="'+a+'"][href="'+x+'"]',typeof c=="string"&&(x+='[crossorigin="'+c+'"]'),Uv.has(x)||(Uv.add(x),a={rel:a,crossOrigin:c,href:i},u.querySelector(x)===null&&(i=u.createElement("link"),Sn(i,"link",a),St(i),u.head.appendChild(i)))}}function fE(a){gr.D(a),$v("dns-prefetch",a,null)}function hE(a,i){gr.C(a,i),$v("preconnect",a,i)}function mE(a,i,c){gr.L(a,i,c);var u=Ji;if(u&&a&&i){var x='link[rel="preload"][as="'+da(i)+'"]';i==="image"&&c&&c.imageSrcSet?(x+='[imagesrcset="'+da(c.imageSrcSet)+'"]',typeof c.imageSizes=="string"&&(x+='[imagesizes="'+da(c.imageSizes)+'"]')):x+='[href="'+da(a)+'"]';var v=x;switch(i){case"style":v=Zi(a);break;case"script":v=Xi(a)}xa.has(v)||(a=g({rel:"preload",href:i==="image"&&c&&c.imageSrcSet?void 0:a,as:i},c),xa.set(v,a),u.querySelector(x)!==null||i==="style"&&u.querySelector(To(v))||i==="script"&&u.querySelector(ko(v))||(i=u.createElement("link"),Sn(i,"link",a),St(i),u.head.appendChild(i)))}}function pE(a,i){gr.m(a,i);var c=Ji;if(c&&a){var u=i&&typeof i.as=="string"?i.as:"script",x='link[rel="modulepreload"][as="'+da(u)+'"][href="'+da(a)+'"]',v=x;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":v=Xi(a)}if(!xa.has(v)&&(a=g({rel:"modulepreload",href:a},i),xa.set(v,a),c.querySelector(x)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(c.querySelector(ko(v)))return}u=c.createElement("link"),Sn(u,"link",a),St(u),c.head.appendChild(u)}}}function gE(a,i,c){gr.S(a,i,c);var u=Ji;if(u&&a){var x=Zt(u).hoistableStyles,v=Zi(a);i=i||"default";var _=x.get(v);if(!_){var M={loading:0,preload:null};if(_=u.querySelector(To(v)))M.loading=5;else{a=g({rel:"stylesheet",href:a,"data-precedence":i},c),(c=xa.get(v))&&$m(a,c);var H=_=u.createElement("link");St(H),Sn(H,"link",a),H._p=new Promise(function(se,de){H.onload=se,H.onerror=de}),H.addEventListener("load",function(){M.loading|=1}),H.addEventListener("error",function(){M.loading|=2}),M.loading|=4,Fd(_,i,u)}_={type:"stylesheet",instance:_,count:1,state:M},x.set(v,_)}}}function xE(a,i){gr.X(a,i);var c=Ji;if(c&&a){var u=Zt(c).hoistableScripts,x=Xi(a),v=u.get(x);v||(v=c.querySelector(ko(x)),v||(a=g({src:a,async:!0},i),(i=xa.get(x))&&Fm(a,i),v=c.createElement("script"),St(v),Sn(v,"link",a),c.head.appendChild(v)),v={type:"script",instance:v,count:1,state:null},u.set(x,v))}}function bE(a,i){gr.M(a,i);var c=Ji;if(c&&a){var u=Zt(c).hoistableScripts,x=Xi(a),v=u.get(x);v||(v=c.querySelector(ko(x)),v||(a=g({src:a,async:!0,type:"module"},i),(i=xa.get(x))&&Fm(a,i),v=c.createElement("script"),St(v),Sn(v,"link",a),c.head.appendChild(v)),v={type:"script",instance:v,count:1,state:null},u.set(x,v))}}function Fv(a,i,c,u){var x=(x=ge.current)?$d(x):null;if(!x)throw Error(s(446));switch(a){case"meta":case"title":return null;case"style":return typeof c.precedence=="string"&&typeof c.href=="string"?(i=Zi(c.href),c=Zt(x).hoistableStyles,u=c.get(i),u||(u={type:"style",instance:null,count:0,state:null},c.set(i,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(c.rel==="stylesheet"&&typeof c.href=="string"&&typeof c.precedence=="string"){a=Zi(c.href);var v=Zt(x).hoistableStyles,_=v.get(a);if(_||(x=x.ownerDocument||x,_={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},v.set(a,_),(v=x.querySelector(To(a)))&&!v._p&&(_.instance=v,_.state.loading=5),xa.has(a)||(c={rel:"preload",as:"style",href:c.href,crossOrigin:c.crossOrigin,integrity:c.integrity,media:c.media,hrefLang:c.hrefLang,referrerPolicy:c.referrerPolicy},xa.set(a,c),v||vE(x,a,c,_.state))),i&&u===null)throw Error(s(528,""));return _}if(i&&u!==null)throw Error(s(529,""));return null;case"script":return i=c.async,c=c.src,typeof c=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=Xi(c),c=Zt(x).hoistableScripts,u=c.get(i),u||(u={type:"script",instance:null,count:0,state:null},c.set(i,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,a))}}function Zi(a){return'href="'+da(a)+'"'}function To(a){return'link[rel="stylesheet"]['+a+"]"}function Iv(a){return g({},a,{"data-precedence":a.precedence,precedence:null})}function vE(a,i,c,u){a.querySelector('link[rel="preload"][as="style"]['+i+"]")?u.loading=1:(i=a.createElement("link"),u.preload=i,i.addEventListener("load",function(){return u.loading|=1}),i.addEventListener("error",function(){return u.loading|=2}),Sn(i,"link",c),St(i),a.head.appendChild(i))}function Xi(a){return'[src="'+da(a)+'"]'}function ko(a){return"script[async]"+a}function Bv(a,i,c){if(i.count++,i.instance===null)switch(i.type){case"style":var u=a.querySelector('style[data-href~="'+da(c.href)+'"]');if(u)return i.instance=u,St(u),u;var x=g({},c,{"data-href":c.href,"data-precedence":c.precedence,href:null,precedence:null});return u=(a.ownerDocument||a).createElement("style"),St(u),Sn(u,"style",x),Fd(u,c.precedence,a),i.instance=u;case"stylesheet":x=Zi(c.href);var v=a.querySelector(To(x));if(v)return i.state.loading|=4,i.instance=v,St(v),v;u=Iv(c),(x=xa.get(x))&&$m(u,x),v=(a.ownerDocument||a).createElement("link"),St(v);var _=v;return _._p=new Promise(function(M,H){_.onload=M,_.onerror=H}),Sn(v,"link",u),i.state.loading|=4,Fd(v,c.precedence,a),i.instance=v;case"script":return v=Xi(c.src),(x=a.querySelector(ko(v)))?(i.instance=x,St(x),x):(u=c,(x=xa.get(v))&&(u=g({},c),Fm(u,x)),a=a.ownerDocument||a,x=a.createElement("script"),St(x),Sn(x,"link",u),a.head.appendChild(x),i.instance=x);case"void":return null;default:throw Error(s(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(u=i.instance,i.state.loading|=4,Fd(u,c.precedence,a));return i.instance}function Fd(a,i,c){for(var u=c.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),x=u.length?u[u.length-1]:null,v=x,_=0;_<u.length;_++){var M=u[_];if(M.dataset.precedence===i)v=M;else if(v!==x)break}v?v.parentNode.insertBefore(a,v.nextSibling):(i=c.nodeType===9?c.head:c,i.insertBefore(a,i.firstChild))}function $m(a,i){a.crossOrigin==null&&(a.crossOrigin=i.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=i.referrerPolicy),a.title==null&&(a.title=i.title)}function Fm(a,i){a.crossOrigin==null&&(a.crossOrigin=i.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=i.referrerPolicy),a.integrity==null&&(a.integrity=i.integrity)}var Id=null;function zv(a,i,c){if(Id===null){var u=new Map,x=Id=new Map;x.set(c,u)}else x=Id,u=x.get(c),u||(u=new Map,x.set(c,u));if(u.has(a))return u;for(u.set(a,null),c=c.getElementsByTagName(a),x=0;x<c.length;x++){var v=c[x];if(!(v[Ke]||v[me]||a==="link"&&v.getAttribute("rel")==="stylesheet")&&v.namespaceURI!=="http://www.w3.org/2000/svg"){var _=v.getAttribute(i)||"";_=a+_;var M=u.get(_);M?M.push(v):u.set(_,[v])}}return u}function qv(a,i,c){a=a.ownerDocument||a,a.head.insertBefore(c,i==="title"?a.querySelector("head > title"):null)}function yE(a,i,c){if(c===1||i.itemProp!=null)return!1;switch(a){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return a=i.disabled,typeof i.precedence=="string"&&a==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function Hv(a){return!(a.type==="stylesheet"&&(a.state.loading&3)===0)}var Do=null;function wE(){}function jE(a,i,c){if(Do===null)throw Error(s(475));var u=Do;if(i.type==="stylesheet"&&(typeof c.media!="string"||matchMedia(c.media).matches!==!1)&&(i.state.loading&4)===0){if(i.instance===null){var x=Zi(c.href),v=a.querySelector(To(x));if(v){a=v._p,a!==null&&typeof a=="object"&&typeof a.then=="function"&&(u.count++,u=Bd.bind(u),a.then(u,u)),i.state.loading|=4,i.instance=v,St(v);return}v=a.ownerDocument||a,c=Iv(c),(x=xa.get(x))&&$m(c,x),v=v.createElement("link"),St(v);var _=v;_._p=new Promise(function(M,H){_.onload=M,_.onerror=H}),Sn(v,"link",c),i.instance=v}u.stylesheets===null&&(u.stylesheets=new Map),u.stylesheets.set(i,a),(a=i.state.preload)&&(i.state.loading&3)===0&&(u.count++,i=Bd.bind(u),a.addEventListener("load",i),a.addEventListener("error",i))}}function SE(){if(Do===null)throw Error(s(475));var a=Do;return a.stylesheets&&a.count===0&&Im(a,a.stylesheets),0<a.count?function(i){var c=setTimeout(function(){if(a.stylesheets&&Im(a,a.stylesheets),a.unsuspend){var u=a.unsuspend;a.unsuspend=null,u()}},6e4);return a.unsuspend=i,function(){a.unsuspend=null,clearTimeout(c)}}:null}function Bd(){if(this.count--,this.count===0){if(this.stylesheets)Im(this,this.stylesheets);else if(this.unsuspend){var a=this.unsuspend;this.unsuspend=null,a()}}}var zd=null;function Im(a,i){a.stylesheets=null,a.unsuspend!==null&&(a.count++,zd=new Map,i.forEach(NE,a),zd=null,Bd.call(a))}function NE(a,i){if(!(i.state.loading&4)){var c=zd.get(a);if(c)var u=c.get(null);else{c=new Map,zd.set(a,c);for(var x=a.querySelectorAll("link[data-precedence],style[data-precedence]"),v=0;v<x.length;v++){var _=x[v];(_.nodeName==="LINK"||_.getAttribute("media")!=="not all")&&(c.set(_.dataset.precedence,_),u=_)}u&&c.set(null,u)}x=i.instance,_=x.getAttribute("data-precedence"),v=c.get(_)||u,v===u&&c.set(null,x),c.set(_,x),this.count++,u=Bd.bind(this),x.addEventListener("load",u),x.addEventListener("error",u),v?v.parentNode.insertBefore(x,v.nextSibling):(a=a.nodeType===9?a.head:a,a.insertBefore(x,a.firstChild)),i.state.loading|=4}}var Mo={$$typeof:N,Provider:null,Consumer:null,_currentValue:G,_currentValue2:G,_threadCount:0};function _E(a,i,c,u,x,v,_,M){this.tag=1,this.containerInfo=a,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=tr(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=tr(0),this.hiddenUpdates=tr(null),this.identifierPrefix=u,this.onUncaughtError=x,this.onCaughtError=v,this.onRecoverableError=_,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=M,this.incompleteTransitions=new Map}function Vv(a,i,c,u,x,v,_,M,H,se,de,pe){return a=new _E(a,i,c,_,M,H,se,pe),i=1,v===!0&&(i|=24),v=Jn(3,null,null,i),a.current=v,v.stateNode=a,i=wh(),i.refCount++,a.pooledCache=i,i.refCount++,v.memoizedState={element:u,isDehydrated:c,cache:i},_h(v),a}function Gv(a){return a?(a=Ai,a):Ai}function Yv(a,i,c,u,x,v){x=Gv(x),u.context===null?u.context=x:u.pendingContext=x,u=Fr(i),u.payload={element:c},v=v===void 0?null:v,v!==null&&(u.callback=v),c=Ir(a,u,i),c!==null&&(ta(c,a,i),co(c,a,i))}function Kv(a,i){if(a=a.memoizedState,a!==null&&a.dehydrated!==null){var c=a.retryLane;a.retryLane=c!==0&&c<i?c:i}}function Bm(a,i){Kv(a,i),(a=a.alternate)&&Kv(a,i)}function Wv(a){if(a.tag===13){var i=Ri(a,67108864);i!==null&&ta(i,a,67108864),Bm(a,67108864)}}var qd=!0;function CE(a,i,c,u){var x=U.T;U.T=null;var v=q.p;try{q.p=2,zm(a,i,c,u)}finally{q.p=v,U.T=x}}function EE(a,i,c,u){var x=U.T;U.T=null;var v=q.p;try{q.p=8,zm(a,i,c,u)}finally{q.p=v,U.T=x}}function zm(a,i,c,u){if(qd){var x=qm(u);if(x===null)Am(a,i,u,Hd,c),Zv(a,u);else if(AE(x,a,i,c,u))u.stopPropagation();else if(Zv(a,u),i&4&&-1<RE.indexOf(a)){for(;x!==null;){var v=jt(x);if(v!==null)switch(v.tag){case 3:if(v=v.stateNode,v.current.memoizedState.isDehydrated){var _=un(v.pendingLanes);if(_!==0){var M=v;for(M.pendingLanes|=2,M.entangledLanes|=2;_;){var H=1<<31-ut(_);M.entanglements[1]|=H,_&=~H}Ga(v),(kt&6)===0&&(Ed=Fe()+500,Eo(0))}}break;case 13:M=Ri(v,2),M!==null&&ta(M,v,2),Ad(),Bm(v,2)}if(v=qm(u),v===null&&Am(a,i,u,Hd,c),v===x)break;x=v}x!==null&&u.stopPropagation()}else Am(a,i,u,null,c)}}function qm(a){return a=Kf(a),Hm(a)}var Hd=null;function Hm(a){if(Hd=null,a=Qe(a),a!==null){var i=o(a);if(i===null)a=null;else{var c=i.tag;if(c===13){if(a=d(i),a!==null)return a;a=null}else if(c===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;a=null}else i!==a&&(a=null)}}return Hd=a,null}function Jv(a){switch(a){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(wt()){case gt:return 2;case je:return 8;case it:case at:return 32;case _t:return 268435456;default:return 32}default:return 32}}var Vm=!1,Qr=null,es=null,ts=null,Oo=new Map,Lo=new Map,ns=[],RE="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Zv(a,i){switch(a){case"focusin":case"focusout":Qr=null;break;case"dragenter":case"dragleave":es=null;break;case"mouseover":case"mouseout":ts=null;break;case"pointerover":case"pointerout":Oo.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":Lo.delete(i.pointerId)}}function Uo(a,i,c,u,x,v){return a===null||a.nativeEvent!==v?(a={blockedOn:i,domEventName:c,eventSystemFlags:u,nativeEvent:v,targetContainers:[x]},i!==null&&(i=jt(i),i!==null&&Wv(i)),a):(a.eventSystemFlags|=u,i=a.targetContainers,x!==null&&i.indexOf(x)===-1&&i.push(x),a)}function AE(a,i,c,u,x){switch(i){case"focusin":return Qr=Uo(Qr,a,i,c,u,x),!0;case"dragenter":return es=Uo(es,a,i,c,u,x),!0;case"mouseover":return ts=Uo(ts,a,i,c,u,x),!0;case"pointerover":var v=x.pointerId;return Oo.set(v,Uo(Oo.get(v)||null,a,i,c,u,x)),!0;case"gotpointercapture":return v=x.pointerId,Lo.set(v,Uo(Lo.get(v)||null,a,i,c,u,x)),!0}return!1}function Xv(a){var i=Qe(a.target);if(i!==null){var c=o(i);if(c!==null){if(i=c.tag,i===13){if(i=d(c),i!==null){a.blockedOn=i,ee(a.priority,function(){if(c.tag===13){var u=ea();u=As(u);var x=Ri(c,u);x!==null&&ta(x,c,u),Bm(c,u)}});return}}else if(i===3&&c.stateNode.current.memoizedState.isDehydrated){a.blockedOn=c.tag===3?c.stateNode.containerInfo:null;return}}}a.blockedOn=null}function Vd(a){if(a.blockedOn!==null)return!1;for(var i=a.targetContainers;0<i.length;){var c=qm(a.nativeEvent);if(c===null){c=a.nativeEvent;var u=new c.constructor(c.type,c);Yf=u,c.target.dispatchEvent(u),Yf=null}else return i=jt(c),i!==null&&Wv(i),a.blockedOn=c,!1;i.shift()}return!0}function Qv(a,i,c){Vd(a)&&c.delete(i)}function PE(){Vm=!1,Qr!==null&&Vd(Qr)&&(Qr=null),es!==null&&Vd(es)&&(es=null),ts!==null&&Vd(ts)&&(ts=null),Oo.forEach(Qv),Lo.forEach(Qv)}function Gd(a,i){a.blockedOn===i&&(a.blockedOn=null,Vm||(Vm=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,PE)))}var Yd=null;function ey(a){Yd!==a&&(Yd=a,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){Yd===a&&(Yd=null);for(var i=0;i<a.length;i+=3){var c=a[i],u=a[i+1],x=a[i+2];if(typeof u!="function"){if(Hm(u||c)===null)continue;break}var v=jt(c);v!==null&&(a.splice(i,3),i-=3,Hh(v,{pending:!0,data:x,method:c.method,action:u},u,x))}}))}function $o(a){function i(H){return Gd(H,a)}Qr!==null&&Gd(Qr,a),es!==null&&Gd(es,a),ts!==null&&Gd(ts,a),Oo.forEach(i),Lo.forEach(i);for(var c=0;c<ns.length;c++){var u=ns[c];u.blockedOn===a&&(u.blockedOn=null)}for(;0<ns.length&&(c=ns[0],c.blockedOn===null);)Xv(c),c.blockedOn===null&&ns.shift();if(c=(a.ownerDocument||a).$$reactFormReplay,c!=null)for(u=0;u<c.length;u+=3){var x=c[u],v=c[u+1],_=x[Se]||null;if(typeof v=="function")_||ey(c);else if(_){var M=null;if(v&&v.hasAttribute("formAction")){if(x=v,_=v[Se]||null)M=_.formAction;else if(Hm(x)!==null)continue}else M=_.action;typeof M=="function"?c[u+1]=M:(c.splice(u,3),u-=3),ey(c)}}}function Gm(a){this._internalRoot=a}Kd.prototype.render=Gm.prototype.render=function(a){var i=this._internalRoot;if(i===null)throw Error(s(409));var c=i.current,u=ea();Yv(c,u,a,i,null,null)},Kd.prototype.unmount=Gm.prototype.unmount=function(){var a=this._internalRoot;if(a!==null){this._internalRoot=null;var i=a.containerInfo;Yv(a.current,2,null,a,null,null),Ad(),i[Le]=null}};function Kd(a){this._internalRoot=a}Kd.prototype.unstable_scheduleHydration=function(a){if(a){var i=Y();a={blockedOn:null,target:a,priority:i};for(var c=0;c<ns.length&&i!==0&&i<ns[c].priority;c++);ns.splice(c,0,a),c===0&&Xv(a)}};var ty=t.version;if(ty!=="19.1.0")throw Error(s(527,ty,"19.1.0"));q.findDOMNode=function(a){var i=a._reactInternals;if(i===void 0)throw typeof a.render=="function"?Error(s(188)):(a=Object.keys(a).join(","),Error(s(268,a)));return a=m(i),a=a!==null?p(a):null,a=a===null?null:a.stateNode,a};var TE={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:U,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Wd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Wd.isDisabled&&Wd.supportsFiber)try{Pt=Wd.inject(TE),rt=Wd}catch{}}return Io.createRoot=function(a,i){if(!l(a))throw Error(s(299));var c=!1,u="",x=xb,v=bb,_=vb,M=null;return i!=null&&(i.unstable_strictMode===!0&&(c=!0),i.identifierPrefix!==void 0&&(u=i.identifierPrefix),i.onUncaughtError!==void 0&&(x=i.onUncaughtError),i.onCaughtError!==void 0&&(v=i.onCaughtError),i.onRecoverableError!==void 0&&(_=i.onRecoverableError),i.unstable_transitionCallbacks!==void 0&&(M=i.unstable_transitionCallbacks)),i=Vv(a,1,!1,null,null,c,u,x,v,_,M,null),a[Le]=i.current,Rm(a),new Gm(i)},Io.hydrateRoot=function(a,i,c){if(!l(a))throw Error(s(299));var u=!1,x="",v=xb,_=bb,M=vb,H=null,se=null;return c!=null&&(c.unstable_strictMode===!0&&(u=!0),c.identifierPrefix!==void 0&&(x=c.identifierPrefix),c.onUncaughtError!==void 0&&(v=c.onUncaughtError),c.onCaughtError!==void 0&&(_=c.onCaughtError),c.onRecoverableError!==void 0&&(M=c.onRecoverableError),c.unstable_transitionCallbacks!==void 0&&(H=c.unstable_transitionCallbacks),c.formState!==void 0&&(se=c.formState)),i=Vv(a,1,!0,i,c??null,u,x,v,_,M,H,se),i.context=Gv(null),c=i.current,u=ea(),u=As(u),x=Fr(u),x.callback=null,Ir(c,x,u),c=u,i.current.lanes=c,Fa(i,c),Ga(i),a[Le]=i.current,Rm(a),new Kd(i)},Io.version="19.1.0",Io}var uy;function zE(){if(uy)return Wm.exports;uy=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),Wm.exports=BE(),Wm.exports}var qE=zE(),Bo={},fy;function HE(){if(fy)return Bo;fy=1,Object.defineProperty(Bo,"__esModule",{value:!0}),Bo.parse=d,Bo.serialize=p;const e=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,t=/^[\u0021-\u003A\u003C-\u007E]*$/,n=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,s=/^[\u0020-\u003A\u003D-\u007E]*$/,l=Object.prototype.toString,o=(()=>{const y=function(){};return y.prototype=Object.create(null),y})();function d(y,w){const j=new o,S=y.length;if(S<2)return j;const E=w?.decode||g;let R=0;do{const A=y.indexOf("=",R);if(A===-1)break;const N=y.indexOf(";",R),P=N===-1?S:N;if(A>P){R=y.lastIndexOf(";",A-1)+1;continue}const T=f(y,R,A),C=m(y,A,T),k=y.slice(T,C);if(j[k]===void 0){let $=f(y,A+1,P),O=m(y,P,$);const V=E(y.slice($,O));j[k]=V}R=P+1}while(R<S);return j}function f(y,w,j){do{const S=y.charCodeAt(w);if(S!==32&&S!==9)return w}while(++w<j);return j}function m(y,w,j){for(;w>j;){const S=y.charCodeAt(--w);if(S!==32&&S!==9)return w+1}return j}function p(y,w,j){const S=j?.encode||encodeURIComponent;if(!e.test(y))throw new TypeError(`argument name is invalid: ${y}`);const E=S(w);if(!t.test(E))throw new TypeError(`argument val is invalid: ${w}`);let R=y+"="+E;if(!j)return R;if(j.maxAge!==void 0){if(!Number.isInteger(j.maxAge))throw new TypeError(`option maxAge is invalid: ${j.maxAge}`);R+="; Max-Age="+j.maxAge}if(j.domain){if(!n.test(j.domain))throw new TypeError(`option domain is invalid: ${j.domain}`);R+="; Domain="+j.domain}if(j.path){if(!s.test(j.path))throw new TypeError(`option path is invalid: ${j.path}`);R+="; Path="+j.path}if(j.expires){if(!b(j.expires)||!Number.isFinite(j.expires.valueOf()))throw new TypeError(`option expires is invalid: ${j.expires}`);R+="; Expires="+j.expires.toUTCString()}if(j.httpOnly&&(R+="; HttpOnly"),j.secure&&(R+="; Secure"),j.partitioned&&(R+="; Partitioned"),j.priority)switch(typeof j.priority=="string"?j.priority.toLowerCase():void 0){case"low":R+="; Priority=Low";break;case"medium":R+="; Priority=Medium";break;case"high":R+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${j.priority}`)}if(j.sameSite)switch(typeof j.sameSite=="string"?j.sameSite.toLowerCase():j.sameSite){case!0:case"strict":R+="; SameSite=Strict";break;case"lax":R+="; SameSite=Lax";break;case"none":R+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${j.sameSite}`)}return R}function g(y){if(y.indexOf("%")===-1)return y;try{return decodeURIComponent(y)}catch{return y}}function b(y){return l.call(y)==="[object Date]"}return Bo}HE();/**
 * react-router v7.6.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var a2=e=>{throw TypeError(e)},VE=(e,t,n)=>t.has(e)||a2("Cannot "+n),Qm=(e,t,n)=>(VE(e,t,"read from private field"),n?n.call(e):t.get(e)),GE=(e,t,n)=>t.has(e)?a2("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),hy="popstate";function YE(e={}){function t(s,l){let{pathname:o,search:d,hash:f}=s.location;return gc("",{pathname:o,search:d,hash:f},l.state&&l.state.usr||null,l.state&&l.state.key||"default")}function n(s,l){return typeof l=="string"?l:gs(l)}return WE(t,n,null,e)}function dt(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function an(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function KE(){return Math.random().toString(36).substring(2,10)}function my(e,t){return{usr:e.state,key:e.key,idx:t}}function gc(e,t,n=null,s){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?ws(t):t,state:n,key:t&&t.key||s||KE()}}function gs({pathname:e="/",search:t="",hash:n=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function ws(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substring(n),e=e.substring(0,n));let s=e.indexOf("?");s>=0&&(t.search=e.substring(s),e=e.substring(0,s)),e&&(t.pathname=e)}return t}function WE(e,t,n,s={}){let{window:l=document.defaultView,v5Compat:o=!1}=s,d=l.history,f="POP",m=null,p=g();p==null&&(p=0,d.replaceState({...d.state,idx:p},""));function g(){return(d.state||{idx:null}).idx}function b(){f="POP";let E=g(),R=E==null?null:E-p;p=E,m&&m({action:f,location:S.location,delta:R})}function y(E,R){f="PUSH";let A=gc(S.location,E,R);p=g()+1;let N=my(A,p),P=S.createHref(A);try{d.pushState(N,"",P)}catch(T){if(T instanceof DOMException&&T.name==="DataCloneError")throw T;l.location.assign(P)}o&&m&&m({action:f,location:S.location,delta:1})}function w(E,R){f="REPLACE";let A=gc(S.location,E,R);p=g();let N=my(A,p),P=S.createHref(A);d.replaceState(N,"",P),o&&m&&m({action:f,location:S.location,delta:0})}function j(E){return r2(E)}let S={get action(){return f},get location(){return e(l,d)},listen(E){if(m)throw new Error("A history only accepts one active listener");return l.addEventListener(hy,b),m=E,()=>{l.removeEventListener(hy,b),m=null}},createHref(E){return t(l,E)},createURL:j,encodeLocation(E){let R=j(E);return{pathname:R.pathname,search:R.search,hash:R.hash}},push:y,replace:w,go(E){return d.go(E)}};return S}function r2(e,t=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),dt(n,"No window.location.(origin|href) available to create URL");let s=typeof e=="string"?e:gs(e);return s=s.replace(/ $/,"%20"),!t&&s.startsWith("//")&&(s=n+s),new URL(s,n)}var Qo,py=class{constructor(e){if(GE(this,Qo,new Map),e)for(let[t,n]of e)this.set(t,n)}get(e){if(Qm(this,Qo).has(e))return Qm(this,Qo).get(e);if(e.defaultValue!==void 0)return e.defaultValue;throw new Error("No value found for context")}set(e,t){Qm(this,Qo).set(e,t)}};Qo=new WeakMap;var JE=new Set(["lazy","caseSensitive","path","id","index","children"]);function ZE(e){return JE.has(e)}var XE=new Set(["lazy","caseSensitive","path","id","index","unstable_middleware","children"]);function QE(e){return XE.has(e)}function e4(e){return e.index===!0}function Lu(e,t,n=[],s={}){return e.map((l,o)=>{let d=[...n,String(o)],f=typeof l.id=="string"?l.id:d.join("-");if(dt(l.index!==!0||!l.children,"Cannot specify children on an index route"),dt(!s[f],`Found a route id collision on id "${f}".  Route id's must be globally unique within Data Router usages`),e4(l)){let m={...l,...t(l),id:f};return s[f]=m,m}else{let m={...l,...t(l),id:f,children:void 0};return s[f]=m,l.children&&(m.children=Lu(l.children,t,d,s)),m}})}function fs(e,t,n="/"){return wu(e,t,n,!1)}function wu(e,t,n,s){let l=typeof t=="string"?ws(t):t,o=wa(l.pathname||"/",n);if(o==null)return null;let d=s2(e);n4(d);let f=null;for(let m=0;f==null&&m<d.length;++m){let p=h4(o);f=u4(d[m],p,s)}return f}function t4(e,t){let{route:n,pathname:s,params:l}=e;return{id:n.id,pathname:s,params:l,data:t[n.id],handle:n.handle}}function s2(e,t=[],n=[],s=""){let l=(o,d,f)=>{let m={relativePath:f===void 0?o.path||"":f,caseSensitive:o.caseSensitive===!0,childrenIndex:d,route:o};m.relativePath.startsWith("/")&&(dt(m.relativePath.startsWith(s),`Absolute route path "${m.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),m.relativePath=m.relativePath.slice(s.length));let p=Ja([s,m.relativePath]),g=n.concat(m);o.children&&o.children.length>0&&(dt(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${p}".`),s2(o.children,t,g,p)),!(o.path==null&&!o.index)&&t.push({path:p,score:c4(p,o.index),routesMeta:g})};return e.forEach((o,d)=>{if(o.path===""||!o.path?.includes("?"))l(o,d);else for(let f of i2(o.path))l(o,d,f)}),t}function i2(e){let t=e.split("/");if(t.length===0)return[];let[n,...s]=t,l=n.endsWith("?"),o=n.replace(/\?$/,"");if(s.length===0)return l?[o,""]:[o];let d=i2(s.join("/")),f=[];return f.push(...d.map(m=>m===""?o:[o,m].join("/"))),l&&f.push(...d),f.map(m=>e.startsWith("/")&&m===""?"/":m)}function n4(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:d4(t.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var a4=/^:[\w-]+$/,r4=3,s4=2,i4=1,l4=10,o4=-2,gy=e=>e==="*";function c4(e,t){let n=e.split("/"),s=n.length;return n.some(gy)&&(s+=o4),t&&(s+=s4),n.filter(l=>!gy(l)).reduce((l,o)=>l+(a4.test(o)?r4:o===""?i4:l4),s)}function d4(e,t){return e.length===t.length&&e.slice(0,-1).every((s,l)=>s===t[l])?e[e.length-1]-t[t.length-1]:0}function u4(e,t,n=!1){let{routesMeta:s}=e,l={},o="/",d=[];for(let f=0;f<s.length;++f){let m=s[f],p=f===s.length-1,g=o==="/"?t:t.slice(o.length)||"/",b=Uu({path:m.relativePath,caseSensitive:m.caseSensitive,end:p},g),y=m.route;if(!b&&p&&n&&!s[s.length-1].route.index&&(b=Uu({path:m.relativePath,caseSensitive:m.caseSensitive,end:!1},g)),!b)return null;Object.assign(l,b.params),d.push({params:l,pathname:Ja([o,b.pathname]),pathnameBase:g4(Ja([o,b.pathnameBase])),route:y}),b.pathnameBase!=="/"&&(o=Ja([o,b.pathnameBase]))}return d}function Uu(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,s]=f4(e.path,e.caseSensitive,e.end),l=t.match(n);if(!l)return null;let o=l[0],d=o.replace(/(.)\/+$/,"$1"),f=l.slice(1);return{params:s.reduce((p,{paramName:g,isOptional:b},y)=>{if(g==="*"){let j=f[y]||"";d=o.slice(0,o.length-j.length).replace(/(.)\/+$/,"$1")}const w=f[y];return b&&!w?p[g]=void 0:p[g]=(w||"").replace(/%2F/g,"/"),p},{}),pathname:o,pathnameBase:d,pattern:e}}function f4(e,t=!1,n=!0){an(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let s=[],l="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(d,f,m)=>(s.push({paramName:f,isOptional:m!=null}),m?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(s.push({paramName:"*"}),l+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?l+="\\/*$":e!==""&&e!=="/"&&(l+="(?:(?=\\/|$))"),[new RegExp(l,t?void 0:"i"),s]}function h4(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return an(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function wa(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,s=e.charAt(n);return s&&s!=="/"?null:e.slice(n)||"/"}function m4(e,t="/"){let{pathname:n,search:s="",hash:l=""}=typeof e=="string"?ws(e):e;return{pathname:n?n.startsWith("/")?n:p4(n,t):t,search:x4(s),hash:b4(l)}}function p4(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(l=>{l===".."?n.length>1&&n.pop():l!=="."&&n.push(l)}),n.length>1?n.join("/"):"/"}function ep(e,t,n,s){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function l2(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function sf(e){let t=l2(e);return t.map((n,s)=>s===t.length-1?n.pathname:n.pathnameBase)}function lf(e,t,n,s=!1){let l;typeof e=="string"?l=ws(e):(l={...e},dt(!l.pathname||!l.pathname.includes("?"),ep("?","pathname","search",l)),dt(!l.pathname||!l.pathname.includes("#"),ep("#","pathname","hash",l)),dt(!l.search||!l.search.includes("#"),ep("#","search","hash",l)));let o=e===""||l.pathname==="",d=o?"/":l.pathname,f;if(d==null)f=n;else{let b=t.length-1;if(!s&&d.startsWith("..")){let y=d.split("/");for(;y[0]==="..";)y.shift(),b-=1;l.pathname=y.join("/")}f=b>=0?t[b]:"/"}let m=m4(l,f),p=d&&d!=="/"&&d.endsWith("/"),g=(o||d===".")&&n.endsWith("/");return!m.pathname.endsWith("/")&&(p||g)&&(m.pathname+="/"),m}var Ja=e=>e.join("/").replace(/\/\/+/g,"/"),g4=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),x4=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,b4=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e,Yn=(e,t=302)=>{let n=t;typeof n=="number"?n={status:n}:typeof n.status>"u"&&(n.status=302);let s=new Headers(n.headers);return s.set("Location",e),new Response(null,{...n,headers:s})},$u=class{constructor(e,t,n,s=!1){this.status=e,this.statusText=t||"",this.internal=s,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function xc(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}var o2=["POST","PUT","PATCH","DELETE"],v4=new Set(o2),y4=["GET",...o2],w4=new Set(y4),j4=new Set([301,302,303,307,308]),S4=new Set([307,308]),tp={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},N4={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},zo={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},jg=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,_4=e=>({hasErrorBoundary:!!e.hasErrorBoundary}),c2="remix-router-transitions",d2=Symbol("ResetLoaderData");function C4(e){const t=e.window?e.window:typeof window<"u"?window:void 0,n=typeof t<"u"&&typeof t.document<"u"&&typeof t.document.createElement<"u";dt(e.routes.length>0,"You must provide a non-empty routes array to createRouter");let s=e.hydrationRouteProperties||[],l=e.mapRouteProperties||_4,o={},d=Lu(e.routes,l,void 0,o),f,m=e.basename||"/",p=e.dataStrategy||T4,g={unstable_middleware:!1,...e.future},b=null,y=new Set,w=null,j=null,S=null,E=e.hydrationData!=null,R=fs(d,e.history.location,m),A=!1,N=null,P;if(R==null&&!e.patchRoutesOnNavigation){let Y=ba(404,{pathname:e.history.location.pathname}),{matches:ee,route:le}=Ry(d);P=!0,R=ee,N={[le.id]:Y}}else if(R&&!e.hydrationData&&Ia(R,d,e.history.location.pathname).active&&(R=null),R)if(R.some(Y=>Y.route.lazy))P=!1;else if(!R.some(Y=>Y.route.loader))P=!0;else{let Y=e.hydrationData?e.hydrationData.loaderData:null,ee=e.hydrationData?e.hydrationData.errors:null;if(ee){let le=R.findIndex(me=>ee[me.route.id]!==void 0);P=R.slice(0,le+1).every(me=>!Op(me.route,Y,ee))}else P=R.every(le=>!Op(le.route,Y,ee))}else{P=!1,R=[];let Y=Ia(null,d,e.history.location.pathname);Y.active&&Y.matches&&(A=!0,R=Y.matches)}let T,C={historyAction:e.history.action,location:e.history.location,matches:R,initialized:P,navigation:tp,restoreScrollPosition:e.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:e.hydrationData&&e.hydrationData.loaderData||{},actionData:e.hydrationData&&e.hydrationData.actionData||null,errors:e.hydrationData&&e.hydrationData.errors||N,fetchers:new Map,blockers:new Map},k="POP",$=!1,O,V=!1,W=new Map,L=null,F=!1,B=!1,te=new Set,U=new Map,q=0,G=-1,J=new Map,D=new Set,z=new Map,ae=new Map,Q=new Set,ne=new Map,he,ge=null;function we(){if(b=e.history.listen(({action:Y,location:ee,delta:le})=>{if(he){he(),he=void 0;return}an(ne.size===0||le!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let me=_a({currentLocation:C.location,nextLocation:ee,historyAction:Y});if(me&&le!=null){let Se=new Promise(Le=>{he=Le});e.history.go(le*-1),yn(me,{state:"blocked",location:ee,proceed(){yn(me,{state:"proceeding",proceed:void 0,reset:void 0,location:ee}),Se.then(()=>e.history.go(le))},reset(){let Le=new Map(C.blockers);Le.set(me,zo),xe({blockers:Le})}});return}return Be(Y,ee)}),n){z4(t,W);let Y=()=>q4(t,W);t.addEventListener("pagehide",Y),L=()=>t.removeEventListener("pagehide",Y)}return C.initialized||Be("POP",C.location,{initialHydration:!0}),T}function Te(){b&&b(),L&&L(),y.clear(),O&&O.abort(),C.fetchers.forEach((Y,ee)=>ut(ee)),C.blockers.forEach((Y,ee)=>Kn(ee))}function ue(Y){return y.add(Y),()=>y.delete(Y)}function xe(Y,ee={}){C={...C,...Y};let le=[],me=[];C.fetchers.forEach((Se,Le)=>{Se.state==="idle"&&(Q.has(Le)?le.push(Le):me.push(Le))}),Q.forEach(Se=>{!C.fetchers.has(Se)&&!U.has(Se)&&le.push(Se)}),[...y].forEach(Se=>Se(C,{deletedFetchers:le,viewTransitionOpts:ee.viewTransitionOpts,flushSync:ee.flushSync===!0})),le.forEach(Se=>ut(Se)),me.forEach(Se=>C.fetchers.delete(Se))}function Ne(Y,ee,{flushSync:le}={}){let me=C.actionData!=null&&C.navigation.formMethod!=null&&ra(C.navigation.formMethod)&&C.navigation.state==="loading"&&Y.state?._isRedirect!==!0,Se;ee.actionData?Object.keys(ee.actionData).length>0?Se=ee.actionData:Se=null:me?Se=C.actionData:Se=null;let Le=ee.loaderData?Cy(C.loaderData,ee.loaderData,ee.matches||[],ee.errors):C.loaderData,qe=C.blockers;qe.size>0&&(qe=new Map(qe),qe.forEach((Ue,Ke)=>qe.set(Ke,zo)));let ke=$===!0||C.navigation.formMethod!=null&&ra(C.navigation.formMethod)&&Y.state?._isRedirect!==!0;f&&(d=f,f=void 0),F||k==="POP"||(k==="PUSH"?e.history.push(Y,Y.state):k==="REPLACE"&&e.history.replace(Y,Y.state));let ze;if(k==="POP"){let Ue=W.get(C.location.pathname);Ue&&Ue.has(Y.pathname)?ze={currentLocation:C.location,nextLocation:Y}:W.has(Y.pathname)&&(ze={currentLocation:Y,nextLocation:C.location})}else if(V){let Ue=W.get(C.location.pathname);Ue?Ue.add(Y.pathname):(Ue=new Set([Y.pathname]),W.set(C.location.pathname,Ue)),ze={currentLocation:C.location,nextLocation:Y}}xe({...ee,actionData:Se,loaderData:Le,historyAction:k,location:Y,initialized:!0,navigation:tp,revalidation:"idle",restoreScrollPosition:Rs(Y,ee.matches||C.matches),preventScrollReset:ke,blockers:qe},{viewTransitionOpts:ze,flushSync:le===!0}),k="POP",$=!1,V=!1,F=!1,B=!1,ge?.resolve(),ge=null}async function Pe(Y,ee){if(typeof Y=="number"){e.history.go(Y);return}let le=Mp(C.location,C.matches,m,Y,ee?.fromRouteId,ee?.relative),{path:me,submission:Se,error:Le}=xy(!1,le,ee),qe=C.location,ke=gc(C.location,me,ee&&ee.state);ke={...ke,...e.history.encodeLocation(ke)};let ze=ee&&ee.replace!=null?ee.replace:void 0,Ue="PUSH";ze===!0?Ue="REPLACE":ze===!1||Se!=null&&ra(Se.formMethod)&&Se.formAction===C.location.pathname+C.location.search&&(Ue="REPLACE");let Ke=ee&&"preventScrollReset"in ee?ee.preventScrollReset===!0:void 0,We=(ee&&ee.flushSync)===!0,Qe=_a({currentLocation:qe,nextLocation:ke,historyAction:Ue});if(Qe){yn(Qe,{state:"blocked",location:ke,proceed(){yn(Qe,{state:"proceeding",proceed:void 0,reset:void 0,location:ke}),Pe(Y,ee)},reset(){let jt=new Map(C.blockers);jt.set(Qe,zo),xe({blockers:jt})}});return}await Be(Ue,ke,{submission:Se,pendingError:Le,preventScrollReset:Ke,replace:ee&&ee.replace,enableViewTransition:ee&&ee.viewTransition,flushSync:We})}function Re(){ge||(ge=H4()),$t(),xe({revalidation:"loading"});let Y=ge.promise;return C.navigation.state==="submitting"?Y:C.navigation.state==="idle"?(Be(C.historyAction,C.location,{startUninterruptedRevalidation:!0}),Y):(Be(k||C.historyAction,C.navigation.location,{overrideNavigation:C.navigation,enableViewTransition:V===!0}),Y)}async function Be(Y,ee,le){O&&O.abort(),O=null,k=Y,F=(le&&le.startUninterruptedRevalidation)===!0,Fa(C.location,C.matches),$=(le&&le.preventScrollReset)===!0,V=(le&&le.enableViewTransition)===!0;let me=f||d,Se=le&&le.overrideNavigation,Le=le?.initialHydration&&C.matches&&C.matches.length>0&&!A?C.matches:fs(me,ee,m),qe=(le&&le.flushSync)===!0;if(Le&&C.initialized&&!B&&U4(C.location,ee)&&!(le&&le.submission&&ra(le.submission.formMethod))){Ne(ee,{matches:Le},{flushSync:qe});return}let ke=Ia(Le,me,ee.pathname);if(ke.active&&ke.matches&&(Le=ke.matches),!Le){let{error:Zt,notFoundMatches:St,route:bt}=la(ee.pathname);Ne(ee,{matches:St,loaderData:{},errors:{[bt.id]:Zt}},{flushSync:qe});return}O=new AbortController;let ze=pl(e.history,ee,O.signal,le&&le.submission),Ue=new py(e.unstable_getContext?await e.unstable_getContext():void 0),Ke;if(le&&le.pendingError)Ke=[Zs(Le).route.id,{type:"error",error:le.pendingError}];else if(le&&le.submission&&ra(le.submission.formMethod)){let Zt=await be(ze,ee,le.submission,Le,Ue,ke.active,le&&le.initialHydration===!0,{replace:le.replace,flushSync:qe});if(Zt.shortCircuited)return;if(Zt.pendingActionResult){let[St,bt]=Zt.pendingActionResult;if(aa(bt)&&xc(bt.error)&&bt.error.status===404){O=null,Ne(ee,{matches:Zt.matches,loaderData:{},errors:{[St]:bt.error}});return}}Le=Zt.matches||Le,Ke=Zt.pendingActionResult,Se=np(ee,le.submission),qe=!1,ke.active=!1,ze=pl(e.history,ze.url,ze.signal)}let{shortCircuited:We,matches:Qe,loaderData:jt,errors:qt}=await Ae(ze,ee,Le,Ue,ke.active,Se,le&&le.submission,le&&le.fetcherSubmission,le&&le.replace,le&&le.initialHydration===!0,qe,Ke);We||(O=null,Ne(ee,{matches:Qe||Le,...Ey(Ke),loaderData:jt,errors:qt}))}async function be(Y,ee,le,me,Se,Le,qe,ke={}){$t();let ze=I4(ee,le);if(xe({navigation:ze},{flushSync:ke.flushSync===!0}),Le){let We=await Ba(me,ee.pathname,Y.signal);if(We.type==="aborted")return{shortCircuited:!0};if(We.type==="error"){let Qe=Zs(We.partialMatches).route.id;return{matches:We.partialMatches,pendingActionResult:[Qe,{type:"error",error:We.error}]}}else if(We.matches)me=We.matches;else{let{notFoundMatches:Qe,error:jt,route:qt}=la(ee.pathname);return{matches:Qe,pendingActionResult:[qt.id,{type:"error",error:jt}]}}}let Ue,Ke=ec(me,ee);if(!Ke.route.action&&!Ke.route.lazy)Ue={type:"error",error:ba(405,{method:Y.method,pathname:ee.pathname,routeId:Ke.route.id})};else{let We=bl(l,o,Y,me,Ke,qe?[]:s,Se),Qe=await _t(Y,We,Se,null);if(Ue=Qe[Ke.route.id],!Ue){for(let jt of me)if(Qe[jt.route.id]){Ue=Qe[jt.route.id];break}}if(Y.signal.aborted)return{shortCircuited:!0}}if(Qs(Ue)){let We;return ke&&ke.replace!=null?We=ke.replace:We=Sy(Ue.response.headers.get("Location"),new URL(Y.url),m)===C.location.pathname+C.location.search,await at(Y,Ue,!0,{submission:le,replace:We}),{shortCircuited:!0}}if(aa(Ue)){let We=Zs(me,Ke.route.id);return(ke&&ke.replace)!==!0&&(k="PUSH"),{matches:me,pendingActionResult:[We.route.id,Ue,Ke.route.id]}}return{matches:me,pendingActionResult:[Ke.route.id,Ue]}}async function Ae(Y,ee,le,me,Se,Le,qe,ke,ze,Ue,Ke,We){let Qe=Le||np(ee,qe),jt=qe||ke||Py(Qe),qt=!F&&!Ue;if(Se){if(qt){let _n=Fe(We);xe({navigation:Qe,..._n!==void 0?{actionData:_n}:{}},{flushSync:Ke})}let ot=await Ba(le,ee.pathname,Y.signal);if(ot.type==="aborted")return{shortCircuited:!0};if(ot.type==="error"){let _n=Zs(ot.partialMatches).route.id;return{matches:ot.partialMatches,loaderData:{},errors:{[_n]:ot.error}}}else if(ot.matches)le=ot.matches;else{let{error:_n,notFoundMatches:Ca,route:Ea}=la(ee.pathname);return{matches:Ca,loaderData:{},errors:{[Ea.id]:_n}}}}let Zt=f||d,{dsMatches:St,revalidatingFetchers:bt}=by(Y,me,l,o,e.history,C,le,jt,ee,Ue?[]:s,Ue===!0,B,te,Q,z,D,Zt,m,e.patchRoutesOnNavigation!=null,We);if(G=++q,!e.dataStrategy&&!St.some(ot=>ot.shouldLoad)&&bt.length===0){let ot=Oe();return Ne(ee,{matches:le,loaderData:{},errors:We&&aa(We[1])?{[We[0]]:We[1].error}:null,...Ey(We),...ot?{fetchers:new Map(C.fetchers)}:{}},{flushSync:Ke}),{shortCircuited:!0}}if(qt){let ot={};if(!Se){ot.navigation=Qe;let _n=Fe(We);_n!==void 0&&(ot.actionData=_n)}bt.length>0&&(ot.fetchers=wt(bt)),xe(ot,{flushSync:Ke})}bt.forEach(ot=>{Nn(ot.key),ot.controller&&U.set(ot.key,ot.controller)});let kr=()=>bt.forEach(ot=>Nn(ot.key));O&&O.signal.addEventListener("abort",kr);let{loaderResults:Dn,fetcherResults:oa}=await xt(St,bt,Y,me);if(Y.signal.aborted)return{shortCircuited:!0};O&&O.signal.removeEventListener("abort",kr),bt.forEach(ot=>U.delete(ot.key));let Fn=Jd(Dn);if(Fn)return await at(Y,Fn.result,!0,{replace:ze}),{shortCircuited:!0};if(Fn=Jd(oa),Fn)return D.add(Fn.key),await at(Y,Fn.result,!0,{replace:ze}),{shortCircuited:!0};let{loaderData:Dr,errors:Mr}=_y(C,le,Dn,We,bt,oa);Ue&&C.errors&&(Mr={...C.errors,...Mr});let Hl=Oe(),ca=Tt(G),nr=Hl||ca||bt.length>0;return{matches:le,loaderData:Dr,errors:Mr,...nr?{fetchers:new Map(C.fetchers)}:{}}}function Fe(Y){if(Y&&!aa(Y[1]))return{[Y[0]]:Y[1].data};if(C.actionData)return Object.keys(C.actionData).length===0?null:C.actionData}function wt(Y){return Y.forEach(ee=>{let le=C.fetchers.get(ee.key),me=qo(void 0,le?le.data:void 0);C.fetchers.set(ee.key,me)}),new Map(C.fetchers)}async function gt(Y,ee,le,me){Nn(Y);let Se=(me&&me.flushSync)===!0,Le=f||d,qe=Mp(C.location,C.matches,m,le,ee,me?.relative),ke=fs(Le,qe,m),ze=Ia(ke,Le,qe);if(ze.active&&ze.matches&&(ke=ze.matches),!ke){rt(Y,ee,ba(404,{pathname:qe}),{flushSync:Se});return}let{path:Ue,submission:Ke,error:We}=xy(!0,qe,me);if(We){rt(Y,ee,We,{flushSync:Se});return}let Qe=ec(ke,Ue),jt=new py(e.unstable_getContext?await e.unstable_getContext():void 0),qt=(me&&me.preventScrollReset)===!0;if(Ke&&ra(Ke.formMethod)){await je(Y,ee,Ue,Qe,ke,jt,ze.active,Se,qt,Ke);return}z.set(Y,{routeId:ee,path:Ue}),await it(Y,ee,Ue,Qe,ke,jt,ze.active,Se,qt,Ke)}async function je(Y,ee,le,me,Se,Le,qe,ke,ze,Ue){$t(),z.delete(Y);function Ke(Yt){if(!Yt.route.action&&!Yt.route.lazy){let Or=ba(405,{method:Ue.formMethod,pathname:le,routeId:ee});return rt(Y,ee,Or,{flushSync:ke}),!0}return!1}if(!qe&&Ke(me))return;let We=C.fetchers.get(Y);Pt(Y,B4(Ue,We),{flushSync:ke});let Qe=new AbortController,jt=pl(e.history,le,Qe.signal,Ue);if(qe){let Yt=await Ba(Se,le,jt.signal,Y);if(Yt.type==="aborted")return;if(Yt.type==="error"){rt(Y,ee,Yt.error,{flushSync:ke});return}else if(Yt.matches){if(Se=Yt.matches,me=ec(Se,le),Ke(me))return}else{rt(Y,ee,ba(404,{pathname:le}),{flushSync:ke});return}}U.set(Y,Qe);let qt=q,Zt=bl(l,o,jt,Se,me,s,Le),bt=(await _t(jt,Zt,Le,Y))[me.route.id];if(jt.signal.aborted){U.get(Y)===Qe&&U.delete(Y);return}if(Q.has(Y)){if(Qs(bt)||aa(bt)){Pt(Y,ls(void 0));return}}else{if(Qs(bt))if(U.delete(Y),G>qt){Pt(Y,ls(void 0));return}else return D.add(Y),Pt(Y,qo(Ue)),at(jt,bt,!1,{fetcherSubmission:Ue,preventScrollReset:ze});if(aa(bt)){rt(Y,ee,bt.error);return}}let kr=C.navigation.location||C.location,Dn=pl(e.history,kr,Qe.signal),oa=f||d,Fn=C.navigation.state!=="idle"?fs(oa,C.navigation.location,m):C.matches;dt(Fn,"Didn't find any matches after fetcher action");let Dr=++q;J.set(Y,Dr);let Mr=qo(Ue,bt.data);C.fetchers.set(Y,Mr);let{dsMatches:Hl,revalidatingFetchers:ca}=by(Dn,Le,l,o,e.history,C,Fn,Ue,kr,s,!1,B,te,Q,z,D,oa,m,e.patchRoutesOnNavigation!=null,[me.route.id,bt]);ca.filter(Yt=>Yt.key!==Y).forEach(Yt=>{let Or=Yt.key,Vl=C.fetchers.get(Or),In=qo(void 0,Vl?Vl.data:void 0);C.fetchers.set(Or,In),Nn(Or),Yt.controller&&U.set(Or,Yt.controller)}),xe({fetchers:new Map(C.fetchers)});let nr=()=>ca.forEach(Yt=>Nn(Yt.key));Qe.signal.addEventListener("abort",nr);let{loaderResults:ot,fetcherResults:_n}=await xt(Hl,ca,Dn,Le);if(Qe.signal.aborted)return;if(Qe.signal.removeEventListener("abort",nr),J.delete(Y),U.delete(Y),ca.forEach(Yt=>U.delete(Yt.key)),C.fetchers.has(Y)){let Yt=ls(bt.data);C.fetchers.set(Y,Yt)}let Ca=Jd(ot);if(Ca)return at(Dn,Ca.result,!1,{preventScrollReset:ze});if(Ca=Jd(_n),Ca)return D.add(Ca.key),at(Dn,Ca.result,!1,{preventScrollReset:ze});let{loaderData:Ea,errors:Ts}=_y(C,Fn,ot,void 0,ca,_n);Tt(Dr),C.navigation.state==="loading"&&Dr>G?(dt(k,"Expected pending action"),O&&O.abort(),Ne(C.navigation.location,{matches:Fn,loaderData:Ea,errors:Ts,fetchers:new Map(C.fetchers)})):(xe({errors:Ts,loaderData:Cy(C.loaderData,Ea,Fn,Ts),fetchers:new Map(C.fetchers)}),B=!1)}async function it(Y,ee,le,me,Se,Le,qe,ke,ze,Ue){let Ke=C.fetchers.get(Y);Pt(Y,qo(Ue,Ke?Ke.data:void 0),{flushSync:ke});let We=new AbortController,Qe=pl(e.history,le,We.signal);if(qe){let bt=await Ba(Se,le,Qe.signal,Y);if(bt.type==="aborted")return;if(bt.type==="error"){rt(Y,ee,bt.error,{flushSync:ke});return}else if(bt.matches)Se=bt.matches,me=ec(Se,le);else{rt(Y,ee,ba(404,{pathname:le}),{flushSync:ke});return}}U.set(Y,We);let jt=q,qt=bl(l,o,Qe,Se,me,s,Le),St=(await _t(Qe,qt,Le,Y))[me.route.id];if(U.get(Y)===We&&U.delete(Y),!Qe.signal.aborted){if(Q.has(Y)){Pt(Y,ls(void 0));return}if(Qs(St))if(G>jt){Pt(Y,ls(void 0));return}else{D.add(Y),await at(Qe,St,!1,{preventScrollReset:ze});return}if(aa(St)){rt(Y,ee,St.error);return}Pt(Y,ls(St.data))}}async function at(Y,ee,le,{submission:me,fetcherSubmission:Se,preventScrollReset:Le,replace:qe}={}){ee.response.headers.has("X-Remix-Revalidate")&&(B=!0);let ke=ee.response.headers.get("Location");dt(ke,"Expected a Location header on the redirect Response"),ke=Sy(ke,new URL(Y.url),m);let ze=gc(C.location,ke,{_isRedirect:!0});if(n){let qt=!1;if(ee.response.headers.has("X-Remix-Reload-Document"))qt=!0;else if(jg.test(ke)){const Zt=r2(ke,!0);qt=Zt.origin!==t.location.origin||wa(Zt.pathname,m)==null}if(qt){qe?t.location.replace(ke):t.location.assign(ke);return}}O=null;let Ue=qe===!0||ee.response.headers.has("X-Remix-Replace")?"REPLACE":"PUSH",{formMethod:Ke,formAction:We,formEncType:Qe}=C.navigation;!me&&!Se&&Ke&&We&&Qe&&(me=Py(C.navigation));let jt=me||Se;if(S4.has(ee.response.status)&&jt&&ra(jt.formMethod))await Be(Ue,ze,{submission:{...jt,formAction:ke},preventScrollReset:Le||$,enableViewTransition:le?V:void 0});else{let qt=np(ze,me);await Be(Ue,ze,{overrideNavigation:qt,fetcherSubmission:Se,preventScrollReset:Le||$,enableViewTransition:le?V:void 0})}}async function _t(Y,ee,le,me){let Se,Le={};try{Se=await k4(p,Y,ee,me,le,!1)}catch(qe){return ee.filter(ke=>ke.shouldLoad).forEach(ke=>{Le[ke.route.id]={type:"error",error:qe}}),Le}if(Y.signal.aborted)return Le;for(let[qe,ke]of Object.entries(Se))if($4(ke)){let ze=ke.result;Le[qe]={type:"redirect",response:O4(ze,Y,qe,ee,m)}}else Le[qe]=await M4(ke);return Le}async function xt(Y,ee,le,me){let Se=_t(le,Y,me,null),Le=Promise.all(ee.map(async ze=>{if(ze.matches&&ze.match&&ze.request&&ze.controller){let Ke=(await _t(ze.request,ze.matches,me,ze.key))[ze.match.route.id];return{[ze.key]:Ke}}else return Promise.resolve({[ze.key]:{type:"error",error:ba(404,{pathname:ze.path})}})})),qe=await Se,ke=(await Le).reduce((ze,Ue)=>Object.assign(ze,Ue),{});return{loaderResults:qe,fetcherResults:ke}}function $t(){B=!0,z.forEach((Y,ee)=>{U.has(ee)&&te.add(ee),Nn(ee)})}function Pt(Y,ee,le={}){C.fetchers.set(Y,ee),xe({fetchers:new Map(C.fetchers)},{flushSync:(le&&le.flushSync)===!0})}function rt(Y,ee,le,me={}){let Se=Zs(C.matches,ee);ut(Y),xe({errors:{[Se.route.id]:le},fetchers:new Map(C.fetchers)},{flushSync:(me&&me.flushSync)===!0})}function Ve(Y){return ae.set(Y,(ae.get(Y)||0)+1),Q.has(Y)&&Q.delete(Y),C.fetchers.get(Y)||N4}function ut(Y){let ee=C.fetchers.get(Y);U.has(Y)&&!(ee&&ee.state==="loading"&&J.has(Y))&&Nn(Y),z.delete(Y),J.delete(Y),D.delete(Y),Q.delete(Y),te.delete(Y),C.fetchers.delete(Y)}function kn(Y){let ee=(ae.get(Y)||0)-1;ee<=0?(ae.delete(Y),Q.add(Y)):ae.set(Y,ee),xe({fetchers:new Map(C.fetchers)})}function Nn(Y){let ee=U.get(Y);ee&&(ee.abort(),U.delete(Y))}function vt(Y){for(let ee of Y){let le=Ve(ee),me=ls(le.data);C.fetchers.set(ee,me)}}function Oe(){let Y=[],ee=!1;for(let le of D){let me=C.fetchers.get(le);dt(me,`Expected fetcher: ${le}`),me.state==="loading"&&(D.delete(le),Y.push(le),ee=!0)}return vt(Y),ee}function Tt(Y){let ee=[];for(let[le,me]of J)if(me<Y){let Se=C.fetchers.get(le);dt(Se,`Expected fetcher: ${le}`),Se.state==="loading"&&(Nn(le),J.delete(le),ee.push(le))}return vt(ee),ee.length>0}function un(Y,ee){let le=C.blockers.get(Y)||zo;return ne.get(Y)!==ee&&ne.set(Y,ee),le}function Kn(Y){C.blockers.delete(Y),ne.delete(Y)}function yn(Y,ee){let le=C.blockers.get(Y)||zo;dt(le.state==="unblocked"&&ee.state==="blocked"||le.state==="blocked"&&ee.state==="blocked"||le.state==="blocked"&&ee.state==="proceeding"||le.state==="blocked"&&ee.state==="unblocked"||le.state==="proceeding"&&ee.state==="unblocked",`Invalid blocker state transition: ${le.state} -> ${ee.state}`);let me=new Map(C.blockers);me.set(Y,ee),xe({blockers:me})}function _a({currentLocation:Y,nextLocation:ee,historyAction:le}){if(ne.size===0)return;ne.size>1&&an(!1,"A router only supports one blocker at a time");let me=Array.from(ne.entries()),[Se,Le]=me[me.length-1],qe=C.blockers.get(Se);if(!(qe&&qe.state==="proceeding")&&Le({currentLocation:Y,nextLocation:ee,historyAction:le}))return Se}function la(Y){let ee=ba(404,{pathname:Y}),le=f||d,{matches:me,route:Se}=Ry(le);return{notFoundMatches:me,route:Se,error:ee}}function Es(Y,ee,le){if(w=Y,S=ee,j=le||null,!E&&C.navigation===tp){E=!0;let me=Rs(C.location,C.matches);me!=null&&xe({restoreScrollPosition:me})}return()=>{w=null,S=null,j=null}}function tr(Y,ee){return j&&j(Y,ee.map(me=>t4(me,C.loaderData)))||Y.key}function Fa(Y,ee){if(w&&S){let le=tr(Y,ee);w[le]=S()}}function Rs(Y,ee){if(w){let le=tr(Y,ee),me=w[le];if(typeof me=="number")return me}return null}function Ia(Y,ee,le){if(e.patchRoutesOnNavigation)if(Y){if(Object.keys(Y[0].params).length>0)return{active:!0,matches:wu(ee,le,m,!0)}}else return{active:!0,matches:wu(ee,le,m,!0)||[]};return{active:!1,matches:null}}async function Ba(Y,ee,le,me){if(!e.patchRoutesOnNavigation)return{type:"success",matches:Y};let Se=Y;for(;;){let Le=f==null,qe=f||d,ke=o;try{await e.patchRoutesOnNavigation({signal:le,path:ee,matches:Se,fetcherKey:me,patch:(Ke,We)=>{le.aborted||vy(Ke,We,qe,ke,l)}})}catch(Ke){return{type:"error",error:Ke,partialMatches:Se}}finally{Le&&!le.aborted&&(d=[...d])}if(le.aborted)return{type:"aborted"};let ze=fs(qe,ee,m);if(ze)return{type:"success",matches:ze};let Ue=wu(qe,ee,m,!0);if(!Ue||Se.length===Ue.length&&Se.every((Ke,We)=>Ke.route.id===Ue[We].route.id))return{type:"success",matches:null};Se=Ue}}function As(Y){o={},f=Lu(Y,l,void 0,o)}function Ps(Y,ee){let le=f==null;vy(Y,ee,f||d,o,l),le&&(d=[...d],xe({}))}return T={get basename(){return m},get future(){return g},get state(){return C},get routes(){return d},get window(){return t},initialize:we,subscribe:ue,enableScrollRestoration:Es,navigate:Pe,fetch:gt,revalidate:Re,createHref:Y=>e.history.createHref(Y),encodeLocation:Y=>e.history.encodeLocation(Y),getFetcher:Ve,deleteFetcher:kn,dispose:Te,getBlocker:un,deleteBlocker:Kn,patchRoutes:Ps,_internalFetchControllers:U,_internalSetRoutes:As},T}function E4(e){return e!=null&&("formData"in e&&e.formData!=null||"body"in e&&e.body!==void 0)}function Mp(e,t,n,s,l,o){let d,f;if(l){d=[];for(let p of t)if(d.push(p),p.route.id===l){f=p;break}}else d=t,f=t[t.length-1];let m=lf(s||".",sf(d),wa(e.pathname,n)||e.pathname,o==="path");if(s==null&&(m.search=e.search,m.hash=e.hash),(s==null||s===""||s===".")&&f){let p=Sg(m.search);if(f.route.index&&!p)m.search=m.search?m.search.replace(/^\?/,"?index&"):"?index";else if(!f.route.index&&p){let g=new URLSearchParams(m.search),b=g.getAll("index");g.delete("index"),b.filter(w=>w).forEach(w=>g.append("index",w));let y=g.toString();m.search=y?`?${y}`:""}}return n!=="/"&&(m.pathname=m.pathname==="/"?n:Ja([n,m.pathname])),gs(m)}function xy(e,t,n){if(!n||!E4(n))return{path:t};if(n.formMethod&&!F4(n.formMethod))return{path:t,error:ba(405,{method:n.formMethod})};let s=()=>({path:t,error:ba(400,{type:"invalid-body"})}),o=(n.formMethod||"get").toUpperCase(),d=g2(t);if(n.body!==void 0){if(n.formEncType==="text/plain"){if(!ra(o))return s();let b=typeof n.body=="string"?n.body:n.body instanceof FormData||n.body instanceof URLSearchParams?Array.from(n.body.entries()).reduce((y,[w,j])=>`${y}${w}=${j}
`,""):String(n.body);return{path:t,submission:{formMethod:o,formAction:d,formEncType:n.formEncType,formData:void 0,json:void 0,text:b}}}else if(n.formEncType==="application/json"){if(!ra(o))return s();try{let b=typeof n.body=="string"?JSON.parse(n.body):n.body;return{path:t,submission:{formMethod:o,formAction:d,formEncType:n.formEncType,formData:void 0,json:b,text:void 0}}}catch{return s()}}}dt(typeof FormData=="function","FormData is not available in this environment");let f,m;if(n.formData)f=Up(n.formData),m=n.formData;else if(n.body instanceof FormData)f=Up(n.body),m=n.body;else if(n.body instanceof URLSearchParams)f=n.body,m=Ny(f);else if(n.body==null)f=new URLSearchParams,m=new FormData;else try{f=new URLSearchParams(n.body),m=Ny(f)}catch{return s()}let p={formMethod:o,formAction:d,formEncType:n&&n.formEncType||"application/x-www-form-urlencoded",formData:m,json:void 0,text:void 0};if(ra(p.formMethod))return{path:t,submission:p};let g=ws(t);return e&&g.search&&Sg(g.search)&&f.append("index",""),g.search=`?${f}`,{path:gs(g),submission:p}}function by(e,t,n,s,l,o,d,f,m,p,g,b,y,w,j,S,E,R,A,N){let P=N?aa(N[1])?N[1].error:N[1].data:void 0,T=l.createURL(o.location),C=l.createURL(m),k;if(g&&o.errors){let F=Object.keys(o.errors)[0];k=d.findIndex(B=>B.route.id===F)}else if(N&&aa(N[1])){let F=N[0];k=d.findIndex(B=>B.route.id===F)-1}let $=N?N[1].statusCode:void 0,O=$&&$>=400,V={currentUrl:T,currentParams:o.matches[0]?.params||{},nextUrl:C,nextParams:d[0].params,...f,actionResult:P,actionStatus:$},W=d.map((F,B)=>{let{route:te}=F,U=null;if(k!=null&&B>k?U=!1:te.lazy?U=!0:te.loader==null?U=!1:g?U=Op(te,o.loaderData,o.errors):R4(o.loaderData,o.matches[B],F)&&(U=!0),U!==null)return Lp(n,s,e,F,p,t,U);let q=O?!1:b||T.pathname+T.search===C.pathname+C.search||T.search!==C.search||A4(o.matches[B],F),G={...V,defaultShouldRevalidate:q},J=Fu(F,G);return Lp(n,s,e,F,p,t,J,G)}),L=[];return j.forEach((F,B)=>{if(g||!d.some(ae=>ae.route.id===F.routeId)||w.has(B))return;let te=o.fetchers.get(B),U=te&&te.state!=="idle"&&te.data===void 0,q=fs(E,F.path,R);if(!q){if(A&&U)return;L.push({key:B,routeId:F.routeId,path:F.path,matches:null,match:null,request:null,controller:null});return}if(S.has(B))return;let G=ec(q,F.path),J=new AbortController,D=pl(l,F.path,J.signal),z=null;if(y.has(B))y.delete(B),z=bl(n,s,D,q,G,p,t);else if(U)b&&(z=bl(n,s,D,q,G,p,t));else{let ae={...V,defaultShouldRevalidate:O?!1:b};Fu(G,ae)&&(z=bl(n,s,D,q,G,p,t,ae))}z&&L.push({key:B,routeId:F.routeId,path:F.path,matches:z,match:G,request:D,controller:J})}),{dsMatches:W,revalidatingFetchers:L}}function Op(e,t,n){if(e.lazy)return!0;if(!e.loader)return!1;let s=t!=null&&e.id in t,l=n!=null&&n[e.id]!==void 0;return!s&&l?!1:typeof e.loader=="function"&&e.loader.hydrate===!0?!0:!s&&!l}function R4(e,t,n){let s=!t||n.route.id!==t.route.id,l=!e.hasOwnProperty(n.route.id);return s||l}function A4(e,t){let n=e.route.path;return e.pathname!==t.pathname||n!=null&&n.endsWith("*")&&e.params["*"]!==t.params["*"]}function Fu(e,t){if(e.route.shouldRevalidate){let n=e.route.shouldRevalidate(t);if(typeof n=="boolean")return n}return t.defaultShouldRevalidate}function vy(e,t,n,s,l){let o;if(e){let m=s[e];dt(m,`No route found to patch children into: routeId = ${e}`),m.children||(m.children=[]),o=m.children}else o=n;let d=t.filter(m=>!o.some(p=>u2(m,p))),f=Lu(d,l,[e||"_","patch",String(o?.length||"0")],s);o.push(...f)}function u2(e,t){return"id"in e&&"id"in t&&e.id===t.id?!0:e.index===t.index&&e.path===t.path&&e.caseSensitive===t.caseSensitive?(!e.children||e.children.length===0)&&(!t.children||t.children.length===0)?!0:e.children.every((n,s)=>t.children?.some(l=>u2(n,l))):!1}var yy=new WeakMap,f2=({key:e,route:t,manifest:n,mapRouteProperties:s})=>{let l=n[t.id];if(dt(l,"No route found in manifest"),!l.lazy||typeof l.lazy!="object")return;let o=l.lazy[e];if(!o)return;let d=yy.get(l);d||(d={},yy.set(l,d));let f=d[e];if(f)return f;let m=(async()=>{let p=ZE(e),b=l[e]!==void 0&&e!=="hasErrorBoundary";if(p)an(!p,"Route property "+e+" is not a supported lazy route property. This property will be ignored."),d[e]=Promise.resolve();else if(b)an(!1,`Route "${l.id}" has a static property "${e}" defined. The lazy property will be ignored.`);else{let y=await o();y!=null&&(Object.assign(l,{[e]:y}),Object.assign(l,s(l)))}typeof l.lazy=="object"&&(l.lazy[e]=void 0,Object.values(l.lazy).every(y=>y===void 0)&&(l.lazy=void 0))})();return d[e]=m,m},wy=new WeakMap;function P4(e,t,n,s,l){let o=n[e.id];if(dt(o,"No route found in manifest"),!e.lazy)return{lazyRoutePromise:void 0,lazyHandlerPromise:void 0};if(typeof e.lazy=="function"){let g=wy.get(o);if(g)return{lazyRoutePromise:g,lazyHandlerPromise:g};let b=(async()=>{dt(typeof e.lazy=="function","No lazy route function found");let y=await e.lazy(),w={};for(let j in y){let S=y[j];if(S===void 0)continue;let E=QE(j),A=o[j]!==void 0&&j!=="hasErrorBoundary";E?an(!E,"Route property "+j+" is not a supported property to be returned from a lazy route function. This property will be ignored."):A?an(!A,`Route "${o.id}" has a static property "${j}" defined but its lazy function is also returning a value for this property. The lazy route property "${j}" will be ignored.`):w[j]=S}Object.assign(o,w),Object.assign(o,{...s(o),lazy:void 0})})();return wy.set(o,b),b.catch(()=>{}),{lazyRoutePromise:b,lazyHandlerPromise:b}}let d=Object.keys(e.lazy),f=[],m;for(let g of d){if(l&&l.includes(g))continue;let b=f2({key:g,route:e,manifest:n,mapRouteProperties:s});b&&(f.push(b),g===t&&(m=b))}let p=f.length>0?Promise.all(f).then(()=>{}):void 0;return p?.catch(()=>{}),m?.catch(()=>{}),{lazyRoutePromise:p,lazyHandlerPromise:m}}async function jy(e){let t=e.matches.filter(l=>l.shouldLoad),n={};return(await Promise.all(t.map(l=>l.resolve()))).forEach((l,o)=>{n[t[o].route.id]=l}),n}async function T4(e){return e.matches.some(t=>t.route.unstable_middleware)?h2(e,!1,()=>jy(e),(t,n)=>({[n]:{type:"error",result:t}})):jy(e)}async function h2(e,t,n,s){let{matches:l,request:o,params:d,context:f}=e,m={handlerResult:void 0};try{let p=l.flatMap(b=>b.route.unstable_middleware?b.route.unstable_middleware.map(y=>[b.route.id,y]):[]),g=await m2({request:o,params:d,context:f},p,t,m,n);return t?g:m.handlerResult}catch(p){if(!m.middlewareError)throw p;let g=await s(m.middlewareError.error,m.middlewareError.routeId);return m.handlerResult?Object.assign(m.handlerResult,g):g}}async function m2(e,t,n,s,l,o=0){let{request:d}=e;if(d.signal.aborted)throw d.signal.reason?d.signal.reason:new Error(`Request aborted without an \`AbortSignal.reason\`: ${d.method} ${d.url}`);let f=t[o];if(!f)return s.handlerResult=await l(),s.handlerResult;let[m,p]=f,g=!1,b,y=async()=>{if(g)throw new Error("You may only call `next()` once per middleware");g=!0,await m2(e,t,n,s,l,o+1)};try{let w=await p({request:e.request,params:e.params,context:e.context},y);return g?w===void 0?b:w:y()}catch(w){throw s.middlewareError?s.middlewareError.error!==w&&(s.middlewareError={routeId:m,error:w}):s.middlewareError={routeId:m,error:w},w}}function p2(e,t,n,s,l){let o=f2({key:"unstable_middleware",route:s.route,manifest:t,mapRouteProperties:e}),d=P4(s.route,ra(n.method)?"action":"loader",t,e,l);return{middleware:o,route:d.lazyRoutePromise,handler:d.lazyHandlerPromise}}function Lp(e,t,n,s,l,o,d,f=null){let m=!1,p=p2(e,t,n,s,l);return{...s,_lazyPromises:p,shouldLoad:d,unstable_shouldRevalidateArgs:f,unstable_shouldCallHandler(g){return m=!0,f?typeof g=="boolean"?Fu(s,{...f,defaultShouldRevalidate:g}):Fu(s,f):d},resolve(g){return m||d||g&&n.method==="GET"&&(s.route.lazy||s.route.loader)?D4({request:n,match:s,lazyHandlerPromise:p?.handler,lazyRoutePromise:p?.route,handlerOverride:g,scopedContext:o}):Promise.resolve({type:"data",result:void 0})}}}function bl(e,t,n,s,l,o,d,f=null){return s.map(m=>m.route.id!==l.route.id?{...m,shouldLoad:!1,unstable_shouldRevalidateArgs:f,unstable_shouldCallHandler:()=>!1,_lazyPromises:p2(e,t,n,m,o),resolve:()=>Promise.resolve({type:"data",result:void 0})}:Lp(e,t,n,m,o,d,!0,f))}async function k4(e,t,n,s,l,o){n.some(p=>p._lazyPromises?.middleware)&&await Promise.all(n.map(p=>p._lazyPromises?.middleware));let d={request:t,params:n[0].params,context:l,matches:n},m=await e({...d,fetcherKey:s,unstable_runClientMiddleware:p=>{let g=d;return h2(g,!1,()=>p({...g,fetcherKey:s,unstable_runClientMiddleware:()=>{throw new Error("Cannot call `unstable_runClientMiddleware()` from within an `unstable_runClientMiddleware` handler")}}),(b,y)=>({[y]:{type:"error",result:b}}))}});try{await Promise.all(n.flatMap(p=>[p._lazyPromises?.handler,p._lazyPromises?.route]))}catch{}return m}async function D4({request:e,match:t,lazyHandlerPromise:n,lazyRoutePromise:s,handlerOverride:l,scopedContext:o}){let d,f,m=ra(e.method),p=m?"action":"loader",g=b=>{let y,w=new Promise((E,R)=>y=R);f=()=>y(),e.signal.addEventListener("abort",f);let j=E=>typeof b!="function"?Promise.reject(new Error(`You cannot call the handler for a route which defines a boolean "${p}" [routeId: ${t.route.id}]`)):b({request:e,params:t.params,context:o},...E!==void 0?[E]:[]),S=(async()=>{try{return{type:"data",result:await(l?l(R=>j(R)):j())}}catch(E){return{type:"error",result:E}}})();return Promise.race([S,w])};try{let b=m?t.route.action:t.route.loader;if(n||s)if(b){let y,[w]=await Promise.all([g(b).catch(j=>{y=j}),n,s]);if(y!==void 0)throw y;d=w}else{await n;let y=m?t.route.action:t.route.loader;if(y)[d]=await Promise.all([g(y),s]);else if(p==="action"){let w=new URL(e.url),j=w.pathname+w.search;throw ba(405,{method:e.method,pathname:j,routeId:t.route.id})}else return{type:"data",result:void 0}}else if(b)d=await g(b);else{let y=new URL(e.url),w=y.pathname+y.search;throw ba(404,{pathname:w})}}catch(b){return{type:"error",result:b}}finally{f&&e.signal.removeEventListener("abort",f)}return d}async function M4(e){let{result:t,type:n}=e;if(x2(t)){let s;try{let l=t.headers.get("Content-Type");l&&/\bapplication\/json\b/.test(l)?t.body==null?s=null:s=await t.json():s=await t.text()}catch(l){return{type:"error",error:l}}return n==="error"?{type:"error",error:new $u(t.status,t.statusText,s),statusCode:t.status,headers:t.headers}:{type:"data",data:s,statusCode:t.status,headers:t.headers}}return n==="error"?Ay(t)?t.data instanceof Error?{type:"error",error:t.data,statusCode:t.init?.status,headers:t.init?.headers?new Headers(t.init.headers):void 0}:{type:"error",error:new $u(t.init?.status||500,void 0,t.data),statusCode:xc(t)?t.status:void 0,headers:t.init?.headers?new Headers(t.init.headers):void 0}:{type:"error",error:t,statusCode:xc(t)?t.status:void 0}:Ay(t)?{type:"data",data:t.data,statusCode:t.init?.status,headers:t.init?.headers?new Headers(t.init.headers):void 0}:{type:"data",data:t}}function O4(e,t,n,s,l){let o=e.headers.get("Location");if(dt(o,"Redirects returned/thrown from loaders/actions must have a Location header"),!jg.test(o)){let d=s.slice(0,s.findIndex(f=>f.route.id===n)+1);o=Mp(new URL(t.url),d,l,o),e.headers.set("Location",o)}return e}function Sy(e,t,n){if(jg.test(e)){let s=e,l=s.startsWith("//")?new URL(t.protocol+s):new URL(s),o=wa(l.pathname,n)!=null;if(l.origin===t.origin&&o)return l.pathname+l.search+l.hash}return e}function pl(e,t,n,s){let l=e.createURL(g2(t)).toString(),o={signal:n};if(s&&ra(s.formMethod)){let{formMethod:d,formEncType:f}=s;o.method=d.toUpperCase(),f==="application/json"?(o.headers=new Headers({"Content-Type":f}),o.body=JSON.stringify(s.json)):f==="text/plain"?o.body=s.text:f==="application/x-www-form-urlencoded"&&s.formData?o.body=Up(s.formData):o.body=s.formData}return new Request(l,o)}function Up(e){let t=new URLSearchParams;for(let[n,s]of e.entries())t.append(n,typeof s=="string"?s:s.name);return t}function Ny(e){let t=new FormData;for(let[n,s]of e.entries())t.append(n,s);return t}function L4(e,t,n,s=!1,l=!1){let o={},d=null,f,m=!1,p={},g=n&&aa(n[1])?n[1].error:void 0;return e.forEach(b=>{if(!(b.route.id in t))return;let y=b.route.id,w=t[y];if(dt(!Qs(w),"Cannot handle redirect results in processLoaderData"),aa(w)){let j=w.error;if(g!==void 0&&(j=g,g=void 0),d=d||{},l)d[y]=j;else{let S=Zs(e,y);d[S.route.id]==null&&(d[S.route.id]=j)}s||(o[y]=d2),m||(m=!0,f=xc(w.error)?w.error.status:500),w.headers&&(p[y]=w.headers)}else o[y]=w.data,w.statusCode&&w.statusCode!==200&&!m&&(f=w.statusCode),w.headers&&(p[y]=w.headers)}),g!==void 0&&n&&(d={[n[0]]:g},n[2]&&(o[n[2]]=void 0)),{loaderData:o,errors:d,statusCode:f||200,loaderHeaders:p}}function _y(e,t,n,s,l,o){let{loaderData:d,errors:f}=L4(t,n,s);return l.filter(m=>!m.matches||m.matches.some(p=>p.shouldLoad)).forEach(m=>{let{key:p,match:g,controller:b}=m,y=o[p];if(dt(y,"Did not find corresponding fetcher result"),!(b&&b.signal.aborted))if(aa(y)){let w=Zs(e.matches,g?.route.id);f&&f[w.route.id]||(f={...f,[w.route.id]:y.error}),e.fetchers.delete(p)}else if(Qs(y))dt(!1,"Unhandled fetcher revalidation redirect");else{let w=ls(y.data);e.fetchers.set(p,w)}}),{loaderData:d,errors:f}}function Cy(e,t,n,s){let l=Object.entries(t).filter(([,o])=>o!==d2).reduce((o,[d,f])=>(o[d]=f,o),{});for(let o of n){let d=o.route.id;if(!t.hasOwnProperty(d)&&e.hasOwnProperty(d)&&o.route.loader&&(l[d]=e[d]),s&&s.hasOwnProperty(d))break}return l}function Ey(e){return e?aa(e[1])?{actionData:{}}:{actionData:{[e[0]]:e[1].data}}:{}}function Zs(e,t){return(t?e.slice(0,e.findIndex(s=>s.route.id===t)+1):[...e]).reverse().find(s=>s.route.hasErrorBoundary===!0)||e[0]}function Ry(e){let t=e.length===1?e[0]:e.find(n=>n.index||!n.path||n.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:t}],route:t}}function ba(e,{pathname:t,routeId:n,method:s,type:l,message:o}={}){let d="Unknown Server Error",f="Unknown @remix-run/router error";return e===400?(d="Bad Request",s&&t&&n?f=`You made a ${s} request to "${t}" but did not provide a \`loader\` for route "${n}", so there is no way to handle the request.`:l==="invalid-body"&&(f="Unable to encode submission body")):e===403?(d="Forbidden",f=`Route "${n}" does not match URL "${t}"`):e===404?(d="Not Found",f=`No route matches URL "${t}"`):e===405&&(d="Method Not Allowed",s&&t&&n?f=`You made a ${s.toUpperCase()} request to "${t}" but did not provide an \`action\` for route "${n}", so there is no way to handle the request.`:s&&(f=`Invalid request method "${s.toUpperCase()}"`)),new $u(e||500,d,new Error(f),!0)}function Jd(e){let t=Object.entries(e);for(let n=t.length-1;n>=0;n--){let[s,l]=t[n];if(Qs(l))return{key:s,result:l}}}function g2(e){let t=typeof e=="string"?ws(e):e;return gs({...t,hash:""})}function U4(e,t){return e.pathname!==t.pathname||e.search!==t.search?!1:e.hash===""?t.hash!=="":e.hash===t.hash?!0:t.hash!==""}function $4(e){return x2(e.result)&&j4.has(e.result.status)}function aa(e){return e.type==="error"}function Qs(e){return(e&&e.type)==="redirect"}function Ay(e){return typeof e=="object"&&e!=null&&"type"in e&&"data"in e&&"init"in e&&e.type==="DataWithResponseInit"}function x2(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.headers=="object"&&typeof e.body<"u"}function F4(e){return w4.has(e.toUpperCase())}function ra(e){return v4.has(e.toUpperCase())}function Sg(e){return new URLSearchParams(e).getAll("index").some(t=>t==="")}function ec(e,t){let n=typeof t=="string"?ws(t).search:t.search;if(e[e.length-1].route.index&&Sg(n||""))return e[e.length-1];let s=l2(e);return s[s.length-1]}function Py(e){let{formMethod:t,formAction:n,formEncType:s,text:l,formData:o,json:d}=e;if(!(!t||!n||!s)){if(l!=null)return{formMethod:t,formAction:n,formEncType:s,formData:void 0,json:void 0,text:l};if(o!=null)return{formMethod:t,formAction:n,formEncType:s,formData:o,json:void 0,text:void 0};if(d!==void 0)return{formMethod:t,formAction:n,formEncType:s,formData:void 0,json:d,text:void 0}}}function np(e,t){return t?{state:"loading",location:e,formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text}:{state:"loading",location:e,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function I4(e,t){return{state:"submitting",location:e,formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text}}function qo(e,t){return e?{state:"loading",formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text,data:t}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}function B4(e,t){return{state:"submitting",formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text,data:t?t.data:void 0}}function ls(e){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function z4(e,t){try{let n=e.sessionStorage.getItem(c2);if(n){let s=JSON.parse(n);for(let[l,o]of Object.entries(s||{}))o&&Array.isArray(o)&&t.set(l,new Set(o||[]))}}catch{}}function q4(e,t){if(t.size>0){let n={};for(let[s,l]of t)n[s]=[...l];try{e.sessionStorage.setItem(c2,JSON.stringify(n))}catch(s){an(!1,`Failed to save applied view transitions in sessionStorage (${s}).`)}}}function H4(){let e,t,n=new Promise((s,l)=>{e=async o=>{s(o);try{await n}catch{}},t=async o=>{l(o);try{await n}catch{}}});return{promise:n,resolve:e,reject:t}}var ui=h.createContext(null);ui.displayName="DataRouter";var Rc=h.createContext(null);Rc.displayName="DataRouterState";var Ng=h.createContext({isTransitioning:!1});Ng.displayName="ViewTransition";var b2=h.createContext(new Map);b2.displayName="Fetchers";var V4=h.createContext(null);V4.displayName="Await";var Ua=h.createContext(null);Ua.displayName="Navigation";var of=h.createContext(null);of.displayName="Location";var Sa=h.createContext({outlet:null,matches:[],isDataRoute:!1});Sa.displayName="Route";var _g=h.createContext(null);_g.displayName="RouteError";function G4(e,{relative:t}={}){dt(Ol(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=h.useContext(Ua),{hash:l,pathname:o,search:d}=Ac(e,{relative:t}),f=o;return n!=="/"&&(f=o==="/"?n:Ja([n,o])),s.createHref({pathname:f,search:d,hash:l})}function Ol(){return h.useContext(of)!=null}function Qa(){return dt(Ol(),"useLocation() may be used only in the context of a <Router> component."),h.useContext(of).location}var v2="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function y2(e){h.useContext(Ua).static||h.useLayoutEffect(e)}function vn(){let{isDataRoute:e}=h.useContext(Sa);return e?lR():Y4()}function Y4(){dt(Ol(),"useNavigate() may be used only in the context of a <Router> component.");let e=h.useContext(ui),{basename:t,navigator:n}=h.useContext(Ua),{matches:s}=h.useContext(Sa),{pathname:l}=Qa(),o=JSON.stringify(sf(s)),d=h.useRef(!1);return y2(()=>{d.current=!0}),h.useCallback((m,p={})=>{if(an(d.current,v2),!d.current)return;if(typeof m=="number"){n.go(m);return}let g=lf(m,JSON.parse(o),l,p.relative==="path");e==null&&t!=="/"&&(g.pathname=g.pathname==="/"?t:Ja([t,g.pathname])),(p.replace?n.replace:n.push)(g,p.state,p)},[t,n,o,l,e])}var K4=h.createContext(null);function W4(e){let t=h.useContext(Sa).outlet;return t&&h.createElement(K4.Provider,{value:e},t)}function J4(){let{matches:e}=h.useContext(Sa),t=e[e.length-1];return t?t.params:{}}function Ac(e,{relative:t}={}){let{matches:n}=h.useContext(Sa),{pathname:s}=Qa(),l=JSON.stringify(sf(n));return h.useMemo(()=>lf(e,JSON.parse(l),s,t==="path"),[e,l,s,t])}function Z4(e,t,n,s){dt(Ol(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:l}=h.useContext(Ua),{matches:o}=h.useContext(Sa),d=o[o.length-1],f=d?d.params:{},m=d?d.pathname:"/",p=d?d.pathnameBase:"/",g=d&&d.route;{let R=g&&g.path||"";S2(m,!g||R.endsWith("*")||R.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${m}" (under <Route path="${R}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${R}"> to <Route path="${R==="/"?"*":`${R}/*`}">.`)}let b=Qa(),y;y=b;let w=y.pathname||"/",j=w;if(p!=="/"){let R=p.replace(/^\//,"").split("/");j="/"+w.replace(/^\//,"").split("/").slice(R.length).join("/")}let S=fs(e,{pathname:j});return an(g||S!=null,`No routes matched location "${y.pathname}${y.search}${y.hash}" `),an(S==null||S[S.length-1].route.element!==void 0||S[S.length-1].route.Component!==void 0||S[S.length-1].route.lazy!==void 0,`Matched leaf route at location "${y.pathname}${y.search}${y.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`),nR(S&&S.map(R=>Object.assign({},R,{params:Object.assign({},f,R.params),pathname:Ja([p,l.encodeLocation?l.encodeLocation(R.pathname).pathname:R.pathname]),pathnameBase:R.pathnameBase==="/"?p:Ja([p,l.encodeLocation?l.encodeLocation(R.pathnameBase).pathname:R.pathnameBase])})),o,n,s)}function X4(){let e=iR(),t=xc(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,s="rgba(200,200,200, 0.5)",l={padding:"0.5rem",backgroundColor:s},o={padding:"2px 4px",backgroundColor:s},d=null;return console.error("Error handled by React Router default ErrorBoundary:",e),d=h.createElement(h.Fragment,null,h.createElement("p",null," Hey developer "),h.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",h.createElement("code",{style:o},"ErrorBoundary")," or"," ",h.createElement("code",{style:o},"errorElement")," prop on your route.")),h.createElement(h.Fragment,null,h.createElement("h2",null,"Unexpected Application Error!"),h.createElement("h3",{style:{fontStyle:"italic"}},t),n?h.createElement("pre",{style:l},n):null,d)}var Q4=h.createElement(X4,null),eR=class extends h.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error!==void 0?h.createElement(Sa.Provider,{value:this.props.routeContext},h.createElement(_g.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function tR({routeContext:e,match:t,children:n}){let s=h.useContext(ui);return s&&s.static&&s.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=t.route.id),h.createElement(Sa.Provider,{value:e},n)}function nR(e,t=[],n=null,s=null){if(e==null){if(!n)return null;if(n.errors)e=n.matches;else if(t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let l=e,o=n?.errors;if(o!=null){let m=l.findIndex(p=>p.route.id&&o?.[p.route.id]!==void 0);dt(m>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),l=l.slice(0,Math.min(l.length,m+1))}let d=!1,f=-1;if(n)for(let m=0;m<l.length;m++){let p=l[m];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(f=m),p.route.id){let{loaderData:g,errors:b}=n,y=p.route.loader&&!g.hasOwnProperty(p.route.id)&&(!b||b[p.route.id]===void 0);if(p.route.lazy||y){d=!0,f>=0?l=l.slice(0,f+1):l=[l[0]];break}}}return l.reduceRight((m,p,g)=>{let b,y=!1,w=null,j=null;n&&(b=o&&p.route.id?o[p.route.id]:void 0,w=p.route.errorElement||Q4,d&&(f<0&&g===0?(S2("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),y=!0,j=null):f===g&&(y=!0,j=p.route.hydrateFallbackElement||null)));let S=t.concat(l.slice(0,g+1)),E=()=>{let R;return b?R=w:y?R=j:p.route.Component?R=h.createElement(p.route.Component,null):p.route.element?R=p.route.element:R=m,h.createElement(tR,{match:p,routeContext:{outlet:m,matches:S,isDataRoute:n!=null},children:R})};return n&&(p.route.ErrorBoundary||p.route.errorElement||g===0)?h.createElement(eR,{location:n.location,revalidation:n.revalidation,component:w,error:b,children:E(),routeContext:{outlet:null,matches:S,isDataRoute:!0}}):E()},null)}function Cg(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function w2(e){let t=h.useContext(ui);return dt(t,Cg(e)),t}function cf(e){let t=h.useContext(Rc);return dt(t,Cg(e)),t}function aR(e){let t=h.useContext(Sa);return dt(t,Cg(e)),t}function df(e){let t=aR(e),n=t.matches[t.matches.length-1];return dt(n.route.id,`${e} can only be used on routes that contain a unique "id"`),n.route.id}function rR(){return df("useRouteId")}function j2(){return cf("useNavigation").navigation}function sR(){let e=w2("useRevalidator"),t=cf("useRevalidator"),n=h.useCallback(async()=>{await e.router.revalidate()},[e.router]);return h.useMemo(()=>({revalidate:n,state:t.revalidation}),[n,t.revalidation])}function fi(){let e=cf("useLoaderData"),t=df("useLoaderData");return e.loaderData[t]}function iR(){let e=h.useContext(_g),t=cf("useRouteError"),n=df("useRouteError");return e!==void 0?e:t.errors?.[n]}function lR(){let{router:e}=w2("useNavigate"),t=df("useNavigate"),n=h.useRef(!1);return y2(()=>{n.current=!0}),h.useCallback(async(l,o={})=>{an(n.current,v2),n.current&&(typeof l=="number"?e.navigate(l):await e.navigate(l,{fromRouteId:t,...o}))},[e,t])}var Ty={};function S2(e,t,n){!t&&!Ty[e]&&(Ty[e]=!0,an(!1,n))}var ky={};function Dy(e,t){!e&&!ky[t]&&(ky[t]=!0,console.warn(t))}function oR(e){let t={hasErrorBoundary:e.hasErrorBoundary||e.ErrorBoundary!=null||e.errorElement!=null};return e.Component&&(e.element&&an(!1,"You should not include both `Component` and `element` on your route - `Component` will be used."),Object.assign(t,{element:h.createElement(e.Component),Component:void 0})),e.HydrateFallback&&(e.hydrateFallbackElement&&an(!1,"You should not include both `HydrateFallback` and `hydrateFallbackElement` on your route - `HydrateFallback` will be used."),Object.assign(t,{hydrateFallbackElement:h.createElement(e.HydrateFallback),HydrateFallback:void 0})),e.ErrorBoundary&&(e.errorElement&&an(!1,"You should not include both `ErrorBoundary` and `errorElement` on your route - `ErrorBoundary` will be used."),Object.assign(t,{errorElement:h.createElement(e.ErrorBoundary),ErrorBoundary:void 0})),t}var cR=["HydrateFallback","hydrateFallbackElement"],dR=class{constructor(){this.status="pending",this.promise=new Promise((t,n)=>{this.resolve=s=>{this.status==="pending"&&(this.status="resolved",t(s))},this.reject=s=>{this.status==="pending"&&(this.status="rejected",n(s))}})}};function uR({router:e,flushSync:t}){let[n,s]=h.useState(e.state),[l,o]=h.useState(),[d,f]=h.useState({isTransitioning:!1}),[m,p]=h.useState(),[g,b]=h.useState(),[y,w]=h.useState(),j=h.useRef(new Map),S=h.useCallback((N,{deletedFetchers:P,flushSync:T,viewTransitionOpts:C})=>{N.fetchers.forEach(($,O)=>{$.data!==void 0&&j.current.set(O,$.data)}),P.forEach($=>j.current.delete($)),Dy(T===!1||t!=null,'You provided the `flushSync` option to a router update, but you are not using the `<RouterProvider>` from `react-router/dom` so `ReactDOM.flushSync()` is unavailable.  Please update your app to `import { RouterProvider } from "react-router/dom"` and ensure you have `react-dom` installed as a dependency to use the `flushSync` option.');let k=e.window!=null&&e.window.document!=null&&typeof e.window.document.startViewTransition=="function";if(Dy(C==null||k,"You provided the `viewTransition` option to a router update, but you do not appear to be running in a DOM environment as `window.startViewTransition` is not available."),!C||!k){t&&T?t(()=>s(N)):h.startTransition(()=>s(N));return}if(t&&T){t(()=>{g&&(m&&m.resolve(),g.skipTransition()),f({isTransitioning:!0,flushSync:!0,currentLocation:C.currentLocation,nextLocation:C.nextLocation})});let $=e.window.document.startViewTransition(()=>{t(()=>s(N))});$.finished.finally(()=>{t(()=>{p(void 0),b(void 0),o(void 0),f({isTransitioning:!1})})}),t(()=>b($));return}g?(m&&m.resolve(),g.skipTransition(),w({state:N,currentLocation:C.currentLocation,nextLocation:C.nextLocation})):(o(N),f({isTransitioning:!0,flushSync:!1,currentLocation:C.currentLocation,nextLocation:C.nextLocation}))},[e.window,t,g,m]);h.useLayoutEffect(()=>e.subscribe(S),[e,S]),h.useEffect(()=>{d.isTransitioning&&!d.flushSync&&p(new dR)},[d]),h.useEffect(()=>{if(m&&l&&e.window){let N=l,P=m.promise,T=e.window.document.startViewTransition(async()=>{h.startTransition(()=>s(N)),await P});T.finished.finally(()=>{p(void 0),b(void 0),o(void 0),f({isTransitioning:!1})}),b(T)}},[l,m,e.window]),h.useEffect(()=>{m&&l&&n.location.key===l.location.key&&m.resolve()},[m,g,n.location,l]),h.useEffect(()=>{!d.isTransitioning&&y&&(o(y.state),f({isTransitioning:!0,flushSync:!1,currentLocation:y.currentLocation,nextLocation:y.nextLocation}),w(void 0))},[d.isTransitioning,y]);let E=h.useMemo(()=>({createHref:e.createHref,encodeLocation:e.encodeLocation,go:N=>e.navigate(N),push:(N,P,T)=>e.navigate(N,{state:P,preventScrollReset:T?.preventScrollReset}),replace:(N,P,T)=>e.navigate(N,{replace:!0,state:P,preventScrollReset:T?.preventScrollReset})}),[e]),R=e.basename||"/",A=h.useMemo(()=>({router:e,navigator:E,static:!1,basename:R}),[e,E,R]);return h.createElement(h.Fragment,null,h.createElement(ui.Provider,{value:A},h.createElement(Rc.Provider,{value:n},h.createElement(b2.Provider,{value:j.current},h.createElement(Ng.Provider,{value:d},h.createElement(pR,{basename:R,location:n.location,navigationType:n.historyAction,navigator:E},h.createElement(fR,{routes:e.routes,future:e.future,state:n})))))),null)}var fR=h.memo(hR);function hR({routes:e,future:t,state:n}){return Z4(e,void 0,n,t)}function mR({to:e,replace:t,state:n,relative:s}){dt(Ol(),"<Navigate> may be used only in the context of a <Router> component.");let{static:l}=h.useContext(Ua);an(!l,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:o}=h.useContext(Sa),{pathname:d}=Qa(),f=vn(),m=lf(e,sf(o),d,s==="path"),p=JSON.stringify(m);return h.useEffect(()=>{f(JSON.parse(p),{replace:t,state:n,relative:s})},[f,p,s,t,n]),null}function Eg(e){return W4(e.context)}function pR({basename:e="/",children:t=null,location:n,navigationType:s="POP",navigator:l,static:o=!1}){dt(!Ol(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let d=e.replace(/^\/*/,"/"),f=h.useMemo(()=>({basename:d,navigator:l,static:o,future:{}}),[d,l,o]);typeof n=="string"&&(n=ws(n));let{pathname:m="/",search:p="",hash:g="",state:b=null,key:y="default"}=n,w=h.useMemo(()=>{let j=wa(m,d);return j==null?null:{location:{pathname:j,search:p,hash:g,state:b,key:y},navigationType:s}},[d,m,p,g,b,y,s]);return an(w!=null,`<Router basename="${d}"> is not able to match the URL "${m}${p}${g}" because it does not start with the basename, so the <Router> won't render anything.`),w==null?null:h.createElement(Ua.Provider,{value:f},h.createElement(of.Provider,{children:t,value:w}))}var ju="get",Su="application/x-www-form-urlencoded";function uf(e){return e!=null&&typeof e.tagName=="string"}function gR(e){return uf(e)&&e.tagName.toLowerCase()==="button"}function xR(e){return uf(e)&&e.tagName.toLowerCase()==="form"}function bR(e){return uf(e)&&e.tagName.toLowerCase()==="input"}function vR(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function yR(e,t){return e.button===0&&(!t||t==="_self")&&!vR(e)}var Zd=null;function wR(){if(Zd===null)try{new FormData(document.createElement("form"),0),Zd=!1}catch{Zd=!0}return Zd}var jR=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function ap(e){return e!=null&&!jR.has(e)?(an(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Su}"`),null):e}function SR(e,t){let n,s,l,o,d;if(xR(e)){let f=e.getAttribute("action");s=f?wa(f,t):null,n=e.getAttribute("method")||ju,l=ap(e.getAttribute("enctype"))||Su,o=new FormData(e)}else if(gR(e)||bR(e)&&(e.type==="submit"||e.type==="image")){let f=e.form;if(f==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let m=e.getAttribute("formaction")||f.getAttribute("action");if(s=m?wa(m,t):null,n=e.getAttribute("formmethod")||f.getAttribute("method")||ju,l=ap(e.getAttribute("formenctype"))||ap(f.getAttribute("enctype"))||Su,o=new FormData(f,e),!wR()){let{name:p,type:g,value:b}=e;if(g==="image"){let y=p?`${p}.`:"";o.append(`${y}x`,"0"),o.append(`${y}y`,"0")}else p&&o.append(p,b)}}else{if(uf(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=ju,s=null,l=Su,d=e}return o&&l==="text/plain"&&(d=o,o=void 0),{action:s,method:n.toLowerCase(),encType:l,formData:o,body:d}}function Rg(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}async function NR(e,t){if(e.id in t)return t[e.id];try{let n=await import(e.module);return t[e.id]=n,n}catch(n){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function _R(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function CR(e,t,n){let s=await Promise.all(e.map(async l=>{let o=t.routes[l.route.id];if(o){let d=await NR(o,n);return d.links?d.links():[]}return[]}));return PR(s.flat(1).filter(_R).filter(l=>l.rel==="stylesheet"||l.rel==="preload").map(l=>l.rel==="stylesheet"?{...l,rel:"prefetch",as:"style"}:{...l,rel:"prefetch"}))}function My(e,t,n,s,l,o){let d=(m,p)=>n[p]?m.route.id!==n[p].route.id:!0,f=(m,p)=>n[p].pathname!==m.pathname||n[p].route.path?.endsWith("*")&&n[p].params["*"]!==m.params["*"];return o==="assets"?t.filter((m,p)=>d(m,p)||f(m,p)):o==="data"?t.filter((m,p)=>{let g=s.routes[m.route.id];if(!g||!g.hasLoader)return!1;if(d(m,p)||f(m,p))return!0;if(m.route.shouldRevalidate){let b=m.route.shouldRevalidate({currentUrl:new URL(l.pathname+l.search+l.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(e,window.origin),nextParams:m.params,defaultShouldRevalidate:!0});if(typeof b=="boolean")return b}return!0}):[]}function ER(e,t,{includeHydrateFallback:n}={}){return RR(e.map(s=>{let l=t.routes[s.route.id];if(!l)return[];let o=[l.module];return l.clientActionModule&&(o=o.concat(l.clientActionModule)),l.clientLoaderModule&&(o=o.concat(l.clientLoaderModule)),n&&l.hydrateFallbackModule&&(o=o.concat(l.hydrateFallbackModule)),l.imports&&(o=o.concat(l.imports)),o}).flat(1))}function RR(e){return[...new Set(e)]}function AR(e){let t={},n=Object.keys(e).sort();for(let s of n)t[s]=e[s];return t}function PR(e,t){let n=new Set;return new Set(t),e.reduce((s,l)=>{let o=JSON.stringify(AR(l));return n.has(o)||(n.add(o),s.push({key:o,link:l})),s},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var TR=new Set([100,101,204,205]);function kR(e,t){let n=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return n.pathname==="/"?n.pathname="_root.data":t&&wa(n.pathname,t)==="/"?n.pathname=`${t.replace(/\/$/,"")}/_root.data`:n.pathname=`${n.pathname.replace(/\/$/,"")}.data`,n}function N2(){let e=h.useContext(ui);return Rg(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function DR(){let e=h.useContext(Rc);return Rg(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var Ag=h.createContext(void 0);Ag.displayName="FrameworkContext";function _2(){let e=h.useContext(Ag);return Rg(e,"You must render this element inside a <HydratedRouter> element"),e}function MR(e,t){let n=h.useContext(Ag),[s,l]=h.useState(!1),[o,d]=h.useState(!1),{onFocus:f,onBlur:m,onMouseEnter:p,onMouseLeave:g,onTouchStart:b}=t,y=h.useRef(null);h.useEffect(()=>{if(e==="render"&&d(!0),e==="viewport"){let S=R=>{R.forEach(A=>{d(A.isIntersecting)})},E=new IntersectionObserver(S,{threshold:.5});return y.current&&E.observe(y.current),()=>{E.disconnect()}}},[e]),h.useEffect(()=>{if(s){let S=setTimeout(()=>{d(!0)},100);return()=>{clearTimeout(S)}}},[s]);let w=()=>{l(!0)},j=()=>{l(!1),d(!1)};return n?e!=="intent"?[o,y,{}]:[o,y,{onFocus:Ho(f,w),onBlur:Ho(m,j),onMouseEnter:Ho(p,w),onMouseLeave:Ho(g,j),onTouchStart:Ho(b,w)}]:[!1,y,{}]}function Ho(e,t){return n=>{e&&e(n),n.defaultPrevented||t(n)}}function OR({page:e,...t}){let{router:n}=N2(),s=h.useMemo(()=>fs(n.routes,e,n.basename),[n.routes,e,n.basename]);return s?h.createElement(UR,{page:e,matches:s,...t}):null}function LR(e){let{manifest:t,routeModules:n}=_2(),[s,l]=h.useState([]);return h.useEffect(()=>{let o=!1;return CR(e,t,n).then(d=>{o||l(d)}),()=>{o=!0}},[e,t,n]),s}function UR({page:e,matches:t,...n}){let s=Qa(),{manifest:l,routeModules:o}=_2(),{basename:d}=N2(),{loaderData:f,matches:m}=DR(),p=h.useMemo(()=>My(e,t,m,l,s,"data"),[e,t,m,l,s]),g=h.useMemo(()=>My(e,t,m,l,s,"assets"),[e,t,m,l,s]),b=h.useMemo(()=>{if(e===s.pathname+s.search+s.hash)return[];let j=new Set,S=!1;if(t.forEach(R=>{let A=l.routes[R.route.id];!A||!A.hasLoader||(!p.some(N=>N.route.id===R.route.id)&&R.route.id in f&&o[R.route.id]?.shouldRevalidate||A.hasClientLoader?S=!0:j.add(R.route.id))}),j.size===0)return[];let E=kR(e,d);return S&&j.size>0&&E.searchParams.set("_routes",t.filter(R=>j.has(R.route.id)).map(R=>R.route.id).join(",")),[E.pathname+E.search]},[d,f,s,l,p,t,e,o]),y=h.useMemo(()=>ER(g,l),[g,l]),w=LR(g);return h.createElement(h.Fragment,null,b.map(j=>h.createElement("link",{key:j,rel:"prefetch",as:"fetch",href:j,...n})),y.map(j=>h.createElement("link",{key:j,rel:"modulepreload",href:j,...n})),w.map(({key:j,link:S})=>h.createElement("link",{key:j,...S})))}function $R(...e){return t=>{e.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})}}var C2=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{C2&&(window.__reactRouterVersion="7.6.3")}catch{}function FR(e,t){return C4({basename:t?.basename,unstable_getContext:t?.unstable_getContext,future:t?.future,history:YE({window:t?.window}),hydrationData:IR(),routes:e,mapRouteProperties:oR,hydrationRouteProperties:cR,dataStrategy:t?.dataStrategy,patchRoutesOnNavigation:t?.patchRoutesOnNavigation,window:t?.window}).initialize()}function IR(){let e=window?.__staticRouterHydrationData;return e&&e.errors&&(e={...e,errors:BR(e.errors)}),e}function BR(e){if(!e)return null;let t=Object.entries(e),n={};for(let[s,l]of t)if(l&&l.__type==="RouteErrorResponse")n[s]=new $u(l.status,l.statusText,l.data,l.internal===!0);else if(l&&l.__type==="Error"){if(l.__subType){let o=window[l.__subType];if(typeof o=="function")try{let d=new o(l.message);d.stack="",n[s]=d}catch{}}if(n[s]==null){let o=new Error(l.message);o.stack="",n[s]=o}}else n[s]=l;return n}var E2=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,At=h.forwardRef(function({onClick:t,discover:n="render",prefetch:s="none",relative:l,reloadDocument:o,replace:d,state:f,target:m,to:p,preventScrollReset:g,viewTransition:b,...y},w){let{basename:j}=h.useContext(Ua),S=typeof p=="string"&&E2.test(p),E,R=!1;if(typeof p=="string"&&S&&(E=p,C2))try{let O=new URL(window.location.href),V=p.startsWith("//")?new URL(O.protocol+p):new URL(p),W=wa(V.pathname,j);V.origin===O.origin&&W!=null?p=W+V.search+V.hash:R=!0}catch{an(!1,`<Link to="${p}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let A=G4(p,{relative:l}),[N,P,T]=MR(s,y),C=HR(p,{replace:d,state:f,target:m,preventScrollReset:g,relative:l,viewTransition:b});function k(O){t&&t(O),O.defaultPrevented||C(O)}let $=h.createElement("a",{...y,...T,href:E||A,onClick:R||o?t:k,ref:$R(w,P),target:m,"data-discover":!S&&n==="render"?"true":void 0});return N&&!S?h.createElement(h.Fragment,null,$,h.createElement(OR,{page:A})):$});At.displayName="Link";var Nu=h.forwardRef(function({"aria-current":t="page",caseSensitive:n=!1,className:s="",end:l=!1,style:o,to:d,viewTransition:f,children:m,...p},g){let b=Ac(d,{relative:p.relative}),y=Qa(),w=h.useContext(Rc),{navigator:j,basename:S}=h.useContext(Ua),E=w!=null&&WR(b)&&f===!0,R=j.encodeLocation?j.encodeLocation(b).pathname:b.pathname,A=y.pathname,N=w&&w.navigation&&w.navigation.location?w.navigation.location.pathname:null;n||(A=A.toLowerCase(),N=N?N.toLowerCase():null,R=R.toLowerCase()),N&&S&&(N=wa(N,S)||N);const P=R!=="/"&&R.endsWith("/")?R.length-1:R.length;let T=A===R||!l&&A.startsWith(R)&&A.charAt(P)==="/",C=N!=null&&(N===R||!l&&N.startsWith(R)&&N.charAt(R.length)==="/"),k={isActive:T,isPending:C,isTransitioning:E},$=T?t:void 0,O;typeof s=="function"?O=s(k):O=[s,T?"active":null,C?"pending":null,E?"transitioning":null].filter(Boolean).join(" ");let V=typeof o=="function"?o(k):o;return h.createElement(At,{...p,"aria-current":$,className:O,ref:g,style:V,to:d,viewTransition:f},typeof m=="function"?m(k):m)});Nu.displayName="NavLink";var zR=h.forwardRef(({discover:e="render",fetcherKey:t,navigate:n,reloadDocument:s,replace:l,state:o,method:d=ju,action:f,onSubmit:m,relative:p,preventScrollReset:g,viewTransition:b,...y},w)=>{let j=YR(),S=KR(f,{relative:p}),E=d.toLowerCase()==="get"?"get":"post",R=typeof f=="string"&&E2.test(f),A=N=>{if(m&&m(N),N.defaultPrevented)return;N.preventDefault();let P=N.nativeEvent.submitter,T=P?.getAttribute("formmethod")||d;j(P||N.currentTarget,{fetcherKey:t,method:T,navigate:n,replace:l,state:o,relative:p,preventScrollReset:g,viewTransition:b})};return h.createElement("form",{ref:w,method:E,action:S,onSubmit:s?m:A,...y,"data-discover":!R&&e==="render"?"true":void 0})});zR.displayName="Form";function qR(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function R2(e){let t=h.useContext(ui);return dt(t,qR(e)),t}function HR(e,{target:t,replace:n,state:s,preventScrollReset:l,relative:o,viewTransition:d}={}){let f=vn(),m=Qa(),p=Ac(e,{relative:o});return h.useCallback(g=>{if(yR(g,t)){g.preventDefault();let b=n!==void 0?n:gs(m)===gs(p);f(e,{replace:b,state:s,preventScrollReset:l,relative:o,viewTransition:d})}},[m,f,p,n,s,t,e,l,o,d])}var VR=0,GR=()=>`__${String(++VR)}__`;function YR(){let{router:e}=R2("useSubmit"),{basename:t}=h.useContext(Ua),n=rR();return h.useCallback(async(s,l={})=>{let{action:o,method:d,encType:f,formData:m,body:p}=SR(s,t);if(l.navigate===!1){let g=l.fetcherKey||GR();await e.fetch(g,n,l.action||o,{preventScrollReset:l.preventScrollReset,formData:m,body:p,formMethod:l.method||d,formEncType:l.encType||f,flushSync:l.flushSync})}else await e.navigate(l.action||o,{preventScrollReset:l.preventScrollReset,formData:m,body:p,formMethod:l.method||d,formEncType:l.encType||f,replace:l.replace,state:l.state,fromRouteId:n,flushSync:l.flushSync,viewTransition:l.viewTransition})},[e,t,n])}function KR(e,{relative:t}={}){let{basename:n}=h.useContext(Ua),s=h.useContext(Sa);dt(s,"useFormAction must be used inside a RouteContext");let[l]=s.matches.slice(-1),o={...Ac(e||".",{relative:t})},d=Qa();if(e==null){o.search=d.search;let f=new URLSearchParams(o.search),m=f.getAll("index");if(m.some(g=>g==="")){f.delete("index"),m.filter(b=>b).forEach(b=>f.append("index",b));let g=f.toString();o.search=g?`?${g}`:""}}return(!e||e===".")&&l.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(o.pathname=o.pathname==="/"?n:Ja([n,o.pathname])),gs(o)}function WR(e,t={}){let n=h.useContext(Ng);dt(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=R2("useViewTransitionState"),l=Ac(e,{relative:t.relative});if(!n.isTransitioning)return!1;let o=wa(n.currentLocation.pathname,s)||n.currentLocation.pathname,d=wa(n.nextLocation.pathname,s)||n.nextLocation.pathname;return Uu(l.pathname,d)!=null||Uu(l.pathname,o)!=null}[...TR];var _e=function(){return _e=Object.assign||function(t){for(var n,s=1,l=arguments.length;s<l;s++){n=arguments[s];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},_e.apply(this,arguments)};function Ll(e,t){var n={};for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&t.indexOf(s)<0&&(n[s]=e[s]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,s=Object.getOwnPropertySymbols(e);l<s.length;l++)t.indexOf(s[l])<0&&Object.prototype.propertyIsEnumerable.call(e,s[l])&&(n[s[l]]=e[s[l]]);return n}function JR(e,t,n){for(var s=0,l=t.length,o;s<l;s++)(o||!(s in t))&&(o||(o=Array.prototype.slice.call(t,0,s)),o[s]=t[s]);return e.concat(o||Array.prototype.slice.call(t))}var ff=n2();const ZR=wg(ff);function ps(e,t,{checkForDefaultPrevented:n=!0}={}){return function(l){if(e?.(l),n===!1||!l.defaultPrevented)return t?.(l)}}function Oy(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function A2(...e){return t=>{let n=!1;const s=e.map(l=>{const o=Oy(l,t);return!n&&typeof o=="function"&&(n=!0),o});if(n)return()=>{for(let l=0;l<s.length;l++){const o=s[l];typeof o=="function"?o():Oy(e[l],null)}}}}function Pr(...e){return h.useCallback(A2(...e),e)}function P2(e){const t=XR(e),n=h.forwardRef((s,l)=>{const{children:o,...d}=s,f=h.Children.toArray(o),m=f.find(e5);if(m){const p=m.props.children,g=f.map(b=>b===m?h.Children.count(p)>1?h.Children.only(null):h.isValidElement(p)?p.props.children:null:b);return r.jsx(t,{...d,ref:l,children:h.isValidElement(p)?h.cloneElement(p,void 0,g):null})}return r.jsx(t,{...d,ref:l,children:o})});return n.displayName=`${e}.Slot`,n}function XR(e){const t=h.forwardRef((n,s)=>{const{children:l,...o}=n;if(h.isValidElement(l)){const d=n5(l),f=t5(o,l.props);return l.type!==h.Fragment&&(f.ref=s?A2(s,d):d),h.cloneElement(l,f)}return h.Children.count(l)>1?h.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var QR=Symbol("radix.slottable");function e5(e){return h.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===QR}function t5(e,t){const n={...t};for(const s in t){const l=e[s],o=t[s];/^on[A-Z]/.test(s)?l&&o?n[s]=(...f)=>{o(...f),l(...f)}:l&&(n[s]=l):s==="style"?n[s]={...l,...o}:s==="className"&&(n[s]=[l,o].filter(Boolean).join(" "))}return{...e,...n}}function n5(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var a5=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Na=a5.reduce((e,t)=>{const n=P2(`Primitive.${t}`),s=h.forwardRef((l,o)=>{const{asChild:d,...f}=l,m=d?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),r.jsx(m,{...f,ref:o})});return s.displayName=`Primitive.${t}`,{...e,[t]:s}},{});function r5(e,t){e&&ff.flushSync(()=>e.dispatchEvent(t))}function _r(e){const t=h.useRef(e);return h.useEffect(()=>{t.current=e}),h.useMemo(()=>(...n)=>t.current?.(...n),[])}function s5(e,t=globalThis?.document){const n=_r(e);h.useEffect(()=>{const s=l=>{l.key==="Escape"&&n(l)};return t.addEventListener("keydown",s,{capture:!0}),()=>t.removeEventListener("keydown",s,{capture:!0})},[n,t])}var i5="DismissableLayer",$p="dismissableLayer.update",l5="dismissableLayer.pointerDownOutside",o5="dismissableLayer.focusOutside",Ly,T2=h.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),hf=h.forwardRef((e,t)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:s,onPointerDownOutside:l,onFocusOutside:o,onInteractOutside:d,onDismiss:f,...m}=e,p=h.useContext(T2),[g,b]=h.useState(null),y=g?.ownerDocument??globalThis?.document,[,w]=h.useState({}),j=Pr(t,k=>b(k)),S=Array.from(p.layers),[E]=[...p.layersWithOutsidePointerEventsDisabled].slice(-1),R=S.indexOf(E),A=g?S.indexOf(g):-1,N=p.layersWithOutsidePointerEventsDisabled.size>0,P=A>=R,T=u5(k=>{const $=k.target,O=[...p.branches].some(V=>V.contains($));!P||O||(l?.(k),d?.(k),k.defaultPrevented||f?.())},y),C=f5(k=>{const $=k.target;[...p.branches].some(V=>V.contains($))||(o?.(k),d?.(k),k.defaultPrevented||f?.())},y);return s5(k=>{A===p.layers.size-1&&(s?.(k),!k.defaultPrevented&&f&&(k.preventDefault(),f()))},y),h.useEffect(()=>{if(g)return n&&(p.layersWithOutsidePointerEventsDisabled.size===0&&(Ly=y.body.style.pointerEvents,y.body.style.pointerEvents="none"),p.layersWithOutsidePointerEventsDisabled.add(g)),p.layers.add(g),Uy(),()=>{n&&p.layersWithOutsidePointerEventsDisabled.size===1&&(y.body.style.pointerEvents=Ly)}},[g,y,n,p]),h.useEffect(()=>()=>{g&&(p.layers.delete(g),p.layersWithOutsidePointerEventsDisabled.delete(g),Uy())},[g,p]),h.useEffect(()=>{const k=()=>w({});return document.addEventListener($p,k),()=>document.removeEventListener($p,k)},[]),r.jsx(Na.div,{...m,ref:j,style:{pointerEvents:N?P?"auto":"none":void 0,...e.style},onFocusCapture:ps(e.onFocusCapture,C.onFocusCapture),onBlurCapture:ps(e.onBlurCapture,C.onBlurCapture),onPointerDownCapture:ps(e.onPointerDownCapture,T.onPointerDownCapture)})});hf.displayName=i5;var c5="DismissableLayerBranch",d5=h.forwardRef((e,t)=>{const n=h.useContext(T2),s=h.useRef(null),l=Pr(t,s);return h.useEffect(()=>{const o=s.current;if(o)return n.branches.add(o),()=>{n.branches.delete(o)}},[n.branches]),r.jsx(Na.div,{...e,ref:l})});d5.displayName=c5;function u5(e,t=globalThis?.document){const n=_r(e),s=h.useRef(!1),l=h.useRef(()=>{});return h.useEffect(()=>{const o=f=>{if(f.target&&!s.current){let m=function(){k2(l5,n,p,{discrete:!0})};const p={originalEvent:f};f.pointerType==="touch"?(t.removeEventListener("click",l.current),l.current=m,t.addEventListener("click",l.current,{once:!0})):m()}else t.removeEventListener("click",l.current);s.current=!1},d=window.setTimeout(()=>{t.addEventListener("pointerdown",o)},0);return()=>{window.clearTimeout(d),t.removeEventListener("pointerdown",o),t.removeEventListener("click",l.current)}},[t,n]),{onPointerDownCapture:()=>s.current=!0}}function f5(e,t=globalThis?.document){const n=_r(e),s=h.useRef(!1);return h.useEffect(()=>{const l=o=>{o.target&&!s.current&&k2(o5,n,{originalEvent:o},{discrete:!1})};return t.addEventListener("focusin",l),()=>t.removeEventListener("focusin",l)},[t,n]),{onFocusCapture:()=>s.current=!0,onBlurCapture:()=>s.current=!1}}function Uy(){const e=new CustomEvent($p);document.dispatchEvent(e)}function k2(e,t,n,{discrete:s}){const l=n.originalEvent.target,o=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&l.addEventListener(e,t,{once:!0}),s?r5(l,o):l.dispatchEvent(o)}var rp=0;function Pg(){h.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??$y()),document.body.insertAdjacentElement("beforeend",e[1]??$y()),rp++,()=>{rp===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),rp--}},[])}function $y(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var sp="focusScope.autoFocusOnMount",ip="focusScope.autoFocusOnUnmount",Fy={bubbles:!1,cancelable:!0},h5="FocusScope",mf=h.forwardRef((e,t)=>{const{loop:n=!1,trapped:s=!1,onMountAutoFocus:l,onUnmountAutoFocus:o,...d}=e,[f,m]=h.useState(null),p=_r(l),g=_r(o),b=h.useRef(null),y=Pr(t,S=>m(S)),w=h.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;h.useEffect(()=>{if(s){let S=function(N){if(w.paused||!f)return;const P=N.target;f.contains(P)?b.current=P:os(b.current,{select:!0})},E=function(N){if(w.paused||!f)return;const P=N.relatedTarget;P!==null&&(f.contains(P)||os(b.current,{select:!0}))},R=function(N){if(document.activeElement===document.body)for(const T of N)T.removedNodes.length>0&&os(f)};document.addEventListener("focusin",S),document.addEventListener("focusout",E);const A=new MutationObserver(R);return f&&A.observe(f,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",S),document.removeEventListener("focusout",E),A.disconnect()}}},[s,f,w.paused]),h.useEffect(()=>{if(f){By.add(w);const S=document.activeElement;if(!f.contains(S)){const R=new CustomEvent(sp,Fy);f.addEventListener(sp,p),f.dispatchEvent(R),R.defaultPrevented||(m5(v5(D2(f)),{select:!0}),document.activeElement===S&&os(f))}return()=>{f.removeEventListener(sp,p),setTimeout(()=>{const R=new CustomEvent(ip,Fy);f.addEventListener(ip,g),f.dispatchEvent(R),R.defaultPrevented||os(S??document.body,{select:!0}),f.removeEventListener(ip,g),By.remove(w)},0)}}},[f,p,g,w]);const j=h.useCallback(S=>{if(!n&&!s||w.paused)return;const E=S.key==="Tab"&&!S.altKey&&!S.ctrlKey&&!S.metaKey,R=document.activeElement;if(E&&R){const A=S.currentTarget,[N,P]=p5(A);N&&P?!S.shiftKey&&R===P?(S.preventDefault(),n&&os(N,{select:!0})):S.shiftKey&&R===N&&(S.preventDefault(),n&&os(P,{select:!0})):R===A&&S.preventDefault()}},[n,s,w.paused]);return r.jsx(Na.div,{tabIndex:-1,...d,ref:y,onKeyDown:j})});mf.displayName=h5;function m5(e,{select:t=!1}={}){const n=document.activeElement;for(const s of e)if(os(s,{select:t}),document.activeElement!==n)return}function p5(e){const t=D2(e),n=Iy(t,e),s=Iy(t.reverse(),e);return[n,s]}function D2(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:s=>{const l=s.tagName==="INPUT"&&s.type==="hidden";return s.disabled||s.hidden||l?NodeFilter.FILTER_SKIP:s.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function Iy(e,t){for(const n of e)if(!g5(n,{upTo:t}))return n}function g5(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function x5(e){return e instanceof HTMLInputElement&&"select"in e}function os(e,{select:t=!1}={}){if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&x5(e)&&t&&e.select()}}var By=b5();function b5(){let e=[];return{add(t){const n=e[0];t!==n&&n?.pause(),e=zy(e,t),e.unshift(t)},remove(t){e=zy(e,t),e[0]?.resume()}}}function zy(e,t){const n=[...e],s=n.indexOf(t);return s!==-1&&n.splice(s,1),n}function v5(e){return e.filter(t=>t.tagName!=="A")}const y5=["top","right","bottom","left"],xs=Math.min,sa=Math.max,Iu=Math.round,Xd=Math.floor,Za=e=>({x:e,y:e}),w5={left:"right",right:"left",bottom:"top",top:"bottom"},j5={start:"end",end:"start"};function Fp(e,t,n){return sa(e,xs(t,n))}function Cr(e,t){return typeof e=="function"?e(t):e}function Er(e){return e.split("-")[0]}function Ul(e){return e.split("-")[1]}function Tg(e){return e==="x"?"y":"x"}function kg(e){return e==="y"?"height":"width"}function bs(e){return["top","bottom"].includes(Er(e))?"y":"x"}function Dg(e){return Tg(bs(e))}function S5(e,t,n){n===void 0&&(n=!1);const s=Ul(e),l=Dg(e),o=kg(l);let d=l==="x"?s===(n?"end":"start")?"right":"left":s==="start"?"bottom":"top";return t.reference[o]>t.floating[o]&&(d=Bu(d)),[d,Bu(d)]}function N5(e){const t=Bu(e);return[Ip(e),t,Ip(t)]}function Ip(e){return e.replace(/start|end/g,t=>j5[t])}function _5(e,t,n){const s=["left","right"],l=["right","left"],o=["top","bottom"],d=["bottom","top"];switch(e){case"top":case"bottom":return n?t?l:s:t?s:l;case"left":case"right":return t?o:d;default:return[]}}function C5(e,t,n,s){const l=Ul(e);let o=_5(Er(e),n==="start",s);return l&&(o=o.map(d=>d+"-"+l),t&&(o=o.concat(o.map(Ip)))),o}function Bu(e){return e.replace(/left|right|bottom|top/g,t=>w5[t])}function E5(e){return{top:0,right:0,bottom:0,left:0,...e}}function M2(e){return typeof e!="number"?E5(e):{top:e,right:e,bottom:e,left:e}}function zu(e){const{x:t,y:n,width:s,height:l}=e;return{width:s,height:l,top:n,left:t,right:t+s,bottom:n+l,x:t,y:n}}function qy(e,t,n){let{reference:s,floating:l}=e;const o=bs(t),d=Dg(t),f=kg(d),m=Er(t),p=o==="y",g=s.x+s.width/2-l.width/2,b=s.y+s.height/2-l.height/2,y=s[f]/2-l[f]/2;let w;switch(m){case"top":w={x:g,y:s.y-l.height};break;case"bottom":w={x:g,y:s.y+s.height};break;case"right":w={x:s.x+s.width,y:b};break;case"left":w={x:s.x-l.width,y:b};break;default:w={x:s.x,y:s.y}}switch(Ul(t)){case"start":w[d]-=y*(n&&p?-1:1);break;case"end":w[d]+=y*(n&&p?-1:1);break}return w}const R5=async(e,t,n)=>{const{placement:s="bottom",strategy:l="absolute",middleware:o=[],platform:d}=n,f=o.filter(Boolean),m=await(d.isRTL==null?void 0:d.isRTL(t));let p=await d.getElementRects({reference:e,floating:t,strategy:l}),{x:g,y:b}=qy(p,s,m),y=s,w={},j=0;for(let S=0;S<f.length;S++){const{name:E,fn:R}=f[S],{x:A,y:N,data:P,reset:T}=await R({x:g,y:b,initialPlacement:s,placement:y,strategy:l,middlewareData:w,rects:p,platform:d,elements:{reference:e,floating:t}});g=A??g,b=N??b,w={...w,[E]:{...w[E],...P}},T&&j<=50&&(j++,typeof T=="object"&&(T.placement&&(y=T.placement),T.rects&&(p=T.rects===!0?await d.getElementRects({reference:e,floating:t,strategy:l}):T.rects),{x:g,y:b}=qy(p,y,m)),S=-1)}return{x:g,y:b,placement:y,strategy:l,middlewareData:w}};async function bc(e,t){var n;t===void 0&&(t={});const{x:s,y:l,platform:o,rects:d,elements:f,strategy:m}=e,{boundary:p="clippingAncestors",rootBoundary:g="viewport",elementContext:b="floating",altBoundary:y=!1,padding:w=0}=Cr(t,e),j=M2(w),E=f[y?b==="floating"?"reference":"floating":b],R=zu(await o.getClippingRect({element:(n=await(o.isElement==null?void 0:o.isElement(E)))==null||n?E:E.contextElement||await(o.getDocumentElement==null?void 0:o.getDocumentElement(f.floating)),boundary:p,rootBoundary:g,strategy:m})),A=b==="floating"?{x:s,y:l,width:d.floating.width,height:d.floating.height}:d.reference,N=await(o.getOffsetParent==null?void 0:o.getOffsetParent(f.floating)),P=await(o.isElement==null?void 0:o.isElement(N))?await(o.getScale==null?void 0:o.getScale(N))||{x:1,y:1}:{x:1,y:1},T=zu(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({elements:f,rect:A,offsetParent:N,strategy:m}):A);return{top:(R.top-T.top+j.top)/P.y,bottom:(T.bottom-R.bottom+j.bottom)/P.y,left:(R.left-T.left+j.left)/P.x,right:(T.right-R.right+j.right)/P.x}}const A5=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:s,placement:l,rects:o,platform:d,elements:f,middlewareData:m}=t,{element:p,padding:g=0}=Cr(e,t)||{};if(p==null)return{};const b=M2(g),y={x:n,y:s},w=Dg(l),j=kg(w),S=await d.getDimensions(p),E=w==="y",R=E?"top":"left",A=E?"bottom":"right",N=E?"clientHeight":"clientWidth",P=o.reference[j]+o.reference[w]-y[w]-o.floating[j],T=y[w]-o.reference[w],C=await(d.getOffsetParent==null?void 0:d.getOffsetParent(p));let k=C?C[N]:0;(!k||!await(d.isElement==null?void 0:d.isElement(C)))&&(k=f.floating[N]||o.floating[j]);const $=P/2-T/2,O=k/2-S[j]/2-1,V=xs(b[R],O),W=xs(b[A],O),L=V,F=k-S[j]-W,B=k/2-S[j]/2+$,te=Fp(L,B,F),U=!m.arrow&&Ul(l)!=null&&B!==te&&o.reference[j]/2-(B<L?V:W)-S[j]/2<0,q=U?B<L?B-L:B-F:0;return{[w]:y[w]+q,data:{[w]:te,centerOffset:B-te-q,...U&&{alignmentOffset:q}},reset:U}}}),P5=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,s;const{placement:l,middlewareData:o,rects:d,initialPlacement:f,platform:m,elements:p}=t,{mainAxis:g=!0,crossAxis:b=!0,fallbackPlacements:y,fallbackStrategy:w="bestFit",fallbackAxisSideDirection:j="none",flipAlignment:S=!0,...E}=Cr(e,t);if((n=o.arrow)!=null&&n.alignmentOffset)return{};const R=Er(l),A=bs(f),N=Er(f)===f,P=await(m.isRTL==null?void 0:m.isRTL(p.floating)),T=y||(N||!S?[Bu(f)]:N5(f)),C=j!=="none";!y&&C&&T.push(...C5(f,S,j,P));const k=[f,...T],$=await bc(t,E),O=[];let V=((s=o.flip)==null?void 0:s.overflows)||[];if(g&&O.push($[R]),b){const B=S5(l,d,P);O.push($[B[0]],$[B[1]])}if(V=[...V,{placement:l,overflows:O}],!O.every(B=>B<=0)){var W,L;const B=(((W=o.flip)==null?void 0:W.index)||0)+1,te=k[B];if(te)return{data:{index:B,overflows:V},reset:{placement:te}};let U=(L=V.filter(q=>q.overflows[0]<=0).sort((q,G)=>q.overflows[1]-G.overflows[1])[0])==null?void 0:L.placement;if(!U)switch(w){case"bestFit":{var F;const q=(F=V.filter(G=>{if(C){const J=bs(G.placement);return J===A||J==="y"}return!0}).map(G=>[G.placement,G.overflows.filter(J=>J>0).reduce((J,D)=>J+D,0)]).sort((G,J)=>G[1]-J[1])[0])==null?void 0:F[0];q&&(U=q);break}case"initialPlacement":U=f;break}if(l!==U)return{reset:{placement:U}}}return{}}}};function Hy(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function Vy(e){return y5.some(t=>e[t]>=0)}const T5=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:n}=t,{strategy:s="referenceHidden",...l}=Cr(e,t);switch(s){case"referenceHidden":{const o=await bc(t,{...l,elementContext:"reference"}),d=Hy(o,n.reference);return{data:{referenceHiddenOffsets:d,referenceHidden:Vy(d)}}}case"escaped":{const o=await bc(t,{...l,altBoundary:!0}),d=Hy(o,n.floating);return{data:{escapedOffsets:d,escaped:Vy(d)}}}default:return{}}}}};async function k5(e,t){const{placement:n,platform:s,elements:l}=e,o=await(s.isRTL==null?void 0:s.isRTL(l.floating)),d=Er(n),f=Ul(n),m=bs(n)==="y",p=["left","top"].includes(d)?-1:1,g=o&&m?-1:1,b=Cr(t,e);let{mainAxis:y,crossAxis:w,alignmentAxis:j}=typeof b=="number"?{mainAxis:b,crossAxis:0,alignmentAxis:null}:{mainAxis:b.mainAxis||0,crossAxis:b.crossAxis||0,alignmentAxis:b.alignmentAxis};return f&&typeof j=="number"&&(w=f==="end"?j*-1:j),m?{x:w*g,y:y*p}:{x:y*p,y:w*g}}const D5=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,s;const{x:l,y:o,placement:d,middlewareData:f}=t,m=await k5(t,e);return d===((n=f.offset)==null?void 0:n.placement)&&(s=f.arrow)!=null&&s.alignmentOffset?{}:{x:l+m.x,y:o+m.y,data:{...m,placement:d}}}}},M5=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:s,placement:l}=t,{mainAxis:o=!0,crossAxis:d=!1,limiter:f={fn:E=>{let{x:R,y:A}=E;return{x:R,y:A}}},...m}=Cr(e,t),p={x:n,y:s},g=await bc(t,m),b=bs(Er(l)),y=Tg(b);let w=p[y],j=p[b];if(o){const E=y==="y"?"top":"left",R=y==="y"?"bottom":"right",A=w+g[E],N=w-g[R];w=Fp(A,w,N)}if(d){const E=b==="y"?"top":"left",R=b==="y"?"bottom":"right",A=j+g[E],N=j-g[R];j=Fp(A,j,N)}const S=f.fn({...t,[y]:w,[b]:j});return{...S,data:{x:S.x-n,y:S.y-s,enabled:{[y]:o,[b]:d}}}}}},O5=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:n,y:s,placement:l,rects:o,middlewareData:d}=t,{offset:f=0,mainAxis:m=!0,crossAxis:p=!0}=Cr(e,t),g={x:n,y:s},b=bs(l),y=Tg(b);let w=g[y],j=g[b];const S=Cr(f,t),E=typeof S=="number"?{mainAxis:S,crossAxis:0}:{mainAxis:0,crossAxis:0,...S};if(m){const N=y==="y"?"height":"width",P=o.reference[y]-o.floating[N]+E.mainAxis,T=o.reference[y]+o.reference[N]-E.mainAxis;w<P?w=P:w>T&&(w=T)}if(p){var R,A;const N=y==="y"?"width":"height",P=["top","left"].includes(Er(l)),T=o.reference[b]-o.floating[N]+(P&&((R=d.offset)==null?void 0:R[b])||0)+(P?0:E.crossAxis),C=o.reference[b]+o.reference[N]+(P?0:((A=d.offset)==null?void 0:A[b])||0)-(P?E.crossAxis:0);j<T?j=T:j>C&&(j=C)}return{[y]:w,[b]:j}}}},L5=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var n,s;const{placement:l,rects:o,platform:d,elements:f}=t,{apply:m=()=>{},...p}=Cr(e,t),g=await bc(t,p),b=Er(l),y=Ul(l),w=bs(l)==="y",{width:j,height:S}=o.floating;let E,R;b==="top"||b==="bottom"?(E=b,R=y===(await(d.isRTL==null?void 0:d.isRTL(f.floating))?"start":"end")?"left":"right"):(R=b,E=y==="end"?"top":"bottom");const A=S-g.top-g.bottom,N=j-g.left-g.right,P=xs(S-g[E],A),T=xs(j-g[R],N),C=!t.middlewareData.shift;let k=P,$=T;if((n=t.middlewareData.shift)!=null&&n.enabled.x&&($=N),(s=t.middlewareData.shift)!=null&&s.enabled.y&&(k=A),C&&!y){const V=sa(g.left,0),W=sa(g.right,0),L=sa(g.top,0),F=sa(g.bottom,0);w?$=j-2*(V!==0||W!==0?V+W:sa(g.left,g.right)):k=S-2*(L!==0||F!==0?L+F:sa(g.top,g.bottom))}await m({...t,availableWidth:$,availableHeight:k});const O=await d.getDimensions(f.floating);return j!==O.width||S!==O.height?{reset:{rects:!0}}:{}}}};function pf(){return typeof window<"u"}function $l(e){return O2(e)?(e.nodeName||"").toLowerCase():"#document"}function ia(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function er(e){var t;return(t=(O2(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function O2(e){return pf()?e instanceof Node||e instanceof ia(e).Node:!1}function Oa(e){return pf()?e instanceof Element||e instanceof ia(e).Element:!1}function Xa(e){return pf()?e instanceof HTMLElement||e instanceof ia(e).HTMLElement:!1}function Gy(e){return!pf()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof ia(e).ShadowRoot}function Pc(e){const{overflow:t,overflowX:n,overflowY:s,display:l}=La(e);return/auto|scroll|overlay|hidden|clip/.test(t+s+n)&&!["inline","contents"].includes(l)}function U5(e){return["table","td","th"].includes($l(e))}function gf(e){return[":popover-open",":modal"].some(t=>{try{return e.matches(t)}catch{return!1}})}function Mg(e){const t=Og(),n=Oa(e)?La(e):e;return["transform","translate","scale","rotate","perspective"].some(s=>n[s]?n[s]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(s=>(n.willChange||"").includes(s))||["paint","layout","strict","content"].some(s=>(n.contain||"").includes(s))}function $5(e){let t=vs(e);for(;Xa(t)&&!jl(t);){if(Mg(t))return t;if(gf(t))return null;t=vs(t)}return null}function Og(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function jl(e){return["html","body","#document"].includes($l(e))}function La(e){return ia(e).getComputedStyle(e)}function xf(e){return Oa(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function vs(e){if($l(e)==="html")return e;const t=e.assignedSlot||e.parentNode||Gy(e)&&e.host||er(e);return Gy(t)?t.host:t}function L2(e){const t=vs(e);return jl(t)?e.ownerDocument?e.ownerDocument.body:e.body:Xa(t)&&Pc(t)?t:L2(t)}function vc(e,t,n){var s;t===void 0&&(t=[]),n===void 0&&(n=!0);const l=L2(e),o=l===((s=e.ownerDocument)==null?void 0:s.body),d=ia(l);if(o){const f=Bp(d);return t.concat(d,d.visualViewport||[],Pc(l)?l:[],f&&n?vc(f):[])}return t.concat(l,vc(l,[],n))}function Bp(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function U2(e){const t=La(e);let n=parseFloat(t.width)||0,s=parseFloat(t.height)||0;const l=Xa(e),o=l?e.offsetWidth:n,d=l?e.offsetHeight:s,f=Iu(n)!==o||Iu(s)!==d;return f&&(n=o,s=d),{width:n,height:s,$:f}}function Lg(e){return Oa(e)?e:e.contextElement}function vl(e){const t=Lg(e);if(!Xa(t))return Za(1);const n=t.getBoundingClientRect(),{width:s,height:l,$:o}=U2(t);let d=(o?Iu(n.width):n.width)/s,f=(o?Iu(n.height):n.height)/l;return(!d||!Number.isFinite(d))&&(d=1),(!f||!Number.isFinite(f))&&(f=1),{x:d,y:f}}const F5=Za(0);function $2(e){const t=ia(e);return!Og()||!t.visualViewport?F5:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function I5(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==ia(e)?!1:t}function li(e,t,n,s){t===void 0&&(t=!1),n===void 0&&(n=!1);const l=e.getBoundingClientRect(),o=Lg(e);let d=Za(1);t&&(s?Oa(s)&&(d=vl(s)):d=vl(e));const f=I5(o,n,s)?$2(o):Za(0);let m=(l.left+f.x)/d.x,p=(l.top+f.y)/d.y,g=l.width/d.x,b=l.height/d.y;if(o){const y=ia(o),w=s&&Oa(s)?ia(s):s;let j=y,S=Bp(j);for(;S&&s&&w!==j;){const E=vl(S),R=S.getBoundingClientRect(),A=La(S),N=R.left+(S.clientLeft+parseFloat(A.paddingLeft))*E.x,P=R.top+(S.clientTop+parseFloat(A.paddingTop))*E.y;m*=E.x,p*=E.y,g*=E.x,b*=E.y,m+=N,p+=P,j=ia(S),S=Bp(j)}}return zu({width:g,height:b,x:m,y:p})}function Ug(e,t){const n=xf(e).scrollLeft;return t?t.left+n:li(er(e)).left+n}function F2(e,t,n){n===void 0&&(n=!1);const s=e.getBoundingClientRect(),l=s.left+t.scrollLeft-(n?0:Ug(e,s)),o=s.top+t.scrollTop;return{x:l,y:o}}function B5(e){let{elements:t,rect:n,offsetParent:s,strategy:l}=e;const o=l==="fixed",d=er(s),f=t?gf(t.floating):!1;if(s===d||f&&o)return n;let m={scrollLeft:0,scrollTop:0},p=Za(1);const g=Za(0),b=Xa(s);if((b||!b&&!o)&&(($l(s)!=="body"||Pc(d))&&(m=xf(s)),Xa(s))){const w=li(s);p=vl(s),g.x=w.x+s.clientLeft,g.y=w.y+s.clientTop}const y=d&&!b&&!o?F2(d,m,!0):Za(0);return{width:n.width*p.x,height:n.height*p.y,x:n.x*p.x-m.scrollLeft*p.x+g.x+y.x,y:n.y*p.y-m.scrollTop*p.y+g.y+y.y}}function z5(e){return Array.from(e.getClientRects())}function q5(e){const t=er(e),n=xf(e),s=e.ownerDocument.body,l=sa(t.scrollWidth,t.clientWidth,s.scrollWidth,s.clientWidth),o=sa(t.scrollHeight,t.clientHeight,s.scrollHeight,s.clientHeight);let d=-n.scrollLeft+Ug(e);const f=-n.scrollTop;return La(s).direction==="rtl"&&(d+=sa(t.clientWidth,s.clientWidth)-l),{width:l,height:o,x:d,y:f}}function H5(e,t){const n=ia(e),s=er(e),l=n.visualViewport;let o=s.clientWidth,d=s.clientHeight,f=0,m=0;if(l){o=l.width,d=l.height;const p=Og();(!p||p&&t==="fixed")&&(f=l.offsetLeft,m=l.offsetTop)}return{width:o,height:d,x:f,y:m}}function V5(e,t){const n=li(e,!0,t==="fixed"),s=n.top+e.clientTop,l=n.left+e.clientLeft,o=Xa(e)?vl(e):Za(1),d=e.clientWidth*o.x,f=e.clientHeight*o.y,m=l*o.x,p=s*o.y;return{width:d,height:f,x:m,y:p}}function Yy(e,t,n){let s;if(t==="viewport")s=H5(e,n);else if(t==="document")s=q5(er(e));else if(Oa(t))s=V5(t,n);else{const l=$2(e);s={x:t.x-l.x,y:t.y-l.y,width:t.width,height:t.height}}return zu(s)}function I2(e,t){const n=vs(e);return n===t||!Oa(n)||jl(n)?!1:La(n).position==="fixed"||I2(n,t)}function G5(e,t){const n=t.get(e);if(n)return n;let s=vc(e,[],!1).filter(f=>Oa(f)&&$l(f)!=="body"),l=null;const o=La(e).position==="fixed";let d=o?vs(e):e;for(;Oa(d)&&!jl(d);){const f=La(d),m=Mg(d);!m&&f.position==="fixed"&&(l=null),(o?!m&&!l:!m&&f.position==="static"&&!!l&&["absolute","fixed"].includes(l.position)||Pc(d)&&!m&&I2(e,d))?s=s.filter(g=>g!==d):l=f,d=vs(d)}return t.set(e,s),s}function Y5(e){let{element:t,boundary:n,rootBoundary:s,strategy:l}=e;const d=[...n==="clippingAncestors"?gf(t)?[]:G5(t,this._c):[].concat(n),s],f=d[0],m=d.reduce((p,g)=>{const b=Yy(t,g,l);return p.top=sa(b.top,p.top),p.right=xs(b.right,p.right),p.bottom=xs(b.bottom,p.bottom),p.left=sa(b.left,p.left),p},Yy(t,f,l));return{width:m.right-m.left,height:m.bottom-m.top,x:m.left,y:m.top}}function K5(e){const{width:t,height:n}=U2(e);return{width:t,height:n}}function W5(e,t,n){const s=Xa(t),l=er(t),o=n==="fixed",d=li(e,!0,o,t);let f={scrollLeft:0,scrollTop:0};const m=Za(0);if(s||!s&&!o)if(($l(t)!=="body"||Pc(l))&&(f=xf(t)),s){const y=li(t,!0,o,t);m.x=y.x+t.clientLeft,m.y=y.y+t.clientTop}else l&&(m.x=Ug(l));const p=l&&!s&&!o?F2(l,f):Za(0),g=d.left+f.scrollLeft-m.x-p.x,b=d.top+f.scrollTop-m.y-p.y;return{x:g,y:b,width:d.width,height:d.height}}function lp(e){return La(e).position==="static"}function Ky(e,t){if(!Xa(e)||La(e).position==="fixed")return null;if(t)return t(e);let n=e.offsetParent;return er(e)===n&&(n=n.ownerDocument.body),n}function B2(e,t){const n=ia(e);if(gf(e))return n;if(!Xa(e)){let l=vs(e);for(;l&&!jl(l);){if(Oa(l)&&!lp(l))return l;l=vs(l)}return n}let s=Ky(e,t);for(;s&&U5(s)&&lp(s);)s=Ky(s,t);return s&&jl(s)&&lp(s)&&!Mg(s)?n:s||$5(e)||n}const J5=async function(e){const t=this.getOffsetParent||B2,n=this.getDimensions,s=await n(e.floating);return{reference:W5(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:s.width,height:s.height}}};function Z5(e){return La(e).direction==="rtl"}const X5={convertOffsetParentRelativeRectToViewportRelativeRect:B5,getDocumentElement:er,getClippingRect:Y5,getOffsetParent:B2,getElementRects:J5,getClientRects:z5,getDimensions:K5,getScale:vl,isElement:Oa,isRTL:Z5};function z2(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function Q5(e,t){let n=null,s;const l=er(e);function o(){var f;clearTimeout(s),(f=n)==null||f.disconnect(),n=null}function d(f,m){f===void 0&&(f=!1),m===void 0&&(m=1),o();const p=e.getBoundingClientRect(),{left:g,top:b,width:y,height:w}=p;if(f||t(),!y||!w)return;const j=Xd(b),S=Xd(l.clientWidth-(g+y)),E=Xd(l.clientHeight-(b+w)),R=Xd(g),N={rootMargin:-j+"px "+-S+"px "+-E+"px "+-R+"px",threshold:sa(0,xs(1,m))||1};let P=!0;function T(C){const k=C[0].intersectionRatio;if(k!==m){if(!P)return d();k?d(!1,k):s=setTimeout(()=>{d(!1,1e-7)},1e3)}k===1&&!z2(p,e.getBoundingClientRect())&&d(),P=!1}try{n=new IntersectionObserver(T,{...N,root:l.ownerDocument})}catch{n=new IntersectionObserver(T,N)}n.observe(e)}return d(!0),o}function eA(e,t,n,s){s===void 0&&(s={});const{ancestorScroll:l=!0,ancestorResize:o=!0,elementResize:d=typeof ResizeObserver=="function",layoutShift:f=typeof IntersectionObserver=="function",animationFrame:m=!1}=s,p=Lg(e),g=l||o?[...p?vc(p):[],...vc(t)]:[];g.forEach(R=>{l&&R.addEventListener("scroll",n,{passive:!0}),o&&R.addEventListener("resize",n)});const b=p&&f?Q5(p,n):null;let y=-1,w=null;d&&(w=new ResizeObserver(R=>{let[A]=R;A&&A.target===p&&w&&(w.unobserve(t),cancelAnimationFrame(y),y=requestAnimationFrame(()=>{var N;(N=w)==null||N.observe(t)})),n()}),p&&!m&&w.observe(p),w.observe(t));let j,S=m?li(e):null;m&&E();function E(){const R=li(e);S&&!z2(S,R)&&n(),S=R,j=requestAnimationFrame(E)}return n(),()=>{var R;g.forEach(A=>{l&&A.removeEventListener("scroll",n),o&&A.removeEventListener("resize",n)}),b?.(),(R=w)==null||R.disconnect(),w=null,m&&cancelAnimationFrame(j)}}const tA=D5,nA=M5,aA=P5,rA=L5,sA=T5,Wy=A5,iA=O5,lA=(e,t,n)=>{const s=new Map,l={platform:X5,...n},o={...l.platform,_c:s};return R5(e,t,{...l,platform:o})};var _u=typeof document<"u"?h.useLayoutEffect:h.useEffect;function qu(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,s,l;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(s=n;s--!==0;)if(!qu(e[s],t[s]))return!1;return!0}if(l=Object.keys(e),n=l.length,n!==Object.keys(t).length)return!1;for(s=n;s--!==0;)if(!{}.hasOwnProperty.call(t,l[s]))return!1;for(s=n;s--!==0;){const o=l[s];if(!(o==="_owner"&&e.$$typeof)&&!qu(e[o],t[o]))return!1}return!0}return e!==e&&t!==t}function q2(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function Jy(e,t){const n=q2(e);return Math.round(t*n)/n}function op(e){const t=h.useRef(e);return _u(()=>{t.current=e}),t}function oA(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:s=[],platform:l,elements:{reference:o,floating:d}={},transform:f=!0,whileElementsMounted:m,open:p}=e,[g,b]=h.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[y,w]=h.useState(s);qu(y,s)||w(s);const[j,S]=h.useState(null),[E,R]=h.useState(null),A=h.useCallback(G=>{G!==C.current&&(C.current=G,S(G))},[]),N=h.useCallback(G=>{G!==k.current&&(k.current=G,R(G))},[]),P=o||j,T=d||E,C=h.useRef(null),k=h.useRef(null),$=h.useRef(g),O=m!=null,V=op(m),W=op(l),L=op(p),F=h.useCallback(()=>{if(!C.current||!k.current)return;const G={placement:t,strategy:n,middleware:y};W.current&&(G.platform=W.current),lA(C.current,k.current,G).then(J=>{const D={...J,isPositioned:L.current!==!1};B.current&&!qu($.current,D)&&($.current=D,ff.flushSync(()=>{b(D)}))})},[y,t,n,W,L]);_u(()=>{p===!1&&$.current.isPositioned&&($.current.isPositioned=!1,b(G=>({...G,isPositioned:!1})))},[p]);const B=h.useRef(!1);_u(()=>(B.current=!0,()=>{B.current=!1}),[]),_u(()=>{if(P&&(C.current=P),T&&(k.current=T),P&&T){if(V.current)return V.current(P,T,F);F()}},[P,T,F,V,O]);const te=h.useMemo(()=>({reference:C,floating:k,setReference:A,setFloating:N}),[A,N]),U=h.useMemo(()=>({reference:P,floating:T}),[P,T]),q=h.useMemo(()=>{const G={position:n,left:0,top:0};if(!U.floating)return G;const J=Jy(U.floating,g.x),D=Jy(U.floating,g.y);return f?{...G,transform:"translate("+J+"px, "+D+"px)",...q2(U.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:J,top:D}},[n,f,U.floating,g.x,g.y]);return h.useMemo(()=>({...g,update:F,refs:te,elements:U,floatingStyles:q}),[g,F,te,U,q])}const cA=e=>{function t(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:e,fn(n){const{element:s,padding:l}=typeof e=="function"?e(n):e;return s&&t(s)?s.current!=null?Wy({element:s.current,padding:l}).fn(n):{}:s?Wy({element:s,padding:l}).fn(n):{}}}},dA=(e,t)=>({...tA(e),options:[e,t]}),uA=(e,t)=>({...nA(e),options:[e,t]}),fA=(e,t)=>({...iA(e),options:[e,t]}),hA=(e,t)=>({...aA(e),options:[e,t]}),mA=(e,t)=>({...rA(e),options:[e,t]}),pA=(e,t)=>({...sA(e),options:[e,t]}),gA=(e,t)=>({...cA(e),options:[e,t]});var xA="Arrow",H2=h.forwardRef((e,t)=>{const{children:n,width:s=10,height:l=5,...o}=e;return r.jsx(Na.svg,{...o,ref:t,width:s,height:l,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?n:r.jsx("polygon",{points:"0,0 30,0 15,10"})})});H2.displayName=xA;var bA=H2;function vA(e,t){const n=h.createContext(t),s=o=>{const{children:d,...f}=o,m=h.useMemo(()=>f,Object.values(f));return r.jsx(n.Provider,{value:m,children:d})};s.displayName=e+"Provider";function l(o){const d=h.useContext(n);if(d)return d;if(t!==void 0)return t;throw new Error(`\`${o}\` must be used within \`${e}\``)}return[s,l]}function V2(e,t=[]){let n=[];function s(o,d){const f=h.createContext(d),m=n.length;n=[...n,d];const p=b=>{const{scope:y,children:w,...j}=b,S=y?.[e]?.[m]||f,E=h.useMemo(()=>j,Object.values(j));return r.jsx(S.Provider,{value:E,children:w})};p.displayName=o+"Provider";function g(b,y){const w=y?.[e]?.[m]||f,j=h.useContext(w);if(j)return j;if(d!==void 0)return d;throw new Error(`\`${b}\` must be used within \`${o}\``)}return[p,g]}const l=()=>{const o=n.map(d=>h.createContext(d));return function(f){const m=f?.[e]||o;return h.useMemo(()=>({[`__scope${e}`]:{...f,[e]:m}}),[f,m])}};return l.scopeName=e,[s,yA(l,...t)]}function yA(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const s=e.map(l=>({useScope:l(),scopeName:l.scopeName}));return function(o){const d=s.reduce((f,{useScope:m,scopeName:p})=>{const b=m(o)[`__scope${p}`];return{...f,...b}},{});return h.useMemo(()=>({[`__scope${t.scopeName}`]:d}),[d])}};return n.scopeName=t.scopeName,n}var zp=globalThis?.document?h.useLayoutEffect:()=>{};function wA(e){const[t,n]=h.useState(void 0);return zp(()=>{if(e){n({width:e.offsetWidth,height:e.offsetHeight});const s=new ResizeObserver(l=>{if(!Array.isArray(l)||!l.length)return;const o=l[0];let d,f;if("borderBoxSize"in o){const m=o.borderBoxSize,p=Array.isArray(m)?m[0]:m;d=p.inlineSize,f=p.blockSize}else d=e.offsetWidth,f=e.offsetHeight;n({width:d,height:f})});return s.observe(e,{box:"border-box"}),()=>s.unobserve(e)}else n(void 0)},[e]),t}var $g="Popper",[G2,bf]=V2($g),[jA,Y2]=G2($g),K2=e=>{const{__scopePopper:t,children:n}=e,[s,l]=h.useState(null);return r.jsx(jA,{scope:t,anchor:s,onAnchorChange:l,children:n})};K2.displayName=$g;var W2="PopperAnchor",J2=h.forwardRef((e,t)=>{const{__scopePopper:n,virtualRef:s,...l}=e,o=Y2(W2,n),d=h.useRef(null),f=Pr(t,d);return h.useEffect(()=>{o.onAnchorChange(s?.current||d.current)}),s?null:r.jsx(Na.div,{...l,ref:f})});J2.displayName=W2;var Fg="PopperContent",[SA,NA]=G2(Fg),Z2=h.forwardRef((e,t)=>{const{__scopePopper:n,side:s="bottom",sideOffset:l=0,align:o="center",alignOffset:d=0,arrowPadding:f=0,avoidCollisions:m=!0,collisionBoundary:p=[],collisionPadding:g=0,sticky:b="partial",hideWhenDetached:y=!1,updatePositionStrategy:w="optimized",onPlaced:j,...S}=e,E=Y2(Fg,n),[R,A]=h.useState(null),N=Pr(t,we=>A(we)),[P,T]=h.useState(null),C=wA(P),k=C?.width??0,$=C?.height??0,O=s+(o!=="center"?"-"+o:""),V=typeof g=="number"?g:{top:0,right:0,bottom:0,left:0,...g},W=Array.isArray(p)?p:[p],L=W.length>0,F={padding:V,boundary:W.filter(CA),altBoundary:L},{refs:B,floatingStyles:te,placement:U,isPositioned:q,middlewareData:G}=oA({strategy:"fixed",placement:O,whileElementsMounted:(...we)=>eA(...we,{animationFrame:w==="always"}),elements:{reference:E.anchor},middleware:[dA({mainAxis:l+$,alignmentAxis:d}),m&&uA({mainAxis:!0,crossAxis:!1,limiter:b==="partial"?fA():void 0,...F}),m&&hA({...F}),mA({...F,apply:({elements:we,rects:Te,availableWidth:ue,availableHeight:xe})=>{const{width:Ne,height:Pe}=Te.reference,Re=we.floating.style;Re.setProperty("--radix-popper-available-width",`${ue}px`),Re.setProperty("--radix-popper-available-height",`${xe}px`),Re.setProperty("--radix-popper-anchor-width",`${Ne}px`),Re.setProperty("--radix-popper-anchor-height",`${Pe}px`)}}),P&&gA({element:P,padding:f}),EA({arrowWidth:k,arrowHeight:$}),y&&pA({strategy:"referenceHidden",...F})]}),[J,D]=ej(U),z=_r(j);zp(()=>{q&&z?.()},[q,z]);const ae=G.arrow?.x,Q=G.arrow?.y,ne=G.arrow?.centerOffset!==0,[he,ge]=h.useState();return zp(()=>{R&&ge(window.getComputedStyle(R).zIndex)},[R]),r.jsx("div",{ref:B.setFloating,"data-radix-popper-content-wrapper":"",style:{...te,transform:q?te.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:he,"--radix-popper-transform-origin":[G.transformOrigin?.x,G.transformOrigin?.y].join(" "),...G.hide?.referenceHidden&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:r.jsx(SA,{scope:n,placedSide:J,onArrowChange:T,arrowX:ae,arrowY:Q,shouldHideArrow:ne,children:r.jsx(Na.div,{"data-side":J,"data-align":D,...S,ref:N,style:{...S.style,animation:q?void 0:"none"}})})})});Z2.displayName=Fg;var X2="PopperArrow",_A={top:"bottom",right:"left",bottom:"top",left:"right"},Q2=h.forwardRef(function(t,n){const{__scopePopper:s,...l}=t,o=NA(X2,s),d=_A[o.placedSide];return r.jsx("span",{ref:o.onArrowChange,style:{position:"absolute",left:o.arrowX,top:o.arrowY,[d]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[o.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[o.placedSide],visibility:o.shouldHideArrow?"hidden":void 0},children:r.jsx(bA,{...l,ref:n,style:{...l.style,display:"block"}})})});Q2.displayName=X2;function CA(e){return e!==null}var EA=e=>({name:"transformOrigin",options:e,fn(t){const{placement:n,rects:s,middlewareData:l}=t,d=l.arrow?.centerOffset!==0,f=d?0:e.arrowWidth,m=d?0:e.arrowHeight,[p,g]=ej(n),b={start:"0%",center:"50%",end:"100%"}[g],y=(l.arrow?.x??0)+f/2,w=(l.arrow?.y??0)+m/2;let j="",S="";return p==="bottom"?(j=d?b:`${y}px`,S=`${-m}px`):p==="top"?(j=d?b:`${y}px`,S=`${s.floating.height+m}px`):p==="right"?(j=`${-m}px`,S=d?b:`${w}px`):p==="left"&&(j=`${s.floating.width+m}px`,S=d?b:`${w}px`),{data:{x:j,y:S}}}});function ej(e){const[t,n="center"]=e.split("-");return[t,n]}var tj=K2,Ig=J2,nj=Z2,aj=Q2,RA=globalThis?.document?h.useLayoutEffect:()=>{},AA="Portal",vf=h.forwardRef((e,t)=>{const{container:n,...s}=e,[l,o]=h.useState(!1);RA(()=>o(!0),[]);const d=n||l&&globalThis?.document?.body;return d?ZR.createPortal(r.jsx(Na.div,{...s,ref:t}),d):null});vf.displayName=AA;var PA=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},Qi=new WeakMap,Qd=new WeakMap,eu={},cp=0,rj=function(e){return e&&(e.host||rj(e.parentNode))},TA=function(e,t){return t.map(function(n){if(e.contains(n))return n;var s=rj(n);return s&&e.contains(s)?s:(console.error("aria-hidden",n,"in not contained inside",e,". Doing nothing"),null)}).filter(function(n){return!!n})},kA=function(e,t,n,s){var l=TA(t,Array.isArray(e)?e:[e]);eu[n]||(eu[n]=new WeakMap);var o=eu[n],d=[],f=new Set,m=new Set(l),p=function(b){!b||f.has(b)||(f.add(b),p(b.parentNode))};l.forEach(p);var g=function(b){!b||m.has(b)||Array.prototype.forEach.call(b.children,function(y){if(f.has(y))g(y);else try{var w=y.getAttribute(s),j=w!==null&&w!=="false",S=(Qi.get(y)||0)+1,E=(o.get(y)||0)+1;Qi.set(y,S),o.set(y,E),d.push(y),S===1&&j&&Qd.set(y,!0),E===1&&y.setAttribute(n,"true"),j||y.setAttribute(s,"true")}catch(R){console.error("aria-hidden: cannot operate on ",y,R)}})};return g(t),f.clear(),cp++,function(){d.forEach(function(b){var y=Qi.get(b)-1,w=o.get(b)-1;Qi.set(b,y),o.set(b,w),y||(Qd.has(b)||b.removeAttribute(s),Qd.delete(b)),w||b.removeAttribute(n)}),cp--,cp||(Qi=new WeakMap,Qi=new WeakMap,Qd=new WeakMap,eu={})}},Bg=function(e,t,n){n===void 0&&(n="data-aria-hidden");var s=Array.from(Array.isArray(e)?e:[e]),l=PA(e);return l?(s.push.apply(s,Array.from(l.querySelectorAll("[aria-live]"))),kA(s,l,n,"aria-hidden")):function(){return null}},Cu="right-scroll-bar-position",Eu="width-before-scroll-bar",DA="with-scroll-bars-hidden",MA="--removed-body-scroll-bar-size";function OA(e){return e}function LA(e,t){t===void 0&&(t=OA);var n=[],s=!1,l={read:function(){if(s)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(o){var d=t(o,s);return n.push(d),function(){n=n.filter(function(f){return f!==d})}},assignSyncMedium:function(o){for(s=!0;n.length;){var d=n;n=[],d.forEach(o)}n={push:function(f){return o(f)},filter:function(){return n}}},assignMedium:function(o){s=!0;var d=[];if(n.length){var f=n;n=[],f.forEach(o),d=n}var m=function(){var g=d;d=[],g.forEach(o)},p=function(){return Promise.resolve().then(m)};p(),n={push:function(g){d.push(g),p()},filter:function(g){return d=d.filter(g),n}}}};return l}function UA(e){e===void 0&&(e={});var t=LA(null);return t.options=_e({async:!0,ssr:!1},e),t}var sj=UA();function dp(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function $A(e,t){var n=h.useState(function(){return{value:e,callback:t,facade:{get current(){return n.value},set current(s){var l=n.value;l!==s&&(n.value=s,n.callback(s,l))}}}})[0];return n.callback=t,n.facade}var FA=typeof window<"u"?h.useLayoutEffect:h.useEffect,Zy=new WeakMap;function IA(e,t){var n=$A(null,function(s){return e.forEach(function(l){return dp(l,s)})});return FA(function(){var s=Zy.get(n);if(s){var l=new Set(s),o=new Set(e),d=n.current;l.forEach(function(f){o.has(f)||dp(f,null)}),o.forEach(function(f){l.has(f)||dp(f,d)})}Zy.set(n,e)},[e]),n}var up=function(){},yf=h.forwardRef(function(e,t){var n=h.useRef(null),s=h.useState({onScrollCapture:up,onWheelCapture:up,onTouchMoveCapture:up}),l=s[0],o=s[1],d=e.forwardProps,f=e.children,m=e.className,p=e.removeScrollBar,g=e.enabled,b=e.shards,y=e.sideCar,w=e.noIsolation,j=e.inert,S=e.allowPinchZoom,E=e.as,R=E===void 0?"div":E,A=e.gapMode,N=Ll(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),P=y,T=IA([n,t]),C=_e(_e({},N),l);return h.createElement(h.Fragment,null,g&&h.createElement(P,{sideCar:sj,removeScrollBar:p,shards:b,noIsolation:w,inert:j,setCallbacks:o,allowPinchZoom:!!S,lockRef:n,gapMode:A}),d?h.cloneElement(h.Children.only(f),_e(_e({},C),{ref:T})):h.createElement(R,_e({},C,{className:m,ref:T}),f))});yf.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};yf.classNames={fullWidth:Eu,zeroRight:Cu};var BA=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function zA(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=BA();return t&&e.setAttribute("nonce",t),e}function qA(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function HA(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var VA=function(){var e=0,t=null;return{add:function(n){e==0&&(t=zA())&&(qA(t,n),HA(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},GA=function(){var e=VA();return function(t,n){h.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&n])}},ij=function(){var e=GA(),t=function(n){var s=n.styles,l=n.dynamic;return e(s,l),null};return t},YA={left:0,top:0,right:0,gap:0},fp=function(e){return parseInt(e||"",10)||0},KA=function(e){var t=window.getComputedStyle(document.body),n=t[e==="padding"?"paddingLeft":"marginLeft"],s=t[e==="padding"?"paddingTop":"marginTop"],l=t[e==="padding"?"paddingRight":"marginRight"];return[fp(n),fp(s),fp(l)]},WA=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return YA;var t=KA(e),n=document.documentElement.clientWidth,s=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,s-n+t[2]-t[0])}},JA=ij(),yl="data-scroll-locked",ZA=function(e,t,n,s){var l=e.left,o=e.top,d=e.right,f=e.gap;return n===void 0&&(n="margin"),`
  .`.concat(DA,` {
   overflow: hidden `).concat(s,`;
   padding-right: `).concat(f,"px ").concat(s,`;
  }
  body[`).concat(yl,`] {
    overflow: hidden `).concat(s,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(s,";"),n==="margin"&&`
    padding-left: `.concat(l,`px;
    padding-top: `).concat(o,`px;
    padding-right: `).concat(d,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(f,"px ").concat(s,`;
    `),n==="padding"&&"padding-right: ".concat(f,"px ").concat(s,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Cu,` {
    right: `).concat(f,"px ").concat(s,`;
  }
  
  .`).concat(Eu,` {
    margin-right: `).concat(f,"px ").concat(s,`;
  }
  
  .`).concat(Cu," .").concat(Cu,` {
    right: 0 `).concat(s,`;
  }
  
  .`).concat(Eu," .").concat(Eu,` {
    margin-right: 0 `).concat(s,`;
  }
  
  body[`).concat(yl,`] {
    `).concat(MA,": ").concat(f,`px;
  }
`)},Xy=function(){var e=parseInt(document.body.getAttribute(yl)||"0",10);return isFinite(e)?e:0},XA=function(){h.useEffect(function(){return document.body.setAttribute(yl,(Xy()+1).toString()),function(){var e=Xy()-1;e<=0?document.body.removeAttribute(yl):document.body.setAttribute(yl,e.toString())}},[])},QA=function(e){var t=e.noRelative,n=e.noImportant,s=e.gapMode,l=s===void 0?"margin":s;XA();var o=h.useMemo(function(){return WA(l)},[l]);return h.createElement(JA,{styles:ZA(o,!t,l,n?"":"!important")})},qp=!1;if(typeof window<"u")try{var tu=Object.defineProperty({},"passive",{get:function(){return qp=!0,!0}});window.addEventListener("test",tu,tu),window.removeEventListener("test",tu,tu)}catch{qp=!1}var el=qp?{passive:!1}:!1,eP=function(e){return e.tagName==="TEXTAREA"},lj=function(e,t){if(!(e instanceof Element))return!1;var n=window.getComputedStyle(e);return n[t]!=="hidden"&&!(n.overflowY===n.overflowX&&!eP(e)&&n[t]==="visible")},tP=function(e){return lj(e,"overflowY")},nP=function(e){return lj(e,"overflowX")},Qy=function(e,t){var n=t.ownerDocument,s=t;do{typeof ShadowRoot<"u"&&s instanceof ShadowRoot&&(s=s.host);var l=oj(e,s);if(l){var o=cj(e,s),d=o[1],f=o[2];if(d>f)return!0}s=s.parentNode}while(s&&s!==n.body);return!1},aP=function(e){var t=e.scrollTop,n=e.scrollHeight,s=e.clientHeight;return[t,n,s]},rP=function(e){var t=e.scrollLeft,n=e.scrollWidth,s=e.clientWidth;return[t,n,s]},oj=function(e,t){return e==="v"?tP(t):nP(t)},cj=function(e,t){return e==="v"?aP(t):rP(t)},sP=function(e,t){return e==="h"&&t==="rtl"?-1:1},iP=function(e,t,n,s,l){var o=sP(e,window.getComputedStyle(t).direction),d=o*s,f=n.target,m=t.contains(f),p=!1,g=d>0,b=0,y=0;do{var w=cj(e,f),j=w[0],S=w[1],E=w[2],R=S-E-o*j;(j||R)&&oj(e,f)&&(b+=R,y+=j),f instanceof ShadowRoot?f=f.host:f=f.parentNode}while(!m&&f!==document.body||m&&(t.contains(f)||t===f));return(g&&Math.abs(b)<1||!g&&Math.abs(y)<1)&&(p=!0),p},nu=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},ew=function(e){return[e.deltaX,e.deltaY]},tw=function(e){return e&&"current"in e?e.current:e},lP=function(e,t){return e[0]===t[0]&&e[1]===t[1]},oP=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},cP=0,tl=[];function dP(e){var t=h.useRef([]),n=h.useRef([0,0]),s=h.useRef(),l=h.useState(cP++)[0],o=h.useState(ij)[0],d=h.useRef(e);h.useEffect(function(){d.current=e},[e]),h.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(l));var S=JR([e.lockRef.current],(e.shards||[]).map(tw)).filter(Boolean);return S.forEach(function(E){return E.classList.add("allow-interactivity-".concat(l))}),function(){document.body.classList.remove("block-interactivity-".concat(l)),S.forEach(function(E){return E.classList.remove("allow-interactivity-".concat(l))})}}},[e.inert,e.lockRef.current,e.shards]);var f=h.useCallback(function(S,E){if("touches"in S&&S.touches.length===2||S.type==="wheel"&&S.ctrlKey)return!d.current.allowPinchZoom;var R=nu(S),A=n.current,N="deltaX"in S?S.deltaX:A[0]-R[0],P="deltaY"in S?S.deltaY:A[1]-R[1],T,C=S.target,k=Math.abs(N)>Math.abs(P)?"h":"v";if("touches"in S&&k==="h"&&C.type==="range")return!1;var $=Qy(k,C);if(!$)return!0;if($?T=k:(T=k==="v"?"h":"v",$=Qy(k,C)),!$)return!1;if(!s.current&&"changedTouches"in S&&(N||P)&&(s.current=T),!T)return!0;var O=s.current||T;return iP(O,E,S,O==="h"?N:P)},[]),m=h.useCallback(function(S){var E=S;if(!(!tl.length||tl[tl.length-1]!==o)){var R="deltaY"in E?ew(E):nu(E),A=t.current.filter(function(T){return T.name===E.type&&(T.target===E.target||E.target===T.shadowParent)&&lP(T.delta,R)})[0];if(A&&A.should){E.cancelable&&E.preventDefault();return}if(!A){var N=(d.current.shards||[]).map(tw).filter(Boolean).filter(function(T){return T.contains(E.target)}),P=N.length>0?f(E,N[0]):!d.current.noIsolation;P&&E.cancelable&&E.preventDefault()}}},[]),p=h.useCallback(function(S,E,R,A){var N={name:S,delta:E,target:R,should:A,shadowParent:uP(R)};t.current.push(N),setTimeout(function(){t.current=t.current.filter(function(P){return P!==N})},1)},[]),g=h.useCallback(function(S){n.current=nu(S),s.current=void 0},[]),b=h.useCallback(function(S){p(S.type,ew(S),S.target,f(S,e.lockRef.current))},[]),y=h.useCallback(function(S){p(S.type,nu(S),S.target,f(S,e.lockRef.current))},[]);h.useEffect(function(){return tl.push(o),e.setCallbacks({onScrollCapture:b,onWheelCapture:b,onTouchMoveCapture:y}),document.addEventListener("wheel",m,el),document.addEventListener("touchmove",m,el),document.addEventListener("touchstart",g,el),function(){tl=tl.filter(function(S){return S!==o}),document.removeEventListener("wheel",m,el),document.removeEventListener("touchmove",m,el),document.removeEventListener("touchstart",g,el)}},[]);var w=e.removeScrollBar,j=e.inert;return h.createElement(h.Fragment,null,j?h.createElement(o,{styles:oP(l)}):null,w?h.createElement(QA,{gapMode:e.gapMode}):null)}function uP(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}var dj=function(e){var t=e.sideCar,n=Ll(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var s=t.read();if(!s)throw new Error("Sidecar medium not found");return h.createElement(s,_e({},n))};dj.isSideCarExport=!0;function fP(e,t){return e.useMedium(t),dj}var hP=fP(sj,dP),uj=h.forwardRef(function(e,t){return h.createElement(yf,_e({},e,{ref:t,sideCar:hP}))});uj.classNames=yf.classNames;var zg=uj;function Et(e,t,{checkForDefaultPrevented:n=!0}={}){return function(l){if(e?.(l),n===!1||!l.defaultPrevented)return t?.(l)}}function nw(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function Tc(...e){return t=>{let n=!1;const s=e.map(l=>{const o=nw(l,t);return!n&&typeof o=="function"&&(n=!0),o});if(n)return()=>{for(let l=0;l<s.length;l++){const o=s[l];typeof o=="function"?o():nw(e[l],null)}}}}function Rr(...e){return h.useCallback(Tc(...e),e)}function wf(e,t=[]){let n=[];function s(o,d){const f=h.createContext(d),m=n.length;n=[...n,d];const p=b=>{const{scope:y,children:w,...j}=b,S=y?.[e]?.[m]||f,E=h.useMemo(()=>j,Object.values(j));return r.jsx(S.Provider,{value:E,children:w})};p.displayName=o+"Provider";function g(b,y){const w=y?.[e]?.[m]||f,j=h.useContext(w);if(j)return j;if(d!==void 0)return d;throw new Error(`\`${b}\` must be used within \`${o}\``)}return[p,g]}const l=()=>{const o=n.map(d=>h.createContext(d));return function(f){const m=f?.[e]||o;return h.useMemo(()=>({[`__scope${e}`]:{...f,[e]:m}}),[f,m])}};return l.scopeName=e,[s,mP(l,...t)]}function mP(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const s=e.map(l=>({useScope:l(),scopeName:l.scopeName}));return function(o){const d=s.reduce((f,{useScope:m,scopeName:p})=>{const b=m(o)[`__scope${p}`];return{...f,...b}},{});return h.useMemo(()=>({[`__scope${t.scopeName}`]:d}),[d])}};return n.scopeName=t.scopeName,n}var pP=globalThis?.document?h.useLayoutEffect:()=>{},gP=Ml[" useInsertionEffect ".trim().toString()]||pP;function fj({prop:e,defaultProp:t,onChange:n=()=>{},caller:s}){const[l,o,d]=xP({defaultProp:t,onChange:n}),f=e!==void 0,m=f?e:l;{const g=h.useRef(e!==void 0);h.useEffect(()=>{const b=g.current;b!==f&&console.warn(`${s} is changing from ${b?"controlled":"uncontrolled"} to ${f?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),g.current=f},[f,s])}const p=h.useCallback(g=>{if(f){const b=bP(g)?g(e):g;b!==e&&d.current?.(b)}else o(g)},[f,e,o,d]);return[m,p]}function xP({defaultProp:e,onChange:t}){const[n,s]=h.useState(e),l=h.useRef(n),o=h.useRef(t);return gP(()=>{o.current=t},[t]),h.useEffect(()=>{l.current!==n&&(o.current?.(n),l.current=n)},[n,l]),[n,s,o]}function bP(e){return typeof e=="function"}function vP(e){const t=yP(e),n=h.forwardRef((s,l)=>{const{children:o,...d}=s,f=h.Children.toArray(o),m=f.find(jP);if(m){const p=m.props.children,g=f.map(b=>b===m?h.Children.count(p)>1?h.Children.only(null):h.isValidElement(p)?p.props.children:null:b);return r.jsx(t,{...d,ref:l,children:h.isValidElement(p)?h.cloneElement(p,void 0,g):null})}return r.jsx(t,{...d,ref:l,children:o})});return n.displayName=`${e}.Slot`,n}function yP(e){const t=h.forwardRef((n,s)=>{const{children:l,...o}=n;if(h.isValidElement(l)){const d=NP(l),f=SP(o,l.props);return l.type!==h.Fragment&&(f.ref=s?Tc(s,d):d),h.cloneElement(l,f)}return h.Children.count(l)>1?h.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var wP=Symbol("radix.slottable");function jP(e){return h.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===wP}function SP(e,t){const n={...t};for(const s in t){const l=e[s],o=t[s];/^on[A-Z]/.test(s)?l&&o?n[s]=(...f)=>{o(...f),l(...f)}:l&&(n[s]=l):s==="style"?n[s]={...l,...o}:s==="className"&&(n[s]=[l,o].filter(Boolean).join(" "))}return{...e,...n}}function NP(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var _P=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],js=_P.reduce((e,t)=>{const n=vP(`Primitive.${t}`),s=h.forwardRef((l,o)=>{const{asChild:d,...f}=l,m=d?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),r.jsx(m,{...f,ref:o})});return s.displayName=`Primitive.${t}`,{...e,[t]:s}},{});function CP(e,t){e&&ff.flushSync(()=>e.dispatchEvent(t))}function Hp(e){const t=EP(e),n=h.forwardRef((s,l)=>{const{children:o,...d}=s,f=h.Children.toArray(o),m=f.find(AP);if(m){const p=m.props.children,g=f.map(b=>b===m?h.Children.count(p)>1?h.Children.only(null):h.isValidElement(p)?p.props.children:null:b);return r.jsx(t,{...d,ref:l,children:h.isValidElement(p)?h.cloneElement(p,void 0,g):null})}return r.jsx(t,{...d,ref:l,children:o})});return n.displayName=`${e}.Slot`,n}function EP(e){const t=h.forwardRef((n,s)=>{const{children:l,...o}=n;if(h.isValidElement(l)){const d=TP(l),f=PP(o,l.props);return l.type!==h.Fragment&&(f.ref=s?Tc(s,d):d),h.cloneElement(l,f)}return h.Children.count(l)>1?h.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var RP=Symbol("radix.slottable");function AP(e){return h.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===RP}function PP(e,t){const n={...t};for(const s in t){const l=e[s],o=t[s];/^on[A-Z]/.test(s)?l&&o?n[s]=(...f)=>{o(...f),l(...f)}:l&&(n[s]=l):s==="style"?n[s]={...l,...o}:s==="className"&&(n[s]=[l,o].filter(Boolean).join(" "))}return{...e,...n}}function TP(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}function hj(e){const t=e+"CollectionProvider",[n,s]=wf(t),[l,o]=n(t,{collectionRef:{current:null},itemMap:new Map}),d=S=>{const{scope:E,children:R}=S,A=De.useRef(null),N=De.useRef(new Map).current;return r.jsx(l,{scope:E,itemMap:N,collectionRef:A,children:R})};d.displayName=t;const f=e+"CollectionSlot",m=Hp(f),p=De.forwardRef((S,E)=>{const{scope:R,children:A}=S,N=o(f,R),P=Rr(E,N.collectionRef);return r.jsx(m,{ref:P,children:A})});p.displayName=f;const g=e+"CollectionItemSlot",b="data-radix-collection-item",y=Hp(g),w=De.forwardRef((S,E)=>{const{scope:R,children:A,...N}=S,P=De.useRef(null),T=Rr(E,P),C=o(g,R);return De.useEffect(()=>(C.itemMap.set(P,{ref:P,...N}),()=>void C.itemMap.delete(P))),r.jsx(y,{[b]:"",ref:T,children:A})});w.displayName=g;function j(S){const E=o(e+"CollectionConsumer",S);return De.useCallback(()=>{const A=E.collectionRef.current;if(!A)return[];const N=Array.from(A.querySelectorAll(`[${b}]`));return Array.from(E.itemMap.values()).sort((C,k)=>N.indexOf(C.ref.current)-N.indexOf(k.ref.current))},[E.collectionRef,E.itemMap])}return[{Provider:d,Slot:p,ItemSlot:w},j,s]}var kP=h.createContext(void 0);function mj(e){const t=h.useContext(kP);return e||t||"ltr"}var DP=globalThis?.document?h.useLayoutEffect:()=>{},MP=Ml[" useId ".trim().toString()]||(()=>{}),OP=0;function Vp(e){const[t,n]=h.useState(MP());return DP(()=>{n(s=>s??String(OP++))},[e]),t?`radix-${t}`:""}var aw=globalThis?.document?h.useLayoutEffect:()=>{};function LP(e,t){return h.useReducer((n,s)=>t[n][s]??n,e)}var kc=e=>{const{present:t,children:n}=e,s=UP(t),l=typeof n=="function"?n({present:s.isPresent}):h.Children.only(n),o=Rr(s.ref,$P(l));return typeof n=="function"||s.isPresent?h.cloneElement(l,{ref:o}):null};kc.displayName="Presence";function UP(e){const[t,n]=h.useState(),s=h.useRef({}),l=h.useRef(e),o=h.useRef("none"),d=e?"mounted":"unmounted",[f,m]=LP(d,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return h.useEffect(()=>{const p=au(s.current);o.current=f==="mounted"?p:"none"},[f]),aw(()=>{const p=s.current,g=l.current;if(g!==e){const y=o.current,w=au(p);e?m("MOUNT"):w==="none"||p?.display==="none"?m("UNMOUNT"):m(g&&y!==w?"ANIMATION_OUT":"UNMOUNT"),l.current=e}},[e,m]),aw(()=>{if(t){let p;const g=t.ownerDocument.defaultView??window,b=w=>{const S=au(s.current).includes(w.animationName);if(w.target===t&&S&&(m("ANIMATION_END"),!l.current)){const E=t.style.animationFillMode;t.style.animationFillMode="forwards",p=g.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=E)})}},y=w=>{w.target===t&&(o.current=au(s.current))};return t.addEventListener("animationstart",y),t.addEventListener("animationcancel",b),t.addEventListener("animationend",b),()=>{g.clearTimeout(p),t.removeEventListener("animationstart",y),t.removeEventListener("animationcancel",b),t.removeEventListener("animationend",b)}}else m("ANIMATION_END")},[t,m]),{isPresent:["mounted","unmountSuspended"].includes(f),ref:h.useCallback(p=>{p&&(s.current=getComputedStyle(p)),n(p)},[])}}function au(e){return e?.animationName||"none"}function $P(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var hp="rovingFocusGroup.onEntryFocus",FP={bubbles:!1,cancelable:!0},Dc="RovingFocusGroup",[Gp,pj,IP]=hj(Dc),[BP,gj]=wf(Dc,[IP]),[zP,qP]=BP(Dc),xj=h.forwardRef((e,t)=>r.jsx(Gp.Provider,{scope:e.__scopeRovingFocusGroup,children:r.jsx(Gp.Slot,{scope:e.__scopeRovingFocusGroup,children:r.jsx(HP,{...e,ref:t})})}));xj.displayName=Dc;var HP=h.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,orientation:s,loop:l=!1,dir:o,currentTabStopId:d,defaultCurrentTabStopId:f,onCurrentTabStopIdChange:m,onEntryFocus:p,preventScrollOnEntryFocus:g=!1,...b}=e,y=h.useRef(null),w=Rr(t,y),j=mj(o),[S,E]=fj({prop:d,defaultProp:f??null,onChange:m,caller:Dc}),[R,A]=h.useState(!1),N=_r(p),P=pj(n),T=h.useRef(!1),[C,k]=h.useState(0);return h.useEffect(()=>{const $=y.current;if($)return $.addEventListener(hp,N),()=>$.removeEventListener(hp,N)},[N]),r.jsx(zP,{scope:n,orientation:s,dir:j,loop:l,currentTabStopId:S,onItemFocus:h.useCallback($=>E($),[E]),onItemShiftTab:h.useCallback(()=>A(!0),[]),onFocusableItemAdd:h.useCallback(()=>k($=>$+1),[]),onFocusableItemRemove:h.useCallback(()=>k($=>$-1),[]),children:r.jsx(js.div,{tabIndex:R||C===0?-1:0,"data-orientation":s,...b,ref:w,style:{outline:"none",...e.style},onMouseDown:Et(e.onMouseDown,()=>{T.current=!0}),onFocus:Et(e.onFocus,$=>{const O=!T.current;if($.target===$.currentTarget&&O&&!R){const V=new CustomEvent(hp,FP);if($.currentTarget.dispatchEvent(V),!V.defaultPrevented){const W=P().filter(U=>U.focusable),L=W.find(U=>U.active),F=W.find(U=>U.id===S),te=[L,F,...W].filter(Boolean).map(U=>U.ref.current);yj(te,g)}}T.current=!1}),onBlur:Et(e.onBlur,()=>A(!1))})})}),bj="RovingFocusGroupItem",vj=h.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,focusable:s=!0,active:l=!1,tabStopId:o,children:d,...f}=e,m=Vp(),p=o||m,g=qP(bj,n),b=g.currentTabStopId===p,y=pj(n),{onFocusableItemAdd:w,onFocusableItemRemove:j}=g;return h.useEffect(()=>{if(s)return w(),()=>j()},[s,w,j]),r.jsx(Gp.ItemSlot,{scope:n,id:p,focusable:s,active:l,children:r.jsx(js.span,{tabIndex:b?0:-1,"data-orientation":g.orientation,...f,ref:t,onMouseDown:Et(e.onMouseDown,S=>{s?g.onItemFocus(p):S.preventDefault()}),onFocus:Et(e.onFocus,()=>g.onItemFocus(p)),onKeyDown:Et(e.onKeyDown,S=>{if(S.key==="Tab"&&S.shiftKey){g.onItemShiftTab();return}if(S.target!==S.currentTarget)return;const E=YP(S,g.orientation,g.dir);if(E!==void 0){if(S.metaKey||S.ctrlKey||S.altKey||S.shiftKey)return;S.preventDefault();let A=y().filter(N=>N.focusable).map(N=>N.ref.current);if(E==="last")A.reverse();else if(E==="prev"||E==="next"){E==="prev"&&A.reverse();const N=A.indexOf(S.currentTarget);A=g.loop?KP(A,N+1):A.slice(N+1)}setTimeout(()=>yj(A))}}),children:typeof d=="function"?d({isCurrentTabStop:b}):d})})});vj.displayName=bj;var VP={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function GP(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function YP(e,t,n){const s=GP(e.key,n);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(s))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(s)))return VP[s]}function yj(e,t=!1){const n=document.activeElement;for(const s of e)if(s===n||(s.focus({preventScroll:t}),document.activeElement!==n))return}function KP(e,t){return e.map((n,s)=>e[(t+s)%e.length])}var WP=xj,JP=vj,Yp=["Enter"," "],ZP=["ArrowDown","PageUp","Home"],wj=["ArrowUp","PageDown","End"],XP=[...ZP,...wj],QP={ltr:[...Yp,"ArrowRight"],rtl:[...Yp,"ArrowLeft"]},e6={ltr:["ArrowLeft"],rtl:["ArrowRight"]},Mc="Menu",[yc,t6,n6]=hj(Mc),[hi,jj]=wf(Mc,[n6,bf,gj]),jf=bf(),Sj=gj(),[a6,mi]=hi(Mc),[r6,Oc]=hi(Mc),Nj=e=>{const{__scopeMenu:t,open:n=!1,children:s,dir:l,onOpenChange:o,modal:d=!0}=e,f=jf(t),[m,p]=h.useState(null),g=h.useRef(!1),b=_r(o),y=mj(l);return h.useEffect(()=>{const w=()=>{g.current=!0,document.addEventListener("pointerdown",j,{capture:!0,once:!0}),document.addEventListener("pointermove",j,{capture:!0,once:!0})},j=()=>g.current=!1;return document.addEventListener("keydown",w,{capture:!0}),()=>{document.removeEventListener("keydown",w,{capture:!0}),document.removeEventListener("pointerdown",j,{capture:!0}),document.removeEventListener("pointermove",j,{capture:!0})}},[]),r.jsx(tj,{...f,children:r.jsx(a6,{scope:t,open:n,onOpenChange:b,content:m,onContentChange:p,children:r.jsx(r6,{scope:t,onClose:h.useCallback(()=>b(!1),[b]),isUsingKeyboardRef:g,dir:y,modal:d,children:s})})})};Nj.displayName=Mc;var s6="MenuAnchor",qg=h.forwardRef((e,t)=>{const{__scopeMenu:n,...s}=e,l=jf(n);return r.jsx(Ig,{...l,...s,ref:t})});qg.displayName=s6;var Hg="MenuPortal",[i6,_j]=hi(Hg,{forceMount:void 0}),Cj=e=>{const{__scopeMenu:t,forceMount:n,children:s,container:l}=e,o=mi(Hg,t);return r.jsx(i6,{scope:t,forceMount:n,children:r.jsx(kc,{present:n||o.open,children:r.jsx(vf,{asChild:!0,container:l,children:s})})})};Cj.displayName=Hg;var va="MenuContent",[l6,Vg]=hi(va),Ej=h.forwardRef((e,t)=>{const n=_j(va,e.__scopeMenu),{forceMount:s=n.forceMount,...l}=e,o=mi(va,e.__scopeMenu),d=Oc(va,e.__scopeMenu);return r.jsx(yc.Provider,{scope:e.__scopeMenu,children:r.jsx(kc,{present:s||o.open,children:r.jsx(yc.Slot,{scope:e.__scopeMenu,children:d.modal?r.jsx(o6,{...l,ref:t}):r.jsx(c6,{...l,ref:t})})})})}),o6=h.forwardRef((e,t)=>{const n=mi(va,e.__scopeMenu),s=h.useRef(null),l=Rr(t,s);return h.useEffect(()=>{const o=s.current;if(o)return Bg(o)},[]),r.jsx(Gg,{...e,ref:l,trapFocus:n.open,disableOutsidePointerEvents:n.open,disableOutsideScroll:!0,onFocusOutside:Et(e.onFocusOutside,o=>o.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>n.onOpenChange(!1)})}),c6=h.forwardRef((e,t)=>{const n=mi(va,e.__scopeMenu);return r.jsx(Gg,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>n.onOpenChange(!1)})}),d6=Hp("MenuContent.ScrollLock"),Gg=h.forwardRef((e,t)=>{const{__scopeMenu:n,loop:s=!1,trapFocus:l,onOpenAutoFocus:o,onCloseAutoFocus:d,disableOutsidePointerEvents:f,onEntryFocus:m,onEscapeKeyDown:p,onPointerDownOutside:g,onFocusOutside:b,onInteractOutside:y,onDismiss:w,disableOutsideScroll:j,...S}=e,E=mi(va,n),R=Oc(va,n),A=jf(n),N=Sj(n),P=t6(n),[T,C]=h.useState(null),k=h.useRef(null),$=Rr(t,k,E.onContentChange),O=h.useRef(0),V=h.useRef(""),W=h.useRef(0),L=h.useRef(null),F=h.useRef("right"),B=h.useRef(0),te=j?zg:h.Fragment,U=j?{as:d6,allowPinchZoom:!0}:void 0,q=J=>{const D=V.current+J,z=P().filter(we=>!we.disabled),ae=document.activeElement,Q=z.find(we=>we.ref.current===ae)?.textValue,ne=z.map(we=>we.textValue),he=j6(ne,D,Q),ge=z.find(we=>we.textValue===he)?.ref.current;(function we(Te){V.current=Te,window.clearTimeout(O.current),Te!==""&&(O.current=window.setTimeout(()=>we(""),1e3))})(D),ge&&setTimeout(()=>ge.focus())};h.useEffect(()=>()=>window.clearTimeout(O.current),[]),Pg();const G=h.useCallback(J=>F.current===L.current?.side&&N6(J,L.current?.area),[]);return r.jsx(l6,{scope:n,searchRef:V,onItemEnter:h.useCallback(J=>{G(J)&&J.preventDefault()},[G]),onItemLeave:h.useCallback(J=>{G(J)||(k.current?.focus(),C(null))},[G]),onTriggerLeave:h.useCallback(J=>{G(J)&&J.preventDefault()},[G]),pointerGraceTimerRef:W,onPointerGraceIntentChange:h.useCallback(J=>{L.current=J},[]),children:r.jsx(te,{...U,children:r.jsx(mf,{asChild:!0,trapped:l,onMountAutoFocus:Et(o,J=>{J.preventDefault(),k.current?.focus({preventScroll:!0})}),onUnmountAutoFocus:d,children:r.jsx(hf,{asChild:!0,disableOutsidePointerEvents:f,onEscapeKeyDown:p,onPointerDownOutside:g,onFocusOutside:b,onInteractOutside:y,onDismiss:w,children:r.jsx(WP,{asChild:!0,...N,dir:R.dir,orientation:"vertical",loop:s,currentTabStopId:T,onCurrentTabStopIdChange:C,onEntryFocus:Et(m,J=>{R.isUsingKeyboardRef.current||J.preventDefault()}),preventScrollOnEntryFocus:!0,children:r.jsx(nj,{role:"menu","aria-orientation":"vertical","data-state":qj(E.open),"data-radix-menu-content":"",dir:R.dir,...A,...S,ref:$,style:{outline:"none",...S.style},onKeyDown:Et(S.onKeyDown,J=>{const z=J.target.closest("[data-radix-menu-content]")===J.currentTarget,ae=J.ctrlKey||J.altKey||J.metaKey,Q=J.key.length===1;z&&(J.key==="Tab"&&J.preventDefault(),!ae&&Q&&q(J.key));const ne=k.current;if(J.target!==ne||!XP.includes(J.key))return;J.preventDefault();const ge=P().filter(we=>!we.disabled).map(we=>we.ref.current);wj.includes(J.key)&&ge.reverse(),y6(ge)}),onBlur:Et(e.onBlur,J=>{J.currentTarget.contains(J.target)||(window.clearTimeout(O.current),V.current="")}),onPointerMove:Et(e.onPointerMove,wc(J=>{const D=J.target,z=B.current!==J.clientX;if(J.currentTarget.contains(D)&&z){const ae=J.clientX>B.current?"right":"left";F.current=ae,B.current=J.clientX}}))})})})})})})});Ej.displayName=va;var u6="MenuGroup",Yg=h.forwardRef((e,t)=>{const{__scopeMenu:n,...s}=e;return r.jsx(js.div,{role:"group",...s,ref:t})});Yg.displayName=u6;var f6="MenuLabel",Rj=h.forwardRef((e,t)=>{const{__scopeMenu:n,...s}=e;return r.jsx(js.div,{...s,ref:t})});Rj.displayName=f6;var Hu="MenuItem",rw="menu.itemSelect",Sf=h.forwardRef((e,t)=>{const{disabled:n=!1,onSelect:s,...l}=e,o=h.useRef(null),d=Oc(Hu,e.__scopeMenu),f=Vg(Hu,e.__scopeMenu),m=Rr(t,o),p=h.useRef(!1),g=()=>{const b=o.current;if(!n&&b){const y=new CustomEvent(rw,{bubbles:!0,cancelable:!0});b.addEventListener(rw,w=>s?.(w),{once:!0}),CP(b,y),y.defaultPrevented?p.current=!1:d.onClose()}};return r.jsx(Aj,{...l,ref:m,disabled:n,onClick:Et(e.onClick,g),onPointerDown:b=>{e.onPointerDown?.(b),p.current=!0},onPointerUp:Et(e.onPointerUp,b=>{p.current||b.currentTarget?.click()}),onKeyDown:Et(e.onKeyDown,b=>{const y=f.searchRef.current!=="";n||y&&b.key===" "||Yp.includes(b.key)&&(b.currentTarget.click(),b.preventDefault())})})});Sf.displayName=Hu;var Aj=h.forwardRef((e,t)=>{const{__scopeMenu:n,disabled:s=!1,textValue:l,...o}=e,d=Vg(Hu,n),f=Sj(n),m=h.useRef(null),p=Rr(t,m),[g,b]=h.useState(!1),[y,w]=h.useState("");return h.useEffect(()=>{const j=m.current;j&&w((j.textContent??"").trim())},[o.children]),r.jsx(yc.ItemSlot,{scope:n,disabled:s,textValue:l??y,children:r.jsx(JP,{asChild:!0,...f,focusable:!s,children:r.jsx(js.div,{role:"menuitem","data-highlighted":g?"":void 0,"aria-disabled":s||void 0,"data-disabled":s?"":void 0,...o,ref:p,onPointerMove:Et(e.onPointerMove,wc(j=>{s?d.onItemLeave(j):(d.onItemEnter(j),j.defaultPrevented||j.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:Et(e.onPointerLeave,wc(j=>d.onItemLeave(j))),onFocus:Et(e.onFocus,()=>b(!0)),onBlur:Et(e.onBlur,()=>b(!1))})})})}),h6="MenuCheckboxItem",Pj=h.forwardRef((e,t)=>{const{checked:n=!1,onCheckedChange:s,...l}=e;return r.jsx(Oj,{scope:e.__scopeMenu,checked:n,children:r.jsx(Sf,{role:"menuitemcheckbox","aria-checked":Vu(n)?"mixed":n,...l,ref:t,"data-state":Wg(n),onSelect:Et(l.onSelect,()=>s?.(Vu(n)?!0:!n),{checkForDefaultPrevented:!1})})})});Pj.displayName=h6;var Tj="MenuRadioGroup",[m6,p6]=hi(Tj,{value:void 0,onValueChange:()=>{}}),kj=h.forwardRef((e,t)=>{const{value:n,onValueChange:s,...l}=e,o=_r(s);return r.jsx(m6,{scope:e.__scopeMenu,value:n,onValueChange:o,children:r.jsx(Yg,{...l,ref:t})})});kj.displayName=Tj;var Dj="MenuRadioItem",Mj=h.forwardRef((e,t)=>{const{value:n,...s}=e,l=p6(Dj,e.__scopeMenu),o=n===l.value;return r.jsx(Oj,{scope:e.__scopeMenu,checked:o,children:r.jsx(Sf,{role:"menuitemradio","aria-checked":o,...s,ref:t,"data-state":Wg(o),onSelect:Et(s.onSelect,()=>l.onValueChange?.(n),{checkForDefaultPrevented:!1})})})});Mj.displayName=Dj;var Kg="MenuItemIndicator",[Oj,g6]=hi(Kg,{checked:!1}),Lj=h.forwardRef((e,t)=>{const{__scopeMenu:n,forceMount:s,...l}=e,o=g6(Kg,n);return r.jsx(kc,{present:s||Vu(o.checked)||o.checked===!0,children:r.jsx(js.span,{...l,ref:t,"data-state":Wg(o.checked)})})});Lj.displayName=Kg;var x6="MenuSeparator",Uj=h.forwardRef((e,t)=>{const{__scopeMenu:n,...s}=e;return r.jsx(js.div,{role:"separator","aria-orientation":"horizontal",...s,ref:t})});Uj.displayName=x6;var b6="MenuArrow",$j=h.forwardRef((e,t)=>{const{__scopeMenu:n,...s}=e,l=jf(n);return r.jsx(aj,{...l,...s,ref:t})});$j.displayName=b6;var v6="MenuSub",[vF,Fj]=hi(v6),tc="MenuSubTrigger",Ij=h.forwardRef((e,t)=>{const n=mi(tc,e.__scopeMenu),s=Oc(tc,e.__scopeMenu),l=Fj(tc,e.__scopeMenu),o=Vg(tc,e.__scopeMenu),d=h.useRef(null),{pointerGraceTimerRef:f,onPointerGraceIntentChange:m}=o,p={__scopeMenu:e.__scopeMenu},g=h.useCallback(()=>{d.current&&window.clearTimeout(d.current),d.current=null},[]);return h.useEffect(()=>g,[g]),h.useEffect(()=>{const b=f.current;return()=>{window.clearTimeout(b),m(null)}},[f,m]),r.jsx(qg,{asChild:!0,...p,children:r.jsx(Aj,{id:l.triggerId,"aria-haspopup":"menu","aria-expanded":n.open,"aria-controls":l.contentId,"data-state":qj(n.open),...e,ref:Tc(t,l.onTriggerChange),onClick:b=>{e.onClick?.(b),!(e.disabled||b.defaultPrevented)&&(b.currentTarget.focus(),n.open||n.onOpenChange(!0))},onPointerMove:Et(e.onPointerMove,wc(b=>{o.onItemEnter(b),!b.defaultPrevented&&!e.disabled&&!n.open&&!d.current&&(o.onPointerGraceIntentChange(null),d.current=window.setTimeout(()=>{n.onOpenChange(!0),g()},100))})),onPointerLeave:Et(e.onPointerLeave,wc(b=>{g();const y=n.content?.getBoundingClientRect();if(y){const w=n.content?.dataset.side,j=w==="right",S=j?-5:5,E=y[j?"left":"right"],R=y[j?"right":"left"];o.onPointerGraceIntentChange({area:[{x:b.clientX+S,y:b.clientY},{x:E,y:y.top},{x:R,y:y.top},{x:R,y:y.bottom},{x:E,y:y.bottom}],side:w}),window.clearTimeout(f.current),f.current=window.setTimeout(()=>o.onPointerGraceIntentChange(null),300)}else{if(o.onTriggerLeave(b),b.defaultPrevented)return;o.onPointerGraceIntentChange(null)}})),onKeyDown:Et(e.onKeyDown,b=>{const y=o.searchRef.current!=="";e.disabled||y&&b.key===" "||QP[s.dir].includes(b.key)&&(n.onOpenChange(!0),n.content?.focus(),b.preventDefault())})})})});Ij.displayName=tc;var Bj="MenuSubContent",zj=h.forwardRef((e,t)=>{const n=_j(va,e.__scopeMenu),{forceMount:s=n.forceMount,...l}=e,o=mi(va,e.__scopeMenu),d=Oc(va,e.__scopeMenu),f=Fj(Bj,e.__scopeMenu),m=h.useRef(null),p=Rr(t,m);return r.jsx(yc.Provider,{scope:e.__scopeMenu,children:r.jsx(kc,{present:s||o.open,children:r.jsx(yc.Slot,{scope:e.__scopeMenu,children:r.jsx(Gg,{id:f.contentId,"aria-labelledby":f.triggerId,...l,ref:p,align:"start",side:d.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:g=>{d.isUsingKeyboardRef.current&&m.current?.focus(),g.preventDefault()},onCloseAutoFocus:g=>g.preventDefault(),onFocusOutside:Et(e.onFocusOutside,g=>{g.target!==f.trigger&&o.onOpenChange(!1)}),onEscapeKeyDown:Et(e.onEscapeKeyDown,g=>{d.onClose(),g.preventDefault()}),onKeyDown:Et(e.onKeyDown,g=>{const b=g.currentTarget.contains(g.target),y=e6[d.dir].includes(g.key);b&&y&&(o.onOpenChange(!1),f.trigger?.focus(),g.preventDefault())})})})})})});zj.displayName=Bj;function qj(e){return e?"open":"closed"}function Vu(e){return e==="indeterminate"}function Wg(e){return Vu(e)?"indeterminate":e?"checked":"unchecked"}function y6(e){const t=document.activeElement;for(const n of e)if(n===t||(n.focus(),document.activeElement!==t))return}function w6(e,t){return e.map((n,s)=>e[(t+s)%e.length])}function j6(e,t,n){const l=t.length>1&&Array.from(t).every(p=>p===t[0])?t[0]:t,o=n?e.indexOf(n):-1;let d=w6(e,Math.max(o,0));l.length===1&&(d=d.filter(p=>p!==n));const m=d.find(p=>p.toLowerCase().startsWith(l.toLowerCase()));return m!==n?m:void 0}function S6(e,t){const{x:n,y:s}=e;let l=!1;for(let o=0,d=t.length-1;o<t.length;d=o++){const f=t[o],m=t[d],p=f.x,g=f.y,b=m.x,y=m.y;g>s!=y>s&&n<(b-p)*(s-g)/(y-g)+p&&(l=!l)}return l}function N6(e,t){if(!t)return!1;const n={x:e.clientX,y:e.clientY};return S6(n,t)}function wc(e){return t=>t.pointerType==="mouse"?e(t):void 0}var _6=Nj,C6=qg,E6=Cj,R6=Ej,A6=Yg,P6=Rj,T6=Sf,k6=Pj,D6=kj,M6=Mj,O6=Lj,L6=Uj,U6=$j,$6=Ij,F6=zj,Nf="DropdownMenu",[I6,yF]=wf(Nf,[jj]),$n=jj(),[B6,Hj]=I6(Nf),Vj=e=>{const{__scopeDropdownMenu:t,children:n,dir:s,open:l,defaultOpen:o,onOpenChange:d,modal:f=!0}=e,m=$n(t),p=h.useRef(null),[g,b]=fj({prop:l,defaultProp:o??!1,onChange:d,caller:Nf});return r.jsx(B6,{scope:t,triggerId:Vp(),triggerRef:p,contentId:Vp(),open:g,onOpenChange:b,onOpenToggle:h.useCallback(()=>b(y=>!y),[b]),modal:f,children:r.jsx(_6,{...m,open:g,onOpenChange:b,dir:s,modal:f,children:n})})};Vj.displayName=Nf;var Gj="DropdownMenuTrigger",Yj=h.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,disabled:s=!1,...l}=e,o=Hj(Gj,n),d=$n(n);return r.jsx(C6,{asChild:!0,...d,children:r.jsx(js.button,{type:"button",id:o.triggerId,"aria-haspopup":"menu","aria-expanded":o.open,"aria-controls":o.open?o.contentId:void 0,"data-state":o.open?"open":"closed","data-disabled":s?"":void 0,disabled:s,...l,ref:Tc(t,o.triggerRef),onPointerDown:Et(e.onPointerDown,f=>{!s&&f.button===0&&f.ctrlKey===!1&&(o.onOpenToggle(),o.open||f.preventDefault())}),onKeyDown:Et(e.onKeyDown,f=>{s||(["Enter"," "].includes(f.key)&&o.onOpenToggle(),f.key==="ArrowDown"&&o.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(f.key)&&f.preventDefault())})})})});Yj.displayName=Gj;var z6="DropdownMenuPortal",Kj=e=>{const{__scopeDropdownMenu:t,...n}=e,s=$n(t);return r.jsx(E6,{...s,...n})};Kj.displayName=z6;var Wj="DropdownMenuContent",Jj=h.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...s}=e,l=Hj(Wj,n),o=$n(n),d=h.useRef(!1);return r.jsx(R6,{id:l.contentId,"aria-labelledby":l.triggerId,...o,...s,ref:t,onCloseAutoFocus:Et(e.onCloseAutoFocus,f=>{d.current||l.triggerRef.current?.focus(),d.current=!1,f.preventDefault()}),onInteractOutside:Et(e.onInteractOutside,f=>{const m=f.detail.originalEvent,p=m.button===0&&m.ctrlKey===!0,g=m.button===2||p;(!l.modal||g)&&(d.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});Jj.displayName=Wj;var q6="DropdownMenuGroup",H6=h.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...s}=e,l=$n(n);return r.jsx(A6,{...l,...s,ref:t})});H6.displayName=q6;var V6="DropdownMenuLabel",G6=h.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...s}=e,l=$n(n);return r.jsx(P6,{...l,...s,ref:t})});G6.displayName=V6;var Y6="DropdownMenuItem",Zj=h.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...s}=e,l=$n(n);return r.jsx(T6,{...l,...s,ref:t})});Zj.displayName=Y6;var K6="DropdownMenuCheckboxItem",W6=h.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...s}=e,l=$n(n);return r.jsx(k6,{...l,...s,ref:t})});W6.displayName=K6;var J6="DropdownMenuRadioGroup",Z6=h.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...s}=e,l=$n(n);return r.jsx(D6,{...l,...s,ref:t})});Z6.displayName=J6;var X6="DropdownMenuRadioItem",Q6=h.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...s}=e,l=$n(n);return r.jsx(M6,{...l,...s,ref:t})});Q6.displayName=X6;var eT="DropdownMenuItemIndicator",tT=h.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...s}=e,l=$n(n);return r.jsx(O6,{...l,...s,ref:t})});tT.displayName=eT;var nT="DropdownMenuSeparator",aT=h.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...s}=e,l=$n(n);return r.jsx(L6,{...l,...s,ref:t})});aT.displayName=nT;var rT="DropdownMenuArrow",sT=h.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...s}=e,l=$n(n);return r.jsx(U6,{...l,...s,ref:t})});sT.displayName=rT;var iT="DropdownMenuSubTrigger",lT=h.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...s}=e,l=$n(n);return r.jsx($6,{...l,...s,ref:t})});lT.displayName=iT;var oT="DropdownMenuSubContent",cT=h.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...s}=e,l=$n(n);return r.jsx(F6,{...l,...s,ref:t,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});cT.displayName=oT;var dT=Vj,uT=Yj,fT=Kj,hT=Jj,mT=Zj,Jg=hT,pT=mT,Zg=fT,Xg=dT,Qg=uT;function sc(e,t,{checkForDefaultPrevented:n=!0}={}){return function(l){if(e?.(l),n===!1||!l.defaultPrevented)return t?.(l)}}function sw(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function Xj(...e){return t=>{let n=!1;const s=e.map(l=>{const o=sw(l,t);return!n&&typeof o=="function"&&(n=!0),o});if(n)return()=>{for(let l=0;l<s.length;l++){const o=s[l];typeof o=="function"?o():sw(e[l],null)}}}}function ex(...e){return h.useCallback(Xj(...e),e)}function gT(e,t=[]){let n=[];function s(o,d){const f=h.createContext(d),m=n.length;n=[...n,d];const p=b=>{const{scope:y,children:w,...j}=b,S=y?.[e]?.[m]||f,E=h.useMemo(()=>j,Object.values(j));return r.jsx(S.Provider,{value:E,children:w})};p.displayName=o+"Provider";function g(b,y){const w=y?.[e]?.[m]||f,j=h.useContext(w);if(j)return j;if(d!==void 0)return d;throw new Error(`\`${b}\` must be used within \`${o}\``)}return[p,g]}const l=()=>{const o=n.map(d=>h.createContext(d));return function(f){const m=f?.[e]||o;return h.useMemo(()=>({[`__scope${e}`]:{...f,[e]:m}}),[f,m])}};return l.scopeName=e,[s,xT(l,...t)]}function xT(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const s=e.map(l=>({useScope:l(),scopeName:l.scopeName}));return function(o){const d=s.reduce((f,{useScope:m,scopeName:p})=>{const b=m(o)[`__scope${p}`];return{...f,...b}},{});return h.useMemo(()=>({[`__scope${t.scopeName}`]:d}),[d])}};return n.scopeName=t.scopeName,n}var bT=globalThis?.document?h.useLayoutEffect:()=>{},vT=Ml[" useId ".trim().toString()]||(()=>{}),yT=0;function wT(e){const[t,n]=h.useState(vT());return bT(()=>{n(s=>s??String(yT++))},[e]),e||(t?`radix-${t}`:"")}var iw=globalThis?.document?h.useLayoutEffect:()=>{};function jT(e,t){return h.useReducer((n,s)=>t[n][s]??n,e)}var tx=e=>{const{present:t,children:n}=e,s=ST(t),l=typeof n=="function"?n({present:s.isPresent}):h.Children.only(n),o=ex(s.ref,NT(l));return typeof n=="function"||s.isPresent?h.cloneElement(l,{ref:o}):null};tx.displayName="Presence";function ST(e){const[t,n]=h.useState(),s=h.useRef({}),l=h.useRef(e),o=h.useRef("none"),d=e?"mounted":"unmounted",[f,m]=jT(d,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return h.useEffect(()=>{const p=ru(s.current);o.current=f==="mounted"?p:"none"},[f]),iw(()=>{const p=s.current,g=l.current;if(g!==e){const y=o.current,w=ru(p);e?m("MOUNT"):w==="none"||p?.display==="none"?m("UNMOUNT"):m(g&&y!==w?"ANIMATION_OUT":"UNMOUNT"),l.current=e}},[e,m]),iw(()=>{if(t){let p;const g=t.ownerDocument.defaultView??window,b=w=>{const S=ru(s.current).includes(w.animationName);if(w.target===t&&S&&(m("ANIMATION_END"),!l.current)){const E=t.style.animationFillMode;t.style.animationFillMode="forwards",p=g.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=E)})}},y=w=>{w.target===t&&(o.current=ru(s.current))};return t.addEventListener("animationstart",y),t.addEventListener("animationcancel",b),t.addEventListener("animationend",b),()=>{g.clearTimeout(p),t.removeEventListener("animationstart",y),t.removeEventListener("animationcancel",b),t.removeEventListener("animationend",b)}}else m("ANIMATION_END")},[t,m]),{isPresent:["mounted","unmountSuspended"].includes(f),ref:h.useCallback(p=>{p&&(s.current=getComputedStyle(p)),n(p)},[])}}function ru(e){return e?.animationName||"none"}function NT(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}function Qj(e){const t=_T(e),n=h.forwardRef((s,l)=>{const{children:o,...d}=s,f=h.Children.toArray(o),m=f.find(ET);if(m){const p=m.props.children,g=f.map(b=>b===m?h.Children.count(p)>1?h.Children.only(null):h.isValidElement(p)?p.props.children:null:b);return r.jsx(t,{...d,ref:l,children:h.isValidElement(p)?h.cloneElement(p,void 0,g):null})}return r.jsx(t,{...d,ref:l,children:o})});return n.displayName=`${e}.Slot`,n}function _T(e){const t=h.forwardRef((n,s)=>{const{children:l,...o}=n;if(h.isValidElement(l)){const d=AT(l),f=RT(o,l.props);return l.type!==h.Fragment&&(f.ref=s?Xj(s,d):d),h.cloneElement(l,f)}return h.Children.count(l)>1?h.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var CT=Symbol("radix.slottable");function ET(e){return h.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===CT}function RT(e,t){const n={...t};for(const s in t){const l=e[s],o=t[s];/^on[A-Z]/.test(s)?l&&o?n[s]=(...f)=>{o(...f),l(...f)}:l&&(n[s]=l):s==="style"?n[s]={...l,...o}:s==="className"&&(n[s]=[l,o].filter(Boolean).join(" "))}return{...e,...n}}function AT(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var PT=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],eS=PT.reduce((e,t)=>{const n=Qj(`Primitive.${t}`),s=h.forwardRef((l,o)=>{const{asChild:d,...f}=l,m=d?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),r.jsx(m,{...f,ref:o})});return s.displayName=`Primitive.${t}`,{...e,[t]:s}},{}),TT=globalThis?.document?h.useLayoutEffect:()=>{},kT=Ml[" useInsertionEffect ".trim().toString()]||TT;function DT({prop:e,defaultProp:t,onChange:n=()=>{},caller:s}){const[l,o,d]=MT({defaultProp:t,onChange:n}),f=e!==void 0,m=f?e:l;{const g=h.useRef(e!==void 0);h.useEffect(()=>{const b=g.current;b!==f&&console.warn(`${s} is changing from ${b?"controlled":"uncontrolled"} to ${f?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),g.current=f},[f,s])}const p=h.useCallback(g=>{if(f){const b=OT(g)?g(e):g;b!==e&&d.current?.(b)}else o(g)},[f,e,o,d]);return[m,p]}function MT({defaultProp:e,onChange:t}){const[n,s]=h.useState(e),l=h.useRef(n),o=h.useRef(t);return kT(()=>{o.current=t},[t]),h.useEffect(()=>{l.current!==n&&(o.current?.(n),l.current=n)},[n,l]),[n,s,o]}function OT(e){return typeof e=="function"}var _f="Popover",[tS,wF]=gT(_f,[bf]),Lc=bf(),[LT,Ss]=tS(_f),nS=e=>{const{__scopePopover:t,children:n,open:s,defaultOpen:l,onOpenChange:o,modal:d=!1}=e,f=Lc(t),m=h.useRef(null),[p,g]=h.useState(!1),[b,y]=DT({prop:s,defaultProp:l??!1,onChange:o,caller:_f});return r.jsx(tj,{...f,children:r.jsx(LT,{scope:t,contentId:wT(),triggerRef:m,open:b,onOpenChange:y,onOpenToggle:h.useCallback(()=>y(w=>!w),[y]),hasCustomAnchor:p,onCustomAnchorAdd:h.useCallback(()=>g(!0),[]),onCustomAnchorRemove:h.useCallback(()=>g(!1),[]),modal:d,children:n})})};nS.displayName=_f;var aS="PopoverAnchor",UT=h.forwardRef((e,t)=>{const{__scopePopover:n,...s}=e,l=Ss(aS,n),o=Lc(n),{onCustomAnchorAdd:d,onCustomAnchorRemove:f}=l;return h.useEffect(()=>(d(),()=>f()),[d,f]),r.jsx(Ig,{...o,...s,ref:t})});UT.displayName=aS;var rS="PopoverTrigger",sS=h.forwardRef((e,t)=>{const{__scopePopover:n,...s}=e,l=Ss(rS,n),o=Lc(n),d=ex(t,l.triggerRef),f=r.jsx(eS.button,{type:"button","aria-haspopup":"dialog","aria-expanded":l.open,"aria-controls":l.contentId,"data-state":dS(l.open),...s,ref:d,onClick:sc(e.onClick,l.onOpenToggle)});return l.hasCustomAnchor?f:r.jsx(Ig,{asChild:!0,...o,children:f})});sS.displayName=rS;var nx="PopoverPortal",[$T,FT]=tS(nx,{forceMount:void 0}),iS=e=>{const{__scopePopover:t,forceMount:n,children:s,container:l}=e,o=Ss(nx,t);return r.jsx($T,{scope:t,forceMount:n,children:r.jsx(tx,{present:n||o.open,children:r.jsx(vf,{asChild:!0,container:l,children:s})})})};iS.displayName=nx;var Sl="PopoverContent",lS=h.forwardRef((e,t)=>{const n=FT(Sl,e.__scopePopover),{forceMount:s=n.forceMount,...l}=e,o=Ss(Sl,e.__scopePopover);return r.jsx(tx,{present:s||o.open,children:o.modal?r.jsx(BT,{...l,ref:t}):r.jsx(zT,{...l,ref:t})})});lS.displayName=Sl;var IT=Qj("PopoverContent.RemoveScroll"),BT=h.forwardRef((e,t)=>{const n=Ss(Sl,e.__scopePopover),s=h.useRef(null),l=ex(t,s),o=h.useRef(!1);return h.useEffect(()=>{const d=s.current;if(d)return Bg(d)},[]),r.jsx(zg,{as:IT,allowPinchZoom:!0,children:r.jsx(oS,{...e,ref:l,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:sc(e.onCloseAutoFocus,d=>{d.preventDefault(),o.current||n.triggerRef.current?.focus()}),onPointerDownOutside:sc(e.onPointerDownOutside,d=>{const f=d.detail.originalEvent,m=f.button===0&&f.ctrlKey===!0,p=f.button===2||m;o.current=p},{checkForDefaultPrevented:!1}),onFocusOutside:sc(e.onFocusOutside,d=>d.preventDefault(),{checkForDefaultPrevented:!1})})})}),zT=h.forwardRef((e,t)=>{const n=Ss(Sl,e.__scopePopover),s=h.useRef(!1),l=h.useRef(!1);return r.jsx(oS,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:o=>{e.onCloseAutoFocus?.(o),o.defaultPrevented||(s.current||n.triggerRef.current?.focus(),o.preventDefault()),s.current=!1,l.current=!1},onInteractOutside:o=>{e.onInteractOutside?.(o),o.defaultPrevented||(s.current=!0,o.detail.originalEvent.type==="pointerdown"&&(l.current=!0));const d=o.target;n.triggerRef.current?.contains(d)&&o.preventDefault(),o.detail.originalEvent.type==="focusin"&&l.current&&o.preventDefault()}})}),oS=h.forwardRef((e,t)=>{const{__scopePopover:n,trapFocus:s,onOpenAutoFocus:l,onCloseAutoFocus:o,disableOutsidePointerEvents:d,onEscapeKeyDown:f,onPointerDownOutside:m,onFocusOutside:p,onInteractOutside:g,...b}=e,y=Ss(Sl,n),w=Lc(n);return Pg(),r.jsx(mf,{asChild:!0,loop:!0,trapped:s,onMountAutoFocus:l,onUnmountAutoFocus:o,children:r.jsx(hf,{asChild:!0,disableOutsidePointerEvents:d,onInteractOutside:g,onEscapeKeyDown:f,onPointerDownOutside:m,onFocusOutside:p,onDismiss:()=>y.onOpenChange(!1),children:r.jsx(nj,{"data-state":dS(y.open),role:"dialog",id:y.contentId,...w,...b,ref:t,style:{...b.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),cS="PopoverClose",qT=h.forwardRef((e,t)=>{const{__scopePopover:n,...s}=e,l=Ss(cS,n);return r.jsx(eS.button,{type:"button",...s,ref:t,onClick:sc(e.onClick,()=>l.onOpenChange(!1))})});qT.displayName=cS;var HT="PopoverArrow",VT=h.forwardRef((e,t)=>{const{__scopePopover:n,...s}=e,l=Lc(n);return r.jsx(aj,{...l,...s,ref:t})});VT.displayName=HT;function dS(e){return e?"open":"closed"}var GT=nS,YT=sS,KT=iS,WT=lS,JT=WT,ZT=KT,XT=GT,QT=YT;function ek(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var uS={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(e){(function(){var t={}.hasOwnProperty;function n(){for(var o="",d=0;d<arguments.length;d++){var f=arguments[d];f&&(o=l(o,s(f)))}return o}function s(o){if(typeof o=="string"||typeof o=="number")return o;if(typeof o!="object")return"";if(Array.isArray(o))return n.apply(null,o);if(o.toString!==Object.prototype.toString&&!o.toString.toString().includes("[native code]"))return o.toString();var d="";for(var f in o)t.call(o,f)&&o[f]&&(d=l(d,f));return d}function l(o,d){return d?o?o+" "+d:o+d:o}e.exports?(n.default=n,e.exports=n):window.classNames=n})()})(uS);var tk=uS.exports,Cf=ek(tk);function ax(e,t){t===void 0&&(t={});var n=t.insertAt;if(!(!e||typeof document>"u")){var s=document.head||document.getElementsByTagName("head")[0],l=document.createElement("style");l.type="text/css",n==="top"&&s.firstChild?s.insertBefore(l,s.firstChild):s.appendChild(l),l.styleSheet?l.styleSheet.cssText=e:l.appendChild(document.createTextNode(e))}}var nk=`/* HACK: NextJS does not always load stylesheets in a stable order; this ensures that no matter
   which order these styles are loaded, this component has the lowest precedence. Thus this ensures adding a
   Tailwind class will always override this style. */
@layer {
  .icon-wrapper-module_root__-l6uP {
    flex: 0 0 auto;
    display: inline-flex;
    align-items: center;
  }
}
`,ak={root:"icon-wrapper-module_root__-l6uP"};ax(nk,{insertAt:"top"});var Ee=De.forwardRef(function(t,n){var s=t.className,l=Ll(t,["className"]);return De.createElement("span",_e({ref:n,className:Cf(s,ak.root)},l))}),jr=h.forwardRef(function(t,n){return h.createElement(Ee,_e({ref:n},t),h.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"},h.createElement("path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z"}),h.createElement("path",{d:"M12 9v4"}),h.createElement("path",{d:"M12 17h.01"})))}),rx=h.forwardRef(function(t,n){return h.createElement(Ee,_e({ref:n},t),h.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"},h.createElement("path",{d:"m3 16 4 4 4-4"}),h.createElement("path",{d:"M7 20V4"}),h.createElement("path",{d:"m21 8-4-4-4 4"}),h.createElement("path",{d:"M17 4v16"})))}),rk=h.forwardRef(function(t,n){return h.createElement(Ee,_e({ref:n},t),h.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"},h.createElement("path",{d:"M12 5v14"}),h.createElement("path",{d:"m19 12-7 7-7-7"})))}),sk=h.forwardRef(function(t,n){return h.createElement(Ee,_e({ref:n},t),h.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"},h.createElement("path",{d:"M3.85 8.62a4 4 0 0 1 4.78-4.77 4 4 0 0 1 6.74 0 4 4 0 0 1 4.78 4.78 4 4 0 0 1 0 6.74 4 4 0 0 1-4.77 4.78 4 4 0 0 1-6.75 0 4 4 0 0 1-4.78-4.77 4 4 0 0 1 0-6.76Z"}),h.createElement("line",{x1:12,x2:12,y1:16,y2:12}),h.createElement("line",{x1:12,x2:12.01,y1:8,y2:8})))}),fS=h.forwardRef(function(t,n){return h.createElement(Ee,_e({ref:n},t),h.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"},h.createElement("line",{x1:18,x2:18,y1:20,y2:10}),h.createElement("line",{x1:12,x2:12,y1:20,y2:4}),h.createElement("line",{x1:6,x2:6,y1:20,y2:14})))}),ik=h.forwardRef(function(t,n){return h.createElement(Ee,_e({ref:n},t),h.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"},h.createElement("path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9"}),h.createElement("path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0"})))}),lk=h.forwardRef(function(t,n){return h.createElement(Ee,_e({ref:n},t),h.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"},h.createElement("path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z"}),h.createElement("path",{d:"m3.3 7 8.7 5 8.7-5"}),h.createElement("path",{d:"M12 22V12"})))}),ok=h.forwardRef(function(t,n){return h.createElement(Ee,_e({ref:n},t),h.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"},h.createElement("rect",{width:16,height:20,x:4,y:2,rx:2}),h.createElement("line",{x1:8,x2:16,y1:6,y2:6}),h.createElement("line",{x1:16,x2:16,y1:14,y2:18}),h.createElement("path",{d:"M16 10h.01"}),h.createElement("path",{d:"M12 10h.01"}),h.createElement("path",{d:"M8 10h.01"}),h.createElement("path",{d:"M12 14h.01"}),h.createElement("path",{d:"M8 14h.01"}),h.createElement("path",{d:"M12 18h.01"}),h.createElement("path",{d:"M8 18h.01"})))}),hS=h.forwardRef(function(t,n){return h.createElement(Ee,_e({ref:n},t),h.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"},h.createElement("rect",{width:18,height:18,x:3,y:4,rx:2,ry:2}),h.createElement("line",{x1:16,x2:16,y1:2,y2:6}),h.createElement("line",{x1:8,x2:8,y1:2,y2:6}),h.createElement("line",{x1:3,x2:21,y1:10,y2:10})))}),ck=h.forwardRef(function(t,n){return h.createElement(Ee,_e({ref:n},t),h.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"},h.createElement("path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z"}),h.createElement("circle",{cx:12,cy:13,r:3})))}),lw=h.forwardRef(function(t,n){return h.createElement(Ee,_e({ref:n},t),h.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"},h.createElement("path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14"}),h.createElement("polyline",{points:"22 4 12 14.01 9 11.01"})))}),Pn=h.forwardRef(function(t,n){return h.createElement(Ee,_e({ref:n},t),h.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"},h.createElement("polyline",{points:"20 6 9 17 4 12"})))}),ai=h.forwardRef(function(t,n){return h.createElement(Ee,_e({ref:n},t),h.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"},h.createElement("path",{d:"m6 9 6 6 6-6"})))}),dk=h.forwardRef(function(t,n){return h.createElement(Ee,_e({ref:n},t),h.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"},h.createElement("path",{d:"m9 18 6-6-6-6"})))}),ri=h.forwardRef(function(t,n){return h.createElement(Ee,_e({ref:n},t),h.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"},h.createElement("path",{d:"m18 15-6-6-6 6"})))}),uk=h.forwardRef(function(t,n){return h.createElement(Ee,_e({ref:n},t),h.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"},h.createElement("path",{d:"m11 17-5-5 5-5"}),h.createElement("path",{d:"m18 17-5-5 5-5"})))}),fk=h.forwardRef(function(t,n){return h.createElement(Ee,_e({ref:n},t),h.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"},h.createElement("path",{d:"m6 17 5-5-5-5"}),h.createElement("path",{d:"m13 17 5-5-5-5"})))}),Ef=h.forwardRef(function(t,n){return h.createElement(Ee,_e({ref:n},t),h.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"},h.createElement("circle",{cx:12,cy:12,r:10}),h.createElement("polyline",{points:"12 6 12 12 16 14"})))}),hk=h.forwardRef(function(t,n){return h.createElement(Ee,_e({ref:n},t),h.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"},h.createElement("rect",{width:14,height:14,x:8,y:8,rx:2,ry:2}),h.createElement("path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"})))}),Nl=h.forwardRef(function(t,n){return h.createElement(Ee,_e({ref:n},t),h.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"},h.createElement("line",{x1:12,x2:12,y1:2,y2:22}),h.createElement("path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"})))}),Sr=h.forwardRef(function(t,n){return h.createElement(Ee,_e({ref:n},t),h.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"},h.createElement("path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"}),h.createElement("polyline",{points:"7 10 12 15 17 10"}),h.createElement("line",{x1:12,x2:12,y1:15,y2:3})))}),mk=h.forwardRef(function(t,n){return h.createElement(Ee,_e({ref:n},t),h.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"},h.createElement("path",{d:"M17 3a2.828 2.828 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5L17 3z"})))}),Rf=h.forwardRef(function(t,n){return h.createElement(Ee,_e({ref:n},t),h.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"},h.createElement("path",{d:"M12 20h9"}),h.createElement("path",{d:"M16.5 3.5a2.121 2.121 0 0 1 3 3L7 19l-4 1 1-4L16.5 3.5z"})))}),pk=h.forwardRef(function(t,n){return h.createElement(Ee,_e({ref:n},t),h.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"},h.createElement("path",{d:"m7 21-4.3-4.3c-1-1-1-2.5 0-3.4l9.6-9.6c1-1 2.5-1 3.4 0l5.6 5.6c1 1 1 2.5 0 3.4L13 21"}),h.createElement("path",{d:"M22 21H7"}),h.createElement("path",{d:"m5 11 9 9"})))}),_l=h.forwardRef(function(t,n){return h.createElement(Ee,_e({ref:n},t),h.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"},h.createElement("path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z"}),h.createElement("circle",{cx:12,cy:12,r:3})))}),sx=h.forwardRef(function(t,n){return h.createElement(Ee,_e({ref:n},t),h.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"},h.createElement("path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z"}),h.createElement("polyline",{points:"14 2 14 8 20 8"}),h.createElement("line",{x1:16,x2:8,y1:13,y2:13}),h.createElement("line",{x1:16,x2:8,y1:17,y2:17}),h.createElement("line",{x1:10,x2:8,y1:9,y2:9})))}),ow=h.forwardRef(function(t,n){return h.createElement(Ee,_e({ref:n},t),h.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"},h.createElement("path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z"}),h.createElement("polyline",{points:"14 2 14 8 20 8"})))}),gk=h.forwardRef(function(t,n){return h.createElement(Ee,_e({ref:n},t),h.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"},h.createElement("path",{d:"M15 22v-4a4.8 4.8 0 0 0-1-3.5c3 0 6-2 6-5.5.08-1.25-.27-2.48-1-3.5.28-1.15.28-2.35 0-3.5 0 0-1 0-3 1.5-2.64-.5-5.36-.5-8 0C6 2 5 2 5 2c-.3 1.15-.3 2.35 0 3.5A5.403 5.403 0 0 0 4 9c0 3.5 3 5.5 6 5.5-.39.49-.68 1.05-.85 1.65-.17.6-.22 1.23-.15 1.85v4"}),h.createElement("path",{d:"M9 18c-4.51 2-5-2-7-2"})))}),Kp=h.forwardRef(function(t,n){return h.createElement(Ee,_e({ref:n},t),h.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"},h.createElement("circle",{cx:12,cy:12,r:10}),h.createElement("path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20"}),h.createElement("path",{d:"M2 12h20"})))}),wl=h.forwardRef(function(t,n){return h.createElement(Ee,_e({ref:n},t),h.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"},h.createElement("rect",{x:3,y:3,width:18,height:18,rx:2,ry:2}),h.createElement("line",{x1:3,y1:9,x2:21,y2:9}),h.createElement("line",{x1:3,y1:15,x2:21,y2:15}),h.createElement("line",{x1:9,y1:3,x2:9,y2:21}),h.createElement("line",{x1:15,y1:3,x2:15,y2:21})))}),mS=h.forwardRef(function(t,n){return h.createElement(Ee,_e({ref:n},t),h.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"},h.createElement("path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"}),h.createElement("polyline",{points:"9 22 9 12 15 12 15 22"})))}),xk=h.forwardRef(function(t,n){return h.createElement(Ee,_e({ref:n},t),h.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"},h.createElement("path",{d:"M12 6v4"}),h.createElement("path",{d:"M14 14h-4"}),h.createElement("path",{d:"M14 18h-4"}),h.createElement("path",{d:"M14 8h-4"}),h.createElement("path",{d:"M18 12h2a2 2 0 0 1 2 2v6a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2v-9a2 2 0 0 1 2-2h2"}),h.createElement("path",{d:"M18 22V4a2 2 0 0 0-2-2H8a2 2 0 0 0-2 2v18"})))}),nc=h.forwardRef(function(t,n){return h.createElement(Ee,_e({ref:n},t),h.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"},h.createElement("rect",{width:18,height:18,x:3,y:3,rx:2,ry:2}),h.createElement("circle",{cx:9,cy:9,r:2}),h.createElement("path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21"})))}),pS=h.forwardRef(function(t,n){return h.createElement(Ee,_e({ref:n},t),h.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"},h.createElement("polyline",{points:"22 12 16 12 14 15 10 15 8 12 2 12"}),h.createElement("path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z"})))}),Wp=h.forwardRef(function(t,n){return h.createElement(Ee,_e({ref:n},t),h.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"},h.createElement("circle",{cx:12,cy:12,r:10}),h.createElement("path",{d:"M12 16v-4"}),h.createElement("path",{d:"M12 8h.01"})))}),gS=h.forwardRef(function(t,n){return h.createElement(Ee,_e({ref:n},t),h.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"},h.createElement("path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}),h.createElement("polyline",{points:"16 17 21 12 16 7"}),h.createElement("line",{x1:21,x2:9,y1:12,y2:12})))}),xS=h.forwardRef(function(t,n){return h.createElement(Ee,_e({ref:n},t),h.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"},h.createElement("path",{d:"M13 12h8"}),h.createElement("path",{d:"M13 18h8"}),h.createElement("path",{d:"M13 6h8"}),h.createElement("path",{d:"M3 12h1"}),h.createElement("path",{d:"M3 18h1"}),h.createElement("path",{d:"M3 6h1"}),h.createElement("path",{d:"M8 12h1"}),h.createElement("path",{d:"M8 18h1"}),h.createElement("path",{d:"M8 6h1"})))}),bk=h.forwardRef(function(t,n){return h.createElement(Ee,_e({ref:n},t),h.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"},h.createElement("line",{x1:4,x2:20,y1:12,y2:12}),h.createElement("line",{x1:4,x2:20,y1:6,y2:6}),h.createElement("line",{x1:4,x2:20,y1:18,y2:18})))}),vk=h.forwardRef(function(t,n){return h.createElement(Ee,_e({ref:n},t),h.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"},h.createElement("rect",{width:4,height:16,x:6,y:4}),h.createElement("rect",{width:4,height:16,x:14,y:4})))}),yk=h.forwardRef(function(t,n){return h.createElement(Ee,_e({ref:n},t),h.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"},h.createElement("path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z"})))}),wk=h.forwardRef(function(t,n){return h.createElement(Ee,_e({ref:n},t),h.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"},h.createElement("path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"})))}),jk=h.forwardRef(function(t,n){return h.createElement(Ee,_e({ref:n},t),h.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"},h.createElement("polygon",{points:"5 3 19 12 5 21 5 3"})))}),Sk=h.forwardRef(function(t,n){return h.createElement(Ee,_e({ref:n},t),h.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"},h.createElement("circle",{cx:12,cy:12,r:10}),h.createElement("path",{d:"M8 12h8"}),h.createElement("path",{d:"M12 8v8"})))}),oi=h.forwardRef(function(t,n){return h.createElement(Ee,_e({ref:n},t),h.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"},h.createElement("path",{d:"M5 12h14"}),h.createElement("path",{d:"M12 5v14"})))}),Nr=h.forwardRef(function(t,n){return h.createElement(Ee,_e({ref:n},t),h.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"},h.createElement("polyline",{points:"6 9 6 2 18 2 18 9"}),h.createElement("path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2"}),h.createElement("rect",{width:12,height:8,x:6,y:14})))}),Un=h.forwardRef(function(t,n){return h.createElement(Ee,_e({ref:n},t),h.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"},h.createElement("path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8"}),h.createElement("path",{d:"M21 3v5h-5"}),h.createElement("path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16"}),h.createElement("path",{d:"M8 16H3v5"})))}),Nk=h.forwardRef(function(t,n){return h.createElement(Ee,_e({ref:n},t),h.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"},h.createElement("path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8"}),h.createElement("path",{d:"M3 3v5h5"})))}),Af=h.forwardRef(function(t,n){return h.createElement(Ee,_e({ref:n},t),h.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"},h.createElement("path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z"}),h.createElement("polyline",{points:"17 21 17 13 7 13 7 21"}),h.createElement("polyline",{points:"7 3 7 8 15 8"})))}),Tr=h.forwardRef(function(t,n){return h.createElement(Ee,_e({ref:n},t),h.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"},h.createElement("circle",{cx:11,cy:11,r:8}),h.createElement("path",{d:"m21 21-4.3-4.3"})))}),bS=h.forwardRef(function(t,n){return h.createElement(Ee,_e({ref:n},t),h.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"},h.createElement("path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z"}),h.createElement("circle",{cx:12,cy:12,r:3})))}),_k=h.forwardRef(function(t,n){return h.createElement(Ee,_e({ref:n},t),h.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"},h.createElement("polygon",{points:"19 20 9 12 19 4 19 20"}),h.createElement("line",{x1:5,x2:5,y1:19,y2:5})))}),Ck=h.forwardRef(function(t,n){return h.createElement(Ee,_e({ref:n},t),h.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"},h.createElement("polygon",{points:"5 4 15 12 5 20 5 4"}),h.createElement("line",{x1:19,x2:19,y1:5,y2:19})))}),Ek=h.forwardRef(function(t,n){return h.createElement(Ee,_e({ref:n},t),h.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"},h.createElement("rect",{width:3,height:8,x:13,y:2,rx:1.5}),h.createElement("path",{d:"M19 8.5V10h1.5A1.5 1.5 0 1 0 19 8.5"}),h.createElement("rect",{width:3,height:8,x:8,y:14,rx:1.5}),h.createElement("path",{d:"M5 15.5V14H3.5A1.5 1.5 0 1 0 5 15.5"}),h.createElement("rect",{width:8,height:3,x:14,y:13,rx:1.5}),h.createElement("path",{d:"M15.5 19H14v1.5a1.5 1.5 0 1 0 1.5-1.5"}),h.createElement("rect",{width:8,height:3,x:2,y:8,rx:1.5}),h.createElement("path",{d:"M8.5 5H10V3.5A1.5 1.5 0 1 0 8.5 5"})))}),Jp=h.forwardRef(function(t,n){return h.createElement(Ee,_e({ref:n},t),h.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"},h.createElement("path",{d:"m8 14-6 6h9v-3"}),h.createElement("path",{d:"M18.37 3.63 8 14l3 3L21.37 6.63a2.12 2.12 0 1 0-3-3Z"})))}),Rk=h.forwardRef(function(t,n){return h.createElement(Ee,_e({ref:n},t),h.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"},h.createElement("path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}),h.createElement("path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z"})))}),Gu=h.forwardRef(function(t,n){return h.createElement(Ee,_e({ref:n},t),h.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"},h.createElement("polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"})))}),Ak=h.forwardRef(function(t,n){return h.createElement(Ee,_e({ref:n},t),h.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"},h.createElement("path",{d:"M12 2H2v10l9.29 9.29c.94.94 2.48.94 3.42 0l6.58-6.58c.94-.94.94-2.48 0-3.42L12 2Z"}),h.createElement("path",{d:"M7 7h.01"})))}),cw=h.forwardRef(function(t,n){return h.createElement(Ee,_e({ref:n},t),h.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"},h.createElement("path",{d:"M3 6h18"}),h.createElement("path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6"}),h.createElement("path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2"}),h.createElement("line",{x1:10,x2:10,y1:11,y2:17}),h.createElement("line",{x1:14,x2:14,y1:11,y2:17})))}),Pk=h.forwardRef(function(t,n){return h.createElement(Ee,_e({ref:n},t),h.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"},h.createElement("path",{d:"M3 6h18"}),h.createElement("path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6"}),h.createElement("path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2"})))}),Tk=h.forwardRef(function(t,n){return h.createElement(Ee,_e({ref:n},t),h.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"},h.createElement("polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7"}),h.createElement("polyline",{points:"16 17 22 17 22 11"})))}),kk=h.forwardRef(function(t,n){return h.createElement(Ee,_e({ref:n},t),h.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"},h.createElement("path",{d:"M5 18H3c-.6 0-1-.4-1-1V7c0-.6.4-1 1-1h10c.6 0 1 .4 1 1v11"}),h.createElement("path",{d:"M14 9h4l4 4v4c0 .6-.4 1-1 1h-2"}),h.createElement("circle",{cx:7,cy:18,r:2}),h.createElement("path",{d:"M15 18H9"}),h.createElement("circle",{cx:17,cy:18,r:2})))}),Dk=h.forwardRef(function(t,n){return h.createElement(Ee,_e({ref:n},t),h.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"},h.createElement("path",{d:"M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z"})))}),Mk=h.forwardRef(function(t,n){return h.createElement(Ee,_e({ref:n},t),h.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"},h.createElement("path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"}),h.createElement("polyline",{points:"17 8 12 3 7 8"}),h.createElement("line",{x1:12,x2:12,y1:3,y2:15})))}),ic=h.forwardRef(function(t,n){return h.createElement(Ee,_e({ref:n},t),h.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"},h.createElement("path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2"}),h.createElement("circle",{cx:12,cy:7,r:4})))}),Ok=h.forwardRef(function(t,n){return h.createElement(Ee,_e({ref:n},t),h.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"},h.createElement("path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2"}),h.createElement("circle",{cx:9,cy:7,r:4}),h.createElement("path",{d:"M22 21v-2a4 4 0 0 0-3-3.87"}),h.createElement("path",{d:"M16 3.13a4 4 0 0 1 0 7.75"})))}),dw=h.forwardRef(function(t,n){return h.createElement(Ee,_e({ref:n},t),h.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"},h.createElement("circle",{cx:12,cy:12,r:10}),h.createElement("path",{d:"m15 9-6 6"}),h.createElement("path",{d:"m9 9 6 6"})))}),bn=h.forwardRef(function(t,n){return h.createElement(Ee,_e({ref:n},t),h.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"},h.createElement("path",{d:"M18 6 6 18"}),h.createElement("path",{d:"m6 6 12 12"})))}),Lk=`/* HACK: NextJS does not always load stylesheets in a stable order; this ensures that no matter
   which order these styles are loaded, this component has the lowest precedence. Thus this ensures adding a
   Tailwind class will always override this style. */
@layer {
  .loader-module_root__-0Kak {
    display: inline-block;
  }
}

/* Taken from https://metajunaid.github.io/SpinBolt/ */
.loader-module_root__-0Kak {
  /* NOTE: color must be set by the caller */
  height: 1em;
  width: 1em;
  position: relative;
  border: 0.2em solid;
  border-radius: 50%;
  border-top-color: transparent;
  animation: loader-module_rotate__pyoeU 1s linear infinite;
  flex: 0 0 auto;
}

@keyframes loader-module_rotate__pyoeU {
  0% {
    transform: rotate(0);
  }
  100% {
    transform: rotate(360deg);
  }
}
`,Uk={root:"loader-module_root__-0Kak"};ax(Lk,{insertAt:"top"});var ix=De.forwardRef(function(t,n){var s=t.className,l=Ll(t,["className"]);return De.createElement("div",_e({ref:n,className:Cf(s,Uk.root)},l))}),Yu=globalThis?.document?h.useLayoutEffect:()=>{},$k=Ml[" useId ".trim().toString()]||(()=>{}),Fk=0;function mp(e){const[t,n]=h.useState($k());return Yu(()=>{n(s=>s??String(Fk++))},[e]),e||(t?`radix-${t}`:"")}var Ik=Ml[" useInsertionEffect ".trim().toString()]||Yu;function Bk({prop:e,defaultProp:t,onChange:n=()=>{},caller:s}){const[l,o,d]=zk({defaultProp:t,onChange:n}),f=e!==void 0,m=f?e:l;{const g=h.useRef(e!==void 0);h.useEffect(()=>{const b=g.current;b!==f&&console.warn(`${s} is changing from ${b?"controlled":"uncontrolled"} to ${f?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),g.current=f},[f,s])}const p=h.useCallback(g=>{if(f){const b=qk(g)?g(e):g;b!==e&&d.current?.(b)}else o(g)},[f,e,o,d]);return[m,p]}function zk({defaultProp:e,onChange:t}){const[n,s]=h.useState(e),l=h.useRef(n),o=h.useRef(t);return Ik(()=>{o.current=t},[t]),h.useEffect(()=>{l.current!==n&&(o.current?.(n),l.current=n)},[n,l]),[n,s,o]}function qk(e){return typeof e=="function"}function Hk(e,t){return h.useReducer((n,s)=>t[n][s]??n,e)}var Pf=e=>{const{present:t,children:n}=e,s=Vk(t),l=typeof n=="function"?n({present:s.isPresent}):h.Children.only(n),o=Pr(s.ref,Gk(l));return typeof n=="function"||s.isPresent?h.cloneElement(l,{ref:o}):null};Pf.displayName="Presence";function Vk(e){const[t,n]=h.useState(),s=h.useRef({}),l=h.useRef(e),o=h.useRef("none"),d=e?"mounted":"unmounted",[f,m]=Hk(d,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return h.useEffect(()=>{const p=su(s.current);o.current=f==="mounted"?p:"none"},[f]),Yu(()=>{const p=s.current,g=l.current;if(g!==e){const y=o.current,w=su(p);e?m("MOUNT"):w==="none"||p?.display==="none"?m("UNMOUNT"):m(g&&y!==w?"ANIMATION_OUT":"UNMOUNT"),l.current=e}},[e,m]),Yu(()=>{if(t){let p;const g=t.ownerDocument.defaultView??window,b=w=>{const S=su(s.current).includes(w.animationName);if(w.target===t&&S&&(m("ANIMATION_END"),!l.current)){const E=t.style.animationFillMode;t.style.animationFillMode="forwards",p=g.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=E)})}},y=w=>{w.target===t&&(o.current=su(s.current))};return t.addEventListener("animationstart",y),t.addEventListener("animationcancel",b),t.addEventListener("animationend",b),()=>{g.clearTimeout(p),t.removeEventListener("animationstart",y),t.removeEventListener("animationcancel",b),t.removeEventListener("animationend",b)}}else m("ANIMATION_END")},[t,m]),{isPresent:["mounted","unmountSuspended"].includes(f),ref:h.useCallback(p=>{p&&(s.current=getComputedStyle(p)),n(p)},[])}}function su(e){return e?.animationName||"none"}function Gk(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var Tf="Dialog",[vS,jF]=V2(Tf),[Yk,$a]=vS(Tf),yS=e=>{const{__scopeDialog:t,children:n,open:s,defaultOpen:l,onOpenChange:o,modal:d=!0}=e,f=h.useRef(null),m=h.useRef(null),[p,g]=Bk({prop:s,defaultProp:l??!1,onChange:o,caller:Tf});return r.jsx(Yk,{scope:t,triggerRef:f,contentRef:m,contentId:mp(),titleId:mp(),descriptionId:mp(),open:p,onOpenChange:g,onOpenToggle:h.useCallback(()=>g(b=>!b),[g]),modal:d,children:n})};yS.displayName=Tf;var wS="DialogTrigger",Kk=h.forwardRef((e,t)=>{const{__scopeDialog:n,...s}=e,l=$a(wS,n),o=Pr(t,l.triggerRef);return r.jsx(Na.button,{type:"button","aria-haspopup":"dialog","aria-expanded":l.open,"aria-controls":l.contentId,"data-state":cx(l.open),...s,ref:o,onClick:ps(e.onClick,l.onOpenToggle)})});Kk.displayName=wS;var lx="DialogPortal",[Wk,jS]=vS(lx,{forceMount:void 0}),SS=e=>{const{__scopeDialog:t,forceMount:n,children:s,container:l}=e,o=$a(lx,t);return r.jsx(Wk,{scope:t,forceMount:n,children:h.Children.map(s,d=>r.jsx(Pf,{present:n||o.open,children:r.jsx(vf,{asChild:!0,container:l,children:d})}))})};SS.displayName=lx;var Ku="DialogOverlay",NS=h.forwardRef((e,t)=>{const n=jS(Ku,e.__scopeDialog),{forceMount:s=n.forceMount,...l}=e,o=$a(Ku,e.__scopeDialog);return o.modal?r.jsx(Pf,{present:s||o.open,children:r.jsx(Zk,{...l,ref:t})}):null});NS.displayName=Ku;var Jk=P2("DialogOverlay.RemoveScroll"),Zk=h.forwardRef((e,t)=>{const{__scopeDialog:n,...s}=e,l=$a(Ku,n);return r.jsx(zg,{as:Jk,allowPinchZoom:!0,shards:[l.contentRef],children:r.jsx(Na.div,{"data-state":cx(l.open),...s,ref:t,style:{pointerEvents:"auto",...s.style}})})}),ci="DialogContent",_S=h.forwardRef((e,t)=>{const n=jS(ci,e.__scopeDialog),{forceMount:s=n.forceMount,...l}=e,o=$a(ci,e.__scopeDialog);return r.jsx(Pf,{present:s||o.open,children:o.modal?r.jsx(Xk,{...l,ref:t}):r.jsx(Qk,{...l,ref:t})})});_S.displayName=ci;var Xk=h.forwardRef((e,t)=>{const n=$a(ci,e.__scopeDialog),s=h.useRef(null),l=Pr(t,n.contentRef,s);return h.useEffect(()=>{const o=s.current;if(o)return Bg(o)},[]),r.jsx(CS,{...e,ref:l,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:ps(e.onCloseAutoFocus,o=>{o.preventDefault(),n.triggerRef.current?.focus()}),onPointerDownOutside:ps(e.onPointerDownOutside,o=>{const d=o.detail.originalEvent,f=d.button===0&&d.ctrlKey===!0;(d.button===2||f)&&o.preventDefault()}),onFocusOutside:ps(e.onFocusOutside,o=>o.preventDefault())})}),Qk=h.forwardRef((e,t)=>{const n=$a(ci,e.__scopeDialog),s=h.useRef(!1),l=h.useRef(!1);return r.jsx(CS,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:o=>{e.onCloseAutoFocus?.(o),o.defaultPrevented||(s.current||n.triggerRef.current?.focus(),o.preventDefault()),s.current=!1,l.current=!1},onInteractOutside:o=>{e.onInteractOutside?.(o),o.defaultPrevented||(s.current=!0,o.detail.originalEvent.type==="pointerdown"&&(l.current=!0));const d=o.target;n.triggerRef.current?.contains(d)&&o.preventDefault(),o.detail.originalEvent.type==="focusin"&&l.current&&o.preventDefault()}})}),CS=h.forwardRef((e,t)=>{const{__scopeDialog:n,trapFocus:s,onOpenAutoFocus:l,onCloseAutoFocus:o,...d}=e,f=$a(ci,n),m=h.useRef(null),p=Pr(t,m);return Pg(),r.jsxs(r.Fragment,{children:[r.jsx(mf,{asChild:!0,loop:!0,trapped:s,onMountAutoFocus:l,onUnmountAutoFocus:o,children:r.jsx(hf,{role:"dialog",id:f.contentId,"aria-describedby":f.descriptionId,"aria-labelledby":f.titleId,"data-state":cx(f.open),...d,ref:p,onDismiss:()=>f.onOpenChange(!1)})}),r.jsxs(r.Fragment,{children:[r.jsx(nD,{titleId:f.titleId}),r.jsx(rD,{contentRef:m,descriptionId:f.descriptionId})]})]})}),ox="DialogTitle",ES=h.forwardRef((e,t)=>{const{__scopeDialog:n,...s}=e,l=$a(ox,n);return r.jsx(Na.h2,{id:l.titleId,...s,ref:t})});ES.displayName=ox;var RS="DialogDescription",eD=h.forwardRef((e,t)=>{const{__scopeDialog:n,...s}=e,l=$a(RS,n);return r.jsx(Na.p,{id:l.descriptionId,...s,ref:t})});eD.displayName=RS;var AS="DialogClose",tD=h.forwardRef((e,t)=>{const{__scopeDialog:n,...s}=e,l=$a(AS,n);return r.jsx(Na.button,{type:"button",...s,ref:t,onClick:ps(e.onClick,()=>l.onOpenChange(!1))})});tD.displayName=AS;function cx(e){return e?"open":"closed"}var PS="DialogTitleWarning",[SF,TS]=vA(PS,{contentName:ci,titleName:ox,docsSlug:"dialog"}),nD=({titleId:e})=>{const t=TS(PS),n=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return h.useEffect(()=>{e&&(document.getElementById(e)||console.error(n))},[n,e]),null},aD="DialogDescriptionWarning",rD=({contentRef:e,descriptionId:t})=>{const s=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${TS(aD).contentName}}.`;return h.useEffect(()=>{const l=e.current?.getAttribute("aria-describedby");t&&l&&(document.getElementById(t)||console.warn(s))},[s,e,t]),null},sD=yS,iD=SS,lD=NS,oD=_S,cD=ES;function uw(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function dD(...e){return t=>{let n=!1;const s=e.map(l=>{const o=uw(l,t);return!n&&typeof o=="function"&&(n=!0),o});if(n)return()=>{for(let l=0;l<s.length;l++){const o=s[l];typeof o=="function"?o():uw(e[l],null)}}}}var kS=h.forwardRef((e,t)=>{const{children:n,...s}=e,l=h.Children.toArray(n),o=l.find(fD);if(o){const d=o.props.children,f=l.map(m=>m===o?h.Children.count(d)>1?h.Children.only(null):h.isValidElement(d)?d.props.children:null:m);return r.jsx(Zp,{...s,ref:t,children:h.isValidElement(d)?h.cloneElement(d,void 0,f):null})}return r.jsx(Zp,{...s,ref:t,children:n})});kS.displayName="Slot";var Zp=h.forwardRef((e,t)=>{const{children:n,...s}=e;if(h.isValidElement(n)){const l=mD(n);return h.cloneElement(n,{...hD(s,n.props),ref:t?dD(t,l):l})}return h.Children.count(n)>1?h.Children.only(null):null});Zp.displayName="SlotClone";var uD=({children:e})=>r.jsx(r.Fragment,{children:e});function fD(e){return h.isValidElement(e)&&e.type===uD}function hD(e,t){const n={...t};for(const s in t){const l=e[s],o=t[s];/^on[A-Z]/.test(s)?l&&o?n[s]=(...f)=>{o(...f),l(...f)}:l&&(n[s]=l):s==="style"?n[s]={...l,...o}:s==="className"&&(n[s]=[l,o].filter(Boolean).join(" "))}return{...e,...n}}function mD(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var pD=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],gD=pD.reduce((e,t)=>{const n=h.forwardRef((s,l)=>{const{asChild:o,...d}=s,f=o?kS:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),r.jsx(f,{...d,ref:l})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{}),xD="VisuallyHidden",DS=h.forwardRef((e,t)=>r.jsx(gD.span,{...e,ref:t,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...e.style}}));DS.displayName=xD;var bD=DS,vD=`/* HACK: NextJS does not always load stylesheets in a stable order; this ensures that no matter
   which order these styles are loaded, this component has the lowest precedence. Thus this ensures adding a
   Tailwind class will always override this style. */
@layer {
  .dialog-module_root__KADY5 {
    position: fixed;
    top: 0;
    left: 0;
    bottom: 0;
    right: 0;
  }
}
`,yD={root:"dialog-module_root__KADY5"};ax(vD,{insertAt:"top"});var wD=De.forwardRef(function(t,n){var s=t.className,l=t.defaultOpen,o=t.open,d=t.onOpenChange,f=t.modal,m=t.title,p=m===void 0?"":m,g=Ll(t,["className","defaultOpen","open","onOpenChange","modal","title"]);return De.createElement(sD,{defaultOpen:l,open:o,onOpenChange:d,modal:f},De.createElement(iD,null,De.createElement(lD,_e({ref:n,asChild:!0,className:Cf(s,yD.root)},g))),De.createElement(bD,{asChild:!0},De.createElement(cD,null,p)))}),jD=De.forwardRef(function(t,n){var s=t["aria-describedby"],l=s===void 0?void 0:s,o=t.onOpenAutoFocus,d=t.initialFocusRef,f=Ll(t,["aria-describedby","onOpenAutoFocus","initialFocusRef"]),m=h.useCallback(function(p){var g;d&&(p.preventDefault(),(g=d.current)===null||g===void 0||g.focus()),o?.(p)},[d,o]);return De.createElement(oD,_e({"aria-describedby":l,ref:n,asChild:!0,onOpenAutoFocus:m},f))});const dx="-";function SD(e){const t=_D(e),{conflictingClassGroups:n,conflictingClassGroupModifiers:s}=e;function l(d){const f=d.split(dx);return f[0]===""&&f.length!==1&&f.shift(),MS(f,t)||ND(d)}function o(d,f){const m=n[d]||[];return f&&s[d]?[...m,...s[d]]:m}return{getClassGroupId:l,getConflictingClassGroupIds:o}}function MS(e,t){if(e.length===0)return t.classGroupId;const n=e[0],s=t.nextPart.get(n),l=s?MS(e.slice(1),s):void 0;if(l)return l;if(t.validators.length===0)return;const o=e.join(dx);return t.validators.find(({validator:d})=>d(o))?.classGroupId}const fw=/^\[(.+)\]$/;function ND(e){if(fw.test(e)){const t=fw.exec(e)[1],n=t?.substring(0,t.indexOf(":"));if(n)return"arbitrary.."+n}}function _D(e){const{theme:t,prefix:n}=e,s={nextPart:new Map,validators:[]};return ED(Object.entries(e.classGroups),n).forEach(([o,d])=>{Xp(d,s,o,t)}),s}function Xp(e,t,n,s){e.forEach(l=>{if(typeof l=="string"){const o=l===""?t:hw(t,l);o.classGroupId=n;return}if(typeof l=="function"){if(CD(l)){Xp(l(s),t,n,s);return}t.validators.push({validator:l,classGroupId:n});return}Object.entries(l).forEach(([o,d])=>{Xp(d,hw(t,o),n,s)})})}function hw(e,t){let n=e;return t.split(dx).forEach(s=>{n.nextPart.has(s)||n.nextPart.set(s,{nextPart:new Map,validators:[]}),n=n.nextPart.get(s)}),n}function CD(e){return e.isThemeGetter}function ED(e,t){return t?e.map(([n,s])=>{const l=s.map(o=>typeof o=="string"?t+o:typeof o=="object"?Object.fromEntries(Object.entries(o).map(([d,f])=>[t+d,f])):o);return[n,l]}):e}function RD(e){if(e<1)return{get:()=>{},set:()=>{}};let t=0,n=new Map,s=new Map;function l(o,d){n.set(o,d),t++,t>e&&(t=0,s=n,n=new Map)}return{get(o){let d=n.get(o);if(d!==void 0)return d;if((d=s.get(o))!==void 0)return l(o,d),d},set(o,d){n.has(o)?n.set(o,d):l(o,d)}}}const OS="!";function AD(e){const t=e.separator,n=t.length===1,s=t[0],l=t.length;return function(d){const f=[];let m=0,p=0,g;for(let S=0;S<d.length;S++){let E=d[S];if(m===0){if(E===s&&(n||d.slice(S,S+l)===t)){f.push(d.slice(p,S)),p=S+l;continue}if(E==="/"){g=S;continue}}E==="["?m++:E==="]"&&m--}const b=f.length===0?d:d.substring(p),y=b.startsWith(OS),w=y?b.substring(1):b,j=g&&g>p?g-p:void 0;return{modifiers:f,hasImportantModifier:y,baseClassName:w,maybePostfixModifierPosition:j}}}function PD(e){if(e.length<=1)return e;const t=[];let n=[];return e.forEach(s=>{s[0]==="["?(t.push(...n.sort(),s),n=[]):n.push(s)}),t.push(...n.sort()),t}function TD(e){return{cache:RD(e.cacheSize),splitModifiers:AD(e),...SD(e)}}const kD=/\s+/;function DD(e,t){const{splitModifiers:n,getClassGroupId:s,getConflictingClassGroupIds:l}=t,o=new Set;return e.trim().split(kD).map(d=>{const{modifiers:f,hasImportantModifier:m,baseClassName:p,maybePostfixModifierPosition:g}=n(d);let b=s(g?p.substring(0,g):p),y=!!g;if(!b){if(!g)return{isTailwindClass:!1,originalClassName:d};if(b=s(p),!b)return{isTailwindClass:!1,originalClassName:d};y=!1}const w=PD(f).join(":");return{isTailwindClass:!0,modifierId:m?w+OS:w,classGroupId:b,originalClassName:d,hasPostfixModifier:y}}).reverse().filter(d=>{if(!d.isTailwindClass)return!0;const{modifierId:f,classGroupId:m,hasPostfixModifier:p}=d,g=f+m;return o.has(g)?!1:(o.add(g),l(m,p).forEach(b=>o.add(f+b)),!0)}).reverse().map(d=>d.originalClassName).join(" ")}function MD(){let e=0,t,n,s="";for(;e<arguments.length;)(t=arguments[e++])&&(n=LS(t))&&(s&&(s+=" "),s+=n);return s}function LS(e){if(typeof e=="string")return e;let t,n="";for(let s=0;s<e.length;s++)e[s]&&(t=LS(e[s]))&&(n&&(n+=" "),n+=t);return n}function OD(e,...t){let n,s,l,o=d;function d(m){const p=t.reduce((g,b)=>b(g),e());return n=TD(p),s=n.cache.get,l=n.cache.set,o=f,f(m)}function f(m){const p=s(m);if(p)return p;const g=DD(m,n);return l(m,g),g}return function(){return o(MD.apply(null,arguments))}}function Ht(e){const t=n=>n[e]||[];return t.isThemeGetter=!0,t}const US=/^\[(?:([a-z-]+):)?(.+)\]$/i,LD=/^\d+\/\d+$/,UD=new Set(["px","full","screen"]),$D=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,FD=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,ID=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,BD=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,zD=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/;function xr(e){return ei(e)||UD.has(e)||LD.test(e)}function rs(e){return Fl(e,"length",JD)}function ei(e){return!!e&&!Number.isNaN(Number(e))}function iu(e){return Fl(e,"number",ei)}function Vo(e){return!!e&&Number.isInteger(Number(e))}function qD(e){return e.endsWith("%")&&ei(e.slice(0,-1))}function nt(e){return US.test(e)}function ss(e){return $D.test(e)}const HD=new Set(["length","size","percentage"]);function VD(e){return Fl(e,HD,$S)}function GD(e){return Fl(e,"position",$S)}const YD=new Set(["image","url"]);function KD(e){return Fl(e,YD,XD)}function WD(e){return Fl(e,"",ZD)}function Go(){return!0}function Fl(e,t,n){const s=US.exec(e);return s?s[1]?typeof t=="string"?s[1]===t:t.has(s[1]):n(s[2]):!1}function JD(e){return FD.test(e)&&!ID.test(e)}function $S(){return!1}function ZD(e){return BD.test(e)}function XD(e){return zD.test(e)}function QD(){const e=Ht("colors"),t=Ht("spacing"),n=Ht("blur"),s=Ht("brightness"),l=Ht("borderColor"),o=Ht("borderRadius"),d=Ht("borderSpacing"),f=Ht("borderWidth"),m=Ht("contrast"),p=Ht("grayscale"),g=Ht("hueRotate"),b=Ht("invert"),y=Ht("gap"),w=Ht("gradientColorStops"),j=Ht("gradientColorStopPositions"),S=Ht("inset"),E=Ht("margin"),R=Ht("opacity"),A=Ht("padding"),N=Ht("saturate"),P=Ht("scale"),T=Ht("sepia"),C=Ht("skew"),k=Ht("space"),$=Ht("translate"),O=()=>["auto","contain","none"],V=()=>["auto","hidden","clip","visible","scroll"],W=()=>["auto",nt,t],L=()=>[nt,t],F=()=>["",xr,rs],B=()=>["auto",ei,nt],te=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],U=()=>["solid","dashed","dotted","double","none"],q=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],G=()=>["start","end","center","between","around","evenly","stretch"],J=()=>["","0",nt],D=()=>["auto","avoid","all","avoid-page","page","left","right","column"],z=()=>[ei,iu],ae=()=>[ei,nt];return{cacheSize:500,separator:":",theme:{colors:[Go],spacing:[xr,rs],blur:["none","",ss,nt],brightness:z(),borderColor:[e],borderRadius:["none","","full",ss,nt],borderSpacing:L(),borderWidth:F(),contrast:z(),grayscale:J(),hueRotate:ae(),invert:J(),gap:L(),gradientColorStops:[e],gradientColorStopPositions:[qD,rs],inset:W(),margin:W(),opacity:z(),padding:L(),saturate:z(),scale:z(),sepia:J(),skew:ae(),space:L(),translate:L()},classGroups:{aspect:[{aspect:["auto","square","video",nt]}],container:["container"],columns:[{columns:[ss]}],"break-after":[{"break-after":D()}],"break-before":[{"break-before":D()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...te(),nt]}],overflow:[{overflow:V()}],"overflow-x":[{"overflow-x":V()}],"overflow-y":[{"overflow-y":V()}],overscroll:[{overscroll:O()}],"overscroll-x":[{"overscroll-x":O()}],"overscroll-y":[{"overscroll-y":O()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[S]}],"inset-x":[{"inset-x":[S]}],"inset-y":[{"inset-y":[S]}],start:[{start:[S]}],end:[{end:[S]}],top:[{top:[S]}],right:[{right:[S]}],bottom:[{bottom:[S]}],left:[{left:[S]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Vo,nt]}],basis:[{basis:W()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",nt]}],grow:[{grow:J()}],shrink:[{shrink:J()}],order:[{order:["first","last","none",Vo,nt]}],"grid-cols":[{"grid-cols":[Go]}],"col-start-end":[{col:["auto",{span:["full",Vo,nt]},nt]}],"col-start":[{"col-start":B()}],"col-end":[{"col-end":B()}],"grid-rows":[{"grid-rows":[Go]}],"row-start-end":[{row:["auto",{span:[Vo,nt]},nt]}],"row-start":[{"row-start":B()}],"row-end":[{"row-end":B()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",nt]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",nt]}],gap:[{gap:[y]}],"gap-x":[{"gap-x":[y]}],"gap-y":[{"gap-y":[y]}],"justify-content":[{justify:["normal",...G()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...G(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...G(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[A]}],px:[{px:[A]}],py:[{py:[A]}],ps:[{ps:[A]}],pe:[{pe:[A]}],pt:[{pt:[A]}],pr:[{pr:[A]}],pb:[{pb:[A]}],pl:[{pl:[A]}],m:[{m:[E]}],mx:[{mx:[E]}],my:[{my:[E]}],ms:[{ms:[E]}],me:[{me:[E]}],mt:[{mt:[E]}],mr:[{mr:[E]}],mb:[{mb:[E]}],ml:[{ml:[E]}],"space-x":[{"space-x":[k]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[k]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",nt,t]}],"min-w":[{"min-w":[nt,t,"min","max","fit"]}],"max-w":[{"max-w":[nt,t,"none","full","min","max","fit","prose",{screen:[ss]},ss]}],h:[{h:[nt,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[nt,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[nt,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[nt,t,"auto","min","max","fit"]}],"font-size":[{text:["base",ss,rs]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",iu]}],"font-family":[{font:[Go]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",nt]}],"line-clamp":[{"line-clamp":["none",ei,iu]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",xr,nt]}],"list-image":[{"list-image":["none",nt]}],"list-style-type":[{list:["none","disc","decimal",nt]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[R]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[R]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...U(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",xr,rs]}],"underline-offset":[{"underline-offset":["auto",xr,nt]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:L()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",nt]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",nt]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[R]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...te(),GD]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",VD]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},KD]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[j]}],"gradient-via-pos":[{via:[j]}],"gradient-to-pos":[{to:[j]}],"gradient-from":[{from:[w]}],"gradient-via":[{via:[w]}],"gradient-to":[{to:[w]}],rounded:[{rounded:[o]}],"rounded-s":[{"rounded-s":[o]}],"rounded-e":[{"rounded-e":[o]}],"rounded-t":[{"rounded-t":[o]}],"rounded-r":[{"rounded-r":[o]}],"rounded-b":[{"rounded-b":[o]}],"rounded-l":[{"rounded-l":[o]}],"rounded-ss":[{"rounded-ss":[o]}],"rounded-se":[{"rounded-se":[o]}],"rounded-ee":[{"rounded-ee":[o]}],"rounded-es":[{"rounded-es":[o]}],"rounded-tl":[{"rounded-tl":[o]}],"rounded-tr":[{"rounded-tr":[o]}],"rounded-br":[{"rounded-br":[o]}],"rounded-bl":[{"rounded-bl":[o]}],"border-w":[{border:[f]}],"border-w-x":[{"border-x":[f]}],"border-w-y":[{"border-y":[f]}],"border-w-s":[{"border-s":[f]}],"border-w-e":[{"border-e":[f]}],"border-w-t":[{"border-t":[f]}],"border-w-r":[{"border-r":[f]}],"border-w-b":[{"border-b":[f]}],"border-w-l":[{"border-l":[f]}],"border-opacity":[{"border-opacity":[R]}],"border-style":[{border:[...U(),"hidden"]}],"divide-x":[{"divide-x":[f]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[f]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[R]}],"divide-style":[{divide:U()}],"border-color":[{border:[l]}],"border-color-x":[{"border-x":[l]}],"border-color-y":[{"border-y":[l]}],"border-color-t":[{"border-t":[l]}],"border-color-r":[{"border-r":[l]}],"border-color-b":[{"border-b":[l]}],"border-color-l":[{"border-l":[l]}],"divide-color":[{divide:[l]}],"outline-style":[{outline:["",...U()]}],"outline-offset":[{"outline-offset":[xr,nt]}],"outline-w":[{outline:[xr,rs]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:F()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[R]}],"ring-offset-w":[{"ring-offset":[xr,rs]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",ss,WD]}],"shadow-color":[{shadow:[Go]}],opacity:[{opacity:[R]}],"mix-blend":[{"mix-blend":[...q(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":q()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[s]}],contrast:[{contrast:[m]}],"drop-shadow":[{"drop-shadow":["","none",ss,nt]}],grayscale:[{grayscale:[p]}],"hue-rotate":[{"hue-rotate":[g]}],invert:[{invert:[b]}],saturate:[{saturate:[N]}],sepia:[{sepia:[T]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[s]}],"backdrop-contrast":[{"backdrop-contrast":[m]}],"backdrop-grayscale":[{"backdrop-grayscale":[p]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[g]}],"backdrop-invert":[{"backdrop-invert":[b]}],"backdrop-opacity":[{"backdrop-opacity":[R]}],"backdrop-saturate":[{"backdrop-saturate":[N]}],"backdrop-sepia":[{"backdrop-sepia":[T]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[d]}],"border-spacing-x":[{"border-spacing-x":[d]}],"border-spacing-y":[{"border-spacing-y":[d]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",nt]}],duration:[{duration:ae()}],ease:[{ease:["linear","in","out","in-out",nt]}],delay:[{delay:ae()}],animate:[{animate:["none","spin","ping","pulse","bounce",nt]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[P]}],"scale-x":[{"scale-x":[P]}],"scale-y":[{"scale-y":[P]}],rotate:[{rotate:[Vo,nt]}],"translate-x":[{"translate-x":[$]}],"translate-y":[{"translate-y":[$]}],"skew-x":[{"skew-x":[C]}],"skew-y":[{"skew-y":[C]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",nt]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",nt]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":L()}],"scroll-mx":[{"scroll-mx":L()}],"scroll-my":[{"scroll-my":L()}],"scroll-ms":[{"scroll-ms":L()}],"scroll-me":[{"scroll-me":L()}],"scroll-mt":[{"scroll-mt":L()}],"scroll-mr":[{"scroll-mr":L()}],"scroll-mb":[{"scroll-mb":L()}],"scroll-ml":[{"scroll-ml":L()}],"scroll-p":[{"scroll-p":L()}],"scroll-px":[{"scroll-px":L()}],"scroll-py":[{"scroll-py":L()}],"scroll-ps":[{"scroll-ps":L()}],"scroll-pe":[{"scroll-pe":L()}],"scroll-pt":[{"scroll-pt":L()}],"scroll-pr":[{"scroll-pr":L()}],"scroll-pb":[{"scroll-pb":L()}],"scroll-pl":[{"scroll-pl":L()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",nt]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[xr,rs,iu]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}}function FS(e){var t=OD(function(){var n=QD();return _e(_e({},n),{classGroups:_e(_e({},n.classGroups),{"subframe-font-mixins":e}),conflictingClassGroups:{"subframe-font-mixins":["font-size","leading","font-weight"],"font-size":["subframe-font-mixins"],leading:["subframe-font-mixins"],"font-weight":["subframe-font-mixins"]}})});return function(){for(var n=[],s=0;s<arguments.length;s++)n[s]=arguments[s];return t(Cf.apply(void 0,n))}}FS(["text-label","text-label-bold","text-body","text-body-bold","text-subheader","text-section-header","text-header","text-monospace-body","text-caption","text-caption-bold","text-heading-3","text-heading-2","text-heading-1"]);const $e=FS(["text-caption","text-caption-bold","text-body","text-body-bold","text-heading-3","text-heading-2","text-heading-1","text-monospace-body","cursor-none"]),e8=De.forwardRef(function({variant:t="brand-primary",size:n="medium",children:s,icon:l=null,iconRight:o=null,loading:d=!1,className:f,type:m="button",...p},g){return r.jsxs("button",{className:$e("group/btn w-full flex h-8 cursor-pointer items-center justify-center gap-2 rounded-md border-none bg-brand-600 px-3 hover:bg-brand-500 active:bg-brand-600 disabled:cursor-default disabled:bg-neutral-200 hover:disabled:cursor-default hover:disabled:bg-neutral-200 active:disabled:cursor-default active:disabled:bg-neutral-200",{"h-6 w-auto flex-row flex-nowrap gap-1 px-2 py-0":n==="small","h-10 w-auto px-4 py-0":n==="large","bg-transparent hover:bg-[#ffffff29] active:bg-[#ffffff3d]":t==="inverse","bg-transparent hover:bg-error-50 active:bg-error-100":t==="destructive-tertiary","bg-error-50 hover:bg-error-100 active:bg-error-50":t==="destructive-secondary","bg-error-600 hover:bg-error-500 active:bg-error-600":t==="destructive-primary","bg-transparent hover:bg-neutral-100 active:bg-neutral-200":t==="neutral-tertiary","border border-solid border-neutral-border bg-default-background hover:bg-neutral-50 active:bg-default-background":t==="neutral-secondary","bg-neutral-100 hover:bg-neutral-200 active:bg-neutral-100":t==="neutral-primary","bg-transparent hover:bg-brand-50 active:bg-brand-100":t==="brand-tertiary","bg-brand-50 hover:bg-brand-100 active:bg-brand-50":t==="brand-secondary","bg-success-600 hover:bg-success-500 active:bg-success-600":t==="success-primary","bg-success-50 hover:bg-success-100 active:bg-success-50":t==="success-secondary","bg-transparent hover:bg-success-50 active:bg-success-100":t==="success-tertiary"},f),ref:g,type:m,...p,children:[l?r.jsx(Ee,{className:$e("text-body font-body text-white group-disabled/btn:text-neutral-400",{hidden:d,"text-body font-body":n==="small","text-heading-3 font-heading-3":n==="large","text-white":t==="inverse","text-error-700":t==="destructive-tertiary"||t==="destructive-secondary","text-neutral-700":t==="neutral-tertiary"||t==="neutral-secondary"||t==="neutral-primary","text-brand-700":t==="brand-tertiary"||t==="brand-secondary","text-success-700":t==="success-tertiary"||t==="success-secondary"}),children:l}):null,r.jsx("div",{className:$e("hidden h-4 w-4 flex-none items-center justify-center gap-2",{flex:d,"h-3 w-3 flex-none":n==="small"}),children:r.jsx(ix,{className:$e("text-caption font-caption text-white group-disabled/btn:text-neutral-400",{"inline-block font-['Inter'] text-[12px] font-[400] leading-[20px] tracking-normal":d,"text-caption font-caption":n==="small","text-error-700":t==="destructive-tertiary"||t==="destructive-secondary","text-neutral-700":t==="neutral-tertiary"||t==="neutral-secondary"||t==="neutral-primary","text-brand-700":t==="brand-tertiary"||t==="brand-secondary","text-success-700":t==="success-tertiary"||t==="success-secondary"})})}),s?r.jsx("span",{className:$e("whitespace-nowrap text-body-bold font-body-bold text-white group-disabled/btn:text-neutral-400",{hidden:d,"text-caption-bold font-caption-bold":n==="small","text-body-bold font-body-bold":n==="large","text-white":t==="inverse","text-error-700":t==="destructive-tertiary"||t==="destructive-secondary","text-neutral-700":t==="neutral-tertiary"||t==="neutral-secondary"||t==="neutral-primary","text-brand-700":t==="brand-tertiary"||t==="brand-secondary","text-success-700":t==="success-tertiary"||t==="success-secondary"}),children:s}):null,o?r.jsx(Ee,{className:$e("text-body font-body text-white group-disabled/btn:text-neutral-400",{"text-body font-body":n==="small","text-heading-3 font-heading-3":n==="large","text-white":t==="inverse","text-error-700":t==="destructive-tertiary"||t==="destructive-secondary","text-neutral-700":t==="neutral-tertiary"||t==="neutral-secondary"||t==="neutral-primary","text-brand-700":t==="brand-tertiary"||t==="brand-secondary","text-success-700":t==="success-tertiary"||t==="success-secondary"}),children:o}):null]})}),ce=e8,t8=De.forwardRef(function({variant:t="brand",size:n="x-small",icon:s=r.jsx(Pn,{}),square:l=!1,className:o,...d},f){return r.jsx("div",{className:$e("group/c5d68c0e flex h-5 w-5 items-center justify-center gap-2 rounded-full bg-brand-100",{"rounded-md":l,"h-6 w-6":n==="small","h-8 w-8":n==="medium","h-12 w-12":n==="large","h-16 w-16":n==="x-large","bg-warning-100":t==="warning","bg-success-100":t==="success","bg-error-100":t==="error","bg-neutral-100":t==="neutral"},o),ref:f,...d,children:s?r.jsx(Ee,{className:$e("font-['Inter'] text-[10px] font-[400] leading-[12px] text-brand-800",{"text-caption font-caption":n==="small","text-body font-body":n==="medium","text-heading-2 font-heading-2":n==="large","text-heading-1 font-heading-1":n==="x-large","text-warning-800":t==="warning","text-success-800":t==="success","text-error-800":t==="error","text-neutral-700":t==="neutral"}),children:s}):null})}),pp=t8,n8=De.forwardRef(function({variant:t="neutral",size:n="medium",icon:s=null,children:l,iconRight:o=null,className:d,type:f="button",...m},p){return r.jsxs("button",{className:$e("group/a4ee726a flex cursor-pointer items-center gap-1 border-none bg-transparent",{"flex-row flex-nowrap gap-1":n==="large"},d),ref:p,type:f,...m,children:[s?r.jsx(Ee,{className:$e("text-body font-body text-neutral-700 group-hover/a4ee726a:text-brand-700 group-disabled/a4ee726a:text-neutral-400 group-hover/a4ee726a:group-disabled/a4ee726a:text-neutral-400",{"text-caption font-caption":n==="small","text-heading-3 font-heading-3":n==="large","text-white group-hover/a4ee726a:text-white":t==="inverse","text-brand-700 group-hover/a4ee726a:text-brand-700":t==="brand"}),children:s}):null,l?r.jsx("span",{className:$e("text-body font-body text-neutral-700 group-hover/a4ee726a:text-brand-700 group-hover/a4ee726a:underline group-disabled/a4ee726a:text-neutral-400 group-hover/a4ee726a:group-disabled/a4ee726a:text-neutral-400 group-hover/a4ee726a:group-disabled/a4ee726a:no-underline",{"text-caption font-caption":n==="small","text-heading-3 font-heading-3":n==="large","text-white group-hover/a4ee726a:text-white":t==="inverse","text-brand-700 group-hover/a4ee726a:text-brand-700":t==="brand"}),children:l}):null,o?r.jsx(Ee,{className:$e("text-body font-body text-neutral-700 group-hover/a4ee726a:text-brand-700 group-disabled/a4ee726a:text-neutral-400 group-hover/a4ee726a:group-disabled/a4ee726a:text-neutral-400",{"text-caption font-caption":n==="small","text-heading-3 font-heading-3":n==="large","text-white group-hover/a4ee726a:text-white":t==="inverse","text-brand-700 group-hover/a4ee726a:text-brand-700":t==="brand"}),children:o}):null]})}),ln=n8,a8=De.forwardRef(function({variant:t="neutral-tertiary",size:n="medium",icon:s=r.jsx(oi,{}),loading:l=!1,className:o,type:d="button",...f},m){return r.jsxs("button",{className:$e("group/af9405b1 flex h-8 w-8 cursor-pointer items-center justify-center gap-2 rounded-md border-none bg-transparent hover:bg-neutral-100 active:bg-neutral-50 disabled:cursor-default disabled:bg-neutral-100 hover:disabled:cursor-default hover:disabled:bg-neutral-100 active:disabled:cursor-default active:disabled:bg-neutral-100",{"h-6 w-6":n==="small","h-10 w-10":n==="large","hover:bg-[#ffffff29] active:bg-[#ffffff3d]":t==="inverse","hover:bg-error-50 active:bg-error-100":t==="destructive-tertiary","bg-error-50 hover:bg-error-100 active:bg-error-50":t==="destructive-secondary","bg-error-600 hover:bg-error-500 active:bg-error-600":t==="destructive-primary","border border-solid border-neutral-border bg-white hover:bg-neutral-100 active:bg-white":t==="neutral-secondary","bg-neutral-100 hover:bg-neutral-200 active:bg-neutral-100":t==="neutral-primary","hover:bg-brand-50 active:bg-brand-100":t==="brand-tertiary","bg-brand-50 hover:bg-brand-100 active:bg-brand-50":t==="brand-secondary","bg-brand-600 hover:bg-brand-500 active:bg-brand-600":t==="brand-primary"},o),ref:m,type:d,...f,children:[s?r.jsx(Ee,{className:$e("text-heading-3 font-heading-3 text-neutral-700 group-disabled/af9405b1:text-neutral-400",{hidden:l,"text-body font-body":n==="small","text-heading-3 font-heading-3":n==="large","text-white group-hover/af9405b1:text-white":t==="inverse","text-error-700 group-hover/af9405b1:text-error-700 group-active/af9405b1:text-error-700":t==="destructive-tertiary"||t==="destructive-secondary","text-white group-hover/af9405b1:text-white group-active/af9405b1:text-white":t==="destructive-primary"||t==="brand-primary","text-neutral-700":t==="neutral-secondary","text-neutral-700 group-hover/af9405b1:text-neutral-700 group-active/af9405b1:text-neutral-700":t==="neutral-primary","text-brand-700 group-hover/af9405b1:text-brand-700 group-active/af9405b1:text-brand-700":t==="brand-tertiary"||t==="brand-secondary"}),children:s}):null,r.jsx(ix,{className:$e("hidden text-caption font-caption text-neutral-700 group-disabled/af9405b1:text-neutral-400",{"inline-block":l,"text-caption font-caption":n==="small","text-white":t==="inverse"||t==="destructive-primary"||t==="brand-primary","text-error-700":t==="destructive-tertiary"||t==="destructive-secondary","text-neutral-700":t==="neutral-primary","text-brand-700":t==="brand-tertiary"||t==="brand-secondary"})})]})}),Wt=a8;De.forwardRef(function({className:t,...n},s){return r.jsx("div",{className:$e("flex w-full flex-col items-center justify-center gap-6 border-t border-solid border-neutral-100 px-6 py-24",t),ref:s,...n,children:r.jsxs("div",{className:"flex w-full max-w-[1280px] flex-col items-center gap-12",children:[r.jsxs("div",{className:"flex w-full flex-wrap items-start gap-6",children:[r.jsxs("div",{className:"flex min-w-[144px] grow shrink-0 basis-0 flex-col items-start gap-6",children:[r.jsx("span",{className:"w-full font-['Montserrat'] text-[14px] font-[600] leading-[20px] text-default-font -tracking-[0.01em]",children:"Product"}),r.jsxs("div",{className:"flex flex-col items-start gap-4",children:[r.jsx(ln,{children:"Accounts"}),r.jsx(ln,{children:"Business"}),r.jsx(ln,{children:"Platform"}),r.jsx(ln,{children:"Send & receive"})]})]}),r.jsxs("div",{className:"flex min-w-[144px] grow shrink-0 basis-0 flex-col items-start gap-6",children:[r.jsx("span",{className:"w-full font-['Montserrat'] text-[14px] font-[600] leading-[20px] text-default-font -tracking-[0.01em]",children:"Company"}),r.jsxs("div",{className:"flex flex-col items-start gap-4",children:[r.jsx(ln,{children:"Team"}),r.jsx(ln,{children:"Press"}),r.jsx(ln,{children:"Careers"})]})]}),r.jsxs("div",{className:"flex min-w-[144px] grow shrink-0 basis-0 flex-col items-start gap-6",children:[r.jsx("span",{className:"w-full font-['Montserrat'] text-[14px] font-[600] leading-[20px] text-default-font -tracking-[0.01em]",children:"Resources"}),r.jsxs("div",{className:"flex flex-col items-start gap-4",children:[r.jsx(ln,{children:"News"}),r.jsx(ln,{children:"Blog"}),r.jsx(ln,{children:"Help Center"})]})]}),r.jsxs("div",{className:"flex min-w-[144px] grow shrink-0 basis-0 flex-col items-start gap-4 self-stretch",children:[r.jsx("span",{className:"w-full font-['Montserrat'] text-[14px] font-[600] leading-[20px] text-default-font -tracking-[0.01em]",children:"Follow us"}),r.jsxs("div",{className:"flex w-full items-center gap-2",children:[r.jsx(Wt,{icon:r.jsx(Dk,{})}),r.jsx(Wt,{icon:r.jsx(gk,{})}),r.jsx(Wt,{icon:r.jsx(Ek,{})})]})]})]}),r.jsx("div",{className:"flex h-px w-full flex-none flex-col items-center gap-2 bg-neutral-200"}),r.jsxs("div",{className:"flex w-full flex-wrap items-start gap-6",children:[r.jsx("div",{className:"flex min-w-[144px] grow shrink-0 basis-0 items-start gap-2",children:r.jsx("img",{className:"h-6 flex-none object-cover",src:"https://res.cloudinary.com/subframe/image/upload/v1711417507/shared/y2rsnhq3mex4auk54aye.png"})}),r.jsxs("div",{className:"flex min-w-[144px] grow shrink-0 basis-0 flex-col items-start gap-4",children:[r.jsx(ln,{children:"Legal"}),r.jsx(ln,{children:"Give Feedback"})]}),r.jsxs("div",{className:"flex min-w-[144px] grow shrink-0 basis-0 flex-col items-start gap-4",children:[r.jsx(ln,{children:"Privacy Policy"}),r.jsx(ln,{children:"Terms of Service"})]}),r.jsxs("div",{className:"flex min-w-[144px] grow shrink-0 basis-0 flex-col items-start gap-4",children:[r.jsx(ln,{children:"Cookie Policy"}),r.jsx(ln,{children:"Site Map"})]})]}),r.jsxs("div",{className:"flex w-full max-w-[768px] flex-col items-center gap-4",children:[r.jsx("span",{className:"font-['Montserrat'] text-[14px] font-[500] leading-[20px] text-subtext-color text-center",children:" Lumina 2025"}),r.jsx("span",{className:"font-['Montserrat'] text-[14px] font-[500] leading-[20px] text-subtext-color text-center",children:"Lumina Clear Aligners"})]})]})})});function r8(){return r.jsx("div",{children:"About Page"})}const s8=De.forwardRef(function({placeholder:t,className:n,...s},l){return r.jsx("input",{className:$e("h-full w-full border-none bg-transparent text-body font-body text-default-font outline-none placeholder:text-neutral-400",n),placeholder:t,ref:l,...s})}),i8=De.forwardRef(function({disabled:t=!1,error:n=!1,variant:s="outline",label:l,helpText:o,icon:d=null,iconRight:f=null,children:m,className:p,...g},b){return r.jsxs("label",{className:$e("group/be48ca43 flex flex-col items-start gap-1",p),ref:b,...g,children:[l?r.jsx("span",{className:"text-caption-bold font-caption-bold text-default-font",children:l}):null,r.jsxs("div",{className:$e("flex h-8 w-full flex-none items-center gap-1 rounded-md border border-solid border-neutral-border bg-default-background px-2 group-focus-within/be48ca43:border group-focus-within/be48ca43:border-solid group-focus-within/be48ca43:border-brand-primary",{"border border-solid border-neutral-100 bg-neutral-100 group-hover/be48ca43:border group-hover/be48ca43:border-solid group-hover/be48ca43:border-neutral-border group-focus-within/be48ca43:bg-default-background":s==="filled","border border-solid border-error-600":n,"border border-solid border-neutral-200 bg-neutral-200":t}),children:[d?r.jsx(Ee,{className:"text-body font-body text-subtext-color",children:d}):null,m?r.jsx("div",{className:"flex grow shrink-0 basis-0 flex-col items-start self-stretch px-1",children:m}):null,f?r.jsx(Ee,{className:$e("text-body font-body text-subtext-color",{"text-error-500":n}),children:f}):null]}),o?r.jsx("span",{className:$e("text-caption font-caption text-subtext-color",{"text-error-700":n}),children:o}):null]})}),Ce=Object.assign(i8,{Input:s8}),l8="modulepreload",o8=function(e){return"/"+e},mw={},Uc=function(t,n,s){let l=Promise.resolve();if(n&&n.length>0){let p=function(g){return Promise.all(g.map(b=>Promise.resolve(b).then(y=>({status:"fulfilled",value:y}),y=>({status:"rejected",reason:y}))))};var d=p;document.getElementsByTagName("link");const f=document.querySelector("meta[property=csp-nonce]"),m=f?.nonce||f?.getAttribute("nonce");l=p(n.map(g=>{if(g=o8(g),g in mw)return;mw[g]=!0;const b=g.endsWith(".css"),y=b?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${g}"]${y}`))return;const w=document.createElement("link");if(w.rel=b?"stylesheet":l8,b||(w.as="script"),w.crossOrigin="",w.href=g,m&&w.setAttribute("nonce",m),document.head.appendChild(w),b)return new Promise((j,S)=>{w.addEventListener("load",j),w.addEventListener("error",()=>S(new Error(`Unable to preload CSS for ${g}`)))})}))}function o(f){const m=new Event("vite:preloadError",{cancelable:!0});if(m.payload=f,window.dispatchEvent(m),!m.defaultPrevented)throw f}return l.then(f=>{for(const m of f||[])m.status==="rejected"&&o(m.reason);return t().catch(o)})},c8=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>Uc(async()=>{const{default:s}=await Promise.resolve().then(()=>Il);return{default:s}},[]).then(({default:s})=>s(...n)):t=fetch,(...n)=>t(...n)};class ux extends Error{constructor(t,n="FunctionsError",s){super(t),this.name=n,this.context=s}}class d8 extends ux{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class pw extends ux{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class gw extends ux{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var Qp;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(Qp||(Qp={}));var u8=function(e,t,n,s){function l(o){return o instanceof n?o:new n(function(d){d(o)})}return new(n||(n=Promise))(function(o,d){function f(g){try{p(s.next(g))}catch(b){d(b)}}function m(g){try{p(s.throw(g))}catch(b){d(b)}}function p(g){g.done?o(g.value):l(g.value).then(f,m)}p((s=s.apply(e,t||[])).next())})};class f8{constructor(t,{headers:n={},customFetch:s,region:l=Qp.Any}={}){this.url=t,this.headers=n,this.region=l,this.fetch=c8(s)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,n={}){var s;return u8(this,void 0,void 0,function*(){try{const{headers:l,method:o,body:d}=n;let f={},{region:m}=n;m||(m=this.region);const p=new URL(`${this.url}/${t}`);m&&m!=="any"&&(f["x-region"]=m,p.searchParams.set("forceFunctionRegion",m));let g;d&&(l&&!Object.prototype.hasOwnProperty.call(l,"Content-Type")||!l)&&(typeof Blob<"u"&&d instanceof Blob||d instanceof ArrayBuffer?(f["Content-Type"]="application/octet-stream",g=d):typeof d=="string"?(f["Content-Type"]="text/plain",g=d):typeof FormData<"u"&&d instanceof FormData?g=d:(f["Content-Type"]="application/json",g=JSON.stringify(d)));const b=yield this.fetch(p.toString(),{method:o||"POST",headers:Object.assign(Object.assign(Object.assign({},f),this.headers),l),body:g}).catch(S=>{throw new d8(S)}),y=b.headers.get("x-relay-error");if(y&&y==="true")throw new pw(b);if(!b.ok)throw new gw(b);let w=((s=b.headers.get("Content-Type"))!==null&&s!==void 0?s:"text/plain").split(";")[0].trim(),j;return w==="application/json"?j=yield b.json():w==="application/octet-stream"?j=yield b.blob():w==="text/event-stream"?j=b:w==="multipart/form-data"?j=yield b.formData():j=yield b.text(),{data:j,error:null,response:b}}catch(l){return{data:null,error:l,response:l instanceof gw||l instanceof pw?l.context:void 0}}})}}var pn={},nl={},al={},rl={},sl={},il={},h8=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Cl=h8();const m8=Cl.fetch,IS=Cl.fetch.bind(Cl),BS=Cl.Headers,p8=Cl.Request,g8=Cl.Response,Il=Object.freeze(Object.defineProperty({__proto__:null,Headers:BS,Request:p8,Response:g8,default:IS,fetch:m8},Symbol.toStringTag,{value:"Module"})),x8=ME(Il);var lu={},xw;function zS(){if(xw)return lu;xw=1,Object.defineProperty(lu,"__esModule",{value:!0});class e extends Error{constructor(n){super(n.message),this.name="PostgrestError",this.details=n.details,this.hint=n.hint,this.code=n.code}}return lu.default=e,lu}var bw;function qS(){if(bw)return il;bw=1;var e=il&&il.__importDefault||function(l){return l&&l.__esModule?l:{default:l}};Object.defineProperty(il,"__esModule",{value:!0});const t=e(x8),n=e(zS());class s{constructor(o){this.shouldThrowOnError=!1,this.method=o.method,this.url=o.url,this.headers=o.headers,this.schema=o.schema,this.body=o.body,this.shouldThrowOnError=o.shouldThrowOnError,this.signal=o.signal,this.isMaybeSingle=o.isMaybeSingle,o.fetch?this.fetch=o.fetch:typeof fetch>"u"?this.fetch=t.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(o,d){return this.headers=Object.assign({},this.headers),this.headers[o]=d,this}then(o,d){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const f=this.fetch;let m=f(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async p=>{var g,b,y;let w=null,j=null,S=null,E=p.status,R=p.statusText;if(p.ok){if(this.method!=="HEAD"){const T=await p.text();T===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?j=T:j=JSON.parse(T))}const N=(g=this.headers.Prefer)===null||g===void 0?void 0:g.match(/count=(exact|planned|estimated)/),P=(b=p.headers.get("content-range"))===null||b===void 0?void 0:b.split("/");N&&P&&P.length>1&&(S=parseInt(P[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(j)&&(j.length>1?(w={code:"PGRST116",details:`Results contain ${j.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},j=null,S=null,E=406,R="Not Acceptable"):j.length===1?j=j[0]:j=null)}else{const N=await p.text();try{w=JSON.parse(N),Array.isArray(w)&&p.status===404&&(j=[],w=null,E=200,R="OK")}catch{p.status===404&&N===""?(E=204,R="No Content"):w={message:N}}if(w&&this.isMaybeSingle&&(!((y=w?.details)===null||y===void 0)&&y.includes("0 rows"))&&(w=null,E=200,R="OK"),w&&this.shouldThrowOnError)throw new n.default(w)}return{error:w,data:j,count:S,status:E,statusText:R}});return this.shouldThrowOnError||(m=m.catch(p=>{var g,b,y;return{error:{message:`${(g=p?.name)!==null&&g!==void 0?g:"FetchError"}: ${p?.message}`,details:`${(b=p?.stack)!==null&&b!==void 0?b:""}`,hint:"",code:`${(y=p?.code)!==null&&y!==void 0?y:""}`},data:null,count:null,status:0,statusText:""}})),m.then(o,d)}returns(){return this}overrideTypes(){return this}}return il.default=s,il}var vw;function HS(){if(vw)return sl;vw=1;var e=sl&&sl.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(sl,"__esModule",{value:!0});const t=e(qS());class n extends t.default{select(l){let o=!1;const d=(l??"*").split("").map(f=>/\s/.test(f)&&!o?"":(f==='"'&&(o=!o),f)).join("");return this.url.searchParams.set("select",d),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(l,{ascending:o=!0,nullsFirst:d,foreignTable:f,referencedTable:m=f}={}){const p=m?`${m}.order`:"order",g=this.url.searchParams.get(p);return this.url.searchParams.set(p,`${g?`${g},`:""}${l}.${o?"asc":"desc"}${d===void 0?"":d?".nullsfirst":".nullslast"}`),this}limit(l,{foreignTable:o,referencedTable:d=o}={}){const f=typeof d>"u"?"limit":`${d}.limit`;return this.url.searchParams.set(f,`${l}`),this}range(l,o,{foreignTable:d,referencedTable:f=d}={}){const m=typeof f>"u"?"offset":`${f}.offset`,p=typeof f>"u"?"limit":`${f}.limit`;return this.url.searchParams.set(m,`${l}`),this.url.searchParams.set(p,`${o-l+1}`),this}abortSignal(l){return this.signal=l,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:l=!1,verbose:o=!1,settings:d=!1,buffers:f=!1,wal:m=!1,format:p="text"}={}){var g;const b=[l?"analyze":null,o?"verbose":null,d?"settings":null,f?"buffers":null,m?"wal":null].filter(Boolean).join("|"),y=(g=this.headers.Accept)!==null&&g!==void 0?g:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${p}; for="${y}"; options=${b};`,p==="json"?this:this}rollback(){var l;return((l=this.headers.Prefer)!==null&&l!==void 0?l:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}}return sl.default=n,sl}var yw;function fx(){if(yw)return rl;yw=1;var e=rl&&rl.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(rl,"__esModule",{value:!0});const t=e(HS());class n extends t.default{eq(l,o){return this.url.searchParams.append(l,`eq.${o}`),this}neq(l,o){return this.url.searchParams.append(l,`neq.${o}`),this}gt(l,o){return this.url.searchParams.append(l,`gt.${o}`),this}gte(l,o){return this.url.searchParams.append(l,`gte.${o}`),this}lt(l,o){return this.url.searchParams.append(l,`lt.${o}`),this}lte(l,o){return this.url.searchParams.append(l,`lte.${o}`),this}like(l,o){return this.url.searchParams.append(l,`like.${o}`),this}likeAllOf(l,o){return this.url.searchParams.append(l,`like(all).{${o.join(",")}}`),this}likeAnyOf(l,o){return this.url.searchParams.append(l,`like(any).{${o.join(",")}}`),this}ilike(l,o){return this.url.searchParams.append(l,`ilike.${o}`),this}ilikeAllOf(l,o){return this.url.searchParams.append(l,`ilike(all).{${o.join(",")}}`),this}ilikeAnyOf(l,o){return this.url.searchParams.append(l,`ilike(any).{${o.join(",")}}`),this}is(l,o){return this.url.searchParams.append(l,`is.${o}`),this}in(l,o){const d=Array.from(new Set(o)).map(f=>typeof f=="string"&&new RegExp("[,()]").test(f)?`"${f}"`:`${f}`).join(",");return this.url.searchParams.append(l,`in.(${d})`),this}contains(l,o){return typeof o=="string"?this.url.searchParams.append(l,`cs.${o}`):Array.isArray(o)?this.url.searchParams.append(l,`cs.{${o.join(",")}}`):this.url.searchParams.append(l,`cs.${JSON.stringify(o)}`),this}containedBy(l,o){return typeof o=="string"?this.url.searchParams.append(l,`cd.${o}`):Array.isArray(o)?this.url.searchParams.append(l,`cd.{${o.join(",")}}`):this.url.searchParams.append(l,`cd.${JSON.stringify(o)}`),this}rangeGt(l,o){return this.url.searchParams.append(l,`sr.${o}`),this}rangeGte(l,o){return this.url.searchParams.append(l,`nxl.${o}`),this}rangeLt(l,o){return this.url.searchParams.append(l,`sl.${o}`),this}rangeLte(l,o){return this.url.searchParams.append(l,`nxr.${o}`),this}rangeAdjacent(l,o){return this.url.searchParams.append(l,`adj.${o}`),this}overlaps(l,o){return typeof o=="string"?this.url.searchParams.append(l,`ov.${o}`):this.url.searchParams.append(l,`ov.{${o.join(",")}}`),this}textSearch(l,o,{config:d,type:f}={}){let m="";f==="plain"?m="pl":f==="phrase"?m="ph":f==="websearch"&&(m="w");const p=d===void 0?"":`(${d})`;return this.url.searchParams.append(l,`${m}fts${p}.${o}`),this}match(l){return Object.entries(l).forEach(([o,d])=>{this.url.searchParams.append(o,`eq.${d}`)}),this}not(l,o,d){return this.url.searchParams.append(l,`not.${o}.${d}`),this}or(l,{foreignTable:o,referencedTable:d=o}={}){const f=d?`${d}.or`:"or";return this.url.searchParams.append(f,`(${l})`),this}filter(l,o,d){return this.url.searchParams.append(l,`${o}.${d}`),this}}return rl.default=n,rl}var ww;function VS(){if(ww)return al;ww=1;var e=al&&al.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(al,"__esModule",{value:!0});const t=e(fx());class n{constructor(l,{headers:o={},schema:d,fetch:f}){this.url=l,this.headers=o,this.schema=d,this.fetch=f}select(l,{head:o=!1,count:d}={}){const f=o?"HEAD":"GET";let m=!1;const p=(l??"*").split("").map(g=>/\s/.test(g)&&!m?"":(g==='"'&&(m=!m),g)).join("");return this.url.searchParams.set("select",p),d&&(this.headers.Prefer=`count=${d}`),new t.default({method:f,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(l,{count:o,defaultToNull:d=!0}={}){const f="POST",m=[];if(this.headers.Prefer&&m.push(this.headers.Prefer),o&&m.push(`count=${o}`),d||m.push("missing=default"),this.headers.Prefer=m.join(","),Array.isArray(l)){const p=l.reduce((g,b)=>g.concat(Object.keys(b)),[]);if(p.length>0){const g=[...new Set(p)].map(b=>`"${b}"`);this.url.searchParams.set("columns",g.join(","))}}return new t.default({method:f,url:this.url,headers:this.headers,schema:this.schema,body:l,fetch:this.fetch,allowEmpty:!1})}upsert(l,{onConflict:o,ignoreDuplicates:d=!1,count:f,defaultToNull:m=!0}={}){const p="POST",g=[`resolution=${d?"ignore":"merge"}-duplicates`];if(o!==void 0&&this.url.searchParams.set("on_conflict",o),this.headers.Prefer&&g.push(this.headers.Prefer),f&&g.push(`count=${f}`),m||g.push("missing=default"),this.headers.Prefer=g.join(","),Array.isArray(l)){const b=l.reduce((y,w)=>y.concat(Object.keys(w)),[]);if(b.length>0){const y=[...new Set(b)].map(w=>`"${w}"`);this.url.searchParams.set("columns",y.join(","))}}return new t.default({method:p,url:this.url,headers:this.headers,schema:this.schema,body:l,fetch:this.fetch,allowEmpty:!1})}update(l,{count:o}={}){const d="PATCH",f=[];return this.headers.Prefer&&f.push(this.headers.Prefer),o&&f.push(`count=${o}`),this.headers.Prefer=f.join(","),new t.default({method:d,url:this.url,headers:this.headers,schema:this.schema,body:l,fetch:this.fetch,allowEmpty:!1})}delete({count:l}={}){const o="DELETE",d=[];return l&&d.push(`count=${l}`),this.headers.Prefer&&d.unshift(this.headers.Prefer),this.headers.Prefer=d.join(","),new t.default({method:o,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}}return al.default=n,al}var Yo={},Ko={},jw;function b8(){return jw||(jw=1,Object.defineProperty(Ko,"__esModule",{value:!0}),Ko.version=void 0,Ko.version="0.0.0-automated"),Ko}var Sw;function v8(){if(Sw)return Yo;Sw=1,Object.defineProperty(Yo,"__esModule",{value:!0}),Yo.DEFAULT_HEADERS=void 0;const e=b8();return Yo.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${e.version}`},Yo}var Nw;function y8(){if(Nw)return nl;Nw=1;var e=nl&&nl.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(nl,"__esModule",{value:!0});const t=e(VS()),n=e(fx()),s=v8();class l{constructor(d,{headers:f={},schema:m,fetch:p}={}){this.url=d,this.headers=Object.assign(Object.assign({},s.DEFAULT_HEADERS),f),this.schemaName=m,this.fetch=p}from(d){const f=new URL(`${this.url}/${d}`);return new t.default(f,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(d){return new l(this.url,{headers:this.headers,schema:d,fetch:this.fetch})}rpc(d,f={},{head:m=!1,get:p=!1,count:g}={}){let b;const y=new URL(`${this.url}/rpc/${d}`);let w;m||p?(b=m?"HEAD":"GET",Object.entries(f).filter(([S,E])=>E!==void 0).map(([S,E])=>[S,Array.isArray(E)?`{${E.join(",")}}`:`${E}`]).forEach(([S,E])=>{y.searchParams.append(S,E)})):(b="POST",w=f);const j=Object.assign({},this.headers);return g&&(j.Prefer=`count=${g}`),new n.default({method:b,url:y,headers:j,schema:this.schemaName,body:w,fetch:this.fetch,allowEmpty:!1})}}return nl.default=l,nl}var _w;function w8(){if(_w)return pn;_w=1;var e=pn&&pn.__importDefault||function(f){return f&&f.__esModule?f:{default:f}};Object.defineProperty(pn,"__esModule",{value:!0}),pn.PostgrestError=pn.PostgrestBuilder=pn.PostgrestTransformBuilder=pn.PostgrestFilterBuilder=pn.PostgrestQueryBuilder=pn.PostgrestClient=void 0;const t=e(y8());pn.PostgrestClient=t.default;const n=e(VS());pn.PostgrestQueryBuilder=n.default;const s=e(fx());pn.PostgrestFilterBuilder=s.default;const l=e(HS());pn.PostgrestTransformBuilder=l.default;const o=e(qS());pn.PostgrestBuilder=o.default;const d=e(zS());return pn.PostgrestError=d.default,pn.default={PostgrestClient:t.default,PostgrestQueryBuilder:n.default,PostgrestFilterBuilder:s.default,PostgrestTransformBuilder:l.default,PostgrestBuilder:o.default,PostgrestError:d.default},pn}var j8=w8();const S8=wg(j8),{PostgrestClient:N8,PostgrestQueryBuilder:NF,PostgrestFilterBuilder:_F,PostgrestTransformBuilder:CF,PostgrestBuilder:EF,PostgrestError:RF}=S8;function _8(){if(typeof WebSocket<"u")return WebSocket;if(typeof global.WebSocket<"u")return global.WebSocket;if(typeof window.WebSocket<"u")return window.WebSocket;if(typeof self.WebSocket<"u")return self.WebSocket;throw new Error("`WebSocket` is not supported in this environment")}const C8=_8(),E8="2.11.15",R8=`realtime-js/${E8}`,A8="1.0.0",GS=1e4,P8=1e3;var lc;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(lc||(lc={}));var An;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(An||(An={}));var ka;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(ka||(ka={}));var eg;(function(e){e.websocket="websocket"})(eg||(eg={}));var Xs;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(Xs||(Xs={}));class T8{constructor(){this.HEADER_LENGTH=1}decode(t,n){return t.constructor===ArrayBuffer?n(this._binaryDecode(t)):n(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const n=new DataView(t),s=new TextDecoder;return this._decodeBroadcast(t,n,s)}_decodeBroadcast(t,n,s){const l=n.getUint8(1),o=n.getUint8(2);let d=this.HEADER_LENGTH+2;const f=s.decode(t.slice(d,d+l));d=d+l;const m=s.decode(t.slice(d,d+o));d=d+o;const p=JSON.parse(s.decode(t.slice(d,t.byteLength)));return{ref:null,topic:f,event:m,payload:p}}}class YS{constructor(t,n){this.callback=t,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Bt;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(Bt||(Bt={}));const Cw=(e,t,n={})=>{var s;const l=(s=n.skipTypes)!==null&&s!==void 0?s:[];return Object.keys(t).reduce((o,d)=>(o[d]=k8(d,e,t,l),o),{})},k8=(e,t,n,s)=>{const l=t.find(f=>f.name===e),o=l?.type,d=n[e];return o&&!s.includes(o)?KS(o,d):tg(d)},KS=(e,t)=>{if(e.charAt(0)==="_"){const n=e.slice(1,e.length);return L8(t,n)}switch(e){case Bt.bool:return D8(t);case Bt.float4:case Bt.float8:case Bt.int2:case Bt.int4:case Bt.int8:case Bt.numeric:case Bt.oid:return M8(t);case Bt.json:case Bt.jsonb:return O8(t);case Bt.timestamp:return U8(t);case Bt.abstime:case Bt.date:case Bt.daterange:case Bt.int4range:case Bt.int8range:case Bt.money:case Bt.reltime:case Bt.text:case Bt.time:case Bt.timestamptz:case Bt.timetz:case Bt.tsrange:case Bt.tstzrange:return tg(t);default:return tg(t)}},tg=e=>e,D8=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},M8=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},O8=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},L8=(e,t)=>{if(typeof e!="string")return e;const n=e.length-1,s=e[n];if(e[0]==="{"&&s==="}"){let o;const d=e.slice(1,n);try{o=JSON.parse("["+d+"]")}catch{o=d?d.split(","):[]}return o.map(f=>KS(t,f))}return e},U8=e=>typeof e=="string"?e.replace(" ","T"):e,WS=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")};class gp{constructor(t,n,s={},l=GS){this.channel=t,this.event=n,this.payload=s,this.timeout=l,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,n){var s;return this._hasReceived(t)&&n((s=this.receivedResp)===null||s===void 0?void 0:s.response),this.recHooks.push({status:t,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:n}){this.recHooks.filter(s=>s.status===t).forEach(s=>s.callback(n))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var Ew;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(Ew||(Ew={}));class oc{constructor(t,n){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const s=n?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(s.state,{},l=>{const{onJoin:o,onLeave:d,onSync:f}=this.caller;this.joinRef=this.channel._joinRef(),this.state=oc.syncState(this.state,l,o,d),this.pendingDiffs.forEach(m=>{this.state=oc.syncDiff(this.state,m,o,d)}),this.pendingDiffs=[],f()}),this.channel._on(s.diff,{},l=>{const{onJoin:o,onLeave:d,onSync:f}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(l):(this.state=oc.syncDiff(this.state,l,o,d),f())}),this.onJoin((l,o,d)=>{this.channel._trigger("presence",{event:"join",key:l,currentPresences:o,newPresences:d})}),this.onLeave((l,o,d)=>{this.channel._trigger("presence",{event:"leave",key:l,currentPresences:o,leftPresences:d})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,n,s,l){const o=this.cloneDeep(t),d=this.transformState(n),f={},m={};return this.map(o,(p,g)=>{d[p]||(m[p]=g)}),this.map(d,(p,g)=>{const b=o[p];if(b){const y=g.map(E=>E.presence_ref),w=b.map(E=>E.presence_ref),j=g.filter(E=>w.indexOf(E.presence_ref)<0),S=b.filter(E=>y.indexOf(E.presence_ref)<0);j.length>0&&(f[p]=j),S.length>0&&(m[p]=S)}else f[p]=g}),this.syncDiff(o,{joins:f,leaves:m},s,l)}static syncDiff(t,n,s,l){const{joins:o,leaves:d}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return s||(s=()=>{}),l||(l=()=>{}),this.map(o,(f,m)=>{var p;const g=(p=t[f])!==null&&p!==void 0?p:[];if(t[f]=this.cloneDeep(m),g.length>0){const b=t[f].map(w=>w.presence_ref),y=g.filter(w=>b.indexOf(w.presence_ref)<0);t[f].unshift(...y)}s(f,g,m)}),this.map(d,(f,m)=>{let p=t[f];if(!p)return;const g=m.map(b=>b.presence_ref);p=p.filter(b=>g.indexOf(b.presence_ref)<0),t[f]=p,l(f,p,m),p.length===0&&delete t[f]}),t}static map(t,n){return Object.getOwnPropertyNames(t).map(s=>n(s,t[s]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((n,s)=>{const l=t[s];return"metas"in l?n[s]=l.metas.map(o=>(o.presence_ref=o.phx_ref,delete o.phx_ref,delete o.phx_ref_prev,o)):n[s]=l,n},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Rw;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(Rw||(Rw={}));var Aw;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(Aw||(Aw={}));var yr;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(yr||(yr={}));class hx{constructor(t,n={config:{}},s){this.topic=t,this.params=n,this.socket=s,this.bindings={},this.state=An.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new gp(this,ka.join,this.params,this.timeout),this.rejoinTimer=new YS(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=An.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(l=>l.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=An.closed,this.socket._remove(this)}),this._onError(l=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,l),this.state=An.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=An.errored,this.rejoinTimer.scheduleTimeout())}),this._on(ka.reply,{},(l,o)=>{this._trigger(this._replyEventName(o),l)}),this.presence=new oc(this),this.broadcastEndpointURL=WS(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(t,n=this.timeout){var s,l;if(this.socket.isConnected()||this.socket.connect(),this.state==An.closed){const{config:{broadcast:o,presence:d,private:f}}=this.params;this._onError(g=>t?.(yr.CHANNEL_ERROR,g)),this._onClose(()=>t?.(yr.CLOSED));const m={},p={broadcast:o,presence:d,postgres_changes:(l=(s=this.bindings.postgres_changes)===null||s===void 0?void 0:s.map(g=>g.filter))!==null&&l!==void 0?l:[],private:f};this.socket.accessTokenValue&&(m.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:p},m)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:g})=>{var b;if(this.socket.setAuth(),g===void 0){t?.(yr.SUBSCRIBED);return}else{const y=this.bindings.postgres_changes,w=(b=y?.length)!==null&&b!==void 0?b:0,j=[];for(let S=0;S<w;S++){const E=y[S],{filter:{event:R,schema:A,table:N,filter:P}}=E,T=g&&g[S];if(T&&T.event===R&&T.schema===A&&T.table===N&&T.filter===P)j.push(Object.assign(Object.assign({},E),{id:T.id}));else{this.unsubscribe(),this.state=An.errored,t?.(yr.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=j,t&&t(yr.SUBSCRIBED);return}}).receive("error",g=>{this.state=An.errored,t?.(yr.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(g).join(", ")||"error")))}).receive("timeout",()=>{t?.(yr.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,n={}){return await this.send({type:"presence",event:"track",payload:t},n.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,n,s){return this._on(t,n,s)}async send(t,n={}){var s,l;if(!this._canPush()&&t.type==="broadcast"){const{event:o,payload:d}=t,m={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:o,payload:d,private:this.private}]})};try{const p=await this._fetchWithTimeout(this.broadcastEndpointURL,m,(s=n.timeout)!==null&&s!==void 0?s:this.timeout);return await((l=p.body)===null||l===void 0?void 0:l.cancel()),p.ok?"ok":"error"}catch(p){return p.name==="AbortError"?"timed out":"error"}}else return new Promise(o=>{var d,f,m;const p=this._push(t.type,t,n.timeout||this.timeout);t.type==="broadcast"&&!(!((m=(f=(d=this.params)===null||d===void 0?void 0:d.config)===null||f===void 0?void 0:f.broadcast)===null||m===void 0)&&m.ack)&&o("ok"),p.receive("ok",()=>o("ok")),p.receive("error",()=>o("error")),p.receive("timeout",()=>o("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=An.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(ka.close,"leave",this._joinRef())};this.joinPush.destroy();let s=null;return new Promise(l=>{s=new gp(this,ka.leave,{},t),s.receive("ok",()=>{n(),l("ok")}).receive("timeout",()=>{n(),l("timed out")}).receive("error",()=>{l("error")}),s.send(),this._canPush()||s.trigger("ok",{})}).finally(()=>{s?.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.rejoinTimer&&clearTimeout(this.rejoinTimer.timer),this.joinPush.destroy()}async _fetchWithTimeout(t,n,s){const l=new AbortController,o=setTimeout(()=>l.abort(),s),d=await this.socket.fetch(t,Object.assign(Object.assign({},n),{signal:l.signal}));return clearTimeout(o),d}_push(t,n,s=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let l=new gp(this,t,n,s);return this._canPush()?l.send():(l.startTimeout(),this.pushBuffer.push(l)),l}_onMessage(t,n,s){return n}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,n,s){var l,o;const d=t.toLocaleLowerCase(),{close:f,error:m,leave:p,join:g}=ka;if(s&&[f,m,p,g].indexOf(d)>=0&&s!==this._joinRef())return;let y=this._onMessage(d,n,s);if(n&&!y)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(d)?(l=this.bindings.postgres_changes)===null||l===void 0||l.filter(w=>{var j,S,E;return((j=w.filter)===null||j===void 0?void 0:j.event)==="*"||((E=(S=w.filter)===null||S===void 0?void 0:S.event)===null||E===void 0?void 0:E.toLocaleLowerCase())===d}).map(w=>w.callback(y,s)):(o=this.bindings[d])===null||o===void 0||o.filter(w=>{var j,S,E,R,A,N;if(["broadcast","presence","postgres_changes"].includes(d))if("id"in w){const P=w.id,T=(j=w.filter)===null||j===void 0?void 0:j.event;return P&&((S=n.ids)===null||S===void 0?void 0:S.includes(P))&&(T==="*"||T?.toLocaleLowerCase()===((E=n.data)===null||E===void 0?void 0:E.type.toLocaleLowerCase()))}else{const P=(A=(R=w?.filter)===null||R===void 0?void 0:R.event)===null||A===void 0?void 0:A.toLocaleLowerCase();return P==="*"||P===((N=n?.event)===null||N===void 0?void 0:N.toLocaleLowerCase())}else return w.type.toLocaleLowerCase()===d}).map(w=>{if(typeof y=="object"&&"ids"in y){const j=y.data,{schema:S,table:E,commit_timestamp:R,type:A,errors:N}=j;y=Object.assign(Object.assign({},{schema:S,table:E,commit_timestamp:R,eventType:A,new:{},old:{},errors:N}),this._getPayloadRecords(j))}w.callback(y,s)})}_isClosed(){return this.state===An.closed}_isJoined(){return this.state===An.joined}_isJoining(){return this.state===An.joining}_isLeaving(){return this.state===An.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,n,s){const l=t.toLocaleLowerCase(),o={type:l,filter:n,callback:s};return this.bindings[l]?this.bindings[l].push(o):this.bindings[l]=[o],this}_off(t,n){const s=t.toLocaleLowerCase();return this.bindings[s]=this.bindings[s].filter(l=>{var o;return!(((o=l.type)===null||o===void 0?void 0:o.toLocaleLowerCase())===s&&hx.isEqual(l.filter,n))}),this}static isEqual(t,n){if(Object.keys(t).length!==Object.keys(n).length)return!1;for(const s in t)if(t[s]!==n[s])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(ka.close,{},t)}_onError(t){this._on(ka.error,{},n=>t(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=An.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const n={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(n.new=Cw(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(n.old=Cw(t.columns,t.old_record)),n}}const Pw=()=>{},$8=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class F8{constructor(t,n){var s;this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=GS,this.heartbeatIntervalMs=25e3,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Pw,this.ref=0,this.logger=Pw,this.conn=null,this.sendBuffer=[],this.serializer=new T8,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=o=>{let d;return o?d=o:typeof fetch>"u"?d=(...f)=>Uc(async()=>{const{default:m}=await Promise.resolve().then(()=>Il);return{default:m}},void 0).then(({default:m})=>m(...f)):d=fetch,(...f)=>d(...f)},this.endPoint=`${t}/${eg.websocket}`,this.httpEndpoint=WS(t),n?.transport?this.transport=n.transport:this.transport=null,n?.params&&(this.params=n.params),n?.timeout&&(this.timeout=n.timeout),n?.logger&&(this.logger=n.logger),(n?.logLevel||n?.log_level)&&(this.logLevel=n.logLevel||n.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),n?.heartbeatIntervalMs&&(this.heartbeatIntervalMs=n.heartbeatIntervalMs);const l=(s=n?.params)===null||s===void 0?void 0:s.apikey;if(l&&(this.accessTokenValue=l,this.apiKey=l),this.reconnectAfterMs=n?.reconnectAfterMs?n.reconnectAfterMs:o=>[1e3,2e3,5e3,1e4][o-1]||1e4,this.encode=n?.encode?n.encode:(o,d)=>d(JSON.stringify(o)),this.decode=n?.decode?n.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new YS(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(n?.fetch),n?.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=n?.worker||!1,this.workerUrl=n?.workerUrl}this.accessToken=n?.accessToken||null}connect(){if(!this.conn){if(this.transport||(this.transport=C8),!this.transport)throw new Error("No transport provided");this.conn=new this.transport(this.endpointURL()),this.setupConnection()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:A8}))}disconnect(t,n){this.conn&&(this.conn.onclose=function(){},t?this.conn.close(t,n??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset(),this.channels.forEach(s=>s.teardown()))}getChannels(){return this.channels}async removeChannel(t){const n=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const t=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,n,s){this.logger(t,n,s)}connectionState(){switch(this.conn&&this.conn.readyState){case lc.connecting:return Xs.Connecting;case lc.open:return Xs.Open;case lc.closing:return Xs.Closing;default:return Xs.Closed}}isConnected(){return this.connectionState()===Xs.Open}channel(t,n={config:{}}){const s=`realtime:${t}`,l=this.getChannels().find(o=>o.topic===s);if(l)return l;{const o=new hx(`realtime:${t}`,n,this);return this.channels.push(o),o}}push(t){const{topic:n,event:s,payload:l,ref:o}=t,d=()=>{this.encode(t,f=>{var m;(m=this.conn)===null||m===void 0||m.send(f)})};this.log("push",`${n} ${s} (${o})`,l),this.isConnected()?d():this.sendBuffer.push(d)}async setAuth(t=null){let n=t||this.accessToken&&await this.accessToken()||this.accessTokenValue;this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(s=>{const l={access_token:n,version:R8};n&&s.updateJoinPayload(l),s.joinedOnce&&s._isJoined()&&s._push(ka.access_token,{access_token:n})}))}async sendHeartbeat(){var t;if(!this.isConnected()){this.heartbeatCallback("disconnected");return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),(t=this.conn)===null||t===void 0||t.close(P8,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),await this.setAuth()}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let n=this.channels.find(s=>s.topic===t&&(s._isJoined()||s._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${t}"`),n.unsubscribe())}_remove(t){this.channels=this.channels.filter(n=>n.topic!==t.topic)}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_onConnMessage(t){this.decode(t.data,n=>{let{topic:s,event:l,payload:o,ref:d}=n;s==="phoenix"&&l==="phx_reply"&&this.heartbeatCallback(n.payload.status=="ok"?"ok":"error"),d&&d===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${o.status||""} ${s} ${l} ${d&&"("+d+")"||""}`,o),Array.from(this.channels).filter(f=>f._isMember(s)).forEach(f=>f._trigger(l,o,d)),this.stateChangeCallbacks.message.forEach(f=>f(n))})}_onConnOpen(){this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this.stateChangeCallbacks.open.forEach(t=>t())}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){this.log("transport","close",t),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(n=>n(t))}_onConnError(t){this.log("transport",`${t}`),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(n=>n(t))}_triggerChanError(){this.channels.forEach(t=>t._trigger(ka.error))}_appendParams(t,n){if(Object.keys(n).length===0)return t;const s=t.match(/\?/)?"&":"?",l=new URLSearchParams(n);return`${t}${s}${l}`}_workerObjectUrl(t){let n;if(t)n=t;else{const s=new Blob([$8],{type:"application/javascript"});n=URL.createObjectURL(s)}return n}}class mx extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function gn(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class I8 extends mx{constructor(t,n){super(t),this.name="StorageApiError",this.status=n}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class ng extends mx{constructor(t,n){super(t),this.name="StorageUnknownError",this.originalError=n}}var B8=function(e,t,n,s){function l(o){return o instanceof n?o:new n(function(d){d(o)})}return new(n||(n=Promise))(function(o,d){function f(g){try{p(s.next(g))}catch(b){d(b)}}function m(g){try{p(s.throw(g))}catch(b){d(b)}}function p(g){g.done?o(g.value):l(g.value).then(f,m)}p((s=s.apply(e,t||[])).next())})};const JS=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>Uc(async()=>{const{default:s}=await Promise.resolve().then(()=>Il);return{default:s}},void 0).then(({default:s})=>s(...n)):t=fetch,(...n)=>t(...n)},z8=()=>B8(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Uc(()=>Promise.resolve().then(()=>Il),void 0)).Response:Response}),ag=e=>{if(Array.isArray(e))return e.map(n=>ag(n));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([n,s])=>{const l=n.replace(/([-_][a-z])/gi,o=>o.toUpperCase().replace(/[-_]/g,""));t[l]=ag(s)}),t};var pi=function(e,t,n,s){function l(o){return o instanceof n?o:new n(function(d){d(o)})}return new(n||(n=Promise))(function(o,d){function f(g){try{p(s.next(g))}catch(b){d(b)}}function m(g){try{p(s.throw(g))}catch(b){d(b)}}function p(g){g.done?o(g.value):l(g.value).then(f,m)}p((s=s.apply(e,t||[])).next())})};const xp=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),q8=(e,t,n)=>pi(void 0,void 0,void 0,function*(){const s=yield z8();e instanceof s&&!n?.noResolveJson?e.json().then(l=>{t(new I8(xp(l),e.status||500))}).catch(l=>{t(new ng(xp(l),l))}):t(new ng(xp(e),e))}),H8=(e,t,n,s)=>{const l={method:e,headers:t?.headers||{}};return e==="GET"?l:(l.headers=Object.assign({"Content-Type":"application/json"},t?.headers),s&&(l.body=JSON.stringify(s)),Object.assign(Object.assign({},l),n))};function $c(e,t,n,s,l,o){return pi(this,void 0,void 0,function*(){return new Promise((d,f)=>{e(n,H8(t,s,l,o)).then(m=>{if(!m.ok)throw m;return s?.noResolveJson?m:m.json()}).then(m=>d(m)).catch(m=>q8(m,f,s))})})}function Wu(e,t,n,s){return pi(this,void 0,void 0,function*(){return $c(e,"GET",t,n,s)})}function us(e,t,n,s,l){return pi(this,void 0,void 0,function*(){return $c(e,"POST",t,s,l,n)})}function V8(e,t,n,s,l){return pi(this,void 0,void 0,function*(){return $c(e,"PUT",t,s,l,n)})}function G8(e,t,n,s){return pi(this,void 0,void 0,function*(){return $c(e,"HEAD",t,Object.assign(Object.assign({},n),{noResolveJson:!0}),s)})}function ZS(e,t,n,s,l){return pi(this,void 0,void 0,function*(){return $c(e,"DELETE",t,s,l,n)})}var Vn=function(e,t,n,s){function l(o){return o instanceof n?o:new n(function(d){d(o)})}return new(n||(n=Promise))(function(o,d){function f(g){try{p(s.next(g))}catch(b){d(b)}}function m(g){try{p(s.throw(g))}catch(b){d(b)}}function p(g){g.done?o(g.value):l(g.value).then(f,m)}p((s=s.apply(e,t||[])).next())})};const Y8={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Tw={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class K8{constructor(t,n={},s,l){this.url=t,this.headers=n,this.bucketId=s,this.fetch=JS(l)}uploadOrUpdate(t,n,s,l){return Vn(this,void 0,void 0,function*(){try{let o;const d=Object.assign(Object.assign({},Tw),l);let f=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(d.upsert)});const m=d.metadata;typeof Blob<"u"&&s instanceof Blob?(o=new FormData,o.append("cacheControl",d.cacheControl),m&&o.append("metadata",this.encodeMetadata(m)),o.append("",s)):typeof FormData<"u"&&s instanceof FormData?(o=s,o.append("cacheControl",d.cacheControl),m&&o.append("metadata",this.encodeMetadata(m))):(o=s,f["cache-control"]=`max-age=${d.cacheControl}`,f["content-type"]=d.contentType,m&&(f["x-metadata"]=this.toBase64(this.encodeMetadata(m)))),l?.headers&&(f=Object.assign(Object.assign({},f),l.headers));const p=this._removeEmptyFolders(n),g=this._getFinalPath(p),b=yield this.fetch(`${this.url}/object/${g}`,Object.assign({method:t,body:o,headers:f},d?.duplex?{duplex:d.duplex}:{})),y=yield b.json();return b.ok?{data:{path:p,id:y.Id,fullPath:y.Key},error:null}:{data:null,error:y}}catch(o){if(gn(o))return{data:null,error:o};throw o}})}upload(t,n,s){return Vn(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,n,s)})}uploadToSignedUrl(t,n,s,l){return Vn(this,void 0,void 0,function*(){const o=this._removeEmptyFolders(t),d=this._getFinalPath(o),f=new URL(this.url+`/object/upload/sign/${d}`);f.searchParams.set("token",n);try{let m;const p=Object.assign({upsert:Tw.upsert},l),g=Object.assign(Object.assign({},this.headers),{"x-upsert":String(p.upsert)});typeof Blob<"u"&&s instanceof Blob?(m=new FormData,m.append("cacheControl",p.cacheControl),m.append("",s)):typeof FormData<"u"&&s instanceof FormData?(m=s,m.append("cacheControl",p.cacheControl)):(m=s,g["cache-control"]=`max-age=${p.cacheControl}`,g["content-type"]=p.contentType);const b=yield this.fetch(f.toString(),{method:"PUT",body:m,headers:g}),y=yield b.json();return b.ok?{data:{path:o,fullPath:y.Key},error:null}:{data:null,error:y}}catch(m){if(gn(m))return{data:null,error:m};throw m}})}createSignedUploadUrl(t,n){return Vn(this,void 0,void 0,function*(){try{let s=this._getFinalPath(t);const l=Object.assign({},this.headers);n?.upsert&&(l["x-upsert"]="true");const o=yield us(this.fetch,`${this.url}/object/upload/sign/${s}`,{},{headers:l}),d=new URL(this.url+o.url),f=d.searchParams.get("token");if(!f)throw new mx("No token returned by API");return{data:{signedUrl:d.toString(),path:t,token:f},error:null}}catch(s){if(gn(s))return{data:null,error:s};throw s}})}update(t,n,s){return Vn(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,n,s)})}move(t,n,s){return Vn(this,void 0,void 0,function*(){try{return{data:yield us(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:s?.destinationBucket},{headers:this.headers}),error:null}}catch(l){if(gn(l))return{data:null,error:l};throw l}})}copy(t,n,s){return Vn(this,void 0,void 0,function*(){try{return{data:{path:(yield us(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:s?.destinationBucket},{headers:this.headers})).Key},error:null}}catch(l){if(gn(l))return{data:null,error:l};throw l}})}createSignedUrl(t,n,s){return Vn(this,void 0,void 0,function*(){try{let l=this._getFinalPath(t),o=yield us(this.fetch,`${this.url}/object/sign/${l}`,Object.assign({expiresIn:n},s?.transform?{transform:s.transform}:{}),{headers:this.headers});const d=s?.download?`&download=${s.download===!0?"":s.download}`:"";return o={signedUrl:encodeURI(`${this.url}${o.signedURL}${d}`)},{data:o,error:null}}catch(l){if(gn(l))return{data:null,error:l};throw l}})}createSignedUrls(t,n,s){return Vn(this,void 0,void 0,function*(){try{const l=yield us(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:t},{headers:this.headers}),o=s?.download?`&download=${s.download===!0?"":s.download}`:"";return{data:l.map(d=>Object.assign(Object.assign({},d),{signedUrl:d.signedURL?encodeURI(`${this.url}${d.signedURL}${o}`):null})),error:null}}catch(l){if(gn(l))return{data:null,error:l};throw l}})}download(t,n){return Vn(this,void 0,void 0,function*(){const l=typeof n?.transform<"u"?"render/image/authenticated":"object",o=this.transformOptsToQueryString(n?.transform||{}),d=o?`?${o}`:"";try{const f=this._getFinalPath(t);return{data:yield(yield Wu(this.fetch,`${this.url}/${l}/${f}${d}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(f){if(gn(f))return{data:null,error:f};throw f}})}info(t){return Vn(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{const s=yield Wu(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:ag(s),error:null}}catch(s){if(gn(s))return{data:null,error:s};throw s}})}exists(t){return Vn(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{return yield G8(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(s){if(gn(s)&&s instanceof ng){const l=s.originalError;if([400,404].includes(l?.status))return{data:!1,error:s}}throw s}})}getPublicUrl(t,n){const s=this._getFinalPath(t),l=[],o=n?.download?`download=${n.download===!0?"":n.download}`:"";o!==""&&l.push(o);const f=typeof n?.transform<"u"?"render/image":"object",m=this.transformOptsToQueryString(n?.transform||{});m!==""&&l.push(m);let p=l.join("&");return p!==""&&(p=`?${p}`),{data:{publicUrl:encodeURI(`${this.url}/${f}/public/${s}${p}`)}}}remove(t){return Vn(this,void 0,void 0,function*(){try{return{data:yield ZS(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(n){if(gn(n))return{data:null,error:n};throw n}})}list(t,n,s){return Vn(this,void 0,void 0,function*(){try{const l=Object.assign(Object.assign(Object.assign({},Y8),n),{prefix:t||""});return{data:yield us(this.fetch,`${this.url}/object/list/${this.bucketId}`,l,{headers:this.headers},s),error:null}}catch(l){if(gn(l))return{data:null,error:l};throw l}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const n=[];return t.width&&n.push(`width=${t.width}`),t.height&&n.push(`height=${t.height}`),t.resize&&n.push(`resize=${t.resize}`),t.format&&n.push(`format=${t.format}`),t.quality&&n.push(`quality=${t.quality}`),n.join("&")}}const W8="2.7.1",J8={"X-Client-Info":`storage-js/${W8}`};var ll=function(e,t,n,s){function l(o){return o instanceof n?o:new n(function(d){d(o)})}return new(n||(n=Promise))(function(o,d){function f(g){try{p(s.next(g))}catch(b){d(b)}}function m(g){try{p(s.throw(g))}catch(b){d(b)}}function p(g){g.done?o(g.value):l(g.value).then(f,m)}p((s=s.apply(e,t||[])).next())})};class Z8{constructor(t,n={},s){this.url=t,this.headers=Object.assign(Object.assign({},J8),n),this.fetch=JS(s)}listBuckets(){return ll(this,void 0,void 0,function*(){try{return{data:yield Wu(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(gn(t))return{data:null,error:t};throw t}})}getBucket(t){return ll(this,void 0,void 0,function*(){try{return{data:yield Wu(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(n){if(gn(n))return{data:null,error:n};throw n}})}createBucket(t,n={public:!1}){return ll(this,void 0,void 0,function*(){try{return{data:yield us(this.fetch,`${this.url}/bucket`,{id:t,name:t,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(s){if(gn(s))return{data:null,error:s};throw s}})}updateBucket(t,n){return ll(this,void 0,void 0,function*(){try{return{data:yield V8(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(s){if(gn(s))return{data:null,error:s};throw s}})}emptyBucket(t){return ll(this,void 0,void 0,function*(){try{return{data:yield us(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(gn(n))return{data:null,error:n};throw n}})}deleteBucket(t){return ll(this,void 0,void 0,function*(){try{return{data:yield ZS(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(n){if(gn(n))return{data:null,error:n};throw n}})}}class X8 extends Z8{constructor(t,n={},s){super(t,n,s)}from(t){return new K8(this.url,this.headers,t,this.fetch)}}const Q8="2.50.3";let ac="";typeof Deno<"u"?ac="deno":typeof document<"u"?ac="web":typeof navigator<"u"&&navigator.product==="ReactNative"?ac="react-native":ac="node";const eM={"X-Client-Info":`supabase-js-${ac}/${Q8}`},tM={headers:eM},nM={schema:"public"},aM={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},rM={};var sM=function(e,t,n,s){function l(o){return o instanceof n?o:new n(function(d){d(o)})}return new(n||(n=Promise))(function(o,d){function f(g){try{p(s.next(g))}catch(b){d(b)}}function m(g){try{p(s.throw(g))}catch(b){d(b)}}function p(g){g.done?o(g.value):l(g.value).then(f,m)}p((s=s.apply(e,t||[])).next())})};const iM=e=>{let t;return e?t=e:typeof fetch>"u"?t=IS:t=fetch,(...n)=>t(...n)},lM=()=>typeof Headers>"u"?BS:Headers,oM=(e,t,n)=>{const s=iM(n),l=lM();return(o,d)=>sM(void 0,void 0,void 0,function*(){var f;const m=(f=yield t())!==null&&f!==void 0?f:e;let p=new l(d?.headers);return p.has("apikey")||p.set("apikey",e),p.has("Authorization")||p.set("Authorization",`Bearer ${m}`),s(o,Object.assign(Object.assign({},d),{headers:p}))})};var cM=function(e,t,n,s){function l(o){return o instanceof n?o:new n(function(d){d(o)})}return new(n||(n=Promise))(function(o,d){function f(g){try{p(s.next(g))}catch(b){d(b)}}function m(g){try{p(s.throw(g))}catch(b){d(b)}}function p(g){g.done?o(g.value):l(g.value).then(f,m)}p((s=s.apply(e,t||[])).next())})};function dM(e){return e.endsWith("/")?e:e+"/"}function uM(e,t){var n,s;const{db:l,auth:o,realtime:d,global:f}=e,{db:m,auth:p,realtime:g,global:b}=t,y={db:Object.assign(Object.assign({},m),l),auth:Object.assign(Object.assign({},p),o),realtime:Object.assign(Object.assign({},g),d),global:Object.assign(Object.assign(Object.assign({},b),f),{headers:Object.assign(Object.assign({},(n=b?.headers)!==null&&n!==void 0?n:{}),(s=f?.headers)!==null&&s!==void 0?s:{})}),accessToken:()=>cM(this,void 0,void 0,function*(){return""})};return e.accessToken?y.accessToken=e.accessToken:delete y.accessToken,y}const XS="2.70.0",gl=30*1e3,rg=3,bp=rg*gl,fM="http://localhost:9999",hM="supabase.auth.token",mM={"X-Client-Info":`gotrue-js/${XS}`},sg="X-Supabase-Api-Version",QS={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},pM=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,gM=6e5;class px extends Error{constructor(t,n,s){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=s}}function et(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class xM extends px{constructor(t,n,s){super(t,n,s),this.name="AuthApiError",this.status=n,this.code=s}}function bM(e){return et(e)&&e.name==="AuthApiError"}class eN extends px{constructor(t,n){super(t),this.name="AuthUnknownError",this.originalError=n}}class Ns extends px{constructor(t,n,s,l){super(t,s,l),this.name=n,this.status=s}}class cs extends Ns{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function vM(e){return et(e)&&e.name==="AuthSessionMissingError"}class ou extends Ns{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class cu extends Ns{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class du extends Ns{constructor(t,n=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function yM(e){return et(e)&&e.name==="AuthImplicitGrantRedirectError"}class kw extends Ns{constructor(t,n=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class ig extends Ns{constructor(t,n){super(t,"AuthRetryableFetchError",n,void 0)}}function vp(e){return et(e)&&e.name==="AuthRetryableFetchError"}class Dw extends Ns{constructor(t,n,s){super(t,"AuthWeakPasswordError",n,"weak_password"),this.reasons=s}}class cc extends Ns{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const Ju="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Mw=` 	
\r=`.split(""),wM=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<Mw.length;t+=1)e[Mw[t].charCodeAt(0)]=-2;for(let t=0;t<Ju.length;t+=1)e[Ju[t].charCodeAt(0)]=t;return e})();function Ow(e,t,n){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const s=t.queue>>t.queuedBits-6&63;n(Ju[s]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const s=t.queue>>t.queuedBits-6&63;n(Ju[s]),t.queuedBits-=6}}function tN(e,t,n){const s=wM[e];if(s>-1)for(t.queue=t.queue<<6|s,t.queuedBits+=6;t.queuedBits>=8;)n(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(s===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function Lw(e){const t=[],n=d=>{t.push(String.fromCodePoint(d))},s={utf8seq:0,codepoint:0},l={queue:0,queuedBits:0},o=d=>{NM(d,s,n)};for(let d=0;d<e.length;d+=1)tN(e.charCodeAt(d),l,o);return t.join("")}function jM(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function SM(e,t){for(let n=0;n<e.length;n+=1){let s=e.charCodeAt(n);if(s>55295&&s<=56319){const l=(s-55296)*1024&65535;s=(e.charCodeAt(n+1)-56320&65535|l)+65536,n+=1}jM(s,t)}}function NM(e,t,n){if(t.utf8seq===0){if(e<=127){n(e);return}for(let s=1;s<6;s+=1)if((e>>7-s&1)===0){t.utf8seq=s;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&n(t.codepoint)}}function _M(e){const t=[],n={queue:0,queuedBits:0},s=l=>{t.push(l)};for(let l=0;l<e.length;l+=1)tN(e.charCodeAt(l),n,s);return new Uint8Array(t)}function CM(e){const t=[];return SM(e,n=>t.push(n)),new Uint8Array(t)}function EM(e){const t=[],n={queue:0,queuedBits:0},s=l=>{t.push(l)};return e.forEach(l=>Ow(l,n,s)),Ow(null,n,s),t.join("")}function RM(e){return Math.round(Date.now()/1e3)+e}function AM(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const Ta=()=>typeof window<"u"&&typeof document<"u",Ks={tested:!1,writable:!1},dc=()=>{if(!Ta())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Ks.tested)return Ks.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),Ks.tested=!0,Ks.writable=!0}catch{Ks.tested=!0,Ks.writable=!1}return Ks.writable};function PM(e){const t={},n=new URL(e);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((l,o)=>{t[o]=l})}catch{}return n.searchParams.forEach((s,l)=>{t[l]=s}),t}const nN=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>Uc(async()=>{const{default:s}=await Promise.resolve().then(()=>Il);return{default:s}},void 0).then(({default:s})=>s(...n)):t=fetch,(...n)=>t(...n)},TM=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",aN=async(e,t,n)=>{await e.setItem(t,JSON.stringify(n))},uu=async(e,t)=>{const n=await e.getItem(t);if(!n)return null;try{return JSON.parse(n)}catch{return n}},fu=async(e,t)=>{await e.removeItem(t)};class kf{constructor(){this.promise=new kf.promiseConstructor((t,n)=>{this.resolve=t,this.reject=n})}}kf.promiseConstructor=Promise;function yp(e){const t=e.split(".");if(t.length!==3)throw new cc("Invalid JWT structure");for(let s=0;s<t.length;s++)if(!pM.test(t[s]))throw new cc("JWT not in base64url format");return{header:JSON.parse(Lw(t[0])),payload:JSON.parse(Lw(t[1])),signature:_M(t[2]),raw:{header:t[0],payload:t[1]}}}async function kM(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function DM(e,t){return new Promise((s,l)=>{(async()=>{for(let o=0;o<1/0;o++)try{const d=await e(o);if(!t(o,null,d)){s(d);return}}catch(d){if(!t(o,d)){l(d);return}}})()})}function MM(e){return("0"+e.toString(16)).substr(-2)}function OM(){const t=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",s=n.length;let l="";for(let o=0;o<56;o++)l+=n.charAt(Math.floor(Math.random()*s));return l}return crypto.getRandomValues(t),Array.from(t,MM).join("")}async function LM(e){const n=new TextEncoder().encode(e),s=await crypto.subtle.digest("SHA-256",n),l=new Uint8Array(s);return Array.from(l).map(o=>String.fromCharCode(o)).join("")}async function UM(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const n=await LM(e);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function ol(e,t,n=!1){const s=OM();let l=s;n&&(l+="/PASSWORD_RECOVERY"),await aN(e,`${t}-code-verifier`,l);const o=await UM(s);return[o,s===o?"plain":"s256"]}const $M=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function FM(e){const t=e.headers.get(sg);if(!t||!t.match($M))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function IM(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function BM(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const zM=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function cl(e){if(!zM.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}var qM=function(e,t){var n={};for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&t.indexOf(s)<0&&(n[s]=e[s]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,s=Object.getOwnPropertySymbols(e);l<s.length;l++)t.indexOf(s[l])<0&&Object.prototype.propertyIsEnumerable.call(e,s[l])&&(n[s[l]]=e[s[l]]);return n};const Ws=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),HM=[502,503,504];async function Uw(e){var t;if(!TM(e))throw new ig(Ws(e),0);if(HM.includes(e.status))throw new ig(Ws(e),e.status);let n;try{n=await e.json()}catch(o){throw new eN(Ws(o),o)}let s;const l=FM(e);if(l&&l.getTime()>=QS["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?s=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(s=n.error_code),s){if(s==="weak_password")throw new Dw(Ws(n),e.status,((t=n.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(s==="session_not_found")throw new cs}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((o,d)=>o&&typeof d=="string",!0))throw new Dw(Ws(n),e.status,n.weak_password.reasons);throw new xM(Ws(n),e.status||500,s)}const VM=(e,t,n,s)=>{const l={method:e,headers:t?.headers||{}};return e==="GET"?l:(l.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t?.headers),l.body=JSON.stringify(s),Object.assign(Object.assign({},l),n))};async function mt(e,t,n,s){var l;const o=Object.assign({},s?.headers);o[sg]||(o[sg]=QS["2024-01-01"].name),s?.jwt&&(o.Authorization=`Bearer ${s.jwt}`);const d=(l=s?.query)!==null&&l!==void 0?l:{};s?.redirectTo&&(d.redirect_to=s.redirectTo);const f=Object.keys(d).length?"?"+new URLSearchParams(d).toString():"",m=await GM(e,t,n+f,{headers:o,noResolveJson:s?.noResolveJson},{},s?.body);return s?.xform?s?.xform(m):{data:Object.assign({},m),error:null}}async function GM(e,t,n,s,l,o){const d=VM(t,s,l,o);let f;try{f=await e(n,Object.assign({},d))}catch(m){throw console.error(m),new ig(Ws(m),0)}if(f.ok||await Uw(f),s?.noResolveJson)return f;try{return await f.json()}catch(m){await Uw(m)}}function vr(e){var t;let n=null;JM(e)&&(n=Object.assign({},e),e.expires_at||(n.expires_at=RM(e.expires_in)));const s=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:n,user:s},error:null}}function $w(e){const t=vr(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((n,s)=>n&&typeof s=="string",!0)&&(t.data.weak_password=e.weak_password),t}function hs(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function YM(e){return{data:e,error:null}}function KM(e){const{action_link:t,email_otp:n,hashed_token:s,redirect_to:l,verification_type:o}=e,d=qM(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),f={action_link:t,email_otp:n,hashed_token:s,redirect_to:l,verification_type:o},m=Object.assign({},d);return{data:{properties:f,user:m},error:null}}function WM(e){return e}function JM(e){return e.access_token&&e.refresh_token&&e.expires_in}const wp=["global","local","others"];var ZM=function(e,t){var n={};for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&t.indexOf(s)<0&&(n[s]=e[s]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,s=Object.getOwnPropertySymbols(e);l<s.length;l++)t.indexOf(s[l])<0&&Object.prototype.propertyIsEnumerable.call(e,s[l])&&(n[s[l]]=e[s[l]]);return n};class XM{constructor({url:t="",headers:n={},fetch:s}){this.url=t,this.headers=n,this.fetch=nN(s),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,n=wp[0]){if(wp.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${wp.join(", ")}`);try{return await mt(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(s){if(et(s))return{data:null,error:s};throw s}}async inviteUserByEmail(t,n={}){try{return await mt(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:hs})}catch(s){if(et(s))return{data:{user:null},error:s};throw s}}async generateLink(t){try{const{options:n}=t,s=ZM(t,["options"]),l=Object.assign(Object.assign({},s),n);return"newEmail"in s&&(l.new_email=s?.newEmail,delete l.newEmail),await mt(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:l,headers:this.headers,xform:KM,redirectTo:n?.redirectTo})}catch(n){if(et(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(t){try{return await mt(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:hs})}catch(n){if(et(n))return{data:{user:null},error:n};throw n}}async listUsers(t){var n,s,l,o,d,f,m;try{const p={nextPage:null,lastPage:0,total:0},g=await mt(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(s=(n=t?.page)===null||n===void 0?void 0:n.toString())!==null&&s!==void 0?s:"",per_page:(o=(l=t?.perPage)===null||l===void 0?void 0:l.toString())!==null&&o!==void 0?o:""},xform:WM});if(g.error)throw g.error;const b=await g.json(),y=(d=g.headers.get("x-total-count"))!==null&&d!==void 0?d:0,w=(m=(f=g.headers.get("link"))===null||f===void 0?void 0:f.split(","))!==null&&m!==void 0?m:[];return w.length>0&&(w.forEach(j=>{const S=parseInt(j.split(";")[0].split("=")[1].substring(0,1)),E=JSON.parse(j.split(";")[1].split("=")[1]);p[`${E}Page`]=S}),p.total=parseInt(y)),{data:Object.assign(Object.assign({},b),p),error:null}}catch(p){if(et(p))return{data:{users:[]},error:p};throw p}}async getUserById(t){cl(t);try{return await mt(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:hs})}catch(n){if(et(n))return{data:{user:null},error:n};throw n}}async updateUserById(t,n){cl(t);try{return await mt(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:n,headers:this.headers,xform:hs})}catch(s){if(et(s))return{data:{user:null},error:s};throw s}}async deleteUser(t,n=!1){cl(t);try{return await mt(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:n},xform:hs})}catch(s){if(et(s))return{data:{user:null},error:s};throw s}}async _listFactors(t){cl(t.userId);try{const{data:n,error:s}=await mt(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:l=>({data:{factors:l},error:null})});return{data:n,error:s}}catch(n){if(et(n))return{data:null,error:n};throw n}}async _deleteFactor(t){cl(t.userId),cl(t.id);try{return{data:await mt(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(n){if(et(n))return{data:null,error:n};throw n}}}const QM={getItem:e=>dc()?globalThis.localStorage.getItem(e):null,setItem:(e,t)=>{dc()&&globalThis.localStorage.setItem(e,t)},removeItem:e=>{dc()&&globalThis.localStorage.removeItem(e)}};function Fw(e={}){return{getItem:t=>e[t]||null,setItem:(t,n)=>{e[t]=n},removeItem:t=>{delete e[t]}}}function eO(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const dl={debug:!!(globalThis&&dc()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class rN extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class tO extends rN{}async function nO(e,t,n){dl.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const s=new globalThis.AbortController;return t>0&&setTimeout(()=>{s.abort(),dl.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:s.signal},async l=>{if(l){dl.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,l.name);try{return await n()}finally{dl.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,l.name)}}else{if(t===0)throw dl.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new tO(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(dl.debug)try{const o=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(o,null,"  "))}catch(o){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",o)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}eO();const aO={url:fM,storageKey:hM,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:mM,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function Iw(e,t,n){return await n()}class jc{constructor(t){var n,s;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=jc.nextInstanceID,jc.nextInstanceID+=1,this.instanceID>0&&Ta()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const l=Object.assign(Object.assign({},aO),t);if(this.logDebugMessages=!!l.debug,typeof l.debug=="function"&&(this.logger=l.debug),this.persistSession=l.persistSession,this.storageKey=l.storageKey,this.autoRefreshToken=l.autoRefreshToken,this.admin=new XM({url:l.url,headers:l.headers,fetch:l.fetch}),this.url=l.url,this.headers=l.headers,this.fetch=nN(l.fetch),this.lock=l.lock||Iw,this.detectSessionInUrl=l.detectSessionInUrl,this.flowType=l.flowType,this.hasCustomAuthorizationHeader=l.hasCustomAuthorizationHeader,l.lock?this.lock=l.lock:Ta()&&(!((n=globalThis?.navigator)===null||n===void 0)&&n.locks)?this.lock=nO:this.lock=Iw,this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?l.storage?this.storage=l.storage:dc()?this.storage=QM:(this.memoryStorage={},this.storage=Fw(this.memoryStorage)):(this.memoryStorage={},this.storage=Fw(this.memoryStorage)),Ta()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(o){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",o)}(s=this.broadcastChannel)===null||s===void 0||s.addEventListener("message",async o=>{this._debug("received broadcast notification from other tab or client",o),await this._notifyAllSubscribers(o.data.event,o.data.session,!1)})}this.initialize()}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${XS}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const n=PM(window.location.href);let s="none";if(this._isImplicitGrantCallback(n)?s="implicit":await this._isPKCECallback(n)&&(s="pkce"),Ta()&&this.detectSessionInUrl&&s!=="none"){const{data:l,error:o}=await this._getSessionFromURL(n,s);if(o){if(this._debug("#_initialize()","error detecting session from URL",o),yM(o)){const m=(t=o.details)===null||t===void 0?void 0:t.code;if(m==="identity_already_exists"||m==="identity_not_found"||m==="single_identity_not_deletable")return{error:o}}return await this._removeSession(),{error:o}}const{session:d,redirectType:f}=l;return this._debug("#_initialize()","detected session in URL",d,"redirect type",f),await this._saveSession(d),setTimeout(async()=>{f==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",d):await this._notifyAllSubscribers("SIGNED_IN",d)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return et(n)?{error:n}:{error:new eN("Unexpected error during initialization",n)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var n,s,l;try{const o=await mt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(s=(n=t?.options)===null||n===void 0?void 0:n.data)!==null&&s!==void 0?s:{},gotrue_meta_security:{captcha_token:(l=t?.options)===null||l===void 0?void 0:l.captchaToken}},xform:vr}),{data:d,error:f}=o;if(f||!d)return{data:{user:null,session:null},error:f};const m=d.session,p=d.user;return d.session&&(await this._saveSession(d.session),await this._notifyAllSubscribers("SIGNED_IN",m)),{data:{user:p,session:m},error:null}}catch(o){if(et(o))return{data:{user:null,session:null},error:o};throw o}}async signUp(t){var n,s,l;try{let o;if("email"in t){const{email:g,password:b,options:y}=t;let w=null,j=null;this.flowType==="pkce"&&([w,j]=await ol(this.storage,this.storageKey)),o=await mt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:y?.emailRedirectTo,body:{email:g,password:b,data:(n=y?.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:y?.captchaToken},code_challenge:w,code_challenge_method:j},xform:vr})}else if("phone"in t){const{phone:g,password:b,options:y}=t;o=await mt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:g,password:b,data:(s=y?.data)!==null&&s!==void 0?s:{},channel:(l=y?.channel)!==null&&l!==void 0?l:"sms",gotrue_meta_security:{captcha_token:y?.captchaToken}},xform:vr})}else throw new cu("You must provide either an email or phone number and a password");const{data:d,error:f}=o;if(f||!d)return{data:{user:null,session:null},error:f};const m=d.session,p=d.user;return d.session&&(await this._saveSession(d.session),await this._notifyAllSubscribers("SIGNED_IN",m)),{data:{user:p,session:m},error:null}}catch(o){if(et(o))return{data:{user:null,session:null},error:o};throw o}}async signInWithPassword(t){try{let n;if("email"in t){const{email:o,password:d,options:f}=t;n=await mt(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:o,password:d,gotrue_meta_security:{captcha_token:f?.captchaToken}},xform:$w})}else if("phone"in t){const{phone:o,password:d,options:f}=t;n=await mt(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:o,password:d,gotrue_meta_security:{captcha_token:f?.captchaToken}},xform:$w})}else throw new cu("You must provide either an email or phone number and a password");const{data:s,error:l}=n;return l?{data:{user:null,session:null},error:l}:!s||!s.session||!s.user?{data:{user:null,session:null},error:new ou}:(s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),{data:Object.assign({user:s.user,session:s.session},s.weak_password?{weakPassword:s.weak_password}:null),error:l})}catch(n){if(et(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(t){var n,s,l,o;return await this._handleProviderSignIn(t.provider,{redirectTo:(n=t.options)===null||n===void 0?void 0:n.redirectTo,scopes:(s=t.options)===null||s===void 0?void 0:s.scopes,queryParams:(l=t.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:(o=t.options)===null||o===void 0?void 0:o.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:n}=t;if(n==="solana")return await this.signInWithSolana(t);throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}async signInWithSolana(t){var n,s,l,o,d,f,m,p,g,b,y,w;let j,S;if("message"in t)j=t.message,S=t.signature;else{const{chain:E,wallet:R,statement:A,options:N}=t;let P;if(Ta())if(typeof R=="object")P=R;else{const C=window;if("solana"in C&&typeof C.solana=="object"&&("signIn"in C.solana&&typeof C.solana.signIn=="function"||"signMessage"in C.solana&&typeof C.solana.signMessage=="function"))P=C.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof R!="object"||!N?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");P=R}const T=new URL((n=N?.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in P&&P.signIn){const C=await P.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},N?.signInWithSolana),{version:"1",domain:T.host,uri:T.href}),A?{statement:A}:null));let k;if(Array.isArray(C)&&C[0]&&typeof C[0]=="object")k=C[0];else if(C&&typeof C=="object"&&"signedMessage"in C&&"signature"in C)k=C;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in k&&"signature"in k&&(typeof k.signedMessage=="string"||k.signedMessage instanceof Uint8Array)&&k.signature instanceof Uint8Array)j=typeof k.signedMessage=="string"?k.signedMessage:new TextDecoder().decode(k.signedMessage),S=k.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in P)||typeof P.signMessage!="function"||!("publicKey"in P)||typeof P!="object"||!P.publicKey||!("toBase58"in P.publicKey)||typeof P.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");j=[`${T.host} wants you to sign in with your Solana account:`,P.publicKey.toBase58(),...A?["",A,""]:[""],"Version: 1",`URI: ${T.href}`,`Issued At: ${(l=(s=N?.signInWithSolana)===null||s===void 0?void 0:s.issuedAt)!==null&&l!==void 0?l:new Date().toISOString()}`,...!((o=N?.signInWithSolana)===null||o===void 0)&&o.notBefore?[`Not Before: ${N.signInWithSolana.notBefore}`]:[],...!((d=N?.signInWithSolana)===null||d===void 0)&&d.expirationTime?[`Expiration Time: ${N.signInWithSolana.expirationTime}`]:[],...!((f=N?.signInWithSolana)===null||f===void 0)&&f.chainId?[`Chain ID: ${N.signInWithSolana.chainId}`]:[],...!((m=N?.signInWithSolana)===null||m===void 0)&&m.nonce?[`Nonce: ${N.signInWithSolana.nonce}`]:[],...!((p=N?.signInWithSolana)===null||p===void 0)&&p.requestId?[`Request ID: ${N.signInWithSolana.requestId}`]:[],...!((b=(g=N?.signInWithSolana)===null||g===void 0?void 0:g.resources)===null||b===void 0)&&b.length?["Resources",...N.signInWithSolana.resources.map(k=>`- ${k}`)]:[]].join(`
`);const C=await P.signMessage(new TextEncoder().encode(j),"utf8");if(!C||!(C instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");S=C}}try{const{data:E,error:R}=await mt(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:j,signature:EM(S)},!((y=t.options)===null||y===void 0)&&y.captchaToken?{gotrue_meta_security:{captcha_token:(w=t.options)===null||w===void 0?void 0:w.captchaToken}}:null),xform:vr});if(R)throw R;return!E||!E.session||!E.user?{data:{user:null,session:null},error:new ou}:(E.session&&(await this._saveSession(E.session),await this._notifyAllSubscribers("SIGNED_IN",E.session)),{data:Object.assign({},E),error:R})}catch(E){if(et(E))return{data:{user:null,session:null},error:E};throw E}}async _exchangeCodeForSession(t){const n=await uu(this.storage,`${this.storageKey}-code-verifier`),[s,l]=(n??"").split("/");try{const{data:o,error:d}=await mt(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:s},xform:vr});if(await fu(this.storage,`${this.storageKey}-code-verifier`),d)throw d;return!o||!o.session||!o.user?{data:{user:null,session:null,redirectType:null},error:new ou}:(o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",o.session)),{data:Object.assign(Object.assign({},o),{redirectType:l??null}),error:d})}catch(o){if(et(o))return{data:{user:null,session:null,redirectType:null},error:o};throw o}}async signInWithIdToken(t){try{const{options:n,provider:s,token:l,access_token:o,nonce:d}=t,f=await mt(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:s,id_token:l,access_token:o,nonce:d,gotrue_meta_security:{captcha_token:n?.captchaToken}},xform:vr}),{data:m,error:p}=f;return p?{data:{user:null,session:null},error:p}:!m||!m.session||!m.user?{data:{user:null,session:null},error:new ou}:(m.session&&(await this._saveSession(m.session),await this._notifyAllSubscribers("SIGNED_IN",m.session)),{data:m,error:p})}catch(n){if(et(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(t){var n,s,l,o,d;try{if("email"in t){const{email:f,options:m}=t;let p=null,g=null;this.flowType==="pkce"&&([p,g]=await ol(this.storage,this.storageKey));const{error:b}=await mt(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:f,data:(n=m?.data)!==null&&n!==void 0?n:{},create_user:(s=m?.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:m?.captchaToken},code_challenge:p,code_challenge_method:g},redirectTo:m?.emailRedirectTo});return{data:{user:null,session:null},error:b}}if("phone"in t){const{phone:f,options:m}=t,{data:p,error:g}=await mt(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:f,data:(l=m?.data)!==null&&l!==void 0?l:{},create_user:(o=m?.shouldCreateUser)!==null&&o!==void 0?o:!0,gotrue_meta_security:{captcha_token:m?.captchaToken},channel:(d=m?.channel)!==null&&d!==void 0?d:"sms"}});return{data:{user:null,session:null,messageId:p?.message_id},error:g}}throw new cu("You must provide either an email or phone number.")}catch(f){if(et(f))return{data:{user:null,session:null},error:f};throw f}}async verifyOtp(t){var n,s;try{let l,o;"options"in t&&(l=(n=t.options)===null||n===void 0?void 0:n.redirectTo,o=(s=t.options)===null||s===void 0?void 0:s.captchaToken);const{data:d,error:f}=await mt(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:o}}),redirectTo:l,xform:vr});if(f)throw f;if(!d)throw new Error("An error occurred on token verification.");const m=d.session,p=d.user;return m?.access_token&&(await this._saveSession(m),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",m)),{data:{user:p,session:m},error:null}}catch(l){if(et(l))return{data:{user:null,session:null},error:l};throw l}}async signInWithSSO(t){var n,s,l;try{let o=null,d=null;return this.flowType==="pkce"&&([o,d]=await ol(this.storage,this.storageKey)),await mt(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(s=(n=t.options)===null||n===void 0?void 0:n.redirectTo)!==null&&s!==void 0?s:void 0}),!((l=t?.options)===null||l===void 0)&&l.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:o,code_challenge_method:d}),headers:this.headers,xform:YM})}catch(o){if(et(o))return{data:null,error:o};throw o}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:n},error:s}=t;if(s)throw s;if(!n)throw new cs;const{error:l}=await mt(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:l}})}catch(t){if(et(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const n=`${this.url}/resend`;if("email"in t){const{email:s,type:l,options:o}=t,{error:d}=await mt(this.fetch,"POST",n,{headers:this.headers,body:{email:s,type:l,gotrue_meta_security:{captcha_token:o?.captchaToken}},redirectTo:o?.emailRedirectTo});return{data:{user:null,session:null},error:d}}else if("phone"in t){const{phone:s,type:l,options:o}=t,{data:d,error:f}=await mt(this.fetch,"POST",n,{headers:this.headers,body:{phone:s,type:l,gotrue_meta_security:{captcha_token:o?.captchaToken}}});return{data:{user:null,session:null,messageId:d?.message_id},error:f}}throw new cu("You must provide either an email or phone number and a type")}catch(n){if(et(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(t,n){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const s=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),l=(async()=>(await s,await n()))();return this.pendingInLock.push((async()=>{try{await l}catch{}})()),l}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const s=n();for(this.pendingInLock.push((async()=>{try{await s}catch{}})()),await s;this.pendingInLock.length;){const l=[...this.pendingInLock];await Promise.all(l),this.pendingInLock.splice(0,l.length)}return await s}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await t(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const n=await uu(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?t=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const s=t.expires_at?t.expires_at*1e3-Date.now()<bp:!1;if(this._debug("#__loadSession()",`session has${s?"":" not"} expired`,"expires_at",t.expires_at),!s){if(this.storage.isServer){let d=this.suppressGetSessionWarning;t=new Proxy(t,{get:(m,p,g)=>(!d&&p==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),d=!0,this.suppressGetSessionWarning=!0),Reflect.get(m,p,g))})}return{data:{session:t},error:null}}const{session:l,error:o}=await this._callRefreshToken(t.refresh_token);return o?{data:{session:null},error:o}:{data:{session:l},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await mt(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:hs}):await this._useSession(async n=>{var s,l,o;const{data:d,error:f}=n;if(f)throw f;return!(!((s=d.session)===null||s===void 0)&&s.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new cs}:await mt(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(o=(l=d.session)===null||l===void 0?void 0:l.access_token)!==null&&o!==void 0?o:void 0,xform:hs})})}catch(n){if(et(n))return vM(n)&&(await this._removeSession(),await fu(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:n};throw n}}async updateUser(t,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,n))}async _updateUser(t,n={}){try{return await this._useSession(async s=>{const{data:l,error:o}=s;if(o)throw o;if(!l.session)throw new cs;const d=l.session;let f=null,m=null;this.flowType==="pkce"&&t.email!=null&&([f,m]=await ol(this.storage,this.storageKey));const{data:p,error:g}=await mt(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n?.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:f,code_challenge_method:m}),jwt:d.access_token,xform:hs});if(g)throw g;return d.user=p.user,await this._saveSession(d),await this._notifyAllSubscribers("USER_UPDATED",d),{data:{user:d.user},error:null}})}catch(s){if(et(s))return{data:{user:null},error:s};throw s}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new cs;const n=Date.now()/1e3;let s=n,l=!0,o=null;const{payload:d}=yp(t.access_token);if(d.exp&&(s=d.exp,l=s<=n),l){const{session:f,error:m}=await this._callRefreshToken(t.refresh_token);if(m)return{data:{user:null,session:null},error:m};if(!f)return{data:{user:null,session:null},error:null};o=f}else{const{data:f,error:m}=await this._getUser(t.access_token);if(m)throw m;o={access_token:t.access_token,refresh_token:t.refresh_token,user:f.user,token_type:"bearer",expires_in:s-n,expires_at:s},await this._saveSession(o),await this._notifyAllSubscribers("SIGNED_IN",o)}return{data:{user:o.user,session:o},error:null}}catch(n){if(et(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async n=>{var s;if(!t){const{data:d,error:f}=n;if(f)throw f;t=(s=d.session)!==null&&s!==void 0?s:void 0}if(!t?.refresh_token)throw new cs;const{session:l,error:o}=await this._callRefreshToken(t.refresh_token);return o?{data:{user:null,session:null},error:o}:l?{data:{user:l.user,session:l},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if(et(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromURL(t,n){try{if(!Ta())throw new du("No browser detected.");if(t.error||t.error_description||t.error_code)throw new du(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new kw("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new du("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new kw("No code detected.");const{data:A,error:N}=await this._exchangeCodeForSession(t.code);if(N)throw N;const P=new URL(window.location.href);return P.searchParams.delete("code"),window.history.replaceState(window.history.state,"",P.toString()),{data:{session:A.session,redirectType:null},error:null}}const{provider_token:s,provider_refresh_token:l,access_token:o,refresh_token:d,expires_in:f,expires_at:m,token_type:p}=t;if(!o||!f||!d||!p)throw new du("No session defined in URL");const g=Math.round(Date.now()/1e3),b=parseInt(f);let y=g+b;m&&(y=parseInt(m));const w=y-g;w*1e3<=gl&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${w}s, should have been closer to ${b}s`);const j=y-b;g-j>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",j,y,g):g-j<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",j,y,g);const{data:S,error:E}=await this._getUser(o);if(E)throw E;const R={provider_token:s,provider_refresh_token:l,access_token:o,expires_in:b,expires_at:y,refresh_token:d,token_type:p,user:S.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:R,redirectType:t.type},error:null}}catch(s){if(et(s))return{data:{session:null,redirectType:null},error:s};throw s}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const n=await uu(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&n)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async n=>{var s;const{data:l,error:o}=n;if(o)return{error:o};const d=(s=l.session)===null||s===void 0?void 0:s.access_token;if(d){const{error:f}=await this.admin.signOut(d,t);if(f&&!(bM(f)&&(f.status===404||f.status===401||f.status===403)))return{error:f}}return t!=="others"&&(await this._removeSession(),await fu(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const n=AM(),s={id:n,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,s),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:s}}}async _emitInitialSession(t){return await this._useSession(async n=>{var s,l;try{const{data:{session:o},error:d}=n;if(d)throw d;await((s=this.stateChangeEmitters.get(t))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",o)),this._debug("INITIAL_SESSION","callback id",t,"session",o)}catch(o){await((l=this.stateChangeEmitters.get(t))===null||l===void 0?void 0:l.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",o),console.error(o)}})}async resetPasswordForEmail(t,n={}){let s=null,l=null;this.flowType==="pkce"&&([s,l]=await ol(this.storage,this.storageKey,!0));try{return await mt(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:s,code_challenge_method:l,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(o){if(et(o))return{data:null,error:o};throw o}}async getUserIdentities(){var t;try{const{data:n,error:s}=await this.getUser();if(s)throw s;return{data:{identities:(t=n.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(n){if(et(n))return{data:null,error:n};throw n}}async linkIdentity(t){var n;try{const{data:s,error:l}=await this._useSession(async o=>{var d,f,m,p,g;const{data:b,error:y}=o;if(y)throw y;const w=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(d=t.options)===null||d===void 0?void 0:d.redirectTo,scopes:(f=t.options)===null||f===void 0?void 0:f.scopes,queryParams:(m=t.options)===null||m===void 0?void 0:m.queryParams,skipBrowserRedirect:!0});return await mt(this.fetch,"GET",w,{headers:this.headers,jwt:(g=(p=b.session)===null||p===void 0?void 0:p.access_token)!==null&&g!==void 0?g:void 0})});if(l)throw l;return Ta()&&!(!((n=t.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(s?.url),{data:{provider:t.provider,url:s?.url},error:null}}catch(s){if(et(s))return{data:{provider:t.provider,url:null},error:s};throw s}}async unlinkIdentity(t){try{return await this._useSession(async n=>{var s,l;const{data:o,error:d}=n;if(d)throw d;return await mt(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(l=(s=o.session)===null||s===void 0?void 0:s.access_token)!==null&&l!==void 0?l:void 0})})}catch(n){if(et(n))return{data:null,error:n};throw n}}async _refreshAccessToken(t){const n=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(n,"begin");try{const s=Date.now();return await DM(async l=>(l>0&&await kM(200*Math.pow(2,l-1)),this._debug(n,"refreshing attempt",l),await mt(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:vr})),(l,o)=>{const d=200*Math.pow(2,l);return o&&vp(o)&&Date.now()+d-s<gl})}catch(s){if(this._debug(n,"error",s),et(s))return{data:{session:null,user:null},error:s};throw s}finally{this._debug(n,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,n){const s=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",n,"url",s),Ta()&&!n.skipBrowserRedirect&&window.location.assign(s),{data:{provider:t,url:s},error:null}}async _recoverAndRefresh(){var t;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const s=await uu(this.storage,this.storageKey);if(this._debug(n,"session from storage",s),!this._isValidSession(s)){this._debug(n,"session is not valid"),s!==null&&await this._removeSession();return}const l=((t=s.expires_at)!==null&&t!==void 0?t:1/0)*1e3-Date.now()<bp;if(this._debug(n,`session has${l?"":" not"} expired with margin of ${bp}s`),l){if(this.autoRefreshToken&&s.refresh_token){const{error:o}=await this._callRefreshToken(s.refresh_token);o&&(console.error(o),vp(o)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",s)}catch(s){this._debug(n,"error",s),console.error(s);return}finally{this._debug(n,"end")}}async _callRefreshToken(t){var n,s;if(!t)throw new cs;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const l=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(l,"begin");try{this.refreshingDeferred=new kf;const{data:o,error:d}=await this._refreshAccessToken(t);if(d)throw d;if(!o.session)throw new cs;await this._saveSession(o.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",o.session);const f={session:o.session,error:null};return this.refreshingDeferred.resolve(f),f}catch(o){if(this._debug(l,"error",o),et(o)){const d={session:null,error:o};return vp(o)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(d),d}throw(s=this.refreshingDeferred)===null||s===void 0||s.reject(o),o}finally{this.refreshingDeferred=null,this._debug(l,"end")}}async _notifyAllSubscribers(t,n,s=!0){const l=`#_notifyAllSubscribers(${t})`;this._debug(l,"begin",n,`broadcast = ${s}`);try{this.broadcastChannel&&s&&this.broadcastChannel.postMessage({event:t,session:n});const o=[],d=Array.from(this.stateChangeEmitters.values()).map(async f=>{try{await f.callback(t,n)}catch(m){o.push(m)}});if(await Promise.all(d),o.length>0){for(let f=0;f<o.length;f+=1)console.error(o[f]);throw o[0]}}finally{this._debug(l,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await aN(this.storage,this.storageKey,t)}async _removeSession(){this._debug("#_removeSession()"),await fu(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&Ta()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",t)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),gl);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async n=>{const{data:{session:s}}=n;if(!s||!s.refresh_token||!s.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const l=Math.floor((s.expires_at*1e3-t)/gl);this._debug("#_autoRefreshTokenTick()",`access token expires in ${l} ticks, a tick lasts ${gl}ms, refresh threshold is ${rg} ticks`),l<=rg&&await this._callRefreshToken(s.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof rN)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Ta()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const n=`#_onVisibilityChanged(${t})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,n,s){const l=[`provider=${encodeURIComponent(n)}`];if(s?.redirectTo&&l.push(`redirect_to=${encodeURIComponent(s.redirectTo)}`),s?.scopes&&l.push(`scopes=${encodeURIComponent(s.scopes)}`),this.flowType==="pkce"){const[o,d]=await ol(this.storage,this.storageKey),f=new URLSearchParams({code_challenge:`${encodeURIComponent(o)}`,code_challenge_method:`${encodeURIComponent(d)}`});l.push(f.toString())}if(s?.queryParams){const o=new URLSearchParams(s.queryParams);l.push(o.toString())}return s?.skipBrowserRedirect&&l.push(`skip_http_redirect=${s.skipBrowserRedirect}`),`${t}?${l.join("&")}`}async _unenroll(t){try{return await this._useSession(async n=>{var s;const{data:l,error:o}=n;return o?{data:null,error:o}:await mt(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(s=l?.session)===null||s===void 0?void 0:s.access_token})})}catch(n){if(et(n))return{data:null,error:n};throw n}}async _enroll(t){try{return await this._useSession(async n=>{var s,l;const{data:o,error:d}=n;if(d)return{data:null,error:d};const f=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:{issuer:t.issuer}),{data:m,error:p}=await mt(this.fetch,"POST",`${this.url}/factors`,{body:f,headers:this.headers,jwt:(s=o?.session)===null||s===void 0?void 0:s.access_token});return p?{data:null,error:p}:(t.factorType==="totp"&&(!((l=m?.totp)===null||l===void 0)&&l.qr_code)&&(m.totp.qr_code=`data:image/svg+xml;utf-8,${m.totp.qr_code}`),{data:m,error:null})})}catch(n){if(et(n))return{data:null,error:n};throw n}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var s;const{data:l,error:o}=n;if(o)return{data:null,error:o};const{data:d,error:f}=await mt(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(s=l?.session)===null||s===void 0?void 0:s.access_token});return f?{data:null,error:f}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+d.expires_in},d)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",d),{data:d,error:f})})}catch(n){if(et(n))return{data:null,error:n};throw n}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var s;const{data:l,error:o}=n;return o?{data:null,error:o}:await mt(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:this.headers,jwt:(s=l?.session)===null||s===void 0?void 0:s.access_token})})}catch(n){if(et(n))return{data:null,error:n};throw n}})}async _challengeAndVerify(t){const{data:n,error:s}=await this._challenge({factorId:t.factorId});return s?{data:null,error:s}:await this._verify({factorId:t.factorId,challengeId:n.id,code:t.code})}async _listFactors(){const{data:{user:t},error:n}=await this.getUser();if(n)return{data:null,error:n};const s=t?.factors||[],l=s.filter(d=>d.factor_type==="totp"&&d.status==="verified"),o=s.filter(d=>d.factor_type==="phone"&&d.status==="verified");return{data:{all:s,totp:l,phone:o},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var n,s;const{data:{session:l},error:o}=t;if(o)return{data:null,error:o};if(!l)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:d}=yp(l.access_token);let f=null;d.aal&&(f=d.aal);let m=f;((s=(n=l.user.factors)===null||n===void 0?void 0:n.filter(b=>b.status==="verified"))!==null&&s!==void 0?s:[]).length>0&&(m="aal2");const g=d.amr||[];return{data:{currentLevel:f,nextLevel:m,currentAuthenticationMethods:g},error:null}}))}async fetchJwk(t,n={keys:[]}){let s=n.keys.find(d=>d.kid===t);if(s||(s=this.jwks.keys.find(d=>d.kid===t),s&&this.jwks_cached_at+gM>Date.now()))return s;const{data:l,error:o}=await mt(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;if(!l.keys||l.keys.length===0)throw new cc("JWKS is empty");if(this.jwks=l,this.jwks_cached_at=Date.now(),s=l.keys.find(d=>d.kid===t),!s)throw new cc("No matching signing key found in JWKS");return s}async getClaims(t,n={keys:[]}){try{let s=t;if(!s){const{data:w,error:j}=await this.getSession();if(j||!w.session)return{data:null,error:j};s=w.session.access_token}const{header:l,payload:o,signature:d,raw:{header:f,payload:m}}=yp(s);if(IM(o.exp),!l.kid||l.alg==="HS256"||!("crypto"in globalThis&&"subtle"in globalThis.crypto)){const{error:w}=await this.getUser(s);if(w)throw w;return{data:{claims:o,header:l,signature:d},error:null}}const p=BM(l.alg),g=await this.fetchJwk(l.kid,n),b=await crypto.subtle.importKey("jwk",g,p,!0,["verify"]);if(!await crypto.subtle.verify(p,b,d,CM(`${f}.${m}`)))throw new cc("Invalid JWT signature");return{data:{claims:o,header:l,signature:d},error:null}}catch(s){if(et(s))return{data:null,error:s};throw s}}}jc.nextInstanceID=0;const rO=jc;class sO extends rO{constructor(t){super(t)}}var iO=function(e,t,n,s){function l(o){return o instanceof n?o:new n(function(d){d(o)})}return new(n||(n=Promise))(function(o,d){function f(g){try{p(s.next(g))}catch(b){d(b)}}function m(g){try{p(s.throw(g))}catch(b){d(b)}}function p(g){g.done?o(g.value):l(g.value).then(f,m)}p((s=s.apply(e,t||[])).next())})};class lO{constructor(t,n,s){var l,o,d;if(this.supabaseUrl=t,this.supabaseKey=n,!t)throw new Error("supabaseUrl is required.");if(!n)throw new Error("supabaseKey is required.");const f=dM(t),m=new URL(f);this.realtimeUrl=new URL("realtime/v1",m),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",m),this.storageUrl=new URL("storage/v1",m),this.functionsUrl=new URL("functions/v1",m);const p=`sb-${m.hostname.split(".")[0]}-auth-token`,g={db:nM,realtime:rM,auth:Object.assign(Object.assign({},aM),{storageKey:p}),global:tM},b=uM(s??{},g);this.storageKey=(l=b.auth.storageKey)!==null&&l!==void 0?l:"",this.headers=(o=b.global.headers)!==null&&o!==void 0?o:{},b.accessToken?(this.accessToken=b.accessToken,this.auth=new Proxy({},{get:(y,w)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(w)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((d=b.auth)!==null&&d!==void 0?d:{},this.headers,b.global.fetch),this.fetch=oM(n,this._getAccessToken.bind(this),b.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},b.realtime)),this.rest=new N8(new URL("rest/v1",m).href,{headers:this.headers,schema:b.db.schema,fetch:this.fetch}),b.accessToken||this._listenForAuthEvents()}get functions(){return new f8(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}get storage(){return new X8(this.storageUrl.href,this.headers,this.fetch)}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,n={},s={}){return this.rest.rpc(t,n,s)}channel(t,n={config:{}}){return this.realtime.channel(t,n)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,n;return iO(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:s}=yield this.auth.getSession();return(n=(t=s.session)===null||t===void 0?void 0:t.access_token)!==null&&n!==void 0?n:null})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:n,detectSessionInUrl:s,storage:l,storageKey:o,flowType:d,lock:f,debug:m},p,g){const b={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new sO({url:this.authUrl.href,headers:Object.assign(Object.assign({},b),p),storageKey:o,autoRefreshToken:t,persistSession:n,detectSessionInUrl:s,storage:l,flowType:d,lock:f,debug:m,fetch:g,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(t){return new F8(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,s)=>{this._handleTokenChanged(n,"CLIENT",s?.access_token)})}_handleTokenChanged(t,n,s){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==s?this.changedAccessToken=s:t==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const sN=(e,t,n)=>new lO(e,t,n),iN="https://aoqekaevjsxryyyelpes.supabase.co",oO="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImFvcWVrYWV2anN4cnl5eWVscGVzIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTA3MTAzODAsImV4cCI6MjA2NjI4NjM4MH0.uDOpDqBu-tLM023hG1zfNwoYB4t2NM-9wQFne3QOI50",cO="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImFvcWVrYWV2anN4cnl5eWVscGVzIiwicm9sZSI6InNlcnZpY2Vfcm9sZSIsImlhdCI6MTc1MDcxMDM4MCwiZXhwIjoyMDY2Mjg2MzgwfQ.8B2A39vDrzYsAGnU3CEVtVqfIpi4V3MLZD9LiNHgP4Y",Z=sN(iN,oO,{auth:{persistSession:!0}}),hu=sN(iN,cO,{auth:{autoRefreshToken:!1,persistSession:!1}});function pt({error:e}){const[t,n]=h.useState(!0);return t?r.jsx("div",{className:"rounded-md bg-red-50 p-4",children:r.jsxs("div",{className:"flex justify-between items-start",children:[r.jsx("div",{className:"flex-1",children:r.jsx("h3",{className:"text-sm font-medium text-red-800",children:e})}),r.jsx("button",{onClick:()=>n(!1),className:"ml-4 text-red-400 hover:text-red-600 transition-colors","aria-label":"Close error message",children:r.jsx("svg",{className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:r.jsx("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})})})]})}):null}let dO={data:""},uO=e=>typeof window=="object"?((e?e.querySelector("#_goober"):window._goober)||Object.assign((e||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:e||dO,fO=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,hO=/\/\*[^]*?\*\/|  +/g,Bw=/\n+/g,ms=(e,t)=>{let n="",s="",l="";for(let o in e){let d=e[o];o[0]=="@"?o[1]=="i"?n=o+" "+d+";":s+=o[1]=="f"?ms(d,o):o+"{"+ms(d,o[1]=="k"?"":t)+"}":typeof d=="object"?s+=ms(d,t?t.replace(/([^,])+/g,f=>o.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,m=>/&/.test(m)?m.replace(/&/g,f):f?f+" "+m:m)):o):d!=null&&(o=/^--/.test(o)?o:o.replace(/[A-Z]/g,"-$&").toLowerCase(),l+=ms.p?ms.p(o,d):o+":"+d+";")}return n+(t&&l?t+"{"+l+"}":l)+s},br={},lN=e=>{if(typeof e=="object"){let t="";for(let n in e)t+=n+lN(e[n]);return t}return e},mO=(e,t,n,s,l)=>{let o=lN(e),d=br[o]||(br[o]=(m=>{let p=0,g=11;for(;p<m.length;)g=101*g+m.charCodeAt(p++)>>>0;return"go"+g})(o));if(!br[d]){let m=o!==e?e:(p=>{let g,b,y=[{}];for(;g=fO.exec(p.replace(hO,""));)g[4]?y.shift():g[3]?(b=g[3].replace(Bw," ").trim(),y.unshift(y[0][b]=y[0][b]||{})):y[0][g[1]]=g[2].replace(Bw," ").trim();return y[0]})(e);br[d]=ms(l?{["@keyframes "+d]:m}:m,n?"":"."+d)}let f=n&&br.g?br.g:null;return n&&(br.g=br[d]),((m,p,g,b)=>{b?p.data=p.data.replace(b,m):p.data.indexOf(m)===-1&&(p.data=g?m+p.data:p.data+m)})(br[d],t,s,f),d},pO=(e,t,n)=>e.reduce((s,l,o)=>{let d=t[o];if(d&&d.call){let f=d(n),m=f&&f.props&&f.props.className||/^go/.test(f)&&f;d=m?"."+m:f&&typeof f=="object"?f.props?"":ms(f,""):f===!1?"":f}return s+l+(d??"")},"");function Df(e){let t=this||{},n=e.call?e(t.p):e;return mO(n.unshift?n.raw?pO(n,[].slice.call(arguments,1),t.p):n.reduce((s,l)=>Object.assign(s,l&&l.call?l(t.p):l),{}):n,uO(t.target),t.g,t.o,t.k)}let oN,lg,og;Df.bind({g:1});let Ar=Df.bind({k:1});function gO(e,t,n,s){ms.p=t,oN=e,lg=n,og=s}function _s(e,t){let n=this||{};return function(){let s=arguments;function l(o,d){let f=Object.assign({},o),m=f.className||l.className;n.p=Object.assign({theme:lg&&lg()},f),n.o=/ *go\d+/.test(m),f.className=Df.apply(n,s)+(m?" "+m:"");let p=e;return e[0]&&(p=f.as||e,delete f.as),og&&p[0]&&og(f),oN(p,f)}return l}}var xO=e=>typeof e=="function",Zu=(e,t)=>xO(e)?e(t):e,bO=(()=>{let e=0;return()=>(++e).toString()})(),cN=(()=>{let e;return()=>{if(e===void 0&&typeof window<"u"){let t=matchMedia("(prefers-reduced-motion: reduce)");e=!t||t.matches}return e}})(),vO=20,dN=(e,t)=>{switch(t.type){case 0:return{...e,toasts:[t.toast,...e.toasts].slice(0,vO)};case 1:return{...e,toasts:e.toasts.map(o=>o.id===t.toast.id?{...o,...t.toast}:o)};case 2:let{toast:n}=t;return dN(e,{type:e.toasts.find(o=>o.id===n.id)?1:0,toast:n});case 3:let{toastId:s}=t;return{...e,toasts:e.toasts.map(o=>o.id===s||s===void 0?{...o,dismissed:!0,visible:!1}:o)};case 4:return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(o=>o.id!==t.toastId)};case 5:return{...e,pausedAt:t.time};case 6:let l=t.time-(e.pausedAt||0);return{...e,pausedAt:void 0,toasts:e.toasts.map(o=>({...o,pauseDuration:o.pauseDuration+l}))}}},Ru=[],ti={toasts:[],pausedAt:void 0},gi=e=>{ti=dN(ti,e),Ru.forEach(t=>{t(ti)})},yO={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},wO=(e={})=>{let[t,n]=h.useState(ti),s=h.useRef(ti);h.useEffect(()=>(s.current!==ti&&n(ti),Ru.push(n),()=>{let o=Ru.indexOf(n);o>-1&&Ru.splice(o,1)}),[]);let l=t.toasts.map(o=>{var d,f,m;return{...e,...e[o.type],...o,removeDelay:o.removeDelay||((d=e[o.type])==null?void 0:d.removeDelay)||e?.removeDelay,duration:o.duration||((f=e[o.type])==null?void 0:f.duration)||e?.duration||yO[o.type],style:{...e.style,...(m=e[o.type])==null?void 0:m.style,...o.style}}});return{...t,toasts:l}},jO=(e,t="blank",n)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:t,ariaProps:{role:"status","aria-live":"polite"},message:e,pauseDuration:0,...n,id:n?.id||bO()}),Fc=e=>(t,n)=>{let s=jO(t,e,n);return gi({type:2,toast:s}),s.id},Ln=(e,t)=>Fc("blank")(e,t);Ln.error=Fc("error");Ln.success=Fc("success");Ln.loading=Fc("loading");Ln.custom=Fc("custom");Ln.dismiss=e=>{gi({type:3,toastId:e})};Ln.remove=e=>gi({type:4,toastId:e});Ln.promise=(e,t,n)=>{let s=Ln.loading(t.loading,{...n,...n?.loading});return typeof e=="function"&&(e=e()),e.then(l=>{let o=t.success?Zu(t.success,l):void 0;return o?Ln.success(o,{id:s,...n,...n?.success}):Ln.dismiss(s),l}).catch(l=>{let o=t.error?Zu(t.error,l):void 0;o?Ln.error(o,{id:s,...n,...n?.error}):Ln.dismiss(s)}),e};var SO=(e,t)=>{gi({type:1,toast:{id:e,height:t}})},NO=()=>{gi({type:5,time:Date.now()})},uc=new Map,_O=1e3,CO=(e,t=_O)=>{if(uc.has(e))return;let n=setTimeout(()=>{uc.delete(e),gi({type:4,toastId:e})},t);uc.set(e,n)},EO=e=>{let{toasts:t,pausedAt:n}=wO(e);h.useEffect(()=>{if(n)return;let o=Date.now(),d=t.map(f=>{if(f.duration===1/0)return;let m=(f.duration||0)+f.pauseDuration-(o-f.createdAt);if(m<0){f.visible&&Ln.dismiss(f.id);return}return setTimeout(()=>Ln.dismiss(f.id),m)});return()=>{d.forEach(f=>f&&clearTimeout(f))}},[t,n]);let s=h.useCallback(()=>{n&&gi({type:6,time:Date.now()})},[n]),l=h.useCallback((o,d)=>{let{reverseOrder:f=!1,gutter:m=8,defaultPosition:p}=d||{},g=t.filter(w=>(w.position||p)===(o.position||p)&&w.height),b=g.findIndex(w=>w.id===o.id),y=g.filter((w,j)=>j<b&&w.visible).length;return g.filter(w=>w.visible).slice(...f?[y+1]:[0,y]).reduce((w,j)=>w+(j.height||0)+m,0)},[t]);return h.useEffect(()=>{t.forEach(o=>{if(o.dismissed)CO(o.id,o.removeDelay);else{let d=uc.get(o.id);d&&(clearTimeout(d),uc.delete(o.id))}})},[t]),{toasts:t,handlers:{updateHeight:SO,startPause:NO,endPause:s,calculateOffset:l}}},RO=Ar`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,AO=Ar`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,PO=Ar`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,TO=_s("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${RO} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${AO} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${e=>e.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${PO} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,kO=Ar`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,DO=_s("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${e=>e.secondary||"#e0e0e0"};
  border-right-color: ${e=>e.primary||"#616161"};
  animation: ${kO} 1s linear infinite;
`,MO=Ar`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,OO=Ar`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,LO=_s("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${MO} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${OO} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${e=>e.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,UO=_s("div")`
  position: absolute;
`,$O=_s("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,FO=Ar`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,IO=_s("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${FO} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,BO=({toast:e})=>{let{icon:t,type:n,iconTheme:s}=e;return t!==void 0?typeof t=="string"?h.createElement(IO,null,t):t:n==="blank"?null:h.createElement($O,null,h.createElement(DO,{...s}),n!=="loading"&&h.createElement(UO,null,n==="error"?h.createElement(TO,{...s}):h.createElement(LO,{...s})))},zO=e=>`
0% {transform: translate3d(0,${e*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,qO=e=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${e*-150}%,-1px) scale(.6); opacity:0;}
`,HO="0%{opacity:0;} 100%{opacity:1;}",VO="0%{opacity:1;} 100%{opacity:0;}",GO=_s("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,YO=_s("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,KO=(e,t)=>{let n=e.includes("top")?1:-1,[s,l]=cN()?[HO,VO]:[zO(n),qO(n)];return{animation:t?`${Ar(s)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${Ar(l)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},WO=h.memo(({toast:e,position:t,style:n,children:s})=>{let l=e.height?KO(e.position||t||"top-center",e.visible):{opacity:0},o=h.createElement(BO,{toast:e}),d=h.createElement(YO,{...e.ariaProps},Zu(e.message,e));return h.createElement(GO,{className:e.className,style:{...l,...n,...e.style}},typeof s=="function"?s({icon:o,message:d}):h.createElement(h.Fragment,null,o,d))});gO(h.createElement);var JO=({id:e,className:t,style:n,onHeightUpdate:s,children:l})=>{let o=h.useCallback(d=>{if(d){let f=()=>{let m=d.getBoundingClientRect().height;s(e,m)};f(),new MutationObserver(f).observe(d,{subtree:!0,childList:!0,characterData:!0})}},[e,s]);return h.createElement("div",{ref:o,className:t,style:n},l)},ZO=(e,t)=>{let n=e.includes("top"),s=n?{top:0}:{bottom:0},l=e.includes("center")?{justifyContent:"center"}:e.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:cN()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${t*(n?1:-1)}px)`,...s,...l}},XO=Df`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,mu=16,uN=({reverseOrder:e,position:t="top-center",toastOptions:n,gutter:s,children:l,containerStyle:o,containerClassName:d})=>{let{toasts:f,handlers:m}=EO(n);return h.createElement("div",{id:"_rht_toaster",style:{position:"fixed",zIndex:9999,top:mu,left:mu,right:mu,bottom:mu,pointerEvents:"none",...o},className:d,onMouseEnter:m.startPause,onMouseLeave:m.endPause},f.map(p=>{let g=p.position||t,b=m.calculateOffset(p,{reverseOrder:e,gutter:s,defaultPosition:t}),y=ZO(g,b);return h.createElement(JO,{id:p.id,key:p.id,onHeightUpdate:m.updateHeight,className:p.visible?XO:"",style:y},p.type==="custom"?Zu(p.message,p):l?l(p):h.createElement(WO,{toast:p,position:g}))}))},ve=Ln;const Ze=e=>typeof e=="string",Wo=()=>{let e,t;const n=new Promise((s,l)=>{e=s,t=l});return n.resolve=e,n.reject=t,n},zw=e=>e==null?"":""+e,QO=(e,t,n)=>{e.forEach(s=>{t[s]&&(n[s]=t[s])})},e7=/###/g,qw=e=>e&&e.indexOf("###")>-1?e.replace(e7,"."):e,Hw=e=>!e||Ze(e),fc=(e,t,n)=>{const s=Ze(t)?t.split("."):t;let l=0;for(;l<s.length-1;){if(Hw(e))return{};const o=qw(s[l]);!e[o]&&n&&(e[o]=new n),Object.prototype.hasOwnProperty.call(e,o)?e=e[o]:e={},++l}return Hw(e)?{}:{obj:e,k:qw(s[l])}},Vw=(e,t,n)=>{const{obj:s,k:l}=fc(e,t,Object);if(s!==void 0||t.length===1){s[l]=n;return}let o=t[t.length-1],d=t.slice(0,t.length-1),f=fc(e,d,Object);for(;f.obj===void 0&&d.length;)o=`${d[d.length-1]}.${o}`,d=d.slice(0,d.length-1),f=fc(e,d,Object),f?.obj&&typeof f.obj[`${f.k}.${o}`]<"u"&&(f.obj=void 0);f.obj[`${f.k}.${o}`]=n},t7=(e,t,n,s)=>{const{obj:l,k:o}=fc(e,t,Object);l[o]=l[o]||[],l[o].push(n)},Xu=(e,t)=>{const{obj:n,k:s}=fc(e,t);if(n&&Object.prototype.hasOwnProperty.call(n,s))return n[s]},n7=(e,t,n)=>{const s=Xu(e,n);return s!==void 0?s:Xu(t,n)},fN=(e,t,n)=>{for(const s in t)s!=="__proto__"&&s!=="constructor"&&(s in e?Ze(e[s])||e[s]instanceof String||Ze(t[s])||t[s]instanceof String?n&&(e[s]=t[s]):fN(e[s],t[s],n):e[s]=t[s]);return e},ul=e=>e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");var a7={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};const r7=e=>Ze(e)?e.replace(/[&<>"'\/]/g,t=>a7[t]):e;class s7{constructor(t){this.capacity=t,this.regExpMap=new Map,this.regExpQueue=[]}getRegExp(t){const n=this.regExpMap.get(t);if(n!==void 0)return n;const s=new RegExp(t);return this.regExpQueue.length===this.capacity&&this.regExpMap.delete(this.regExpQueue.shift()),this.regExpMap.set(t,s),this.regExpQueue.push(t),s}}const i7=[" ",",","?","!",";"],l7=new s7(20),o7=(e,t,n)=>{t=t||"",n=n||"";const s=i7.filter(d=>t.indexOf(d)<0&&n.indexOf(d)<0);if(s.length===0)return!0;const l=l7.getRegExp(`(${s.map(d=>d==="?"?"\\?":d).join("|")})`);let o=!l.test(e);if(!o){const d=e.indexOf(n);d>0&&!l.test(e.substring(0,d))&&(o=!0)}return o},cg=(e,t,n=".")=>{if(!e)return;if(e[t])return Object.prototype.hasOwnProperty.call(e,t)?e[t]:void 0;const s=t.split(n);let l=e;for(let o=0;o<s.length;){if(!l||typeof l!="object")return;let d,f="";for(let m=o;m<s.length;++m)if(m!==o&&(f+=n),f+=s[m],d=l[f],d!==void 0){if(["string","number","boolean"].indexOf(typeof d)>-1&&m<s.length-1)continue;o+=m-o+1;break}l=d}return l},Sc=e=>e?.replace("_","-"),c7={type:"logger",log(e){this.output("log",e)},warn(e){this.output("warn",e)},error(e){this.output("error",e)},output(e,t){console?.[e]?.apply?.(console,t)}};class Qu{constructor(t,n={}){this.init(t,n)}init(t,n={}){this.prefix=n.prefix||"i18next:",this.logger=t||c7,this.options=n,this.debug=n.debug}log(...t){return this.forward(t,"log","",!0)}warn(...t){return this.forward(t,"warn","",!0)}error(...t){return this.forward(t,"error","")}deprecate(...t){return this.forward(t,"warn","WARNING DEPRECATED: ",!0)}forward(t,n,s,l){return l&&!this.debug?null:(Ze(t[0])&&(t[0]=`${s}${this.prefix} ${t[0]}`),this.logger[n](t))}create(t){return new Qu(this.logger,{prefix:`${this.prefix}:${t}:`,...this.options})}clone(t){return t=t||this.options,t.prefix=t.prefix||this.prefix,new Qu(this.logger,t)}}var Wa=new Qu;class Mf{constructor(){this.observers={}}on(t,n){return t.split(" ").forEach(s=>{this.observers[s]||(this.observers[s]=new Map);const l=this.observers[s].get(n)||0;this.observers[s].set(n,l+1)}),this}off(t,n){if(this.observers[t]){if(!n){delete this.observers[t];return}this.observers[t].delete(n)}}emit(t,...n){this.observers[t]&&Array.from(this.observers[t].entries()).forEach(([l,o])=>{for(let d=0;d<o;d++)l(...n)}),this.observers["*"]&&Array.from(this.observers["*"].entries()).forEach(([l,o])=>{for(let d=0;d<o;d++)l.apply(l,[t,...n])})}}class Gw extends Mf{constructor(t,n={ns:["translation"],defaultNS:"translation"}){super(),this.data=t||{},this.options=n,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.options.ignoreJSONStructure===void 0&&(this.options.ignoreJSONStructure=!0)}addNamespaces(t){this.options.ns.indexOf(t)<0&&this.options.ns.push(t)}removeNamespaces(t){const n=this.options.ns.indexOf(t);n>-1&&this.options.ns.splice(n,1)}getResource(t,n,s,l={}){const o=l.keySeparator!==void 0?l.keySeparator:this.options.keySeparator,d=l.ignoreJSONStructure!==void 0?l.ignoreJSONStructure:this.options.ignoreJSONStructure;let f;t.indexOf(".")>-1?f=t.split("."):(f=[t,n],s&&(Array.isArray(s)?f.push(...s):Ze(s)&&o?f.push(...s.split(o)):f.push(s)));const m=Xu(this.data,f);return!m&&!n&&!s&&t.indexOf(".")>-1&&(t=f[0],n=f[1],s=f.slice(2).join(".")),m||!d||!Ze(s)?m:cg(this.data?.[t]?.[n],s,o)}addResource(t,n,s,l,o={silent:!1}){const d=o.keySeparator!==void 0?o.keySeparator:this.options.keySeparator;let f=[t,n];s&&(f=f.concat(d?s.split(d):s)),t.indexOf(".")>-1&&(f=t.split("."),l=n,n=f[1]),this.addNamespaces(n),Vw(this.data,f,l),o.silent||this.emit("added",t,n,s,l)}addResources(t,n,s,l={silent:!1}){for(const o in s)(Ze(s[o])||Array.isArray(s[o]))&&this.addResource(t,n,o,s[o],{silent:!0});l.silent||this.emit("added",t,n,s)}addResourceBundle(t,n,s,l,o,d={silent:!1,skipCopy:!1}){let f=[t,n];t.indexOf(".")>-1&&(f=t.split("."),l=s,s=n,n=f[1]),this.addNamespaces(n);let m=Xu(this.data,f)||{};d.skipCopy||(s=JSON.parse(JSON.stringify(s))),l?fN(m,s,o):m={...m,...s},Vw(this.data,f,m),d.silent||this.emit("added",t,n,s)}removeResourceBundle(t,n){this.hasResourceBundle(t,n)&&delete this.data[t][n],this.removeNamespaces(n),this.emit("removed",t,n)}hasResourceBundle(t,n){return this.getResource(t,n)!==void 0}getResourceBundle(t,n){return n||(n=this.options.defaultNS),this.getResource(t,n)}getDataByLanguage(t){return this.data[t]}hasLanguageSomeTranslations(t){const n=this.getDataByLanguage(t);return!!(n&&Object.keys(n)||[]).find(l=>n[l]&&Object.keys(n[l]).length>0)}toJSON(){return this.data}}var hN={processors:{},addPostProcessor(e){this.processors[e.name]=e},handle(e,t,n,s,l){return e.forEach(o=>{t=this.processors[o]?.process(t,n,s,l)??t}),t}};const mN=Symbol("i18next/PATH_KEY");function d7(){const e=[],t=Object.create(null);let n;return t.get=(s,l)=>(n?.revoke?.(),l===mN?e:(e.push(l),n=Proxy.revocable(s,t),n.proxy)),Proxy.revocable(Object.create(null),t).proxy}function dg(e,t){const{[mN]:n}=e(d7());return n.join(t?.keySeparator??".")}const Yw={},jp=e=>!Ze(e)&&typeof e!="boolean"&&typeof e!="number";class ef extends Mf{constructor(t,n={}){super(),QO(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],t,this),this.options=n,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.logger=Wa.create("translator")}changeLanguage(t){t&&(this.language=t)}exists(t,n={interpolation:{}}){const s={...n};if(t==null)return!1;const l=this.resolve(t,s);if(l?.res===void 0)return!1;const o=jp(l.res);return!(s.returnObjects===!1&&o)}extractFromKey(t,n){let s=n.nsSeparator!==void 0?n.nsSeparator:this.options.nsSeparator;s===void 0&&(s=":");const l=n.keySeparator!==void 0?n.keySeparator:this.options.keySeparator;let o=n.ns||this.options.defaultNS||[];const d=s&&t.indexOf(s)>-1,f=!this.options.userDefinedKeySeparator&&!n.keySeparator&&!this.options.userDefinedNsSeparator&&!n.nsSeparator&&!o7(t,s,l);if(d&&!f){const m=t.match(this.interpolator.nestingRegexp);if(m&&m.length>0)return{key:t,namespaces:Ze(o)?[o]:o};const p=t.split(s);(s!==l||s===l&&this.options.ns.indexOf(p[0])>-1)&&(o=p.shift()),t=p.join(l)}return{key:t,namespaces:Ze(o)?[o]:o}}translate(t,n,s){let l=typeof n=="object"?{...n}:n;if(typeof l!="object"&&this.options.overloadTranslationOptionHandler&&(l=this.options.overloadTranslationOptionHandler(arguments)),typeof l=="object"&&(l={...l}),l||(l={}),t==null)return"";typeof t=="function"&&(t=dg(t,{...this.options,...l})),Array.isArray(t)||(t=[String(t)]);const o=l.returnDetails!==void 0?l.returnDetails:this.options.returnDetails,d=l.keySeparator!==void 0?l.keySeparator:this.options.keySeparator,{key:f,namespaces:m}=this.extractFromKey(t[t.length-1],l),p=m[m.length-1];let g=l.nsSeparator!==void 0?l.nsSeparator:this.options.nsSeparator;g===void 0&&(g=":");const b=l.lng||this.language,y=l.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(b?.toLowerCase()==="cimode")return y?o?{res:`${p}${g}${f}`,usedKey:f,exactUsedKey:f,usedLng:b,usedNS:p,usedParams:this.getUsedParamsDetails(l)}:`${p}${g}${f}`:o?{res:f,usedKey:f,exactUsedKey:f,usedLng:b,usedNS:p,usedParams:this.getUsedParamsDetails(l)}:f;const w=this.resolve(t,l);let j=w?.res;const S=w?.usedKey||f,E=w?.exactUsedKey||f,R=["[object Number]","[object Function]","[object RegExp]"],A=l.joinArrays!==void 0?l.joinArrays:this.options.joinArrays,N=!this.i18nFormat||this.i18nFormat.handleAsObject,P=l.count!==void 0&&!Ze(l.count),T=ef.hasDefaultValue(l),C=P?this.pluralResolver.getSuffix(b,l.count,l):"",k=l.ordinal&&P?this.pluralResolver.getSuffix(b,l.count,{ordinal:!1}):"",$=P&&!l.ordinal&&l.count===0,O=$&&l[`defaultValue${this.options.pluralSeparator}zero`]||l[`defaultValue${C}`]||l[`defaultValue${k}`]||l.defaultValue;let V=j;N&&!j&&T&&(V=O);const W=jp(V),L=Object.prototype.toString.apply(V);if(N&&V&&W&&R.indexOf(L)<0&&!(Ze(A)&&Array.isArray(V))){if(!l.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");const F=this.options.returnedObjectHandler?this.options.returnedObjectHandler(S,V,{...l,ns:m}):`key '${f} (${this.language})' returned an object instead of string.`;return o?(w.res=F,w.usedParams=this.getUsedParamsDetails(l),w):F}if(d){const F=Array.isArray(V),B=F?[]:{},te=F?E:S;for(const U in V)if(Object.prototype.hasOwnProperty.call(V,U)){const q=`${te}${d}${U}`;T&&!j?B[U]=this.translate(q,{...l,defaultValue:jp(O)?O[U]:void 0,joinArrays:!1,ns:m}):B[U]=this.translate(q,{...l,joinArrays:!1,ns:m}),B[U]===q&&(B[U]=V[U])}j=B}}else if(N&&Ze(A)&&Array.isArray(j))j=j.join(A),j&&(j=this.extendTranslation(j,t,l,s));else{let F=!1,B=!1;!this.isValidLookup(j)&&T&&(F=!0,j=O),this.isValidLookup(j)||(B=!0,j=f);const U=(l.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&B?void 0:j,q=T&&O!==j&&this.options.updateMissing;if(B||F||q){if(this.logger.log(q?"updateKey":"missingKey",b,p,f,q?O:j),d){const z=this.resolve(f,{...l,keySeparator:!1});z&&z.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let G=[];const J=this.languageUtils.getFallbackCodes(this.options.fallbackLng,l.lng||this.language);if(this.options.saveMissingTo==="fallback"&&J&&J[0])for(let z=0;z<J.length;z++)G.push(J[z]);else this.options.saveMissingTo==="all"?G=this.languageUtils.toResolveHierarchy(l.lng||this.language):G.push(l.lng||this.language);const D=(z,ae,Q)=>{const ne=T&&Q!==j?Q:U;this.options.missingKeyHandler?this.options.missingKeyHandler(z,p,ae,ne,q,l):this.backendConnector?.saveMissing&&this.backendConnector.saveMissing(z,p,ae,ne,q,l),this.emit("missingKey",z,p,ae,j)};this.options.saveMissing&&(this.options.saveMissingPlurals&&P?G.forEach(z=>{const ae=this.pluralResolver.getSuffixes(z,l);$&&l[`defaultValue${this.options.pluralSeparator}zero`]&&ae.indexOf(`${this.options.pluralSeparator}zero`)<0&&ae.push(`${this.options.pluralSeparator}zero`),ae.forEach(Q=>{D([z],f+Q,l[`defaultValue${Q}`]||O)})}):D(G,f,O))}j=this.extendTranslation(j,t,l,w,s),B&&j===f&&this.options.appendNamespaceToMissingKey&&(j=`${p}${g}${f}`),(B||F)&&this.options.parseMissingKeyHandler&&(j=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?`${p}${g}${f}`:f,F?j:void 0,l))}return o?(w.res=j,w.usedParams=this.getUsedParamsDetails(l),w):j}extendTranslation(t,n,s,l,o){if(this.i18nFormat?.parse)t=this.i18nFormat.parse(t,{...this.options.interpolation.defaultVariables,...s},s.lng||this.language||l.usedLng,l.usedNS,l.usedKey,{resolved:l});else if(!s.skipInterpolation){s.interpolation&&this.interpolator.init({...s,interpolation:{...this.options.interpolation,...s.interpolation}});const m=Ze(t)&&(s?.interpolation?.skipOnVariables!==void 0?s.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);let p;if(m){const b=t.match(this.interpolator.nestingRegexp);p=b&&b.length}let g=s.replace&&!Ze(s.replace)?s.replace:s;if(this.options.interpolation.defaultVariables&&(g={...this.options.interpolation.defaultVariables,...g}),t=this.interpolator.interpolate(t,g,s.lng||this.language||l.usedLng,s),m){const b=t.match(this.interpolator.nestingRegexp),y=b&&b.length;p<y&&(s.nest=!1)}!s.lng&&l&&l.res&&(s.lng=this.language||l.usedLng),s.nest!==!1&&(t=this.interpolator.nest(t,(...b)=>o?.[0]===b[0]&&!s.context?(this.logger.warn(`It seems you are nesting recursively key: ${b[0]} in key: ${n[0]}`),null):this.translate(...b,n),s)),s.interpolation&&this.interpolator.reset()}const d=s.postProcess||this.options.postProcess,f=Ze(d)?[d]:d;return t!=null&&f?.length&&s.applyPostProcessor!==!1&&(t=hN.handle(f,t,n,this.options&&this.options.postProcessPassResolved?{i18nResolved:{...l,usedParams:this.getUsedParamsDetails(s)},...s}:s,this)),t}resolve(t,n={}){let s,l,o,d,f;return Ze(t)&&(t=[t]),t.forEach(m=>{if(this.isValidLookup(s))return;const p=this.extractFromKey(m,n),g=p.key;l=g;let b=p.namespaces;this.options.fallbackNS&&(b=b.concat(this.options.fallbackNS));const y=n.count!==void 0&&!Ze(n.count),w=y&&!n.ordinal&&n.count===0,j=n.context!==void 0&&(Ze(n.context)||typeof n.context=="number")&&n.context!=="",S=n.lngs?n.lngs:this.languageUtils.toResolveHierarchy(n.lng||this.language,n.fallbackLng);b.forEach(E=>{this.isValidLookup(s)||(f=E,!Yw[`${S[0]}-${E}`]&&this.utils?.hasLoadedNamespace&&!this.utils?.hasLoadedNamespace(f)&&(Yw[`${S[0]}-${E}`]=!0,this.logger.warn(`key "${l}" for languages "${S.join(", ")}" won't get resolved as namespace "${f}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),S.forEach(R=>{if(this.isValidLookup(s))return;d=R;const A=[g];if(this.i18nFormat?.addLookupKeys)this.i18nFormat.addLookupKeys(A,g,R,E,n);else{let P;y&&(P=this.pluralResolver.getSuffix(R,n.count,n));const T=`${this.options.pluralSeparator}zero`,C=`${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;if(y&&(n.ordinal&&P.indexOf(C)===0&&A.push(g+P.replace(C,this.options.pluralSeparator)),A.push(g+P),w&&A.push(g+T)),j){const k=`${g}${this.options.contextSeparator||"_"}${n.context}`;A.push(k),y&&(n.ordinal&&P.indexOf(C)===0&&A.push(k+P.replace(C,this.options.pluralSeparator)),A.push(k+P),w&&A.push(k+T))}}let N;for(;N=A.pop();)this.isValidLookup(s)||(o=N,s=this.getResource(R,E,N,n))}))})}),{res:s,usedKey:l,exactUsedKey:o,usedLng:d,usedNS:f}}isValidLookup(t){return t!==void 0&&!(!this.options.returnNull&&t===null)&&!(!this.options.returnEmptyString&&t==="")}getResource(t,n,s,l={}){return this.i18nFormat?.getResource?this.i18nFormat.getResource(t,n,s,l):this.resourceStore.getResource(t,n,s,l)}getUsedParamsDetails(t={}){const n=["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"],s=t.replace&&!Ze(t.replace);let l=s?t.replace:t;if(s&&typeof t.count<"u"&&(l.count=t.count),this.options.interpolation.defaultVariables&&(l={...this.options.interpolation.defaultVariables,...l}),!s){l={...l};for(const o of n)delete l[o]}return l}static hasDefaultValue(t){const n="defaultValue";for(const s in t)if(Object.prototype.hasOwnProperty.call(t,s)&&n===s.substring(0,n.length)&&t[s]!==void 0)return!0;return!1}}class Kw{constructor(t){this.options=t,this.supportedLngs=this.options.supportedLngs||!1,this.logger=Wa.create("languageUtils")}getScriptPartFromCode(t){if(t=Sc(t),!t||t.indexOf("-")<0)return null;const n=t.split("-");return n.length===2||(n.pop(),n[n.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(n.join("-"))}getLanguagePartFromCode(t){if(t=Sc(t),!t||t.indexOf("-")<0)return t;const n=t.split("-");return this.formatLanguageCode(n[0])}formatLanguageCode(t){if(Ze(t)&&t.indexOf("-")>-1){let n;try{n=Intl.getCanonicalLocales(t)[0]}catch{}return n&&this.options.lowerCaseLng&&(n=n.toLowerCase()),n||(this.options.lowerCaseLng?t.toLowerCase():t)}return this.options.cleanCode||this.options.lowerCaseLng?t.toLowerCase():t}isSupportedCode(t){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(t=this.getLanguagePartFromCode(t)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(t)>-1}getBestMatchFromCodes(t){if(!t)return null;let n;return t.forEach(s=>{if(n)return;const l=this.formatLanguageCode(s);(!this.options.supportedLngs||this.isSupportedCode(l))&&(n=l)}),!n&&this.options.supportedLngs&&t.forEach(s=>{if(n)return;const l=this.getScriptPartFromCode(s);if(this.isSupportedCode(l))return n=l;const o=this.getLanguagePartFromCode(s);if(this.isSupportedCode(o))return n=o;n=this.options.supportedLngs.find(d=>{if(d===o)return d;if(!(d.indexOf("-")<0&&o.indexOf("-")<0)&&(d.indexOf("-")>0&&o.indexOf("-")<0&&d.substring(0,d.indexOf("-"))===o||d.indexOf(o)===0&&o.length>1))return d})}),n||(n=this.getFallbackCodes(this.options.fallbackLng)[0]),n}getFallbackCodes(t,n){if(!t)return[];if(typeof t=="function"&&(t=t(n)),Ze(t)&&(t=[t]),Array.isArray(t))return t;if(!n)return t.default||[];let s=t[n];return s||(s=t[this.getScriptPartFromCode(n)]),s||(s=t[this.formatLanguageCode(n)]),s||(s=t[this.getLanguagePartFromCode(n)]),s||(s=t.default),s||[]}toResolveHierarchy(t,n){const s=this.getFallbackCodes((n===!1?[]:n)||this.options.fallbackLng||[],t),l=[],o=d=>{d&&(this.isSupportedCode(d)?l.push(d):this.logger.warn(`rejecting language code not found in supportedLngs: ${d}`))};return Ze(t)&&(t.indexOf("-")>-1||t.indexOf("_")>-1)?(this.options.load!=="languageOnly"&&o(this.formatLanguageCode(t)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&o(this.getScriptPartFromCode(t)),this.options.load!=="currentOnly"&&o(this.getLanguagePartFromCode(t))):Ze(t)&&o(this.formatLanguageCode(t)),s.forEach(d=>{l.indexOf(d)<0&&o(this.formatLanguageCode(d))}),l}}const Ww={zero:0,one:1,two:2,few:3,many:4,other:5},Jw={select:e=>e===1?"one":"other",resolvedOptions:()=>({pluralCategories:["one","other"]})};class u7{constructor(t,n={}){this.languageUtils=t,this.options=n,this.logger=Wa.create("pluralResolver"),this.pluralRulesCache={}}addRule(t,n){this.rules[t]=n}clearCache(){this.pluralRulesCache={}}getRule(t,n={}){const s=Sc(t==="dev"?"en":t),l=n.ordinal?"ordinal":"cardinal",o=JSON.stringify({cleanedCode:s,type:l});if(o in this.pluralRulesCache)return this.pluralRulesCache[o];let d;try{d=new Intl.PluralRules(s,{type:l})}catch{if(!Intl)return this.logger.error("No Intl support, please use an Intl polyfill!"),Jw;if(!t.match(/-|_/))return Jw;const m=this.languageUtils.getLanguagePartFromCode(t);d=this.getRule(m,n)}return this.pluralRulesCache[o]=d,d}needsPlural(t,n={}){let s=this.getRule(t,n);return s||(s=this.getRule("dev",n)),s?.resolvedOptions().pluralCategories.length>1}getPluralFormsOfKey(t,n,s={}){return this.getSuffixes(t,s).map(l=>`${n}${l}`)}getSuffixes(t,n={}){let s=this.getRule(t,n);return s||(s=this.getRule("dev",n)),s?s.resolvedOptions().pluralCategories.sort((l,o)=>Ww[l]-Ww[o]).map(l=>`${this.options.prepend}${n.ordinal?`ordinal${this.options.prepend}`:""}${l}`):[]}getSuffix(t,n,s={}){const l=this.getRule(t,s);return l?`${this.options.prepend}${s.ordinal?`ordinal${this.options.prepend}`:""}${l.select(n)}`:(this.logger.warn(`no plural rule found for: ${t}`),this.getSuffix("dev",n,s))}}const Zw=(e,t,n,s=".",l=!0)=>{let o=n7(e,t,n);return!o&&l&&Ze(n)&&(o=cg(e,n,s),o===void 0&&(o=cg(t,n,s))),o},Sp=e=>e.replace(/\$/g,"$$$$");class f7{constructor(t={}){this.logger=Wa.create("interpolator"),this.options=t,this.format=t?.interpolation?.format||(n=>n),this.init(t)}init(t={}){t.interpolation||(t.interpolation={escapeValue:!0});const{escape:n,escapeValue:s,useRawValueToEscape:l,prefix:o,prefixEscaped:d,suffix:f,suffixEscaped:m,formatSeparator:p,unescapeSuffix:g,unescapePrefix:b,nestingPrefix:y,nestingPrefixEscaped:w,nestingSuffix:j,nestingSuffixEscaped:S,nestingOptionsSeparator:E,maxReplaces:R,alwaysFormat:A}=t.interpolation;this.escape=n!==void 0?n:r7,this.escapeValue=s!==void 0?s:!0,this.useRawValueToEscape=l!==void 0?l:!1,this.prefix=o?ul(o):d||"{{",this.suffix=f?ul(f):m||"}}",this.formatSeparator=p||",",this.unescapePrefix=g?"":b||"-",this.unescapeSuffix=this.unescapePrefix?"":g||"",this.nestingPrefix=y?ul(y):w||ul("$t("),this.nestingSuffix=j?ul(j):S||ul(")"),this.nestingOptionsSeparator=E||",",this.maxReplaces=R||1e3,this.alwaysFormat=A!==void 0?A:!1,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){const t=(n,s)=>n?.source===s?(n.lastIndex=0,n):new RegExp(s,"g");this.regexp=t(this.regexp,`${this.prefix}(.+?)${this.suffix}`),this.regexpUnescape=t(this.regexpUnescape,`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`),this.nestingRegexp=t(this.nestingRegexp,`${this.nestingPrefix}((?:[^()"']+|"[^"]*"|'[^']*'|\\((?:[^()]|"[^"]*"|'[^']*')*\\))*?)${this.nestingSuffix}`)}interpolate(t,n,s,l){let o,d,f;const m=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{},p=w=>{if(w.indexOf(this.formatSeparator)<0){const R=Zw(n,m,w,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(R,void 0,s,{...l,...n,interpolationkey:w}):R}const j=w.split(this.formatSeparator),S=j.shift().trim(),E=j.join(this.formatSeparator).trim();return this.format(Zw(n,m,S,this.options.keySeparator,this.options.ignoreJSONStructure),E,s,{...l,...n,interpolationkey:S})};this.resetRegExp();const g=l?.missingInterpolationHandler||this.options.missingInterpolationHandler,b=l?.interpolation?.skipOnVariables!==void 0?l.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:w=>Sp(w)},{regex:this.regexp,safeValue:w=>this.escapeValue?Sp(this.escape(w)):Sp(w)}].forEach(w=>{for(f=0;o=w.regex.exec(t);){const j=o[1].trim();if(d=p(j),d===void 0)if(typeof g=="function"){const E=g(t,o,l);d=Ze(E)?E:""}else if(l&&Object.prototype.hasOwnProperty.call(l,j))d="";else if(b){d=o[0];continue}else this.logger.warn(`missed to pass in variable ${j} for interpolating ${t}`),d="";else!Ze(d)&&!this.useRawValueToEscape&&(d=zw(d));const S=w.safeValue(d);if(t=t.replace(o[0],S),b?(w.regex.lastIndex+=d.length,w.regex.lastIndex-=o[0].length):w.regex.lastIndex=0,f++,f>=this.maxReplaces)break}}),t}nest(t,n,s={}){let l,o,d;const f=(m,p)=>{const g=this.nestingOptionsSeparator;if(m.indexOf(g)<0)return m;const b=m.split(new RegExp(`${g}[ ]*{`));let y=`{${b[1]}`;m=b[0],y=this.interpolate(y,d);const w=y.match(/'/g),j=y.match(/"/g);((w?.length??0)%2===0&&!j||j.length%2!==0)&&(y=y.replace(/'/g,'"'));try{d=JSON.parse(y),p&&(d={...p,...d})}catch(S){return this.logger.warn(`failed parsing options string in nesting for key ${m}`,S),`${m}${g}${y}`}return d.defaultValue&&d.defaultValue.indexOf(this.prefix)>-1&&delete d.defaultValue,m};for(;l=this.nestingRegexp.exec(t);){let m=[];d={...s},d=d.replace&&!Ze(d.replace)?d.replace:d,d.applyPostProcessor=!1,delete d.defaultValue;const p=/{.*}/.test(l[1])?l[1].lastIndexOf("}")+1:l[1].indexOf(this.formatSeparator);if(p!==-1&&(m=l[1].slice(p).split(this.formatSeparator).map(g=>g.trim()).filter(Boolean),l[1]=l[1].slice(0,p)),o=n(f.call(this,l[1].trim(),d),d),o&&l[0]===t&&!Ze(o))return o;Ze(o)||(o=zw(o)),o||(this.logger.warn(`missed to resolve ${l[1]} for nesting ${t}`),o=""),m.length&&(o=m.reduce((g,b)=>this.format(g,b,s.lng,{...s,interpolationkey:l[1].trim()}),o.trim())),t=t.replace(l[0],o),this.regexp.lastIndex=0}return t}}const h7=e=>{let t=e.toLowerCase().trim();const n={};if(e.indexOf("(")>-1){const s=e.split("(");t=s[0].toLowerCase().trim();const l=s[1].substring(0,s[1].length-1);t==="currency"&&l.indexOf(":")<0?n.currency||(n.currency=l.trim()):t==="relativetime"&&l.indexOf(":")<0?n.range||(n.range=l.trim()):l.split(";").forEach(d=>{if(d){const[f,...m]=d.split(":"),p=m.join(":").trim().replace(/^'+|'+$/g,""),g=f.trim();n[g]||(n[g]=p),p==="false"&&(n[g]=!1),p==="true"&&(n[g]=!0),isNaN(p)||(n[g]=parseInt(p,10))}})}return{formatName:t,formatOptions:n}},Xw=e=>{const t={};return(n,s,l)=>{let o=l;l&&l.interpolationkey&&l.formatParams&&l.formatParams[l.interpolationkey]&&l[l.interpolationkey]&&(o={...o,[l.interpolationkey]:void 0});const d=s+JSON.stringify(o);let f=t[d];return f||(f=e(Sc(s),l),t[d]=f),f(n)}},m7=e=>(t,n,s)=>e(Sc(n),s)(t);class p7{constructor(t={}){this.logger=Wa.create("formatter"),this.options=t,this.init(t)}init(t,n={interpolation:{}}){this.formatSeparator=n.interpolation.formatSeparator||",";const s=n.cacheInBuiltFormats?Xw:m7;this.formats={number:s((l,o)=>{const d=new Intl.NumberFormat(l,{...o});return f=>d.format(f)}),currency:s((l,o)=>{const d=new Intl.NumberFormat(l,{...o,style:"currency"});return f=>d.format(f)}),datetime:s((l,o)=>{const d=new Intl.DateTimeFormat(l,{...o});return f=>d.format(f)}),relativetime:s((l,o)=>{const d=new Intl.RelativeTimeFormat(l,{...o});return f=>d.format(f,o.range||"day")}),list:s((l,o)=>{const d=new Intl.ListFormat(l,{...o});return f=>d.format(f)})}}add(t,n){this.formats[t.toLowerCase().trim()]=n}addCached(t,n){this.formats[t.toLowerCase().trim()]=Xw(n)}format(t,n,s,l={}){const o=n.split(this.formatSeparator);if(o.length>1&&o[0].indexOf("(")>1&&o[0].indexOf(")")<0&&o.find(f=>f.indexOf(")")>-1)){const f=o.findIndex(m=>m.indexOf(")")>-1);o[0]=[o[0],...o.splice(1,f)].join(this.formatSeparator)}return o.reduce((f,m)=>{const{formatName:p,formatOptions:g}=h7(m);if(this.formats[p]){let b=f;try{const y=l?.formatParams?.[l.interpolationkey]||{},w=y.locale||y.lng||l.locale||l.lng||s;b=this.formats[p](f,w,{...g,...l,...y})}catch(y){this.logger.warn(y)}return b}else this.logger.warn(`there was no format function for ${p}`);return f},t)}}const g7=(e,t)=>{e.pending[t]!==void 0&&(delete e.pending[t],e.pendingCount--)};class x7 extends Mf{constructor(t,n,s,l={}){super(),this.backend=t,this.store=n,this.services=s,this.languageUtils=s.languageUtils,this.options=l,this.logger=Wa.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=l.maxParallelReads||10,this.readingCalls=0,this.maxRetries=l.maxRetries>=0?l.maxRetries:5,this.retryTimeout=l.retryTimeout>=1?l.retryTimeout:350,this.state={},this.queue=[],this.backend?.init?.(s,l.backend,l)}queueLoad(t,n,s,l){const o={},d={},f={},m={};return t.forEach(p=>{let g=!0;n.forEach(b=>{const y=`${p}|${b}`;!s.reload&&this.store.hasResourceBundle(p,b)?this.state[y]=2:this.state[y]<0||(this.state[y]===1?d[y]===void 0&&(d[y]=!0):(this.state[y]=1,g=!1,d[y]===void 0&&(d[y]=!0),o[y]===void 0&&(o[y]=!0),m[b]===void 0&&(m[b]=!0)))}),g||(f[p]=!0)}),(Object.keys(o).length||Object.keys(d).length)&&this.queue.push({pending:d,pendingCount:Object.keys(d).length,loaded:{},errors:[],callback:l}),{toLoad:Object.keys(o),pending:Object.keys(d),toLoadLanguages:Object.keys(f),toLoadNamespaces:Object.keys(m)}}loaded(t,n,s){const l=t.split("|"),o=l[0],d=l[1];n&&this.emit("failedLoading",o,d,n),!n&&s&&this.store.addResourceBundle(o,d,s,void 0,void 0,{skipCopy:!0}),this.state[t]=n?-1:2,n&&s&&(this.state[t]=0);const f={};this.queue.forEach(m=>{t7(m.loaded,[o],d),g7(m,t),n&&m.errors.push(n),m.pendingCount===0&&!m.done&&(Object.keys(m.loaded).forEach(p=>{f[p]||(f[p]={});const g=m.loaded[p];g.length&&g.forEach(b=>{f[p][b]===void 0&&(f[p][b]=!0)})}),m.done=!0,m.errors.length?m.callback(m.errors):m.callback())}),this.emit("loaded",f),this.queue=this.queue.filter(m=>!m.done)}read(t,n,s,l=0,o=this.retryTimeout,d){if(!t.length)return d(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:t,ns:n,fcName:s,tried:l,wait:o,callback:d});return}this.readingCalls++;const f=(p,g)=>{if(this.readingCalls--,this.waitingReads.length>0){const b=this.waitingReads.shift();this.read(b.lng,b.ns,b.fcName,b.tried,b.wait,b.callback)}if(p&&g&&l<this.maxRetries){setTimeout(()=>{this.read.call(this,t,n,s,l+1,o*2,d)},o);return}d(p,g)},m=this.backend[s].bind(this.backend);if(m.length===2){try{const p=m(t,n);p&&typeof p.then=="function"?p.then(g=>f(null,g)).catch(f):f(null,p)}catch(p){f(p)}return}return m(t,n,f)}prepareLoading(t,n,s={},l){if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),l&&l();Ze(t)&&(t=this.languageUtils.toResolveHierarchy(t)),Ze(n)&&(n=[n]);const o=this.queueLoad(t,n,s,l);if(!o.toLoad.length)return o.pending.length||l(),null;o.toLoad.forEach(d=>{this.loadOne(d)})}load(t,n,s){this.prepareLoading(t,n,{},s)}reload(t,n,s){this.prepareLoading(t,n,{reload:!0},s)}loadOne(t,n=""){const s=t.split("|"),l=s[0],o=s[1];this.read(l,o,"read",void 0,void 0,(d,f)=>{d&&this.logger.warn(`${n}loading namespace ${o} for language ${l} failed`,d),!d&&f&&this.logger.log(`${n}loaded namespace ${o} for language ${l}`,f),this.loaded(t,d,f)})}saveMissing(t,n,s,l,o,d={},f=()=>{}){if(this.services?.utils?.hasLoadedNamespace&&!this.services?.utils?.hasLoadedNamespace(n)){this.logger.warn(`did not save key "${s}" as the namespace "${n}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(!(s==null||s==="")){if(this.backend?.create){const m={...d,isUpdate:o},p=this.backend.create.bind(this.backend);if(p.length<6)try{let g;p.length===5?g=p(t,n,s,l,m):g=p(t,n,s,l),g&&typeof g.then=="function"?g.then(b=>f(null,b)).catch(f):f(null,g)}catch(g){f(g)}else p(t,n,s,l,f,m)}!t||!t[0]||this.store.addResource(t[0],n,s,l)}}}const Qw=()=>({debug:!1,initAsync:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:e=>{let t={};if(typeof e[1]=="object"&&(t=e[1]),Ze(e[1])&&(t.defaultValue=e[1]),Ze(e[2])&&(t.tDescription=e[2]),typeof e[2]=="object"||typeof e[3]=="object"){const n=e[3]||e[2];Object.keys(n).forEach(s=>{t[s]=n[s]})}return t},interpolation:{escapeValue:!0,format:e=>e,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0},cacheInBuiltFormats:!0}),e1=e=>(Ze(e.ns)&&(e.ns=[e.ns]),Ze(e.fallbackLng)&&(e.fallbackLng=[e.fallbackLng]),Ze(e.fallbackNS)&&(e.fallbackNS=[e.fallbackNS]),e.supportedLngs?.indexOf?.("cimode")<0&&(e.supportedLngs=e.supportedLngs.concat(["cimode"])),typeof e.initImmediate=="boolean"&&(e.initAsync=e.initImmediate),e),pu=()=>{},b7=e=>{Object.getOwnPropertyNames(Object.getPrototypeOf(e)).forEach(n=>{typeof e[n]=="function"&&(e[n]=e[n].bind(e))})};class hc extends Mf{constructor(t={},n){if(super(),this.options=e1(t),this.services={},this.logger=Wa,this.modules={external:[]},b7(this),n&&!this.isInitialized&&!t.isClone){if(!this.options.initAsync)return this.init(t,n),this;setTimeout(()=>{this.init(t,n)},0)}}init(t={},n){this.isInitializing=!0,typeof t=="function"&&(n=t,t={}),t.defaultNS==null&&t.ns&&(Ze(t.ns)?t.defaultNS=t.ns:t.ns.indexOf("translation")<0&&(t.defaultNS=t.ns[0]));const s=Qw();this.options={...s,...this.options,...e1(t)},this.options.interpolation={...s.interpolation,...this.options.interpolation},t.keySeparator!==void 0&&(this.options.userDefinedKeySeparator=t.keySeparator),t.nsSeparator!==void 0&&(this.options.userDefinedNsSeparator=t.nsSeparator);const l=p=>p?typeof p=="function"?new p:p:null;if(!this.options.isClone){this.modules.logger?Wa.init(l(this.modules.logger),this.options):Wa.init(null,this.options);let p;this.modules.formatter?p=this.modules.formatter:p=p7;const g=new Kw(this.options);this.store=new Gw(this.options.resources,this.options);const b=this.services;b.logger=Wa,b.resourceStore=this.store,b.languageUtils=g,b.pluralResolver=new u7(g,{prepend:this.options.pluralSeparator,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),this.options.interpolation.format&&this.options.interpolation.format!==s.interpolation.format&&this.logger.deprecate("init: you are still using the legacy format function, please use the new approach: https://www.i18next.com/translation-function/formatting"),p&&(!this.options.interpolation.format||this.options.interpolation.format===s.interpolation.format)&&(b.formatter=l(p),b.formatter.init&&b.formatter.init(b,this.options),this.options.interpolation.format=b.formatter.format.bind(b.formatter)),b.interpolator=new f7(this.options),b.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},b.backendConnector=new x7(l(this.modules.backend),b.resourceStore,b,this.options),b.backendConnector.on("*",(w,...j)=>{this.emit(w,...j)}),this.modules.languageDetector&&(b.languageDetector=l(this.modules.languageDetector),b.languageDetector.init&&b.languageDetector.init(b,this.options.detection,this.options)),this.modules.i18nFormat&&(b.i18nFormat=l(this.modules.i18nFormat),b.i18nFormat.init&&b.i18nFormat.init(this)),this.translator=new ef(this.services,this.options),this.translator.on("*",(w,...j)=>{this.emit(w,...j)}),this.modules.external.forEach(w=>{w.init&&w.init(this)})}if(this.format=this.options.interpolation.format,n||(n=pu),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){const p=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);p.length>0&&p[0]!=="dev"&&(this.options.lng=p[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined"),["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(p=>{this[p]=(...g)=>this.store[p](...g)}),["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach(p=>{this[p]=(...g)=>(this.store[p](...g),this)});const f=Wo(),m=()=>{const p=(g,b)=>{this.isInitializing=!1,this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),f.resolve(b),n(g,b)};if(this.languages&&!this.isInitialized)return p(null,this.t.bind(this));this.changeLanguage(this.options.lng,p)};return this.options.resources||!this.options.initAsync?m():setTimeout(m,0),f}loadResources(t,n=pu){let s=n;const l=Ze(t)?t:this.language;if(typeof t=="function"&&(s=t),!this.options.resources||this.options.partialBundledLanguages){if(l?.toLowerCase()==="cimode"&&(!this.options.preload||this.options.preload.length===0))return s();const o=[],d=f=>{if(!f||f==="cimode")return;this.services.languageUtils.toResolveHierarchy(f).forEach(p=>{p!=="cimode"&&o.indexOf(p)<0&&o.push(p)})};l?d(l):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(m=>d(m)),this.options.preload?.forEach?.(f=>d(f)),this.services.backendConnector.load(o,this.options.ns,f=>{!f&&!this.resolvedLanguage&&this.language&&this.setResolvedLanguage(this.language),s(f)})}else s(null)}reloadResources(t,n,s){const l=Wo();return typeof t=="function"&&(s=t,t=void 0),typeof n=="function"&&(s=n,n=void 0),t||(t=this.languages),n||(n=this.options.ns),s||(s=pu),this.services.backendConnector.reload(t,n,o=>{l.resolve(),s(o)}),l}use(t){if(!t)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!t.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return t.type==="backend"&&(this.modules.backend=t),(t.type==="logger"||t.log&&t.warn&&t.error)&&(this.modules.logger=t),t.type==="languageDetector"&&(this.modules.languageDetector=t),t.type==="i18nFormat"&&(this.modules.i18nFormat=t),t.type==="postProcessor"&&hN.addPostProcessor(t),t.type==="formatter"&&(this.modules.formatter=t),t.type==="3rdParty"&&this.modules.external.push(t),this}setResolvedLanguage(t){if(!(!t||!this.languages)&&!(["cimode","dev"].indexOf(t)>-1)){for(let n=0;n<this.languages.length;n++){const s=this.languages[n];if(!(["cimode","dev"].indexOf(s)>-1)&&this.store.hasLanguageSomeTranslations(s)){this.resolvedLanguage=s;break}}!this.resolvedLanguage&&this.languages.indexOf(t)<0&&this.store.hasLanguageSomeTranslations(t)&&(this.resolvedLanguage=t,this.languages.unshift(t))}}changeLanguage(t,n){this.isLanguageChangingTo=t;const s=Wo();this.emit("languageChanging",t);const l=f=>{this.language=f,this.languages=this.services.languageUtils.toResolveHierarchy(f),this.resolvedLanguage=void 0,this.setResolvedLanguage(f)},o=(f,m)=>{m?this.isLanguageChangingTo===t&&(l(m),this.translator.changeLanguage(m),this.isLanguageChangingTo=void 0,this.emit("languageChanged",m),this.logger.log("languageChanged",m)):this.isLanguageChangingTo=void 0,s.resolve((...p)=>this.t(...p)),n&&n(f,(...p)=>this.t(...p))},d=f=>{!t&&!f&&this.services.languageDetector&&(f=[]);const m=Ze(f)?f:f&&f[0],p=this.store.hasLanguageSomeTranslations(m)?m:this.services.languageUtils.getBestMatchFromCodes(Ze(f)?[f]:f);p&&(this.language||l(p),this.translator.language||this.translator.changeLanguage(p),this.services.languageDetector?.cacheUserLanguage?.(p)),this.loadResources(p,g=>{o(g,p)})};return!t&&this.services.languageDetector&&!this.services.languageDetector.async?d(this.services.languageDetector.detect()):!t&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect.length===0?this.services.languageDetector.detect().then(d):this.services.languageDetector.detect(d):d(t),s}getFixedT(t,n,s){const l=(o,d,...f)=>{let m;typeof d!="object"?m=this.options.overloadTranslationOptionHandler([o,d].concat(f)):m={...d},m.lng=m.lng||l.lng,m.lngs=m.lngs||l.lngs,m.ns=m.ns||l.ns,m.keyPrefix!==""&&(m.keyPrefix=m.keyPrefix||s||l.keyPrefix);const p=this.options.keySeparator||".";let g;return m.keyPrefix&&Array.isArray(o)?g=o.map(b=>(typeof b=="function"&&(b=dg(b,{...this.options,...d})),`${m.keyPrefix}${p}${b}`)):(typeof o=="function"&&(o=dg(o,{...this.options,...d})),g=m.keyPrefix?`${m.keyPrefix}${p}${o}`:o),this.t(g,m)};return Ze(t)?l.lng=t:l.lngs=t,l.ns=n,l.keyPrefix=s,l}t(...t){return this.translator?.translate(...t)}exists(...t){return this.translator?.exists(...t)}setDefaultNamespace(t){this.options.defaultNS=t}hasLoadedNamespace(t,n={}){if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;const s=n.lng||this.resolvedLanguage||this.languages[0],l=this.options?this.options.fallbackLng:!1,o=this.languages[this.languages.length-1];if(s.toLowerCase()==="cimode")return!0;const d=(f,m)=>{const p=this.services.backendConnector.state[`${f}|${m}`];return p===-1||p===0||p===2};if(n.precheck){const f=n.precheck(this,d);if(f!==void 0)return f}return!!(this.hasResourceBundle(s,t)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||d(s,t)&&(!l||d(o,t)))}loadNamespaces(t,n){const s=Wo();return this.options.ns?(Ze(t)&&(t=[t]),t.forEach(l=>{this.options.ns.indexOf(l)<0&&this.options.ns.push(l)}),this.loadResources(l=>{s.resolve(),n&&n(l)}),s):(n&&n(),Promise.resolve())}loadLanguages(t,n){const s=Wo();Ze(t)&&(t=[t]);const l=this.options.preload||[],o=t.filter(d=>l.indexOf(d)<0&&this.services.languageUtils.isSupportedCode(d));return o.length?(this.options.preload=l.concat(o),this.loadResources(d=>{s.resolve(),n&&n(d)}),s):(n&&n(),Promise.resolve())}dir(t){if(t||(t=this.resolvedLanguage||(this.languages?.length>0?this.languages[0]:this.language)),!t)return"rtl";try{const l=new Intl.Locale(t);if(l&&l.getTextInfo){const o=l.getTextInfo();if(o&&o.direction)return o.direction}}catch{}const n=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"],s=this.services?.languageUtils||new Kw(Qw());return t.toLowerCase().indexOf("-latn")>1?"ltr":n.indexOf(s.getLanguagePartFromCode(t))>-1||t.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(t={},n){const s=new hc(t,n);return s.createInstance=hc.createInstance,s}cloneInstance(t={},n=pu){const s=t.forkResourceStore;s&&delete t.forkResourceStore;const l={...this.options,...t,isClone:!0},o=new hc(l);if((t.debug!==void 0||t.prefix!==void 0)&&(o.logger=o.logger.clone(t)),["store","services","language"].forEach(f=>{o[f]=this[f]}),o.services={...this.services},o.services.utils={hasLoadedNamespace:o.hasLoadedNamespace.bind(o)},s){const f=Object.keys(this.store.data).reduce((m,p)=>(m[p]={...this.store.data[p]},m[p]=Object.keys(m[p]).reduce((g,b)=>(g[b]={...m[p][b]},g),m[p]),m),{});o.store=new Gw(f,l),o.services.resourceStore=o.store}return o.translator=new ef(o.services,l),o.translator.on("*",(f,...m)=>{o.emit(f,...m)}),o.init(l,n),o.translator.options=l,o.translator.backendConnector.services.utils={hasLoadedNamespace:o.hasLoadedNamespace.bind(o)},o}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}const Tn=hc.createInstance();Tn.createInstance;Tn.dir;Tn.init;Tn.loadResources;Tn.reloadResources;Tn.use;Tn.changeLanguage;Tn.getFixedT;Tn.t;Tn.exists;Tn.setDefaultNamespace;Tn.hasLoadedNamespace;Tn.loadNamespaces;Tn.loadLanguages;const v7=(e,t,n,s)=>{const l=[n,{code:t,...s||{}}];if(e?.services?.logger?.forward)return e.services.logger.forward(l,"warn","react-i18next::",!0);di(l[0])&&(l[0]=`react-i18next:: ${l[0]}`),e?.services?.logger?.warn?e.services.logger.warn(...l):console?.warn&&console.warn(...l)},t1={},pN=(e,t,n,s)=>{di(n)&&t1[n]||(di(n)&&(t1[n]=new Date),v7(e,t,n,s))},gN=(e,t)=>()=>{if(e.isInitialized)t();else{const n=()=>{setTimeout(()=>{e.off("initialized",n)},0),t()};e.on("initialized",n)}},ug=(e,t,n)=>{e.loadNamespaces(t,gN(e,n))},n1=(e,t,n,s)=>{if(di(n)&&(n=[n]),e.options.preload&&e.options.preload.indexOf(t)>-1)return ug(e,n,s);n.forEach(l=>{e.options.ns.indexOf(l)<0&&e.options.ns.push(l)}),e.loadLanguages(t,gN(e,s))},y7=(e,t,n={})=>!t.languages||!t.languages.length?(pN(t,"NO_LANGUAGES","i18n.languages were undefined or empty",{languages:t.languages}),!0):t.hasLoadedNamespace(e,{lng:n.lng,precheck:(s,l)=>{if(n.bindI18n&&n.bindI18n.indexOf("languageChanging")>-1&&s.services.backendConnector.backend&&s.isLanguageChangingTo&&!l(s.isLanguageChangingTo,e))return!1}}),di=e=>typeof e=="string",w7=e=>typeof e=="object"&&e!==null,j7=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,S7={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"","&#169;":"","&reg;":"","&#174;":"","&hellip;":"","&#8230;":"","&#x2F;":"/","&#47;":"/"},N7=e=>S7[e],_7=e=>e.replace(j7,N7);let fg={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:_7};const C7=(e={})=>{fg={...fg,...e}},E7=()=>fg;let xN;const R7=e=>{xN=e},A7=()=>xN,P7={type:"3rdParty",init(e){C7(e.options.react),R7(e)}},T7=h.createContext();class k7{constructor(){this.usedNamespaces={}}addUsedNamespaces(t){t.forEach(n=>{this.usedNamespaces[n]||(this.usedNamespaces[n]=!0)})}getUsedNamespaces(){return Object.keys(this.usedNamespaces)}}var Np={exports:{}},_p={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var a1;function D7(){if(a1)return _p;a1=1;var e=Ec();function t(b,y){return b===y&&(b!==0||1/b===1/y)||b!==b&&y!==y}var n=typeof Object.is=="function"?Object.is:t,s=e.useState,l=e.useEffect,o=e.useLayoutEffect,d=e.useDebugValue;function f(b,y){var w=y(),j=s({inst:{value:w,getSnapshot:y}}),S=j[0].inst,E=j[1];return o(function(){S.value=w,S.getSnapshot=y,m(S)&&E({inst:S})},[b,w,y]),l(function(){return m(S)&&E({inst:S}),b(function(){m(S)&&E({inst:S})})},[b]),d(w),w}function m(b){var y=b.getSnapshot;b=b.value;try{var w=y();return!n(b,w)}catch{return!0}}function p(b,y){return y()}var g=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?p:f;return _p.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:g,_p}var r1;function M7(){return r1||(r1=1,Np.exports=D7()),Np.exports}var O7=M7();const L7=(e,t)=>di(t)?t:w7(t)&&di(t.defaultValue)?t.defaultValue:Array.isArray(e)?e[e.length-1]:e,U7={t:L7,ready:!1},$7=()=>()=>{},ye=(e,t={})=>{const{i18n:n}=t,{i18n:s,defaultNS:l}=h.useContext(T7)||{},o=n||s||A7();o&&!o.reportNamespaces&&(o.reportNamespaces=new k7),o||pN(o,"NO_I18NEXT_INSTANCE","useTranslation: You will need to pass in an i18next instance by using initReactI18next");const d=h.useMemo(()=>({...E7(),...o?.options?.react,...t}),[o,t]),{useSuspense:f,keyPrefix:m}=d,p=h.useMemo(()=>{const P=l||o?.options?.defaultNS;return di(P)?[P]:P||["translation"]},[e,l,o]);o?.reportNamespaces?.addUsedNamespaces?.(p);const g=h.useRef(0),b=h.useCallback(P=>{if(!o)return $7;const{bindI18n:T,bindI18nStore:C}=d,k=()=>{g.current+=1,P()};return T&&o.on(T,k),C&&o.store.on(C,k),()=>{T&&T.split(" ").forEach($=>o.off($,k)),C&&C.split(" ").forEach($=>o.store.off($,k))}},[o,d]),y=h.useRef(),w=h.useCallback(()=>{if(!o)return U7;const P=!!(o.isInitialized||o.initializedStoreOnce)&&p.every(V=>y7(V,o,d)),T=t.lng||o.language,C=g.current,k=y.current;if(k&&k.ready===P&&k.lng===T&&k.keyPrefix===m&&k.revision===C)return k;const O={t:o.getFixedT(T,d.nsMode==="fallback"?p:p[0],m),ready:P,lng:T,keyPrefix:m,revision:C};return y.current=O,O},[o,p,m,d,t.lng]),[j,S]=h.useState(0),{t:E,ready:R}=O7.useSyncExternalStore(b,w,w);h.useEffect(()=>{if(o&&!R&&!f){const P=()=>S(T=>T+1);t.lng?n1(o,t.lng,p,P):ug(o,p,P)}},[o,t.lng,p,R,f,j]);const A=o||{},N=h.useMemo(()=>{const P=[E,A,R];return P.t=E,P.i18n=A,P.ready=R,P},[E,A,R]);if(o&&f&&!R)throw new Promise(P=>{const T=()=>P();t.lng?n1(o,t.lng,p,T):ug(o,p,T)});return N},F7=({isOpen:e,onClose:t,onSubmit:n})=>{const{t:s,i18n:l}=ye(),o=l.language==="ar",[d,f]=h.useState({full_name:"",clinic:"",phone:"",email:"",address:"",language_preference:"en"}),[m,p]=h.useState(!1),[g,b]=h.useState(null),[y,w]=h.useState(!1),j=E=>{f({...d,[E.target.name]:E.target.value})},S=async E=>{E.preventDefault(),b(null),p(!0);try{if(!d.full_name||!d.email||!d.clinic)throw new Error(s("login.signUpDialog.errors.requiredFields"));await n(d),w(!0),setTimeout(()=>{w(!1),f({full_name:"",clinic:"",phone:"",email:"",address:"",language_preference:"en"}),t()},2e3)}catch(R){b(R.message)}finally{p(!1)}};return e?r.jsx("div",{className:"fixed inset-0 z-50 flex items-end md:items-center justify-center bg-black bg-opacity-50 p-0 md:p-4",children:r.jsxs("div",{className:"relative w-full max-w-2xl bg-white rounded-t-xl md:rounded-lg shadow-xl max-h-[92vh] overflow-y-auto",children:[r.jsxs("div",{className:"sticky top-0 z-10 bg-white border-b px-6 py-4 flex items-center justify-between",children:[r.jsx("h2",{className:"text-xl md:text-2xl font-bold text-gray-900",children:s("login.signUpDialog.title")}),r.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600 p-2",children:r.jsx(bn,{className:"w-6 h-6"})})]}),r.jsx("div",{className:"p-5 md:p-6 space-y-4",children:y?r.jsxs("div",{className:"rounded-md bg-green-50 p-4 text-center",children:[r.jsx("h3",{className:"text-sm font-medium text-green-800",children:s("login.signUpDialog.successTitle")}),r.jsx("p",{className:"mt-2 text-sm text-green-700",children:s("login.signUpDialog.successMessage")})]}):r.jsxs(r.Fragment,{children:[g&&r.jsx("div",{className:"rounded-md bg-red-50 p-4",children:r.jsx("h3",{className:"text-sm font-medium text-red-800",children:g})}),r.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:[s("login.signUpDialog.fullName")," ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx("input",{type:"text",name:"full_name",required:!0,value:d.full_name,onChange:j,className:"w-full px-3 py-3 md:py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-indigo-600",placeholder:s("login.signUpDialog.fullNamePlaceholder")})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:[s("login.signUpDialog.email")," ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx("input",{type:"email",name:"email",required:!0,value:d.email,onChange:j,className:"w-full px-3 py-3 md:py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-indigo-600",placeholder:s("login.signUpDialog.emailPlaceholder")})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:[s("login.signUpDialog.clinicName")," ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx("input",{type:"text",name:"clinic",required:!0,value:d.clinic,onChange:j,className:"w-full px-3 py-3 md:py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-indigo-600",placeholder:s("login.signUpDialog.clinicNamePlaceholder")})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:s("login.signUpDialog.phoneNumber")}),r.jsx("input",{type:"tel",name:"phone",value:d.phone,onChange:j,className:`w-full px-3 py-3 md:py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-indigo-600 ${o?"text-right":""}`,placeholder:s("login.signUpDialog.phoneNumberPlaceholder"),dir:"ltr"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:s("login.signUpDialog.clinicAddress")}),r.jsx("textarea",{name:"address",rows:"2",value:d.address,onChange:j,className:"w-full px-3 py-3 md:py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-indigo-600",placeholder:s("login.signUpDialog.clinicAddressPlaceholder")})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:[s("login.signUpDialog.languagePreference")," ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsxs("select",{name:"language_preference",required:!0,value:d.language_preference,onChange:j,className:"w-full px-3 py-3 md:py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-indigo-600 bg-white",children:[r.jsx("option",{value:"en",children:s("settings.english")}),r.jsx("option",{value:"ar",children:s("settings.arabic")})]})]})]}),r.jsxs("div",{className:"flex flex-col md:flex-row gap-3 pt-4 pb-6 md:pb-0",children:[r.jsx("button",{type:"button",onClick:S,disabled:m,className:"order-1 md:order-2 flex-1 px-4 py-3 bg-brand-600 text-white rounded-md hover:bg-brand-700 font-medium disabled:bg-brand-400",children:s(m?"login.signUpDialog.submitting":"login.signUpDialog.submitButton")}),r.jsx("button",{type:"button",onClick:t,className:"order-2 md:order-1 flex-1 px-4 py-3 border border-gray-300 rounded-md text-gray-700 hover:bg-gray-50 font-medium",children:s("common.cancel")})]})]})})]})}):null},xi=e=>e==="admin"||e==="super_admin",Of=e=>e==="super_admin";function s1(){const{t:e}=ye(),[t,n]=h.useState(""),[s,l]=h.useState(""),[o,d]=h.useState(!1),[f,m]=h.useState(null),[p,g]=h.useState(!1),b=vn(),y=async j=>{if(j.preventDefault(),!t||!s){m(e("login.errors.emptyFields"));return}try{m(null),d(!0);const{data:S,error:E}=await Z.auth.signInWithPassword({email:t,password:s});if(E)throw E;const R=S.user?.app_metadata?.role||"user";xi(R)?b("/admin/dashboard"):b("/app/dashboard")}catch(S){m(S.message)}finally{d(!1)}},w=async j=>{try{const{error:S}=await Z.from("signup_requests").insert([{...j,status:"pending"}]);if(S)throw S}catch(S){throw new Error(S.message||e("login.errors.submitFailed"))}};return r.jsxs("div",{className:"flex w-full min-h-screen items-stretch bg-default-background",children:[r.jsxs("div",{className:"hidden md:flex grow shrink-0 basis-0 flex-col items-start justify-between bg-brand-600 px-12 py-12",children:[r.jsx(At,{to:"/",children:r.jsx("img",{className:"h-20 flex-none object-cover",src:"./logo-2.png",alt:"Logo"})}),r.jsxs("div",{className:"flex flex-col items-start gap-2",children:[r.jsx("span",{className:"text-2xl font-medium text-white",children:e("login.welcomeBack")}),r.jsx("span",{className:"text-xl text-neutral-200",children:e("login.subtitle")})]}),r.jsx("img",{className:"w-full flex-none rounded-lg",src:"https://res.cloudinary.com/subframe/image/upload/v1751625442/uploads/16759/dtha82l1njnh9ohl9b9k.jpg",alt:"Illustration"})]}),r.jsxs("div",{className:"flex grow shrink-0 basis-0 items-center justify-center px-6 py-8 md:px-12",children:[r.jsxs("div",{className:"flex w-full max-w-[384px] flex-col items-center justify-center gap-8",children:[r.jsx("div",{className:"md:hidden mb-4",children:r.jsx(At,{to:"/",children:r.jsx("img",{className:"h-20 object-contain",src:"./logo.png",alt:"Lumina Logo"})})}),r.jsxs("div",{className:"flex w-full flex-col items-start gap-2 text-center md:text-start",children:[r.jsx("span",{className:"w-full text-xl font-medium text-default-font",children:e("auth.signIn")}),r.jsx("span",{className:"w-full text-body text-subtext-color",children:e("login.enterCredentials")})]}),r.jsxs("form",{onSubmit:y,className:"flex w-full flex-col items-start gap-6",children:[f&&r.jsx("div",{className:"rounded-md bg-red-50 w-full p-4",children:r.jsx("h3",{className:"text-sm font-medium text-red-800",children:f})}),r.jsx(Ce,{className:"w-full",label:e("auth.email"),children:r.jsx(Ce.Input,{type:"email",required:!0,value:t,onChange:j=>n(j.target.value),placeholder:e("login.emailPlaceholder")})}),r.jsx(Ce,{className:"w-full",label:e("auth.password"),children:r.jsx(Ce.Input,{type:"password",required:!0,value:s,onChange:j=>l(j.target.value),placeholder:e("login.passwordPlaceholder")})}),r.jsx(ce,{type:"submit",disabled:o,className:"bg-brand-600 w-full",size:"large",children:e(o?"login.signingIn":"auth.signIn")})]}),r.jsxs("div",{className:"flex flex-col items-center gap-4 text-sm",children:[r.jsxs("div",{className:"flex flex-wrap justify-center gap-1",children:[r.jsx("span",{className:"text-default-font",children:e("auth.dontHaveAccount")}),r.jsx(ln,{variant:"brand",size:"small",className:"text-sky-600 p-0 h-auto",onClick:()=>g(!0),children:e("login.requestAccess")})]}),r.jsxs("div",{className:"flex flex-wrap justify-center gap-1",children:[r.jsx("span",{className:"text-default-font",children:e("login.forgotPasswordText")}),r.jsx(At,{to:"/reset-password",children:r.jsx(ln,{variant:"brand",size:"small",className:"text-sky-600 p-0 h-auto",children:e("login.resetPassword")})})]})]})]}),r.jsx(F7,{isOpen:p,onClose:()=>g(!1),onSubmit:w})]})]})}const Au=De.forwardRef(function({children:t,selected:n=!1,className:s,...l},o){return r.jsx("div",{className:$e("group/8596eb9f flex h-8 cursor-pointer flex-col items-center justify-center gap-4 rounded-full px-4",{"bg-brand-200":n},s),ref:o,...l,children:t?r.jsx("span",{className:"font-['Montserrat'] text-[15px] font-[600] leading-[20px] text-brand-900",children:t}):null})}),I7=De.forwardRef(function({className:t,...n},s){return r.jsxs("div",{className:$e("flex w-full max-w-[1280px] flex-wrap items-center gap-4",t),ref:s,...n,children:[r.jsx("div",{className:"flex h-12 flex-col items-start justify-center gap-2 px-4",children:r.jsx("img",{className:"h-6 flex-none object-cover",src:"https://res.cloudinary.com/subframe/image/upload/v1751625200/uploads/16759/jpef3z487npyabdeeipn.png"})}),r.jsxs("div",{className:"flex min-w-[320px] grow shrink-0 basis-0 flex-wrap items-center gap-1",children:[r.jsx(Nu,{to:"/",children:r.jsx(Au,{selected:!0,children:"Home"})}),r.jsx(Nu,{to:"/features",children:r.jsx(Au,{children:"Features"})}),r.jsx(Nu,{to:"/about",children:r.jsx(Au,{children:"About"})})]}),r.jsx(ln,{children:"Pricing"}),r.jsx(ln,{children:"Contact"}),r.jsx("div",{className:"flex items-center gap-2 px-2",children:r.jsx(At,{to:"/login",children:r.jsx(ce,{variant:"brand-tertiary",children:"Log in"})})})]})}),B7=Object.assign(I7,{NavItem:Au}),Js=De.forwardRef(function({children:t,selected:n=!1,className:s,...l},o){return r.jsx("div",{className:$e("group/7fb2f0a4 flex h-8 cursor-pointer flex-col items-center justify-center gap-4 rounded-full px-4",{"bg-brand-200":n},s),ref:o,...l,children:t?r.jsx("span",{className:"font-['Montserrat'] text-[15px] font-[600] leading-[20px] text-brand-900",children:t}):null})}),z7=De.forwardRef(function({className:t,...n},s){return r.jsxs("div",{className:$e("flex w-full max-w-[1280px] flex-wrap items-center justify-between",t),ref:s,...n,children:[r.jsx("div",{className:"flex h-12 flex-col items-start justify-center gap-2 px-4",children:r.jsx("img",{className:"h-6 flex-none object-cover",src:"https://res.cloudinary.com/subframe/image/upload/v1751625200/uploads/16759/jpef3z487npyabdeeipn.png"})}),r.jsxs("div",{className:"flex items-center gap-2 px-2",children:[r.jsx(ce,{children:"Sign up"}),r.jsxs(XT,{children:[r.jsx(QT,{asChild:!0,children:r.jsx(Wt,{icon:r.jsx(bk,{})})}),r.jsx(ZT,{children:r.jsx(JT,{side:"bottom",align:"end",sideOffset:4,asChild:!0,children:r.jsxs("div",{className:"flex min-w-[320px] flex-col items-start gap-2 rounded-md border border-solid border-neutral-border bg-default-background px-3 py-3 shadow-lg",children:[r.jsx(Js,{className:"h-8 w-full flex-none",children:"Product"}),r.jsx(Js,{className:"h-8 w-full flex-none",children:"Features"}),r.jsx(Js,{className:"h-8 w-full flex-none",children:"About"}),r.jsx(Js,{className:"h-8 w-full flex-none",children:"Pricing"}),r.jsx(Js,{className:"h-8 w-full flex-none",children:"Help"}),r.jsx(Js,{className:"h-8 w-full flex-none",children:"Login"})]})})})]})]})]})}),q7=Object.assign(z7,{NavItem:Js});function H7(){return r.jsxs("div",{className:"flex w-full flex-col items-center justify-center gap-2 bg-default-background px-6 py-6 mobile:px-2 mobile:py-2",children:[r.jsx(B7,{className:"mobile:hidden"}),r.jsx(q7,{className:"hidden mobile:flex"})]})}function V7(){const[e,t]=h.useState(null),[n,s]=h.useState(!0);return h.useEffect(()=>{const{data:{subscription:l}}=Z.auth.onAuthStateChange((o,d)=>{t(d?.user||null),s(!1)});return Z.auth.getSession().then(({data:{session:o}})=>{t(o?.user||null),s(!1)}),()=>{l.unsubscribe()}},[]),r.jsxs("div",{className:"",children:[r.jsx(H7,{}),r.jsx("main",{className:"layout",children:r.jsx(Eg,{})})]})}function G7(){return r.jsx("div",{children:"Features Page"})}const Y7=De.forwardRef(function({children:t,clickable:n=!1,className:s,onClick:l,...o},d){return r.jsx("tr",{className:$e("group/5d119f8d border-t border-solid border-neutral-border",{"hover:bg-neutral-50 cursor-pointer":n},s),ref:d,onClick:l,...o,children:t})}),K7=De.forwardRef(function({children:t,className:n,...s},l){return r.jsx("td",{...s,children:r.jsx("div",{className:$e("flex min-h-12 w-full items-center gap-1 px-3 py-2",n),ref:l,children:t})})}),W7=De.forwardRef(function({children:t,className:n,...s},l){return r.jsx("tr",{className:n,ref:l,...s,children:t})}),J7=De.forwardRef(function({children:t,icon:n=null,className:s,...l},o){return r.jsx("th",{...l,children:r.jsxs("div",{className:$e("flex min-h-8 w-full items-center gap-1 px-3 py-2",s),ref:o,children:[t?r.jsx("span",{className:"whitespace-nowrap text-caption-bold font-caption-bold text-subtext-color",children:t}):null,n?r.jsx(Ee,{className:"text-caption font-caption text-subtext-color",children:n}):null]})})}),Z7=De.forwardRef(function({header:t,children:n,className:s,...l},o){return r.jsxs("table",{className:$e("w-full",s),ref:o,...l,children:[r.jsx("thead",{children:t}),r.jsx("tbody",{className:"border-b border-solid border-neutral-border",children:n})]})}),I=Object.assign(Z7,{Row:Y7,Cell:K7,HeaderRow:W7,HeaderCell:J7}),X7=De.forwardRef(function({size:t="medium",className:n,...s},l){return r.jsx(ix,{className:$e("group/f2e570c8 text-body font-body text-brand-600 cursor-none",{"text-heading-2 font-heading-2":t==="large","text-caption font-caption":t==="small"},n),ref:l,...s})}),Jt=X7;function Bl({children:e,submit:t=!0}){const{t:n}=ye();return r.jsxs("div",{className:"flex w-full items-center justify-between",children:[r.jsx("span",{className:"text-heading-1 font-heading-1 text-default-font",children:e}),t&&r.jsx(At,{to:"/app/cases/new",children:r.jsx(ce,{size:"large",icon:r.jsx(oi,{}),className:"h-9",children:n("caseSubmit.submitCaseButton")})})]})}function Da(e){return typeof e!="string"||e.length===0?e:e.charAt(0).toUpperCase()+e.slice(1).toLowerCase()}function zt(e){return Da(e??"")}const Q7=De.forwardRef(function({variant:t="brand",icon:n=null,children:s,iconRight:l=null,className:o,...d},f){return r.jsxs("div",{className:$e("group/97bdb082 flex h-6 items-center gap-1 rounded-full border border-solid border-brand-100 bg-brand-100 px-2",{"border border-solid border-success-100 bg-success-100":t==="success","border border-solid border-warning-100 bg-warning-100":t==="warning","border border-solid border-error-100 bg-error-100":t==="error","border border-solid border-neutral-100 bg-neutral-100":t==="neutral"},o),ref:f,...d,children:[n?r.jsx(Ee,{className:$e("text-caption font-caption text-brand-700",{"text-success-800":t==="success","text-warning-800":t==="warning","text-error-700":t==="error","text-neutral-700":t==="neutral"}),children:n}):null,s?r.jsx("span",{className:$e("whitespace-nowrap text-caption font-caption text-brand-800",{"text-success-800":t==="success","text-warning-800":t==="warning","text-error-800":t==="error","text-neutral-700":t==="neutral"}),children:s}):null,l?r.jsx(Ee,{className:$e("text-caption font-caption text-brand-700",{"text-success-800":t==="success","text-warning-800":t==="warning","text-error-700":t==="error","text-neutral-700":t==="neutral"}),children:l}):null]})}),Ye=Q7,eL={completed:"success",accepted:"success",approved:"success",delivered:"success",rejected:"error",patient_rejected:"error",user_rejected:"error",awaiting_patient_approval:"warning",awaiting_user_approval:"warning"};function bi({status:e}){const{t}=ye(),n=s=>({submitted:t("caseStatusBadge.submitted"),accepted:t("caseStatusBadge.accepted"),under_review:t("caseStatusBadge.underReview"),rejected:t("caseStatusBadge.rejected"),awaiting_patient_approval:t("caseStatusBadge.awaitingApproval"),patient_rejected:t("caseStatusBadge.patientRejected"),awaiting_user_approval:t("caseStatusBadge.awaitingApproval"),user_rejected:t("caseStatusBadge.userRejected"),approved:t("caseStatusBadge.approved"),in_production:t("caseStatusBadge.inProduction"),ready_for_delivery:t("caseStatusBadge.readyForDelivery"),delivered:t("caseStatusBadge.delivered"),completed:t("caseStatusBadge.completed")})[s]||s;return r.jsx(Ye,{variant:eL[e],children:n(e)})}const tL=(e,t=[])=>{const n=parseFloat(e.total_cost||0);if(n<=0)return{remainingAmount:0,paymentStatus:"not_applicable",totalPaid:0,paymentPercentage:0};const l=t.filter(m=>m.case_id===e.id).reduce((m,p)=>m+parseFloat(p.allocated_amount||0),0),o=Math.max(0,n-l),d=n>0?l/n*100:0;let f;return o===0&&l>0?f="paid":l>0?f="partially_paid":f="unpaid",{remainingAmount:o,paymentStatus:f,totalPaid:l,paymentPercentage:Math.round(d*100)/100}},bN=()=>{const[e,t]=h.useState([]),[n,s]=h.useState(!0),[l,o]=h.useState(null),[d,f]=h.useState(0),[m,p]=h.useState(0),[g,b]=h.useState(0),[y,w]=h.useState(0),[j,S]=h.useState(0),E=h.useCallback(async()=>{try{s(!0),o(null);const{data:{user:R},error:A}=await Z.auth.getUser();if(A)throw A;if(!R)throw new Error("Not authenticated");const{data:N,error:P}=await Z.from("cases").select(`
          id,
          first_name,
          last_name,
          total_cost,
          created_at,
          status,
          payment_status,
          aligner_material,
          printing_method,
          upper_jaw_aligners,
          lower_jaw_aligners,
          estimated_duration_months,
          refinement_number,
          treatment_arch,
          is_urgent,
          case_study_fee,
          aligners_price,
          delivery_charges,
          user_note,
          admin_note
        `).eq("user_id",R.id).order("created_at",{ascending:!1});if(P)throw P;const T=(N||[]).map(F=>F.id);let C=[];if(T.length>0){const{data:F,error:B}=await Z.from("payment_case_allocations").select("case_id, allocated_amount").in("case_id",T);if(B)throw B;C=F||[]}const k=(N||[]).map(F=>{const B=tL(F,C);return{...F,...B,case_id:`CASE-${F.id}`,patient_name:`${F.first_name||""} ${F.last_name||""}`.trim()||"Unknown Patient",case_date:F.created_at,amount:parseFloat(F.total_cost||0),treatment_type:`${F.aligner_material||"Standard"} - ${F.treatment_arch?F.treatment_arch==="both"?"both arches":`${F.treatment_arch} arch only`:"Both Arches"}`,aligners_count:`${F.upper_jaw_aligners||0}U / ${F.lower_jaw_aligners||0}L`,duration:F.estimated_duration_months?`${F.estimated_duration_months} months`:"TBD",is_refinement:F.refinement_number>0,refinement_info:F.refinement_number>0?`Refinement #${F.refinement_number}`:null,urgency:F.is_urgent?"Urgent":"Standard",case_study_fee:parseFloat(F.case_study_fee||0),aligners_price:parseFloat(F.aligners_price||0),delivery_charges:parseFloat(F.delivery_charges||0)}}),$=k.length,O=k.reduce((F,B)=>F+B.remainingAmount,0),V=k.reduce((F,B)=>F+B.totalPaid,0),W=k.filter(F=>F.remainingAmount>0).length,L=k.filter(F=>F.remainingAmount===0&&F.totalPaid>0).length;t(k),f($),p(O),b(V),w(W),S(L)}catch(R){console.error("Error fetching doctor billing data:",R),o(R.message||"Failed to load billing data")}finally{s(!1)}},[]);return h.useEffect(()=>{E()},[E]),{cases:e,loading:n,error:l,totalCases:d,totalDue:m,totalPaid:g,pendingCases:y,completedCases:j,refetchBillingData:E}},vN=({totalCases:e,totalDue:t,totalPaid:n,isDashboard:s=!1,pendingCases:l,completedCases:o,submittedCases:d,withButtons:f=!1})=>r.jsx(r.Fragment,{children:r.jsxs("div",{className:"flex w-full flex-wrap items-start gap-4",children:[s===!0?r.jsx(rL,{submittedCases:d}):null,r.jsx(nL,{totalCases:e}),r.jsx(sL,{completedCases:o}),r.jsx(aL,{totalDue:t})]})}),nL=({totalCases:e})=>{const{t}=ye();return r.jsx("div",{className:"flex min-w-[240px] grow shrink-0 basis-0 flex-col items-start gap-6 rounded-md border border-solid border-neutral-border bg-default-background px-8 py-8 shadow-sm",children:r.jsxs("div",{className:"flex w-full flex-col items-start gap-2",children:[r.jsx("span",{className:"text-body font-body text-subtext-color",children:t("dashboard.totalCases")}),r.jsxs("div",{className:"flex items-end gap-2",children:[r.jsx("span",{className:"text-heading-1 font-heading-1 text-brand-700",children:e===null?r.jsx(Jt,{size:"small"}):e}),r.jsx("span",{className:"text-body font-body text-subtext-color pb-1",children:t("billingStats.allTime")})]})]})})},aL=({totalDue:e})=>{const{t}=ye();return r.jsx("div",{className:"flex min-w-[240px] grow shrink-0 basis-0 flex-col items-start gap-6 rounded-md border border-solid border-neutral-border bg-default-background px-8 py-8 shadow-sm",children:r.jsxs("div",{className:"flex w-full flex-col items-start gap-2",children:[r.jsx("span",{className:"text-body font-body text-subtext-color",children:t("doctorBillingStats.amountDue")}),r.jsxs("div",{className:"flex items-end gap-2",children:[r.jsxs("span",{className:"text-heading-1 font-heading-1 text-error-600",children:["$",e?.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})]}),r.jsx("span",{className:"text-body font-body text-subtext-color pb-1",children:t("billingStats.outstanding")})]})]})})},rL=({submittedCases:e})=>{const{t}=ye();return r.jsx("div",{className:"flex min-w-[240px] grow shrink-0 basis-0 flex-col items-start gap-6 rounded-md border border-solid border-neutral-border bg-default-background px-8 py-8 shadow-sm",children:r.jsxs("div",{className:"flex w-full flex-col items-start gap-2",children:[r.jsx("span",{className:"text-body font-body text-subtext-color",children:t("dashboard.pendingReview")}),r.jsxs("div",{className:"flex items-end gap-2",children:[r.jsx("span",{className:"text-heading-1 font-heading-1 text-error-600",children:e}),r.jsx("span",{className:"text-body font-body text-subtext-color pb-1",children:t("doctorBillingStats.cases")})]})]})})},sL=({completedCases:e})=>{const{t}=ye();return r.jsx("div",{className:"flex min-w-[240px] grow shrink-0 basis-0 flex-col items-start gap-6 rounded-md border border-solid border-neutral-border bg-default-background px-8 py-8 shadow-sm",children:r.jsxs("div",{className:"flex w-full flex-col items-start gap-2",children:[r.jsx("span",{className:"text-body font-body text-subtext-color",children:t("dashboard.completedBy3DA")}),r.jsxs("div",{className:"flex items-end gap-2",children:[r.jsx("span",{className:"text-heading-1 font-heading-1 text-success-600",children:e===null?r.jsx(Jt,{size:"small"}):e?.toLocaleString("en-US")}),r.jsx("span",{className:"text-body font-body text-subtext-color pb-1",children:t("doctorBillingStats.finished")})]})]})})};function iL(){const{t:e}=ye(),{totalCases:t,recentCases:n,casesError:s,submittedCases:l,completedCases:o,profile:d}=fi(),{totalDue:f,loading:m}=bN(),p=j2(),g=vn(),b=p.state==="loading";return r.jsxs(r.Fragment,{children:[s&&r.jsx(pt,{error:s}),r.jsxs(Bl,{children:[e("dashboard.hello")," ",d.full_name]}),m?r.jsx("div",{className:"flex w-full h-full min-h-[150px] justify-center items-center",children:r.jsx(Jt,{size:"medium"})}):r.jsx(vN,{totalDue:f,isDashboard:!0,submittedCases:l,completedCases:o,totalCases:t}),r.jsxs("div",{className:"flex w-full items-center justify-between gap-4",children:[r.jsx("span",{className:"text-heading-2 font-heading-2 text-default-font",children:e("dashboard.recentCases")}),r.jsx("div",{className:"flex-shrink-0 max-w-[300px] min-w-[200px]",children:r.jsx(Ce,{variant:"filled",label:"",helpText:"",icon:r.jsx(Tr,{}),children:r.jsx(Ce.Input,{placeholder:e("dashboard.searchCases"),value:""})})})]}),r.jsx(I,{header:r.jsxs(I.HeaderRow,{children:[r.jsx(I.HeaderCell,{children:e("cases.patientName")}),r.jsx(I.HeaderCell,{children:e("cases.status")}),r.jsx(I.HeaderCell,{children:e("cases.submissionDate")}),r.jsx(I.HeaderCell,{children:e("cases.caseId")})]}),children:b?r.jsx(I.Row,{children:r.jsx(I.Cell,{colSpan:4,children:r.jsx("div",{className:"flex w-full h-full min-h-[100px] justify-center items-center",children:r.jsx(Jt,{size:"medium"})})})}):n.length===0?r.jsx(I.Row,{children:r.jsx(I.Cell,{colSpan:4,children:r.jsx("div",{className:"text-center py-8",children:r.jsx("span",{className:"text-neutral-500",children:e("dashboard.noCases")})})})}):n.map(y=>r.jsxs(I.Row,{clickable:!0,onClick:()=>{g(`/app/cases/${y.id}`)},children:[r.jsx(I.Cell,{children:r.jsxs("span",{className:"whitespace-nowrap text-body-bold font-body-bold text-neutral-700",children:[zt(y.first_name)," ",zt(y.last_name)]})}),r.jsx(I.Cell,{children:r.jsx(bi,{status:y.status})}),r.jsx(I.Cell,{children:r.jsx("span",{className:"whitespace-nowrap text-body font-body text-neutral-500",children:y.created_at?new Date(y.created_at).toLocaleDateString():"-"})}),r.jsx(I.Cell,{children:r.jsxs("span",{className:"whitespace-nowrap text-body-bold font-body-bold text-neutral-700",children:["CASE-",y.id]})})]},y.id))})]})}const lL=()=>{const[e,t]=h.useState(""),[n,s]=h.useState(""),[l,o]=h.useState(!1),[,d]=h.useState(null),[,f]=h.useState(null),m=vn();h.useEffect(()=>{(async()=>{const{data:b}=await Z.auth.getSession();(!b?.session||!b?.session?.user?.aal==="aal1")&&m("/signin")})()},[m]);const p=async g=>{if(g.preventDefault(),!e||!n){d(null),ve.error("Please enter both fields");return}if(e!==n){d(null),ve.error("Passwords do not match");return}if(e.length<6){d(null),ve.error("Password must be at least 6 characters");return}try{d(null),o(!0);const{error:b}=await Z.auth.updateUser({password:e});if(b)throw b;ve.success("Password updated successfully!"),f(null),t(""),s(""),setTimeout(()=>{m("/app/dashboard")},2e3)}catch(b){console.error("Error updating password:",b.message),ve.error(b.message),d(null)}finally{o(!1)}};return r.jsx("div",{className:"flex min-h-screen items-center justify-center bg-gray-50 px-4 py-12 sm:px-6 lg:px-8",children:r.jsxs("div",{className:"w-full max-w-md space-y-8",children:[r.jsxs("div",{children:[r.jsx("h2",{className:"mt-6 text-center text-3xl font-bold tracking-tight text-gray-900",children:"Update your password"}),r.jsx("p",{className:"mt-2 text-center text-sm text-gray-600",children:"Please enter your new password below."})]}),r.jsxs("form",{className:"mt-8 space-y-6",onSubmit:p,children:[r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700",children:"New Password"}),r.jsx("input",{id:"password",name:"password",type:"password",autoComplete:"new-password",required:!0,value:e,onChange:g=>t(g.target.value),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-sky-500 focus:ring-sky-500 sm:text-sm p-2 border",placeholder:""})]}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-gray-700",children:"Confirm New Password"}),r.jsx("input",{id:"confirmPassword",name:"confirmPassword",type:"password",autoComplete:"new-password",required:!0,value:n,onChange:g=>s(g.target.value),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-sky-500 focus:ring-sky-500 sm:text-sm p-2 border",placeholder:""})]})]}),r.jsx("div",{children:r.jsx(ce,{type:"submit",disabled:l,className:"bg-sky-600 hover:bg-sky-500 active:bg-sky-600 w-full flex-none",size:"large",children:l?"Updating password...":"Update password"})})]})]})})},oL=()=>{const{t:e}=ye(),[t,n]=h.useState(""),[s,l]=h.useState(!1),[o,d]=h.useState(null),[f,m]=h.useState(null),p=async g=>{if(g.preventDefault(),!t){d(null),ve.error(e("resetPassword.errors.emailRequired"));return}try{d(null),l(!0);const{error:b}=await Z.auth.resetPasswordForEmail(t,{redirectTo:`${window.location.origin}/update-password`});if(b)throw b;ve.success(e("resetPassword.success.instructionsSent")),m(null),n("")}catch(b){console.error("Error resetting password:",b.message),ve.error(b.message),d(null)}finally{l(!1)}};return r.jsx("div",{className:"flex min-h-screen items-center justify-center bg-gray-50 px-4 py-12 sm:px-6 lg:px-8",children:r.jsxs("div",{className:"w-full max-w-md space-y-8",children:[r.jsxs("div",{children:[r.jsx("h2",{className:"mt-6 text-center text-3xl font-bold tracking-tight text-gray-900",children:e("resetPassword.title")}),r.jsx("p",{className:"mt-2 text-center text-sm text-gray-600",children:e("resetPassword.subtitle")})]}),r.jsxs("form",{className:"mt-8 space-y-6",onSubmit:p,children:[r.jsxs("div",{children:[r.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:e("resetPassword.emailLabel")}),r.jsx("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,value:t,onChange:g=>n(g.target.value),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-sky-500 focus:ring-sky-500 sm:text-sm p-2 border",placeholder:e("resetPassword.emailPlaceholder")})]}),r.jsx("div",{children:r.jsx(ce,{type:"submit",disabled:s,size:"large",className:"bg-brand-600 hover:bg-brand-500 active:bg-brand-600 w-full flex-none",children:e(s?"resetPassword.sending":"resetPassword.sendButton")})}),r.jsx("div",{className:"text-sm text-center",children:r.jsx(At,{to:"/login",className:"font-medium text-brand-600 hover:text-brand-500 active:text-brand-600",children:e("resetPassword.backToSignIn")})})]})]})})},Jo=10,Cp=e=>[{value:"created_at_desc",label:e("cases.filters.newestFirst"),column:"created_at",ascending:!1},{value:"created_at_asc",label:e("cases.filters.oldestFirst"),column:"created_at",ascending:!0},{value:"name_asc",label:e("cases.filters.patientAZ"),column:"first_name",ascending:!0},{value:"name_desc",label:e("cases.filters.patientZA"),column:"first_name",ascending:!1},{value:"status_asc",label:e("cases.filters.statusAZ"),column:"status",ascending:!0},{value:"status_desc",label:e("cases.filters.statusZA"),column:"status",ascending:!1}],cL=()=>{const{t:e}=ye(),t=[{value:"submitted",label:e("cases.filters.submitted")},{value:"accepted",label:e("caseStatusBadge.accepted")},{value:"rejected",label:e("cases.filters.rejected")},{value:"awaiting_user_approval",label:e("cases.filters.awaitingApproval")},{value:"user_rejected",label:e("cases.filters.rejectedByDoctor")},{value:"approved",label:e("cases.filters.approved")},{value:"in_production",label:e("cases.filters.inProduction")},{value:"ready_for_delivery",label:e("cases.filters.readyForDelivery")},{value:"delivered",label:e("cases.filters.delivered")},{value:"completed",label:e("cases.filters.completed")}],n=[{value:"today",label:e("cases.filters.today")},{value:"week",label:e("cases.filters.thisWeek")},{value:"month",label:e("cases.filters.thisMonth")},{value:"quarter",label:e("cases.filters.thisQuarter")},{value:"year",label:e("cases.filters.thisYear")}],[s,l]=h.useState([]),[o,d]=h.useState(!0),[f,m]=h.useState(!1),[p,g]=h.useState(null),[b,y]=h.useState(1),[w,j]=h.useState(0),[S,E]=h.useState(""),[R,A]=h.useState(""),[N,P]=h.useState(""),[T,C]=h.useState(""),[k,$]=h.useState("created_at_desc"),[O,V]=h.useState(!1),[W,L]=h.useState(!1),[F,B]=h.useState(!1),te=h.useRef(null),U=h.useRef(null),q=h.useRef(null),G=vn();h.useEffect(()=>{const ue=xe=>{te.current&&!te.current.contains(xe.target)&&V(!1),U.current&&!U.current.contains(xe.target)&&L(!1),q.current&&!q.current.contains(xe.target)&&B(!1)};return document.addEventListener("mousedown",ue),()=>document.removeEventListener("mousedown",ue)},[]);const J=ue=>{const xe=new Date,Ne=new Date(xe.getFullYear(),xe.getMonth(),xe.getDate()),Pe=new Date(Ne),Re=new Date(Pe),Be=new Date(Ne.getFullYear(),Ne.getMonth(),1),be=new Date(Ne.getFullYear(),Ne.getMonth()+1,1),Ae=Math.floor(Ne.getMonth()/3),Fe=new Date(Ne.getFullYear(),Ae*3,1),wt=new Date(Ne.getFullYear(),Ae*3+3,1),gt=new Date(Ne.getFullYear(),0,1),je=new Date(Ne.getFullYear()+1,0,1);switch(ue){case"today":return{start:Ne,end:new Date(Ne.getTime()+24*60*60*1e3)};case"week":return Pe.setDate(Ne.getDate()-Ne.getDay()),Re.setDate(Pe.getDate()+7),{start:Pe,end:Re};case"month":return{start:Be,end:be};case"quarter":return{start:Fe,end:wt};case"year":return{start:gt,end:je};default:return null}},D=h.useCallback(async(ue=!1)=>{try{ue?m(!0):d(!0);const{data:{user:xe}}=await Z.auth.getUser();if(!xe)throw new pt("User not authenticated");const Ne=Cp(e).find(je=>je.value===k),Pe=Ne?.column||"created_at",Re=Ne?.ascending||!1,Be=(b-1)*Jo,be=Be+Jo-1;let Ae=Z.from("cases").select("*",{count:"exact"}).order(Pe,{ascending:Re}).range(Be,be);if(S.length>=3&&(Ae=Ae.or(`first_name.ilike.%${S}%,last_name.ilike.%${S}%`)),N&&(Ae=Ae.eq("status",N)),T){const je=J(T);je&&(Ae=Ae.gte("created_at",je.start.toISOString()).lt("created_at",je.end.toISOString()))}const{data:Fe,error:wt,count:gt}=await Ae;if(wt)throw wt;l(Fe||[]),j(gt||0),g(null)}catch(xe){console.error("Error fetching cases:",xe),g(xe.message||"Failed to fetch cases"),l([]),j(0)}finally{d(!1),m(!1)}},[b,S,N,T,k,e]);h.useEffect(()=>{D()},[D]),h.useEffect(()=>{const ue=setTimeout(()=>{R.trim()!==S&&(y(1),E(R.trim()))},300);return()=>clearTimeout(ue)},[R,S]);const z=()=>{D(!0)},ae=()=>{P(""),C(""),$("created_at_desc"),A(""),E(""),y(1)},Q=ue=>{P(ue),y(1),V(!1)},ne=ue=>{C(ue),y(1),L(!1)},he=ue=>{$(ue),y(1)},ge=N||T||S||k!=="created_at_desc",we=()=>N?t.find(xe=>xe.value===N)?.label||N:e("cases.filters.status"),Te=()=>T?n.find(xe=>xe.value===T)?.label||T:e("cases.filters.date");return r.jsxs(r.Fragment,{children:[p&&r.jsx(pt,{error:p}),r.jsx(Bl,{children:e("cases.title")}),r.jsxs("div",{className:"flex w-full justify-between items-center gap-4",children:[r.jsxs("div",{className:"flex items-center gap-2 flex-1",children:[r.jsx("div",{className:"flex-grow max-w-[300px] min-w-[200px]",children:r.jsx(Ce,{className:"w-full",variant:"filled",label:"",helpText:"",icon:r.jsx(Tr,{}),children:r.jsx(Ce.Input,{placeholder:e("cases.searchPatientOrDoctor"),value:R,onChange:ue=>A(ue.target.value)})})}),r.jsxs("div",{className:"flex-shrink-0 relative",ref:te,children:[r.jsx(ce,{size:"sm",variant:N?"neutral-secondary":"neutral-tertiary",className:"px-3",iconRight:O?r.jsx(ri,{}):r.jsx(ai,{}),onClick:()=>{V(!O),L(!1)},children:we()}),O&&r.jsx("div",{className:"absolute top-full left-0 mt-1 bg-white border border-neutral-border rounded-md shadow-lg z-10 min-w-[160px]",children:r.jsxs("div",{className:"py-1",children:[r.jsx("button",{className:"w-full text-left px-3 py-2 text-sm hover:bg-neutral-50 text-neutral-700",onClick:()=>Q(""),children:e("cases.filters.allStatuses")}),t.map(ue=>r.jsx("button",{className:`w-full text-left px-3 py-2 text-sm hover:bg-neutral-50 ${N===ue.value?"bg-neutral-100 text-neutral-900":"text-neutral-700"}`,onClick:()=>Q(ue.value),children:ue.label},ue.value))]})})]}),r.jsxs("div",{className:"flex-shrink-0 relative",ref:U,children:[r.jsx(ce,{size:"sm",variant:T?"neutral-secondary":"neutral-tertiary",className:"px-3",iconRight:W?r.jsx(ri,{}):r.jsx(ai,{}),onClick:()=>{L(!W),V(!1)},children:Te()}),W&&r.jsx("div",{className:"absolute top-full left-0 mt-1 bg-white border border-neutral-border rounded-md shadow-lg z-10 min-w-[140px]",children:r.jsxs("div",{className:"py-1",children:[r.jsx("button",{className:"w-full text-left px-3 py-2 text-sm hover:bg-neutral-50 text-neutral-700",onClick:()=>ne(""),children:e("cases.filters.allDates")}),n.map(ue=>r.jsx("button",{className:`w-full text-left px-3 py-2 text-sm hover:bg-neutral-50 ${T===ue.value?"bg-neutral-100 text-neutral-900":"text-neutral-700"}`,onClick:()=>ne(ue.value),children:ue.label},ue.value))]})})]}),ge&&r.jsx(ce,{size:"sm",variant:"neutral-tertiary",className:"px-2 w-auto",onClick:ae,icon:r.jsx(bn,{}),children:e("cases.filters.clearFilters")})]}),r.jsxs("div",{className:"flex items-center gap-2 flex-shrink-0",children:[r.jsx(Wt,{icon:r.jsx(Un,{className:f?"animate-spin":""}),onClick:z,disabled:f}),r.jsxs("div",{className:"relative",ref:q,children:[r.jsx(Wt,{icon:r.jsx(rx,{}),onClick:()=>B(!F)}),F&&r.jsx("div",{className:"absolute top-full right-0 mt-1 bg-white border border-neutral-border rounded-md shadow-lg z-10 min-w-[200px]",children:r.jsxs("div",{className:"p-4",children:[r.jsx("h3",{className:"text-sm font-medium text-neutral-900 mb-3",children:e("cases.filters.sortBy")}),r.jsx("div",{className:"space-y-2",children:Cp(e).map(ue=>r.jsxs("label",{className:"flex items-center",children:[r.jsx("input",{type:"radio",name:"sort",value:ue.value,checked:k===ue.value,onChange:xe=>he(xe.target.value),className:"mr-2"}),r.jsx("span",{className:"text-sm text-neutral-700",children:ue.label})]},ue.value))})]})})]})]})]}),ge&&r.jsxs("div",{className:"flex flex-wrap gap-2 items-center",children:[r.jsx("span",{className:"text-xs text-neutral-600",children:e("cases.filters.activeFilters")}),N&&r.jsxs(Ye,{variant:"neutral",className:"text-xs",children:[e("cases.filters.status"),": ",we(),r.jsx("button",{onClick:()=>{P(""),y(1)},className:"ml-1 hover:text-neutral-800",children:""})]}),T&&r.jsxs(Ye,{variant:"neutral",className:"text-xs",children:[e("cases.filters.date"),": ",Te(),r.jsx("button",{onClick:()=>{C(""),y(1)},className:"ml-1 hover:text-neutral-800",children:""})]}),S&&r.jsxs(Ye,{variant:"neutral",className:"text-xs",children:[e("common.search"),': "',S,'"',r.jsx("button",{onClick:()=>{E(""),A(""),y(1)},className:"ml-1 hover:text-neutral-800",children:""})]}),k!=="created_at_desc"&&r.jsxs(Ye,{variant:"neutral",className:"text-xs",children:[e("cases.filters.sortBy"),":"," ",Cp(e).find(ue=>ue.value===k)?.label]})]}),r.jsx(I,{header:r.jsxs(I.HeaderRow,{children:[r.jsx(I.HeaderCell,{children:e("cases.patientName")}),r.jsx(I.HeaderCell,{children:e("cases.status")}),r.jsx(I.HeaderCell,{children:e("cases.submissionDate")}),r.jsx(I.HeaderCell,{children:e("cases.caseId")})]}),children:o?r.jsx(I.Row,{children:r.jsx(I.Cell,{colSpan:4,children:r.jsx("div",{className:"flex w-full h-full min-h-[100px] justify-center items-center",children:r.jsx(Jt,{size:"medium"})})})}):s.length===0?r.jsx(I.Row,{children:r.jsx(I.Cell,{colSpan:4,children:r.jsx("div",{className:"text-center py-8",children:r.jsx("span",{className:"text-neutral-500",children:e(ge?"cases.noMatchingCases":"cases.noCases")})})})}):s.map(ue=>r.jsxs(I.Row,{clickable:!0,onClick:()=>{G(`/app/cases/${ue.id}`)},children:[r.jsx(I.Cell,{children:r.jsxs("span",{className:"whitespace-nowrap text-body-bold font-body-bold text-neutral-700",children:[zt(ue.first_name)," ",zt(ue.last_name)]})}),r.jsx(I.Cell,{children:r.jsx(bi,{status:ue.status})}),r.jsx(I.Cell,{children:r.jsx("span",{className:"whitespace-nowrap text-body font-body text-neutral-500",children:ue.created_at?new Date(ue.created_at).toLocaleDateString():"-"})}),r.jsx(I.Cell,{children:r.jsx("span",{className:"whitespace-nowrap text-body font-body text-neutral-500",children:ue.id?`CASE-${ue.id}`:"-"})})]},ue.id))}),r.jsxs("div",{className:"flex w-full items-center justify-between",children:[r.jsx("span",{className:"text-body font-body text-subtext-color",children:w===0?e("casesPage.noCasesToShow"):e("cases.showing")+" "+Math.min((b-1)*Jo+1,w)+" - "+Math.min(b*Jo,w)+" "+e("cases.of")+" "+w+" "+e("cases.cases")}),r.jsxs("div",{className:"flex items-center gap-2",children:[b>1&&r.jsx(ce,{variant:"neutral-secondary",onClick:()=>y(b-1),disabled:o||f,children:e("common.previous")}),b*Jo<w&&r.jsx(ce,{variant:"neutral-secondary",onClick:()=>y(b+1),disabled:o||f,children:e("common.next")})]})]})]})};async function dL({params:e}){const{caseId:t}=e,{data:n,error:s}=await Z.from("cases").select("*").eq("id",t).single();return s?(console.error("Error loading case:",s),{error:s.message,caseData:null}):{caseData:{...n,first_name:Da(n.first_name),last_name:Da(n.last_name)}}}function Ic(){const[e,t]=h.useState(null),[n,s]=h.useState(!0);return h.useEffect(()=>{(async()=>{const{data:{session:o}}=await Z.auth.getSession(),d=o?.user;d&&t(d.app_metadata?.role||"user"),s(!1)})()},[]),{role:e,loading:n}}function i1({role:e,children:t,redirectTo:n="/unauthorized"}){const{role:s,loading:l}=Ic();if(l)return r.jsx(Jt,{size:"large"});let o=!1;return e==="admin"?o=xi(s):e==="super_admin"?o=Of(s):o=s===e,o?t:r.jsx(mR,{to:n,replace:!0})}function vi({children:e,submit:t,createUser:n,onCreateUser:s}){const{t:l}=ye();return r.jsxs("div",{className:"flex w-full items-center justify-between",children:[r.jsx("span",{className:"text-heading-1 font-heading-1 text-default-font",children:e}),t&&r.jsx(At,{to:"/admin/cases/new",children:r.jsx(ce,{size:"large",icon:r.jsx(oi,{}),className:"h-9",children:l("caseSubmit.submitCaseButton")})}),n&&r.jsx(ce,{size:"large",icon:r.jsx(oi,{}),onClick:s,className:"h-9",children:l("signUpRequestPage.createUserButton")})]})}const uL=De.forwardRef(function({variant:t="brand",size:n="medium",children:s,image:l,square:o=!1,className:d,...f},m){return r.jsxs("div",{className:$e("group/bec25ae6 flex h-8 w-8 flex-col items-center justify-center gap-2 overflow-hidden rounded-full bg-brand-100 relative",{"rounded-md":o,"h-5 w-5":n==="x-small","h-6 w-6":n==="small","h-12 w-12":n==="large","h-16 w-16":n==="x-large","bg-warning-100":t==="warning","bg-success-100":t==="success","bg-error-100":t==="error","bg-neutral-100":t==="neutral"},d),ref:m,...f,children:[s?r.jsx("span",{className:$e("line-clamp-1 w-full font-['Inter'] text-[14px] font-[500] leading-[14px] text-brand-800 text-center absolute",{"font-['Inter'] text-[10px] font-[500] leading-[10px] tracking-normal":n==="x-small"||n==="small","font-['Inter'] text-[18px] font-[500] leading-[18px] tracking-normal":n==="large","font-['Inter'] text-[24px] font-[500] leading-[24px] tracking-normal":n==="x-large","text-warning-800":t==="warning","text-success-800":t==="success","text-error-800":t==="error","text-neutral-800":t==="neutral"}),children:s}):null,l?r.jsx("img",{className:$e("h-8 w-8 flex-none object-cover absolute",{"h-5 w-5 flex-none":n==="x-small","h-6 w-6 flex-none":n==="small","h-12 w-12 flex-none":n==="large","h-16 w-16 flex-none":n==="x-large"}),src:l}):null]})}),Cs=uL,yN=({totalEarnings:e,totalDue:t,totalExpenses:n,onReceivePayment:s,onMakePayment:l,withButtons:o=!0})=>r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"flex w-full flex-wrap items-start gap-4",children:[e!=null&&r.jsx(fL,{totalEarnings:e}),t!=null&&r.jsx(hL,{totalDue:t}),n!=null&&r.jsx(mL,{totalExpenses:n})]}),o&&r.jsxs("div",{className:"flex w-full flex-wrap items-start gap-4",children:[r.jsx(pL,{onReceivePayment:s}),l&&r.jsx(gL,{onMakePayment:l})]})]}),fL=({totalEarnings:e})=>{const{t}=ye();return r.jsx("div",{className:"flex min-w-[240px] grow shrink-0 basis-0 flex-col items-start gap-6 rounded-md border border-solid border-neutral-border bg-default-background px-8 py-8 shadow-sm",children:r.jsxs("div",{className:"flex w-full flex-col items-start gap-2",children:[r.jsx("span",{className:"text-body font-body text-subtext-color",children:t("billingStats.netIncome")}),r.jsxs("div",{className:"flex items-end gap-2",children:[r.jsxs("span",{className:"text-heading-1 font-heading-1 text-success-600",children:["$",e.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})]}),r.jsx("span",{className:"text-body font-body text-subtext-color pb-1",children:t("billingStats.allTime")})]})]})})},hL=({totalDue:e})=>{const{t}=ye();return r.jsx("div",{className:"flex min-w-[240px] grow shrink-0 basis-0 flex-col items-start gap-6 rounded-md border border-solid border-neutral-border bg-default-background px-8 py-8 shadow-sm",children:r.jsxs("div",{className:"flex w-full flex-col items-start gap-2",children:[r.jsx("span",{className:"text-body font-body text-subtext-color",children:t("billingStats.duePayments")}),r.jsxs("div",{className:"flex items-end gap-2",children:[r.jsxs("span",{className:"text-heading-1 font-heading-1 text-error-600",children:["$",e.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})]}),r.jsx("span",{className:"text-body font-body text-subtext-color pb-1",children:t("billingStats.outstanding")})]})]})})},mL=({totalExpenses:e})=>{const{t}=ye();return r.jsx("div",{className:"flex min-w-[240px] grow shrink-0 basis-0 flex-col items-start gap-6 rounded-md border border-solid border-neutral-border bg-default-background px-8 py-8 shadow-sm",children:r.jsxs("div",{className:"flex w-full flex-col items-start gap-2",children:[r.jsx("span",{className:"text-body font-body text-subtext-color",children:t("billingStats.totalExpenses")}),r.jsxs("div",{className:"flex items-end gap-2",children:[r.jsxs("span",{className:"text-heading-1 font-heading-1 text-warning-600",children:["$",e.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})]}),r.jsx("span",{className:"text-body font-body text-subtext-color pb-1",children:t("billingStats.allTime")})]})]})})},pL=({onReceivePayment:e})=>{const{t}=ye();return r.jsx(ce,{className:"h-10 w-auto flex-none",icon:r.jsx(rk,{}),onClick:e,variant:"success-primary",children:t("billingStats.receivePayment")})},gL=({onMakePayment:e})=>{const{t}=ye();return r.jsx(ce,{className:"h-10 w-auto flex-none",variant:"destructive-primary",icon:r.jsx(Tk,{}),onClick:e,children:t("billingStats.recordExpense")})},wN=(e,t=[])=>{const n=parseFloat(e.total_cost||0);if(n<=0)return{remainingAmount:0,paymentStatus:"not_applicable",totalPaid:0,paymentPercentage:0};const l=t.filter(m=>m.case_id===e.id).reduce((m,p)=>m+parseFloat(p.allocated_amount||0),0),o=Math.max(0,n-l),d=n>0?l/n*100:0;let f;return o===0&&l>0?f="paid":l>0?f="partially_paid":f="unpaid",{remainingAmount:o,paymentStatus:f,totalPaid:l,paymentPercentage:Math.round(d*100)/100}},jN=()=>{const[e,t]=h.useState([]),[n,s]=h.useState(!0),[l,o]=h.useState(null),[d,f]=h.useState(0),[m,p]=h.useState(0),[g,b]=h.useState(0),y=h.useCallback(async()=>{try{s(!0),o(null);const{data:w,error:j}=await Z.from("profiles").select(`
          id,
          full_name,
          avatar_url,
          phone,
          clinic,
          cases:cases!user_id (
            id,
            total_cost,
            created_at,
            status,
            first_name,
            last_name
          )
        `).eq("role","user");if(j)throw j;const{data:S,error:E}=await Z.from("payment_case_allocations").select("case_id, allocated_amount");if(E)throw E;const{data:R,error:A}=await Z.from("payments").select("doctor_id, created_at, amount, type").order("created_at",{ascending:!1});if(A)throw A;const N=w.map($=>{const O=$.cases.map(B=>{const te=wN(B,S||[]);return{...B,...te}}),V=O.filter(B=>B.remainingAmount>0),W=V.reduce((B,te)=>B+te.remainingAmount,0),L=R.filter(B=>B.doctor_id===$.id&&B.type==="payment"),F=L.length>0?L[0].created_at:null;return{...$,cases:O,totalCases:$.cases.length,unpaidCasesCount:V.length,totalDueAmount:W,lastPaymentDate:F,paymentStatus:W>0?"due":"current"}});t(N);const P=N.reduce(($,O)=>$+O.totalDueAmount,0),T=(R||[]).filter($=>$.type==="expense").reduce(($,O)=>$+parseFloat(O.amount||0),0),k=(R||[]).filter($=>$.type==="payment").reduce(($,O)=>$+parseFloat(O.amount||0),0)-T;f(k),p(P),b(T)}catch(w){console.error("Error fetching billing data:",w),o(w.message||"Failed to load billing data")}finally{s(!1)}},[]);return h.useEffect(()=>{y()},[y]),{doctors:e,loading:n,error:l,totalEarnings:d,totalDue:m,totalExpenses:g,refetchBillingData:y}},xL=()=>{const[e,t]=h.useState([]),[n,s]=h.useState(!1),l=h.useCallback(async o=>{if(!o){t([]);return}try{s(!0);const{data:d,error:f}=await Z.from("cases").select("*").eq("user_id",o);if(f)throw f;const m=(d||[]).map(y=>y.id),{data:p,error:g}=await Z.from("payment_case_allocations").select("case_id, allocated_amount").in("case_id",m);if(g)throw g;const b=(d||[]).map(y=>{const w=wN(y,p||[]);return{...y,...w}}).filter(y=>y.remainingAmount>0);t(b)}catch(d){console.error("Error fetching doctor cases:",d),ve.error("Failed to load doctor cases"),t([])}finally{s(!1)}},[]);return{doctorCases:e,loadingCases:n,loadDoctorCases:l}},bL=e=>{const[t,n]=h.useState(!1),s=h.useCallback(async l=>{const{selectedDoctor:o,paymentAmount:d,selectedCases:f,doctorCases:m,paymentNotes:p}=l;if(!d||parseFloat(d)<=0)return ve.error("Please enter a valid payment amount"),!1;if(o&&f.size===0)return ve.error("Please select at least one case for this doctor"),!1;try{n(!0);const g=parseFloat(d),{data:{user:b}}=await Z.auth.getUser(),{data:y,error:w}=await Z.from("payments").insert({doctor_id:o?.id||null,amount:g,admin_id:b.id,notes:p.trim()||null,type:"payment"}).select().single();if(w)throw w;if(o&&f.size>0){const j=m.filter(A=>f.has(A.id)).reduce((A,N)=>A+N.remainingAmount,0),S=Math.max(0,g-j),E=m.filter(A=>!f.has(A.id)),R=[];if(j>0)for(const A of f){const N=m.find(P=>P.id===A);if(N){const P=N.remainingAmount/j,T=Math.min(g*P,N.remainingAmount);R.push({payment_id:y.id,case_id:A,allocated_amount:T})}}if(S>0&&E.length>0){const A=S/E.length;for(const N of E){const P=Math.min(A,N.remainingAmount);R.push({payment_id:y.id,case_id:N.id,allocated_amount:P})}}if(R.length>0){const{error:A}=await Z.from("payment_case_allocations").insert(R);if(A)throw A}}return ve.success("Payment processed successfully!"),setTimeout(()=>{e()},1e3),!0}catch(g){return console.error("Payment processing failed:",g),ve.error(g.message||"Failed to process payment"),!1}finally{n(!1)}},[e]);return{processingPayment:t,processPayment:s}};function vL(){const{t:e}=ye(),{totalCases:t,recentCases:n,casesError:s,submittedCases:l,completedCases:o}=fi(),{role:d}=Ic(),f=Of(d),{totalEarnings:m,totalDue:p,totalExpenses:g,loading:b}=jN(),y=j2(),w=vn(),j=y.state==="loading";return r.jsxs(r.Fragment,{children:[s&&r.jsx(pt,{error:s}),r.jsx(vi,{submit:!0,children:e("dashboard.title")}),r.jsxs("div",{className:"flex w-full flex-wrap items-start gap-4",children:[r.jsxs("div",{className:"flex grow shrink-0 basis-0 flex-col items-start gap-2 rounded-md border border-solid border-neutral-border bg-default-background px-6 py-6",children:[r.jsx("span",{className:"text-caption-bold font-caption-bold text-subtext-color",children:e("dashboard.totalCases")}),r.jsx("span",{className:"text-heading-2 font-heading-2 text-default-font",children:t===null?r.jsx("div",{className:"flex items-center h-8",children:r.jsx(Jt,{size:"small"})}):t})]}),r.jsxs("div",{className:"flex grow shrink-0 basis-0 flex-col items-start gap-2 rounded-md border border-solid border-neutral-border bg-default-background px-6 py-6",children:[r.jsx("span",{className:"text-caption-bold font-caption-bold text-subtext-color",children:e("dashboard.pendingReview")}),r.jsx("span",{className:"text-heading-2 font-heading-2 text-warning-700",children:l===null?r.jsx("div",{className:"flex items-center h-8",children:r.jsx(Jt,{size:"small"})}):l})]}),r.jsxs("div",{className:"flex grow shrink-0 basis-0 flex-col items-start gap-2 rounded-md border border-solid border-neutral-border bg-default-background px-6 py-6",children:[r.jsx("span",{className:"text-caption-bold font-caption-bold text-subtext-color",children:e("dashboard.completedBy3DA")}),r.jsx("span",{className:"text-heading-2 font-heading-2 text-success-700",children:o===null?r.jsx("div",{className:"flex items-center h-8",children:r.jsx(Jt,{size:"small"})}):o})]})]}),r.jsxs("div",{className:"flex w-full items-center justify-between gap-4",children:[r.jsx("span",{className:"text-heading-2 font-heading-2 text-default-font",children:e("dashboard.recentCases")}),r.jsx("div",{className:"flex-shrink-0 max-w-[300px] min-w-[200px]",children:r.jsx(Ce,{variant:"filled",label:"",helpText:"",icon:r.jsx(Tr,{}),children:r.jsx(Ce.Input,{placeholder:e("dashboard.searchCases"),value:""})})})]}),r.jsx(I,{header:r.jsxs(I.HeaderRow,{children:[r.jsx(I.HeaderCell,{children:e("cases.patient")}),r.jsx(I.HeaderCell,{children:e("cases.doctor")}),r.jsx(I.HeaderCell,{children:e("cases.clinic")}),r.jsx(I.HeaderCell,{children:e("cases.phone")}),r.jsx(I.HeaderCell,{children:e("cases.status")}),r.jsx(I.HeaderCell,{children:e("cases.submissionDate")}),r.jsx(I.HeaderCell,{children:e("cases.caseId")})]}),children:j?r.jsx(I.Row,{children:r.jsx(I.Cell,{colSpan:7,children:r.jsx("div",{className:"flex w-full h-full min-h-[100px] justify-center items-center",children:r.jsx(Jt,{size:"medium"})})})}):n.length===0?r.jsx(I.Row,{children:r.jsx(I.Cell,{colSpan:7,children:r.jsx("div",{className:"text-center py-8",children:r.jsx("span",{className:"text-neutral-500",children:e("dashboard.noCases")})})})}):n.map(S=>r.jsxs(I.Row,{clickable:!0,onClick:()=>{w(`/admin/cases/${S.id}`)},children:[r.jsx(I.Cell,{children:r.jsxs("span",{className:"whitespace-nowrap text-body-bold font-body-bold text-neutral-700",children:[zt(S.first_name)," ",zt(S.last_name)]})}),r.jsx(I.Cell,{children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Cs,{size:"small",image:S.profiles?.avatar_url||void 0,children:!S.profiles?.avatar_url&&r.jsxs(r.Fragment,{children:[zt(S.profiles?.full_name?.split(" ")[0]?.[0]),zt(S.profiles?.full_name?.split(" ").slice(-1)[0]?.[0])]})}),r.jsx("span",{className:"whitespace-nowrap text-body font-body text-neutral-700",children:zt(S.profiles?.full_name)||"-"})]})}),r.jsx(I.Cell,{children:r.jsx("span",{className:"whitespace-nowrap text-body font-body text-neutral-500",children:S.profiles?.clinic||"-"})}),r.jsx(I.Cell,{children:r.jsx("span",{className:"whitespace-nowrap text-body font-body text-neutral-500",children:S.profiles?.phone||"-"})}),r.jsx(I.Cell,{children:r.jsx(bi,{status:S.status})}),r.jsx(I.Cell,{children:r.jsx("span",{className:"whitespace-nowrap text-body font-body text-neutral-500",children:S.created_at?new Date(S.created_at).toLocaleDateString():"-"})}),r.jsx(I.Cell,{children:r.jsx("span",{className:"whitespace-nowrap text-body font-body text-neutral-500",children:S.id?`CASE-${S.id}`:"-"})})]},S.id))}),f&&r.jsxs(r.Fragment,{children:[r.jsx("span",{className:"text-heading-2 font-heading-2 text-default-font",children:e("dashboard.paymentOverview")}),b?r.jsx("div",{className:"flex w-full h-full min-h-[150px] justify-center items-center",children:r.jsx(Jt,{size:"medium"})}):r.jsx(yN,{totalEarnings:m,totalDue:p,totalExpenses:g,withButtons:!1})]})]})}function Ep({children:e}){const t=vn(),[n,s]=h.useState(null),[l,o]=h.useState(!0);if(h.useEffect(()=>{(async()=>{const{data:m}=await Z.auth.getUser();s(m.user),o(!1)})();const{data:f}=Z.auth.onAuthStateChange((m,p)=>{s(p?.user||null),o(!1)});return()=>{f.subscription.unsubscribe()}},[]),l)return r.jsx(Jt,{size:"large"});if(!n){t("/login");return}return e}const yL=De.forwardRef(function({icon:t=r.jsx(oi,{}),children:n,selected:s=!1,rightSlot:l,className:o,...d},f){return r.jsxs("div",{className:$e("group/ca0dc365 flex w-full cursor-pointer items-center gap-4 rounded-full px-5 py-4 hover:bg-neutral-50 active:bg-neutral-100",{"bg-brand-50 hover:bg-brand-50 active:bg-brand-100":s},o),ref:f,...d,children:[t?r.jsx(Ee,{className:$e("text-heading-2 font-heading-2 text-default-font",{"text-brand-700":s}),children:t}):null,n?r.jsx("span",{className:$e("line-clamp-1 grow shrink-0 basis-0 text-body-bold font-body-bold text-default-font",{"text-brand-700":s}),children:n}):null,l?r.jsx("div",{className:"flex items-center",children:l}):null]})}),wL=De.forwardRef(function({header:t,footer:n,children:s,className:l,...o},d){return r.jsxs("nav",{className:$e("flex h-full w-60 flex-col items-start border-r border-solid border-neutral-border bg-default-background",l),ref:d,...o,children:[t?r.jsx("div",{className:"flex w-full flex-col items-start gap-2 px-8 pt-8 pb-6",children:t}):null,s?r.jsx("div",{className:"flex w-full grow shrink-0 basis-0 flex-col items-start gap-1 px-4 py-4 overflow-auto",children:s}):null,n?r.jsx("div",{className:"flex w-full flex-col items-start justify-end gap-2 px-4 py-4",children:n}):null]})}),On=Object.assign(wL,{NavItem:yL}),jL=De.forwardRef(function({children:t,icon:n=r.jsx(Gu,{}),className:s,...l},o){return r.jsx(pT,{asChild:!0,...l,children:r.jsxs("div",{className:$e("group/adcae8d6 flex flex-row-reverse h-8 w-full cursor-pointer items-center gap-2 rounded-md px-3 hover:bg-neutral-100 active:bg-neutral-50 data-[highlighted]:bg-neutral-100",s),ref:o,children:[n?r.jsx(Ee,{className:"text-body font-body text-default-font",children:n}):null,t?r.jsx("span",{className:"line-clamp-1 grow shrink-0 basis-0 text-body font-body text-default-font group-hover/adcae8d6:text-default-font",children:t}):null]})})}),SL=De.forwardRef(function({className:t,...n},s){return r.jsx("div",{className:$e("flex w-full items-start gap-2 px-1 py-1",t),ref:s,...n,children:r.jsx("div",{className:"flex h-px grow shrink-0 basis-0 flex-col items-center gap-2 bg-neutral-200"})})}),NL=De.forwardRef(function({children:t,className:n,dir:s,...l},o){return t?r.jsx("div",{className:$e("flex min-w-[192px] flex-col items-start rounded-md border border-solid border-neutral-border bg-default-background px-1 py-1 shadow-lg",n),ref:o,dir:s,...l,children:t}):null}),mc=Object.assign(NL,{DropdownItem:jL,DropdownDivider:SL}),_L=De.forwardRef(function({children:t,className:n,initialBadgeCount:s,initialUserId:l,...o},d){const f=Qa(),{t:m}=ye(),[p,g]=h.useState(s??0),[b,y]=h.useState(!0),{hash:w,pathname:j,search:S}=f,E=vn(),[R,A]=h.useState(null);return h.useEffect(()=>{(async()=>{const{data:{user:P}}=await Z.auth.getUser(),{data:T}=await Z.from("profiles").select("avatar_url").eq("id",P?.id).single();A(T?.avatar_url)})()},[]),h.useEffect(()=>{let N=!0;return(async()=>{const{data:{user:P},error:T}=await Z.auth.getUser(),C=l||P?.id;if(T||!C){N&&y(!1);return}const k=`unread_count_${C}`,$=localStorage.getItem(k);N&&$!=null&&g(Number($));const{count:O,error:V}=await Z.from("notifications").select("*",{count:"exact",head:!0}).eq("recipient_id",C).eq("status","unread");!V&&N&&(g(O||0),localStorage.setItem(k,String(O||0))),N&&y(!1)})(),()=>{N=!1}},[]),h.useEffect(()=>{let N=!0;return(async()=>{const{data:{user:P}}=await Z.auth.getUser(),T=l||P?.id;if(!T||!N)return;const C=`unread_count_${T}`,k=Z.channel("notifications_changes_app").on("postgres_changes",{event:"*",schema:"public",table:"notifications",filter:`recipient_id=eq.${T}`},$=>{const O=$.eventType,V=$.new,W=$.old;let L=0;O==="INSERT"?V?.recipient_id===T&&V?.status==="unread"&&(L=1):O==="UPDATE"?V?.recipient_id===T&&(W?.status==="unread"&&V?.status!=="unread"&&(L=-1),W?.status!=="unread"&&V?.status==="unread"&&(L=1)):O==="DELETE"&&W?.recipient_id===T&&W?.status==="unread"&&(L=-1),L!==0&&g(F=>{const B=Math.max(0,(F||0)+L);return localStorage.setItem(C,String(B)),B})}).subscribe();return()=>{Z.removeChannel(k)}})(),()=>{N=!1}},[]),r.jsxs("div",{className:$e("flex h-screen w-full items-center",n),ref:d,children:[r.jsxs(On,{className:"mobile:hidden",header:r.jsx("img",{className:"flex-none",src:"/logo.png"}),footer:r.jsxs(Xg,{children:[r.jsx(Qg,{asChild:!0,children:r.jsx("div",{className:"cursor-pointer",children:r.jsx(Cs,{image:R||"/logo.png"})})}),r.jsx(Zg,{children:r.jsx(Jg,{side:"top",align:"end",sideOffset:8,asChild:!0,children:r.jsxs(mc,{children:[r.jsx(On.NavItem,{icon:r.jsx(ic,{}),onClick:()=>{E("/app/profile")},children:m("navigation.profile")}),r.jsx(On.NavItem,{icon:r.jsx(bS,{}),onClick:()=>{E("/app/settings")},children:m("navigation.settings")}),r.jsx(On.NavItem,{icon:r.jsx(gS,{}),onClick:async()=>{await Z.auth.signOut(),E("/")},children:m("navigation.signOut")})]})})})]}),children:[r.jsx(At,{to:"/app/dashboard",children:r.jsx(On.NavItem,{icon:r.jsx(mS,{}),selected:j==="/app/dashboard",children:m("navigation.home")})}),r.jsx(At,{to:"/app/cases",children:r.jsx(On.NavItem,{icon:r.jsx(pS,{}),selected:j.startsWith("/app/cases"),rightSlot:p>0?r.jsx(Ye,{variant:"error",className:"ml-2 px-2 py-0 text-xs rounded-full",children:p}):null,children:m("navigation.cases")})}),r.jsx(At,{to:"/app/billing",children:r.jsx(On.NavItem,{selected:j.startsWith("/app/billing"),icon:r.jsx(fS,{}),children:m("navigation.billing")})})]}),r.jsx(uN,{position:"top-right"}),t?r.jsx("div",{className:"flex grow shrink-0 basis-0 flex-col items-start gap-4 self-stretch overflow-y-auto bg-default-background",children:t}):null]})}),CL=_L;function EL(){const{initialBadgeCount:e,userId:t}=fi()||{};return r.jsx(CL,{initialBadgeCount:e,initialUserId:t,children:r.jsx("div",{className:"container max-w-none flex w-full flex-col items-start gap-4 bg-default-background py-12",children:r.jsx(Eg,{})})})}const RL=De.forwardRef(function({children:t,className:n,initialBadgeCount:s,initialUserId:l,...o},d){const{t:f}=ye(),m=Qa(),{hash:p,pathname:g,search:b}=m,y=vn(),[w,j]=h.useState(s??0),[S,E]=h.useState(!0),[R,A]=h.useState(0),[N,P]=h.useState(!0);return h.useEffect(()=>{let T=!0;return(async()=>{const{data:{user:C},error:k}=await Z.auth.getUser(),$=l||C?.id;if(k||!$){T&&E(!1);return}const O=`unread_count_${$}`,V=localStorage.getItem(O);T&&V!=null&&j(Number(V));const{count:W,error:L}=await Z.from("notifications").select("*",{count:"exact",head:!0}).eq("recipient_id",$).eq("status","unread");!L&&T&&(j(W||0),localStorage.setItem(O,String(W||0))),T&&E(!1)})(),()=>{T=!1}},[]),h.useEffect(()=>{let T=!0;return(async()=>{const C="signup_request_count",k=localStorage.getItem(C);T&&k!=null&&A(Number(k));const{count:$,error:O}=await Z.from("signup_requests").select("*",{count:"exact",head:!0}).eq("status","pending");!O&&T&&(A($||0),localStorage.setItem(C,String($||0))),T&&P(!1)})(),()=>{T=!1}},[]),h.useEffect(()=>{let T=!0;return(async()=>{const{data:{user:C}}=await Z.auth.getUser(),k=l||C?.id;if(!k||!T)return;const $=`unread_count_${k}`,O=Z.channel("notifications_changes_admin").on("postgres_changes",{event:"*",schema:"public",table:"notifications",filter:`recipient_id=eq.${k}`},V=>{const W=V.eventType,L=V.new,F=V.old;let B=0;W==="INSERT"?L?.recipient_id===k&&L?.status==="unread"&&(B=1):W==="UPDATE"?L?.recipient_id===k&&(F?.status==="unread"&&L?.status!=="unread"&&(B=-1),F?.status!=="unread"&&L?.status==="unread"&&(B=1)):W==="DELETE"&&F?.recipient_id===k&&F?.status==="unread"&&(B=-1),B!==0&&j(te=>{const U=Math.max(0,(te||0)+B);return localStorage.setItem($,String(U)),U})}).subscribe();return()=>{Z.removeChannel(O)}})(),()=>{T=!1}},[]),h.useEffect(()=>{let T=!0;const C="signup_request_count",k=Z.channel("signup_requests_changes_admin").on("postgres_changes",{event:"*",schema:"public",table:"signup_requests"},async $=>{if(!T)return;$.eventType,$.new,$.old;const{count:O,error:V}=await Z.from("signup_requests").select("*",{count:"exact",head:!0}).eq("status","pending");!V&&T&&(A(O||0),localStorage.setItem(C,String(O||0)))}).subscribe();return()=>{T=!1,Z.removeChannel(k)}},[]),r.jsxs("div",{className:$e("flex h-screen w-full items-center",n),ref:d,children:[r.jsxs(On,{className:"mobile:hidden",header:r.jsx("img",{className:"flex-none",src:"/logo.png"}),footer:r.jsxs(Xg,{children:[r.jsx(Qg,{asChild:!0,children:r.jsx("div",{className:"cursor-pointer",children:r.jsx(Cs,{image:"/logo.png"})})}),r.jsx(Zg,{children:r.jsx(Jg,{side:"top",align:"end",sideOffset:8,asChild:!0,children:r.jsxs(mc,{children:[r.jsx(On.NavItem,{icon:r.jsx(bS,{}),onClick:()=>{y("/admin/settings")},children:f("navigation.settings")}),r.jsx(On.NavItem,{icon:r.jsx(gS,{}),onClick:async()=>{await Z.auth.signOut(),y("/")},children:f("navigation.signOut")})]})})})]}),children:[r.jsx(At,{to:"/admin/dashboard",children:r.jsx(On.NavItem,{icon:r.jsx(mS,{}),selected:g==="/admin/dashboard",children:f("navigation.home")})}),r.jsx(At,{to:"/admin/doctors",children:r.jsx(On.NavItem,{icon:r.jsx(Ok,{}),selected:g.startsWith("/admin/doctors"),children:f("navigation.doctors")})}),r.jsx(At,{to:"/admin/cases",children:r.jsx(On.NavItem,{icon:r.jsx(pS,{}),selected:g.startsWith("/admin/cases"),rightSlot:w>0?r.jsx(Ye,{variant:"error",className:"ml-2 px-2 py-0 text-xs rounded-full",children:w}):null,children:f("navigation.cases")})}),r.jsx(At,{to:"/admin/signup-requests",children:r.jsx(On.NavItem,{icon:r.jsx(ic,{}),selected:g.startsWith("/admin/signup-requests"),rightSlot:R>0?r.jsx(Ye,{variant:"error",className:"ml-2 px-2 py-0 text-xs rounded-full",children:R}):null,children:f("navigation.signUpRequests")})}),r.jsx(At,{to:"/admin/billing",children:r.jsx(On.NavItem,{selected:g.startsWith("/admin/billing"),icon:r.jsx(fS,{}),children:f("navigation.billing")})})]}),r.jsx(uN,{position:"top-right"}),t?r.jsx("div",{className:"flex grow shrink-0 basis-0 flex-col items-start gap-4 self-stretch overflow-y-auto bg-default-background",children:t}):null]})}),AL=RL;function PL(){const{initialBadgeCount:e,userId:t}=fi()||{};return r.jsx(AL,{initialBadgeCount:e,initialUserId:t,children:r.jsx("div",{className:"container max-w-none flex w-full flex-col items-start gap-4 bg-default-background py-12",children:r.jsx(Eg,{})})})}async function TL(){const{data:{user:e}}=await Z.auth.getUser();if(!e)throw Yn("/login");const{count:t,error:n}=await Z.from("notifications").select("*",{count:"exact",head:!0}).eq("recipient_id",e.id).eq("status","unread");return{initialBadgeCount:n?0:t||0,userId:e.id}}async function kL(){const{data:{user:e}}=await Z.auth.getUser();if(!e)throw Yn("/login");const{data:t,error:n}=await Z.from("profiles").select("role").eq("id",e.id).single();if(n||!xi(t?.role))throw Yn("/unauthorized");const{count:s,error:l}=await Z.from("notifications").select("*",{count:"exact",head:!0}).eq("recipient_id",e.id).eq("status","unread");return{initialBadgeCount:l?0:s||0,userId:e.id,userRole:t?.role}}function DL(){return r.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen text-center p-6",children:[r.jsx("h1",{className:"text-5xl font-bold text-gray-800 mb-4",children:"404"}),r.jsx("p",{className:"text-lg text-gray-600 mb-6",children:"Sorry, the page youre looking for doesnt exist."}),r.jsx(At,{to:"/",className:"px-4 py-2 bg-sky-600 text-white rounded hover:bg-sky-700 transition",children:"Go Home"})]})}function ML(){return r.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen text-center p-6",children:[r.jsx("h1",{className:"text-4xl font-semibold text-red-600 mb-4",children:"Access Denied"}),r.jsx("p",{className:"text-lg text-gray-600 mb-6",children:"You dont have permission to view this page."}),r.jsx(At,{to:"/",className:"px-4 py-2 bg-gray-800 text-white rounded hover:bg-gray-900 transition",children:"Return to Home"})]})}async function OL(){const{data:{user:e}}=await Z.auth.getUser();if(!e)throw Yn("/unauthorized");const{data:t}=await Z.from("profiles").select("*").eq("id",e.id).single(),{count:n,error:s}=await Z.from("cases").select("*",{count:"exact",head:!0}).eq("user_id",e.id),{count:l,error:o}=await Z.from("cases").select("*",{count:"exact",head:!0}).eq("user_id",e.id).eq("status","submitted"),{count:d,error:f}=await Z.from("cases").select("*",{count:"exact",head:!0}).eq("user_id",e.id).eq("status","completed"),{data:m,error:p}=await Z.from("cases").select("*").eq("user_id",e.id).order("created_at",{ascending:!1}).limit(3);return{totalCases:s?"":n,submittedCases:o?"":l,completedCases:f?"_":d,recentCases:m||[],casesError:p?.message||null,submittedError:o?.message||null,profile:t||"_"}}function SN({variant:e="dropdown"}){const{i18n:t,t:n}=ye(),s=async l=>{try{t.changeLanguage(l),localStorage.setItem("language",l),document.dir=l==="ar"?"rtl":"ltr",document.documentElement.lang=l;const{data:{user:o}}=await Z.auth.getUser();if(o){const{error:d}=await Z.from("profiles").update({language_preference:l}).eq("id",o.id);d?(console.error("Error saving language preference:",d),ve.error("Failed to save language preference")):ve.success(l==="ar"?"    ":"Language preference saved successfully")}window.location.reload()}catch(o){console.error("Error changing language:",o),ve.error("Failed to change language")}};return e==="cards"?r.jsxs("div",{className:"flex w-full flex-col gap-4",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Kp,{className:"w-5 h-5 text-subtext-color"}),r.jsx("span",{className:"text-heading-3 font-heading-3 text-default-font",children:n("settings.language")})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("button",{onClick:()=>s("en"),className:`flex flex-col items-start gap-2 rounded-md border p-4 transition-all ${t.language==="en"?"border-brand-600 bg-brand-50":"border-neutral-border bg-default-background hover:border-neutral-400"}`,children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{className:"text-2xl",children:""}),r.jsx("span",{className:"text-body-bold font-body-bold text-default-font",children:"English"})]}),t.language==="en"&&r.jsx("span",{className:"text-caption text-brand-600",children:" Current Language"})]}),r.jsxs("button",{onClick:()=>s("ar"),className:`flex flex-col items-start gap-2 rounded-md border p-4 transition-all ${t.language==="ar"?"border-brand-600 bg-brand-50":"border-neutral-border bg-default-background hover:border-neutral-400"}`,children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{className:"text-2xl",children:""}),r.jsx("span",{className:"text-body-bold font-body-bold text-default-font",children:""})]}),t.language==="ar"&&r.jsx("span",{className:"text-caption text-brand-600",children:"  "})]})]})]}):r.jsxs("div",{className:"relative group",children:[r.jsxs("button",{className:"flex items-center gap-2 px-3 py-2 rounded-md hover:bg-neutral-100 transition-colors",children:[r.jsx(Kp,{className:"w-5 h-5"}),r.jsx("span",{className:"text-body font-body",children:t.language==="ar"?"":"English"})]}),r.jsxs("div",{className:"absolute top-full right-0 mt-1 hidden group-hover:block bg-white border border-neutral-border rounded-md shadow-lg z-50 min-w-[150px]",children:[r.jsxs("button",{onClick:()=>s("en"),className:`w-full text-left px-4 py-2 hover:bg-neutral-50 flex items-center gap-2 ${t.language==="en"?"bg-brand-50 text-brand-600":""}`,children:[r.jsx("span",{children:""}),r.jsx("span",{children:"English"})]}),r.jsxs("button",{onClick:()=>s("ar"),className:`w-full text-left px-4 py-2 hover:bg-neutral-50 flex items-center gap-2 ${t.language==="ar"?"bg-brand-50 text-brand-600":""}`,children:[r.jsx("span",{children:""}),r.jsx("span",{children:""})]})]})]})}function LL(){const{t:e}=ye(),[t,n]=h.useState(""),[s,l]=h.useState(""),[o,d]=h.useState(!1),[f,m]=h.useState(null),p=y=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(y.trim()),g=async()=>{if(!p(t)){ve.error(e("settings.errors.invalidEmail"));return}d(!0),m(null);const{error:y}=await Z.auth.updateUser({email:t});y?(ve.error(y.message),m(y.message)):(ve.success(e("settings.success.emailUpdated")),n("")),d(!1)},b=async()=>{if(s.length<6){ve.error(e("settings.errors.passwordTooShort"));return}d(!0),m(null);const{error:y}=await Z.auth.updateUser({password:s});y?(ve.error(y.message),m(y.message)):(ve.success(e("settings.success.passwordUpdated")),l("")),d(!1)};return r.jsxs(r.Fragment,{children:[f&&r.jsx(pt,{error:f}),r.jsx(Bl,{submit:!1,children:e("settings.title")}),r.jsx("p",{className:"text-body font-body text-subtext-color",children:e("settings.subtitle")}),r.jsxs("div",{className:"flex w-full flex-col items-start gap-6",children:[r.jsx("span",{className:"text-heading-2 font-heading-2 text-default-font",children:e("settings.language")}),r.jsx("div",{className:"flex w-full flex-col gap-6 rounded-md border border-solid border-neutral-border bg-default-background px-6 py-6 shadow-sm",children:r.jsx(SN,{variant:"cards"})})]}),r.jsxs("div",{className:"flex w-full flex-col items-start gap-6",children:[r.jsx("span",{className:"text-heading-2 font-heading-2 text-default-font",children:e("settings.updateEmail")}),r.jsxs("div",{className:"flex w-full flex-col gap-6 rounded-md border border-solid border-neutral-border bg-default-background px-6 py-6 shadow-sm",children:[r.jsxs("div",{children:[r.jsx("span",{className:"text-heading-3 font-heading-3 text-default-font",children:e("settings.updateEmail")}),r.jsx("span",{className:"block text-body font-body text-subtext-color",children:e("settings.emailDescription")})]}),r.jsx(Ce,{className:"w-full",label:e("settings.newEmail"),children:r.jsx(Ce.Input,{type:"email",placeholder:e("settings.emailPlaceholder"),value:t,onChange:y=>n(y.target.value)})}),r.jsx(ce,{className:"w-auto",onClick:g,disabled:o,loading:o,children:e("settings.updateEmail")})]})]}),r.jsxs("div",{className:"flex w-full flex-col items-start gap-6",children:[r.jsx("span",{className:"text-heading-2 font-heading-2 text-default-font",children:e("settings.changePassword")}),r.jsxs("div",{className:"flex w-full flex-col gap-6 rounded-md border border-solid border-neutral-border bg-default-background px-6 py-6 shadow-sm",children:[r.jsxs("div",{children:[r.jsx("span",{className:"text-heading-3 font-heading-3 text-default-font",children:e("settings.changePassword")}),r.jsx("span",{className:"block text-body font-body text-subtext-color",children:e("settings.passwordDescription")})]}),r.jsx(Ce,{className:"w-full",label:e("settings.newPassword"),children:r.jsx(Ce.Input,{type:"password",placeholder:e("settings.passwordPlaceholder"),value:s,onChange:y=>l(y.target.value)})}),r.jsx(ce,{className:"w-auto",onClick:b,disabled:o,loading:o,children:e("settings.changePassword")})]})]})]})}function UL(){const{t:e,i18n:t}=ye(),n=t.language==="ar",s=vn(),l=h.useRef(null),[o,d]=h.useState(!0),[f,m]=h.useState(!1),[p,g]=h.useState(!1),[b,y]=h.useState(null),[w,j]=h.useState({full_name:"",email:"",phone:"",clinic:"",address:"",avatar_url:""});h.useEffect(()=>{(async()=>{d(!0),y(null);try{const{data:{user:N}}=await Z.auth.getUser(),{data:P,error:T}=await Z.from("profiles").select("*").eq("id",N.id).single();if(T)throw T;P&&j({full_name:P.full_name||"",email:P.email||N.email||"",phone:P.phone||"",clinic:P.clinic||"",address:P.address||"",avatar_url:P.avatar_url||""})}catch(N){console.error("Error fetching profile:",N),y(N.message),ve.error(e("profile.errors.fetchFailed"))}finally{d(!1)}})()},[e]);const S=A=>{j({...w,[A.target.name]:A.target.value})},E=async()=>{m(!0),y(null);try{const{data:{user:A}}=await Z.auth.getUser(),{error:N}=await Z.from("profiles").update({full_name:w.full_name,phone:w.phone,clinic:w.clinic,address:w.address,avatar_url:w.avatar_url}).eq("id",A.id);if(N)throw N;ve.success(e("profile.success.updated"))}catch(A){console.error("Error updating profile:",A),y(A.message),ve.error(e("profile.errors.updateFailed"))}finally{m(!1)}},R=async A=>{const N=A.target.files?.[0];if(N){g(!0),y(null);try{const{data:{user:P}}=await Z.auth.getUser(),C=(W=>W.normalize("NFD").replace(/[\u0300-\u036f]/g,"").replace(/[^\w.-]/g,"_"))(N.name),k=`${P.id}/${Date.now()}-${C}`,{error:$}=await Z.storage.from("avatars").upload(k,N,{upsert:!1,contentType:N.type||"image/jpeg"});if($)throw $;const{data:O}=Z.storage.from("avatars").getPublicUrl(k);j(W=>({...W,avatar_url:O.publicUrl}));const{error:V}=await Z.from("profiles").update({avatar_url:O.publicUrl}).eq("id",P.id);if(V)throw V;ve.success(e("profile.success.avatarUpdated"))}catch(P){console.error("Avatar upload error:",P),y(P.message),ve.error(P?.message||e("profile.errors.avatarFailed"))}finally{g(!1)}}};return r.jsxs(r.Fragment,{children:[b&&r.jsx(pt,{error:b}),r.jsx(Bl,{submit:!1,children:e("profile.title")}),r.jsx("p",{className:"text-body font-body text-subtext-color",children:e("profile.subtitle")}),o?r.jsx("div",{className:"flex w-full h-full min-h-[200px] justify-center items-center",children:r.jsx(Jt,{size:"medium"})}):r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"flex w-full flex-col items-start gap-6",children:[r.jsx("span",{className:"text-heading-2 font-heading-2 text-default-font",children:e("profile.profilePhoto")}),r.jsxs("div",{className:"flex w-full flex-col gap-6 rounded-md border border-solid border-neutral-border bg-default-background px-6 py-6 shadow-sm",children:[r.jsx("div",{children:r.jsx("span",{className:"block text-body font-body text-subtext-color",children:e("profile.avatarDescription")})}),r.jsx("div",{className:"flex w-full items-center justify-center gap-4",children:r.jsxs("div",{className:"flex flex-col items-center gap-2",children:[r.jsx(Cs,{size:"x-large",image:w.avatar_url,children:w.full_name?.charAt(0)}),r.jsx(Wt,{icon:r.jsx(ck,{}),onClick:()=>l.current?.click(),disabled:p}),p&&r.jsx("span",{className:"text-caption text-subtext-color",children:e("common.loading")}),r.jsx("input",{ref:l,type:"file",accept:"image/*",onChange:R,hidden:!0})]})})]})]}),r.jsxs("div",{className:"flex w-full flex-col items-start gap-6",children:[r.jsx("span",{className:"text-heading-2 font-heading-2 text-default-font",children:e("profile.personalInformation")}),r.jsxs("div",{className:"flex w-full flex-col gap-6 rounded-md border border-solid border-neutral-border bg-default-background px-6 py-6 shadow-sm",children:[r.jsx(Ce,{className:"w-full",label:e("profile.fullName"),children:r.jsx(Ce.Input,{name:"full_name",placeholder:e("profile.fullNamePlaceholder"),value:w.full_name,onChange:S})}),r.jsx(Ce,{className:"w-full",label:e("profile.email"),children:r.jsx(Ce.Input,{name:"email",placeholder:e("profile.emailPlaceholder"),value:w.email,onChange:S,disabled:!0})}),r.jsx(Ce,{className:"w-full",label:e("profile.phoneNumber"),children:r.jsx(Ce.Input,{name:"phone",placeholder:e("profile.phonePlaceholder"),value:w.phone,onChange:S,className:` ${n?"text-right":""}`,style:{direction:"ltr"}})}),r.jsx(Ce,{className:"w-full",label:e("profile.clinicName"),children:r.jsx(Ce.Input,{name:"clinic",placeholder:e("profile.clinicPlaceholder"),value:w.clinic,onChange:S})}),r.jsx(Ce,{className:"w-full",label:e("profile.clinicAddress"),children:r.jsx(Ce.Input,{name:"address",placeholder:e("profile.addressPlaceholder"),value:w.address,onChange:S})}),r.jsxs("div",{className:"flex w-full items-center justify-end gap-3",children:[r.jsx(ce,{className:"w-auto",variant:"neutral-secondary",onClick:()=>s(-1),children:e("common.cancel")}),r.jsx(ce,{className:"w-auto",onClick:E,loading:f,children:e("profile.saveChanges")})]})]})]})]})]})}async function $L(){const{data:{user:e}}=await Z.auth.getUser();if(!e)throw Yn("/login");const{data:t,error:n}=await Z.from("profiles").select("role").eq("id",e.id).single();if(n||!xi(t?.role))throw Yn("/unauthorized");const[s,l,o,d]=await Promise.all([Z.from("cases").select("id",{count:"exact",head:!0}),Z.from("cases").select("id",{count:"exact",head:!0}).eq("status","submitted"),Z.from("cases").select("id",{count:"exact",head:!0}).eq("status","completed"),Z.from("cases").select("id, first_name, last_name, status, created_at, user_id, profiles:user_id (full_name, avatar_url, clinic, phone)").order("created_at",{ascending:!1}).limit(5)]),{count:f,error:m}=s,{count:p,error:g}=l,{count:b,error:y}=o,{data:w,error:j}=d,S=(w||[]).map(E=>({...E,first_name:Da(E.first_name),last_name:Da(E.last_name),profiles:E.profiles?{...E.profiles,full_name:Da(E.profiles.full_name)}:E.profiles}));return{totalCases:m?"":f,submittedCases:g?"":p,completedCases:y?"":b,recentCases:S,casesError:j?.message||null,submittedError:g?.message||null,completedError:y?.message||null,userRole:t?.role}}const Zo=10,FL=e=>[{value:"submitted",label:e("cases.filters.submitted")},{value:"rejected",label:e("cases.filters.rejected")},{value:"awaiting_user_approval",label:e("cases.filters.awaitingApproval")},{value:"user_rejected",label:e("cases.filters.rejectedByDoctor")},{value:"approved",label:e("cases.filters.approved")},{value:"in_production",label:e("cases.filters.inProduction")},{value:"ready_for_delivery",label:e("cases.filters.readyForDelivery")},{value:"delivered",label:e("cases.filters.delivered")},{value:"completed",label:e("cases.filters.completed")}],IL=e=>[{value:"today",label:e("cases.filters.today")},{value:"week",label:e("cases.filters.thisWeek")},{value:"month",label:e("cases.filters.thisMonth")},{value:"quarter",label:e("cases.filters.thisQuarter")},{value:"year",label:e("cases.filters.thisYear")}],BL=e=>[{value:"created_at_desc",label:e("cases.filters.newestFirst"),column:"created_at",ascending:!1},{value:"created_at_asc",label:e("cases.filters.oldestFirst"),column:"created_at",ascending:!0},{value:"patient_name_asc",label:e("cases.filters.patientAZ"),column:"first_name",ascending:!0},{value:"patient_name_desc",label:e("cases.filters.patientZA"),column:"first_name",ascending:!1},{value:"doctor_name_asc",label:e("cases.filters.doctorAZ"),column:"profiles(full_name)",ascending:!0},{value:"doctor_name_desc",label:e("cases.filters.doctorZA"),column:"profiles(full_name)",ascending:!1},{value:"status_asc",label:e("cases.filters.statusAZ"),column:"status",ascending:!0},{value:"status_desc",label:e("cases.filters.statusZA"),column:"status",ascending:!1}],zL=()=>{const[e,t]=h.useState([]),[n,s]=h.useState(!0),[l,o]=h.useState(!1),[d,f]=h.useState(null),[m,p]=h.useState(1),[g,b]=h.useState(0),[y,w]=h.useState(""),[j,S]=h.useState(""),[E,R]=h.useState([]),{t:A}=ye(),N=h.useMemo(()=>FL(A),[A]),P=h.useMemo(()=>IL(A),[A]),T=h.useMemo(()=>BL(A),[A]),[C,k]=h.useState(""),[$,O]=h.useState(""),[V,W]=h.useState(""),[L,F]=h.useState("created_at_desc"),[B,te]=h.useState(!1),[U,q]=h.useState(!1),[G,J]=h.useState(!1),[D,z]=h.useState(!1),ae=h.useRef(null),Q=h.useRef(null),ne=h.useRef(null),he=h.useRef(null),ge=vn();h.useEffect(()=>{(async()=>{try{const{data:Ae,error:Fe}=await Z.from("services").select("name").eq("type","aligners_material").eq("is_active",!0).order("name",{ascending:!0});if(Fe)throw Fe;const wt=(Ae||[]).map(gt=>({value:gt.name,label:gt.name}));R(wt)}catch(Ae){console.error("Error fetching aligner materials:",Ae)}})()},[]),h.useEffect(()=>{const be=Ae=>{ae.current&&!ae.current.contains(Ae.target)&&te(!1),Q.current&&!Q.current.contains(Ae.target)&&q(!1),ne.current&&!ne.current.contains(Ae.target)&&J(!1),he.current&&!he.current.contains(Ae.target)&&z(!1)};return document.addEventListener("mousedown",be),()=>document.removeEventListener("mousedown",be)},[]);const we=be=>{const Ae=new Date,Fe=new Date(Ae.getFullYear(),Ae.getMonth(),Ae.getDate()),wt=new Date(Fe),gt=new Date(wt),je=new Date(Fe.getFullYear(),Fe.getMonth(),1),it=new Date(Fe.getFullYear(),Fe.getMonth()+1,1),at=Math.floor(Fe.getMonth()/3),_t=new Date(Fe.getFullYear(),at*3,1),xt=new Date(Fe.getFullYear(),at*3+3,1),$t=new Date(Fe.getFullYear(),0,1),Pt=new Date(Fe.getFullYear()+1,0,1);switch(be){case"today":return{start:Fe,end:new Date(Fe.getTime()+24*60*60*1e3)};case"week":return wt.setDate(Fe.getDate()-Fe.getDay()),gt.setDate(wt.getDate()+7),{start:wt,end:gt};case"month":return{start:je,end:it};case"quarter":return{start:_t,end:xt};case"year":return{start:$t,end:Pt};default:return null}},Te=h.useCallback(async(be=!1)=>{try{be?o(!0):s(!0);let Ae=Z.from("cases").select(`
            *,
            profiles (
              id,
              full_name,
              phone,
              clinic,
              avatar_url
            )
          `,{count:"exact"});if(y.length>=3&&(Ae=Ae.or(`first_name.ilike.%${y}%,last_name.ilike.%${y}%,profiles.full_name.ilike.%${y}%`)),C&&(Ae=Ae.eq("status",C)),$&&(Ae=Ae.eq("aligner_material",$)),V){const Ve=we(V);Ve&&(Ae=Ae.gte("created_at",Ve.start.toISOString()).lt("created_at",Ve.end.toISOString()))}const{count:Fe,error:wt}=await Ae;if(wt)throw wt;b(Fe||0);const gt=T.find(Ve=>Ve.value===L),je=gt?.column||"created_at",it=gt?.ascending||!1;let at=Ae.select(`
          *,
          profiles (
            id,
            full_name,
            phone,
            clinic,
            avatar_url
          )
        `);je.includes("profiles")?at=at.order("created_at",{ascending:!1}):at=at.order(je,{ascending:it});const _t=(m-1)*Zo,xt=_t+Zo-1,{data:$t,error:Pt}=await at.range(_t,xt);if(Pt)throw Pt;let rt=($t||[]).map(Ve=>({...Ve,first_name:Da(Ve.first_name),last_name:Da(Ve.last_name),profiles:Ve.profiles?{...Ve.profiles,full_name:Da(Ve.profiles.full_name)}:Ve.profiles}));je.includes("profiles")&&rt.sort((Ve,ut)=>{const kn=Ve.profiles?.full_name||"",Nn=ut.profiles?.full_name||"",vt=kn.localeCompare(Nn);return it?vt:-vt}),t(rt),f(null)}catch(Ae){console.error("Error fetching cases:",Ae),f(Ae.message)}finally{s(!1),o(!1)}},[m,y,C,$,V,L,T]);h.useEffect(()=>{Te()},[Te]),h.useEffect(()=>{const be=setTimeout(()=>{p(1),w(j.trim())},300);return()=>clearTimeout(be)},[j]),h.useEffect(()=>{p(1)},[C,$,V,L]);const ue=()=>{Te(!0)},xe=()=>{k(""),O(""),W(""),F("created_at_desc"),S(""),w(""),p(1)},Ne=C||$||V||y||L!=="created_at_desc",Pe=()=>C?N.find(Ae=>Ae.value===C)?.label||C:A("cases.filters.status"),Re=()=>$?E.find(Ae=>Ae.value===$)?.label||$:A("cases.filters.material"),Be=()=>V?P.find(Ae=>Ae.value===V)?.label||V:A("cases.filters.date");return r.jsxs(r.Fragment,{children:[d&&r.jsx(pt,{error:d}),r.jsx(vi,{submit:!0,children:A("navigation.allCases")}),r.jsxs("div",{className:"flex w-full justify-between items-center gap-4",children:[r.jsxs("div",{className:"flex items-center gap-2 flex-1",children:[r.jsx("div",{className:"flex-grow max-w-[300px] min-w-[200px]",children:r.jsx(Ce,{className:"w-full",variant:"filled",label:"",helpText:"",icon:r.jsx(Tr,{}),children:r.jsx(Ce.Input,{placeholder:A("cases.searchPatientOrDoctor"),value:j,onChange:be=>S(be.target.value)})})}),r.jsxs("div",{className:"flex-shrink-0 relative",ref:ae,children:[r.jsx(ce,{size:"sm",variant:C?"neutral-secondary":"neutral-tertiary",className:"px-3",iconRight:B?r.jsx(ri,{}):r.jsx(ai,{}),onClick:()=>{te(!B),q(!1),J(!1)},children:Pe()}),B&&r.jsx("div",{className:"absolute top-full left-0 mt-1 bg-white border border-neutral-border rounded-md shadow-lg z-10 min-w-[160px]",dir:"rtl",children:r.jsxs("div",{className:"py-1",children:[r.jsx("button",{className:"w-full text-right px-3 py-2 text-sm hover:bg-neutral-50 text-neutral-700",onClick:()=>{k(""),te(!1)},children:A("cases.filters.allStatuses")}),N.map(be=>r.jsx("button",{className:`w-full text-right px-3 py-2 text-sm hover:bg-neutral-50 ${C===be.value?"bg-neutral-100 text-neutral-900":"text-neutral-700"}`,onClick:()=>{k(be.value),te(!1)},children:be.label},be.value))]})})]}),r.jsxs("div",{className:"flex-shrink-0 relative",ref:Q,children:[r.jsx(ce,{size:"sm",variant:$?"neutral-secondary":"neutral-tertiary",className:"px-3",iconRight:U?r.jsx(ri,{}):r.jsx(ai,{}),onClick:()=>{q(!U),te(!1),J(!1)},children:Re()}),U&&r.jsx("div",{className:"absolute top-full left-0 mt-1 bg-white border border-neutral-border rounded-md shadow-lg z-10 min-w-[140px] max-h-[300px] overflow-y-auto",dir:"rtl",children:r.jsxs("div",{className:"py-1",children:[r.jsx("button",{className:"w-full text-right px-3 py-2 text-sm hover:bg-neutral-50 text-neutral-700",onClick:()=>{O(""),q(!1)},children:A("cases.filters.allMaterials")}),E.map(be=>r.jsx("button",{className:`w-full text-right px-3 py-2 text-sm hover:bg-neutral-50 ${$===be.value?"bg-neutral-100 text-neutral-900":"text-neutral-700"}`,onClick:()=>{O(be.value),q(!1)},children:be.label},be.value))]})})]}),r.jsxs("div",{className:"flex-shrink-0 relative",ref:ne,children:[r.jsx(ce,{size:"sm",variant:V?"neutral-secondary":"neutral-tertiary",className:"px-3",iconRight:G?r.jsx(ri,{}):r.jsx(ai,{}),onClick:()=>{J(!G),te(!1),q(!1)},children:Be()}),G&&r.jsx("div",{className:"absolute top-full left-0 mt-1 bg-white border border-neutral-border rounded-md shadow-lg z-10 min-w-[140px]",dir:"rtl",children:r.jsxs("div",{className:"py-1",children:[r.jsx("button",{className:"w-full text-right px-3 py-2 text-sm hover:bg-neutral-50 text-neutral-700",onClick:()=>{W(""),J(!1)},children:A("cases.filters.allDates")}),P.map(be=>r.jsx("button",{className:`w-full text-right px-3 py-2 text-sm hover:bg-neutral-50 ${V===be.value?"bg-neutral-100 text-neutral-900":"text-neutral-700"}`,onClick:()=>{W(be.value),J(!1)},children:be.label},be.value))]})})]}),Ne&&r.jsx(ce,{size:"sm",variant:"neutral-tertiary",className:"px-2 w-auto",onClick:xe,icon:r.jsx(bn,{}),children:A("cases.filters.clearFilters")})]}),r.jsxs("div",{className:"flex items-center gap-2 flex-shrink-0",children:[r.jsx(Wt,{icon:r.jsx(Un,{className:l?"animate-spin":""}),onClick:ue,disabled:l}),r.jsxs("div",{className:"relative",ref:he,children:[r.jsx(Wt,{icon:r.jsx(rx,{}),onClick:()=>z(!D)}),D&&r.jsx("div",{className:"absolute top-full left-0 mt-1 bg-white border border-neutral-border rounded-md shadow-lg z-10 min-w-[200px]",dir:"rtl",children:r.jsxs("div",{className:"p-4",children:[r.jsx("h3",{className:"text-sm font-medium text-neutral-900 mb-3 text-right",children:A("cases.filters.sortBy")}),r.jsx("div",{className:"space-y-2",children:T.map(be=>r.jsxs("label",{className:"flex items-center justify-start",children:[r.jsx("span",{className:"text-sm text-neutral-700 order-2",children:be.label}),r.jsx("input",{type:"radio",name:"sort",value:be.value,checked:L===be.value,onChange:Ae=>F(Ae.target.value),className:"ml-2 order-1"})]},be.value))})]})})]})]})]}),Ne&&r.jsxs("div",{className:"flex flex-wrap gap-2 items-center",children:[r.jsx("span",{className:"text-xs text-neutral-600",children:A("cases.filters.activeFilters")}),C&&r.jsxs(Ye,{variant:"neutral",className:"text-xs",children:[A("cases.filters.status"),": ",Pe(),r.jsx("button",{onClick:()=>k(""),className:"ml-1 hover:text-neutral-800",children:""})]}),$&&r.jsxs(Ye,{variant:"neutral",className:"text-xs",children:[A("cases.filters.material"),": ",Re(),r.jsx("button",{onClick:()=>O(""),className:"ml-1 hover:text-neutral-800",children:""})]}),V&&r.jsxs(Ye,{variant:"neutral",className:"text-xs",children:[A("cases.filters.date"),": ",Be(),r.jsx("button",{onClick:()=>W(""),className:"ml-1 hover:text-neutral-800",children:""})]}),y&&r.jsxs(Ye,{variant:"neutral",className:"text-xs",children:[A("common.search"),': "',y,'"',r.jsx("button",{onClick:()=>{w(""),S("")},className:"ml-1 hover:text-neutral-800",children:""})]}),L!=="created_at_desc"&&r.jsxs(Ye,{variant:"neutral",className:"text-xs",children:[A("cases.filters.sortBy"),":"," ",T.find(be=>be.value===L)?.label]})]}),r.jsx(I,{header:r.jsxs(I.HeaderRow,{children:[r.jsx(I.HeaderCell,{children:A("cases.patient")}),r.jsx(I.HeaderCell,{children:A("cases.doctor")}),r.jsx(I.HeaderCell,{children:A("cases.clinic")}),r.jsx(I.HeaderCell,{children:A("cases.filters.material")}),r.jsx(I.HeaderCell,{children:A("cases.phone")}),r.jsx(I.HeaderCell,{children:A("cases.status")}),r.jsx(I.HeaderCell,{children:A("cases.submitted")}),r.jsx(I.HeaderCell,{children:A("cases.caseId")})]}),children:n?r.jsx(I.Row,{children:r.jsx(I.Cell,{colSpan:8,children:r.jsx("div",{className:"flex w-full h-full min-h-[100px] justify-center items-center",children:r.jsx(Jt,{size:"medium"})})})}):e.length===0?r.jsx(I.Row,{children:r.jsx(I.Cell,{colSpan:8,children:r.jsx("div",{className:"text-center py-8",children:r.jsx("span",{className:"text-neutral-500",children:A(Ne?"cases.noMatchingCases":"cases.noCases")})})})}):e.map(be=>r.jsxs(I.Row,{clickable:!0,onClick:()=>ge(`/admin/cases/${be.id}`),children:[r.jsx(I.Cell,{children:r.jsxs("span",{className:"whitespace-nowrap text-body-bold font-body-bold text-neutral-700",children:[be.first_name," ",be.last_name]})}),r.jsx(I.Cell,{children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Cs,{size:"small",image:be.profiles?.avatar_url||void 0,children:!be.profiles?.avatar_url&&r.jsxs(r.Fragment,{children:[zt(be.profiles?.full_name?.split(" ")[0]?.[0]),zt(be.profiles?.full_name?.split(" ").slice(-1)[0]?.[0])]})}),r.jsx("span",{className:"whitespace-nowrap text-body font-body text-neutral-700",children:be.profiles?.full_name||"-"})]})}),r.jsx(I.Cell,{children:r.jsx("span",{className:"whitespace-nowrap text-body font-body text-neutral-500",children:be.profiles?.clinic||"-"})}),r.jsx(I.Cell,{children:r.jsx("span",{className:"whitespace-nowrap text-body font-body text-neutral-700",children:be.aligner_material||"-"})}),r.jsx(I.Cell,{children:r.jsx("span",{className:"whitespace-nowrap text-body font-body text-neutral-500",style:{direction:"ltr"},children:be.profiles?.phone||"-"})}),r.jsx(I.Cell,{children:r.jsx(bi,{status:be.status})}),r.jsx(I.Cell,{children:r.jsx("span",{className:"whitespace-nowrap text-body font-body text-neutral-500",children:be.created_at?new Date(be.created_at).toLocaleDateString():"-"})}),r.jsx(I.Cell,{children:r.jsx("span",{className:"whitespace-nowrap text-body font-body text-neutral-500",children:be.id?`CASE-${be.id}`:"-"})})]},be.id))}),r.jsxs("div",{className:"flex w-full items-center justify-between",children:[r.jsx("span",{className:"text-body font-body text-subtext-color",children:g===0?A("casesPage.noCasesToShow"):`${A("cases.showing")} ${Math.min((m-1)*Zo+1,g)} - ${Math.min(m*Zo,g)} ${A("cases.of")} ${g} ${A("cases.cases")}`}),r.jsxs("div",{className:"flex items-center gap-2",children:[m>1&&r.jsx(ce,{variant:"neutral-secondary",onClick:()=>p(m-1),disabled:n||l,children:A("common.previous")}),m*Zo<g&&r.jsx(ce,{variant:"neutral-secondary",onClick:()=>p(m+1),disabled:n||l,children:A("common.next")})]})]})]})};async function qL({params:e}){const{caseId:t}=e,{data:{user:n}}=await Z.auth.getUser();if(!n)throw Yn("/login");const{data:s,error:l}=await Z.from("profiles").select("role").eq("id",n.id).single();if(l||!xi(s?.role))throw Yn("/unauthorized");const{data:o,error:d}=await Z.from("cases").select(`
      *,
      profiles (
        full_name,
        clinic,
        phone
      )
    `).eq("id",t).single();if(d)return console.error("Error loading case:",d),{error:d.message,caseData:null};let f=o;if(!o?.profiles&&o?.user_id){const{data:m,error:p}=await Z.from("profiles").select("full_name, clinic, phone").eq("id",o.user_id).single();!p&&m&&(f={...o,profiles:m})}return{caseData:f}}const Xo=10,HL=e=>[{value:"name_asc",label:e("cases.filters.doctorAZ"),column:"full_name",ascending:!0},{value:"name_desc",label:e("cases.filters.doctorZA"),column:"full_name",ascending:!1},{value:"clinic_asc",label:e("cases.filters.clinicAZ"),column:"clinic",ascending:!0},{value:"clinic_desc",label:e("cases.filters.clinicZA"),column:"clinic",ascending:!1},{value:"cases_desc",label:e("cases.filters.mostCasesFirst"),column:"cases_count",ascending:!1},{value:"cases_asc",label:e("cases.filters.fewestCasesFirst"),column:"cases_count",ascending:!0}],VL=()=>{const[e,t]=h.useState([]),[n,s]=h.useState(!0),[l,o]=h.useState(!1),[d,f]=h.useState(null),[m,p]=h.useState(1),[g,b]=h.useState(0),[y,w]=h.useState(""),[j,S]=h.useState(""),[E,R]=h.useState(""),[A,N]=h.useState([]),[P,T]=h.useState("name_asc"),[C,k]=h.useState(!1),[$,O]=h.useState(!1),V=h.useRef(null),W=h.useRef(null),{t:L}=ye(),F=h.useMemo(()=>HL(L),[L]),B=vn();h.useEffect(()=>{const D=z=>{V.current&&!V.current.contains(z.target)&&k(!1),W.current&&!W.current.contains(z.target)&&O(!1)};return document.addEventListener("mousedown",D),()=>document.removeEventListener("mousedown",D)},[]),h.useEffect(()=>{(async()=>{try{const{data:z,error:ae}=await Z.from("profiles").select("clinic").eq("role","user").not("clinic","is",null).not("clinic","eq","");if(ae)throw ae;const Q=[...new Set(z.map(ne=>ne.clinic))].sort();N(Q.map(ne=>({value:ne,label:ne})))}catch(z){console.error("Error fetching clinic options:",z)}})()},[]);const te=async(D=!1)=>{try{D?o(!0):s(!0);let z=Z.from("profiles").select(`
          id,
          full_name,
          phone,
          clinic,
          avatar_url,
          cases:cases(count)
        `,{count:"exact"}).eq("role","user");y.length>=3&&(z=z.ilike("full_name",`%${y}%`)),E&&(z=z.eq("clinic",E));const{count:ae,error:Q}=await z;if(Q)throw Q;b(ae||0);const ne=F.find(Re=>Re.value===P),he=ne?.column||"full_name",ge=ne?.ascending!==!1,we=(m-1)*Xo,Te=we+Xo-1;let ue=z.select(`
        id,
        full_name,
        phone,
        clinic,
        avatar_url,
        cases:cases(count)
      `);he==="cases_count"?ue=ue.order("full_name",{ascending:!0}):ue=ue.order(he,{ascending:ge});const{data:xe,error:Ne}=await ue.range(we,Te);if(Ne)throw Ne;let Pe=(xe||[]).map(Re=>({...Re,cases_count:Array.isArray(Re.cases)?Re.cases[0]?.count??0:Re.cases?.count??0}));he==="cases_count"&&Pe.sort((Re,Be)=>{const be=Re.cases_count-Be.cases_count;return ge?be:-be}),t(Pe),f(null)}catch(z){console.error("Error fetching doctors:",z),f(z.message)}finally{s(!1),o(!1)}};h.useEffect(()=>{te()},[m,y,E,P]),h.useEffect(()=>{const D=setTimeout(()=>{p(1),w(j.trim())},300);return()=>clearTimeout(D)},[j]),h.useEffect(()=>{p(1)},[E,P]);const U=()=>{te(!0)},q=()=>{R(""),T("name_asc"),S(""),w(""),p(1)},G=E||y||P!=="name_asc",J=()=>E||L("cases.filters.clinic");return r.jsxs(r.Fragment,{children:[d&&r.jsx(pt,{error:d}),r.jsx(vi,{children:L("navigation.doctors")}),r.jsxs("div",{className:"flex w-full justify-between items-center gap-4",children:[r.jsxs("div",{className:"flex items-center gap-2 flex-1",children:[r.jsx("div",{className:"flex-grow max-w-[300px] min-w-[200px]",children:r.jsx(Ce,{className:"w-full",variant:"filled",label:"",helpText:"",icon:r.jsx(Tr,{}),children:r.jsx(Ce.Input,{placeholder:L("billing.searchDoctors"),value:j,onChange:D=>S(D.target.value)})})}),r.jsxs("div",{className:"flex-shrink-0 relative",ref:V,children:[r.jsx(ce,{size:"sm",variant:E?"neutral-secondary":"neutral-tertiary",className:"px-3",iconRight:C?r.jsx(ri,{}):r.jsx(ai,{}),onClick:()=>{k(!C),O(!1)},children:J()}),C&&r.jsx("div",{className:"absolute top-full left-0 mt-1 bg-white border border-neutral-border rounded-md shadow-lg z-10 min-w-[160px] max-h-64 overflow-y-auto",dir:"rtl",children:r.jsxs("div",{className:"py-1",children:[r.jsx("button",{className:"w-full text-right px-3 py-2 text-sm hover:bg-neutral-50 text-neutral-700",onClick:()=>{R(""),k(!1)},children:L("cases.filters.allClinics")}),A.map(D=>r.jsx("button",{className:`w-full text-right px-3 py-2 text-sm hover:bg-neutral-50 ${E===D.value?"bg-neutral-100 text-neutral-900":"text-neutral-700"}`,onClick:()=>{R(D.value),k(!1)},children:D.label},D.value))]})})]}),G&&r.jsx(ce,{size:"sm",variant:"neutral-tertiary",className:"px-2 w-auto",onClick:q,icon:r.jsx(bn,{}),children:L("common.clear")})]}),r.jsxs("div",{className:"flex items-center gap-2 flex-shrink-0",children:[r.jsx(Wt,{icon:r.jsx(Un,{className:l?"animate-spin":""}),onClick:U,disabled:l}),r.jsxs("div",{className:"relative",ref:W,children:[r.jsx(Wt,{icon:r.jsx(rx,{}),onClick:()=>{O(!$),k(!1)}}),$&&r.jsx("div",{className:"absolute top-full left-0 mt-1 bg-white border border-neutral-border rounded-md shadow-lg z-10 min-w-[200px]",children:r.jsxs("div",{className:"p-4",children:[r.jsx("h3",{className:"text-sm font-medium text-neutral-900 mb-3 text-right",children:L("cases.filters.sortBy")}),r.jsx("div",{className:"space-y-2",children:F.map(D=>r.jsxs("label",{className:"flex items-center justify-start",dir:"rtl",children:[r.jsx("span",{className:"text-sm text-neutral-700 order-2",children:D.label}),r.jsx("input",{type:"radio",name:"sort",value:D.value,checked:P===D.value,onChange:z=>T(z.target.value),className:"ml-2 order-1"})]},D.value))})]})})]})]})]}),G&&r.jsxs("div",{className:"flex flex-wrap gap-2 items-center",children:[r.jsx("span",{className:"text-xs text-neutral-600",children:L("cases.filters.activeFilters")}),E&&r.jsxs(Ye,{variant:"neutral",className:"text-xs",children:[L("cases.clinic"),": ",E,r.jsx("button",{onClick:()=>R(""),className:"ml-1 hover:text-neutral-800",children:""})]}),y&&r.jsxs(Ye,{variant:"neutral",className:"text-xs",children:[L("common.search"),': "',y,'"',r.jsx("button",{onClick:()=>{w(""),S("")},className:"ml-1 hover:text-neutral-800",children:""})]}),P!=="name_asc"&&r.jsxs(Ye,{variant:"neutral",className:"text-xs",children:[L("cases.filters.sortBy"),":"," ",F.find(D=>D.value===P)?.label]})]}),r.jsx(I,{header:r.jsxs(I.HeaderRow,{children:[r.jsx(I.HeaderCell,{children:L("cases.doctor")}),r.jsx(I.HeaderCell,{children:L("cases.phone")}),r.jsx(I.HeaderCell,{children:L("cases.clinic")}),r.jsx(I.HeaderCell,{children:L("cases.cases")})]}),children:n?r.jsx(I.Row,{children:r.jsx(I.Cell,{colSpan:4,children:r.jsx("div",{className:"flex w-full h-full min-h-[100px] justify-center items-center",children:r.jsx(Jt,{size:"medium"})})})}):e.length===0?r.jsx(I.Row,{children:r.jsx(I.Cell,{colSpan:4,children:r.jsx("div",{className:"text-center py-8",children:r.jsx("span",{className:"text-neutral-500",children:L(G?"cases.noMatchingCases":"cases.noCases")})})})}):e.map(D=>r.jsxs(I.Row,{clickable:!0,onClick:()=>B(`/admin/doctors/${D.id}`),children:[r.jsx(I.Cell,{children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Cs,{size:"small",image:D.avatar_url||void 0,children:!D.avatar_url&&r.jsxs(r.Fragment,{children:[zt(D.full_name?.split(" ")[0]?.[0]),zt(D.full_name?.split(" ").slice(-1)[0]?.[0])]})}),r.jsx("span",{className:"whitespace-nowrap text-body-bold font-body-bold text-neutral-700",children:zt(D.full_name)||"-"})]})}),r.jsx(I.Cell,{children:r.jsx("span",{dir:"ltr",className:"whitespace-nowrap text-body font-body text-neutral-500",children:D.phone||"-"})}),r.jsx(I.Cell,{children:r.jsx("span",{className:"whitespace-nowrap text-body font-body text-neutral-500",children:D.clinic||"-"})}),r.jsx(I.Cell,{children:r.jsx("span",{className:"whitespace-nowrap text-body font-body text-neutral-700",children:D.cases_count??0})})]},D.id))}),r.jsxs("div",{className:"flex w-full items-center justify-between",children:[r.jsx("span",{className:"text-body font-body text-subtext-color",children:g===0?L("casesPage.noCasesToShow"):`${L("cases.showing")} ${Math.min((m-1)*Xo+1,g)} - ${Math.min(m*Xo,g)} ${L("cases.of")} ${g} ${L("navigation.doctors")}`}),r.jsxs("div",{className:"flex items-center gap-2",children:[m>1&&r.jsx(ce,{variant:"neutral-secondary",onClick:()=>p(m-1),disabled:n||l,children:L("common.previous")}),m*Xo<g&&r.jsx(ce,{variant:"neutral-secondary",onClick:()=>p(m+1),disabled:n||l,children:L("common.next")})]})]})]})},GL=De.forwardRef(function({children:t,active:n=!1,className:s,...l},o){return t?r.jsx("span",{className:$e("group/bbdc1640 line-clamp-1 cursor-pointer break-words text-body font-body text-subtext-color hover:text-default-font",{"text-default-font":n},s),ref:o,...l,children:t}):null}),YL=De.forwardRef(function({className:t,...n},s){return r.jsx(dk,{className:$e("text-body font-body text-subtext-color",t),ref:s,...n})}),KL=De.forwardRef(function({children:t,className:n,...s},l){return t?r.jsx("div",{className:$e("flex items-center gap-2",n),ref:l,...s,children:t}):null}),Ut=Object.assign(KL,{Item:GL,Divider:YL});var Pu={exports:{}},WL=Pu.exports,l1;function JL(){return l1||(l1=1,function(e,t){(function(n,s){e.exports=s(Ec())})(typeof self<"u"?self:WL,function(n){return function(){var s={155:function(A){A.exports=n}},l={};function o(A){var N=l[A];if(N!==void 0)return N.exports;var P=l[A]={exports:{}};return s[A](P,P.exports,o),P.exports}o.d=function(A,N){for(var P in N)o.o(N,P)&&!o.o(A,P)&&Object.defineProperty(A,P,{enumerable:!0,get:N[P]})},o.o=function(A,N){return Object.prototype.hasOwnProperty.call(A,N)},o.r=function(A){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(A,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(A,"__esModule",{value:!0})};var d={};o.r(d),o.d(d,{useReactToPrint:function(){return R}});var f=o(155);const m="printWindow";function p({level:A="error",messages:N,suppressErrors:P=!1}){P||(A==="error"?console.error(N):A==="warning"?console.warn(N):console.debug(N))}function g(A,N){if(N||!A){const P=document.getElementById(m);P&&document.body.removeChild(P)}}function b(A){return A instanceof Error?A:new Error("Unknown Error")}function y(A,N){const{documentTitle:P,onAfterPrint:T,onPrintError:C,preserveAfterPrint:k,print:$,suppressErrors:O}=N;setTimeout(()=>{var V,W;if(A.contentWindow){let F=function(){T?.(),g(k)};var L=F;if(A.contentWindow.focus(),$)$(A).then(F).catch(B=>{C?C("print",b(B)):p({messages:["An error was thrown by the specified `print` function"],suppressErrors:O})});else{if(A.contentWindow.print){const B=(W=(V=A.contentDocument)===null||V===void 0?void 0:V.title)!==null&&W!==void 0?W:"",te=A.ownerDocument.title;P&&(A.ownerDocument.title=P,A.contentDocument&&(A.contentDocument.title=P)),A.contentWindow.print(),P&&(A.ownerDocument.title=te,A.contentDocument&&(A.contentDocument.title=B))}else p({messages:["Printing for this browser is not currently possible: the browser does not have a `print` method available for iframes."],suppressErrors:O});[/Android/i,/webOS/i,/iPhone/i,/iPad/i,/iPod/i,/BlackBerry/i,/Windows Phone/i].some(B=>{var te,U;return((U=(te=navigator.userAgent)!==null&&te!==void 0?te:navigator.vendor)!==null&&U!==void 0?U:"opera"in window&&window.opera).match(B)})?setTimeout(F,500):F()}}else p({messages:["Printing failed because the `contentWindow` of the print iframe did not load. This is possibly an error with `react-to-print`. Please file an issue: https://github.com/MatthewHerbst/react-to-print/issues/"],suppressErrors:O})},500)}function w(A){const N=[],P=document.createTreeWalker(A,NodeFilter.SHOW_ELEMENT,null);let T=P.nextNode();for(;T;)N.push(T),T=P.nextNode();return N}function j(A,N,P){const T=w(A),C=w(N);if(T.length===C.length)for(let k=0;k<T.length;k++){const $=T[k],O=C[k],V=$.shadowRoot;if(V!==null){const W=O.attachShadow({mode:V.mode});W.innerHTML=V.innerHTML,j(V,W,P)}}else p({messages:["When cloning shadow root content, source and target elements have different size. `onBeforePrint` likely resolved too early.",A,N],suppressErrors:P})}const S=`
    @page {
        /* Remove browser default header (title) and footer (url) */
        margin: 0;
    }
    @media print {
        body {
            /* Tell browsers to print background colors */
            color-adjust: exact; /* Firefox. This is an older version of "print-color-adjust" */
            print-color-adjust: exact; /* Firefox/Safari */
            -webkit-print-color-adjust: exact; /* Chrome/Safari/Edge/Opera */
        }
    }
`;function E(A,N,P,T){var C,k,$,O,V;const{contentNode:W,clonedContentNode:L,clonedImgNodes:F,clonedVideoNodes:B,numResourcesToLoad:te,originalCanvasNodes:U}=P,{bodyClass:q,fonts:G,ignoreGlobalStyles:J,pageStyle:D,nonce:z,suppressErrors:ae,copyShadowRoots:Q}=T;A.onload=null;const ne=(C=A.contentDocument)!==null&&C!==void 0?C:(k=A.contentWindow)===null||k===void 0?void 0:k.document;if(ne){const he=ne.body.appendChild(L);Q&&j(W,he,!!ae),G&&(!(($=A.contentDocument)===null||$===void 0)&&$.fonts&&(!((O=A.contentWindow)===null||O===void 0)&&O.FontFace)?G.forEach(Pe=>{const Re=new FontFace(Pe.family,Pe.source,{weight:Pe.weight,style:Pe.style});A.contentDocument.fonts.add(Re),Re.loaded.then(()=>{N(Re)}).catch(Be=>{N(Re,["Failed loading the font:",Re,"Load error:",b(Be)])})}):(G.forEach(Pe=>{N(Pe)}),p({messages:['"react-to-print" is not able to load custom fonts because the browser does not support the FontFace API but will continue attempting to print the page'],suppressErrors:ae})));const ge=D??S,we=ne.createElement("style");z&&(we.setAttribute("nonce",z),ne.head.setAttribute("nonce",z)),we.appendChild(ne.createTextNode(ge)),ne.head.appendChild(we),q&&ne.body.classList.add(...q.split(" "));const Te=ne.querySelectorAll("canvas");for(let Pe=0;Pe<U.length;++Pe){const Re=U[Pe],Be=Te[Pe];if(Be===void 0){p({messages:["A canvas element could not be copied for printing, has it loaded? `onBeforePrint` likely resolved too early.",Re],suppressErrors:ae});continue}const be=Be.getContext("2d");be&&be.drawImage(Re,0,0)}for(let Pe=0;Pe<F.length;Pe++){const Re=F[Pe],Be=Re.getAttribute("src");if(Be){const be=new Image;be.onload=()=>{N(Re)},be.onerror=(Ae,Fe,wt,gt,je)=>{N(Re,["Error loading <img>",Re,"Error",je])},be.src=Be}else N(Re,['Found an <img> tag with an empty "src" attribute. This prevents pre-loading it.',Re])}for(let Pe=0;Pe<B.length;Pe++){const Re=B[Pe];Re.preload="auto";const Be=Re.getAttribute("poster");if(Be){const be=new Image;be.onload=()=>{N(Re)},be.onerror=(Ae,Fe,wt,gt,je)=>{N(Re,["Error loading video poster",Be,"for video",Re,"Error:",je])},be.src=Be}else Re.readyState>=2?N(Re):Re.src?(Re.onloadeddata=()=>{N(Re)},Re.onerror=(be,Ae,Fe,wt,gt)=>{N(Re,["Error loading video",Re,"Error",gt])},Re.onstalled=()=>{N(Re,["Loading video stalled, skipping",Re])}):N(Re,["Error loading video, `src` is empty",Re])}const ue="select",xe=W.querySelectorAll(ue),Ne=ne.querySelectorAll(ue);for(let Pe=0;Pe<xe.length;Pe++)Ne[Pe].value=xe[Pe].value;if(!J){const Pe=document.querySelectorAll("style, link[rel~='stylesheet'], link[as='style']");for(let Re=0,Be=Pe.length;Re<Be;++Re){const be=Pe[Re];if(be.tagName.toLowerCase()==="style"){const Ae=ne.createElement(be.tagName),Fe=be.sheet;if(Fe){let wt="";try{const gt=Fe.cssRules.length;for(let je=0;je<gt;++je)typeof Fe.cssRules[je].cssText=="string"&&(wt+=`${Fe.cssRules[je].cssText}\r
`)}catch(gt){p({messages:["A stylesheet could not be accessed. This is likely due to the stylesheet having cross-origin imports, and many browsers block script access to cross-origin stylesheets. See https://github.com/MatthewHerbst/react-to-print/issues/429 for details. You may be able to load the sheet by both marking the stylesheet with the cross `crossorigin` attribute, and setting the `Access-Control-Allow-Origin` header on the server serving the stylesheet. Alternatively, host the stylesheet on your domain to avoid this issue entirely.",be,`Original error: ${b(gt).message}`],level:"warning"})}Ae.setAttribute("id",`react-to-print-${Re}`),z&&Ae.setAttribute("nonce",z),Ae.appendChild(ne.createTextNode(wt)),ne.head.appendChild(Ae)}}else if(be.getAttribute("href"))if(be.hasAttribute("disabled"))p({messages:["`react-to-print` encountered a <link> tag with a `disabled` attribute and will ignore it. Note that the `disabled` attribute is deprecated, and some browsers ignore it. You should stop using it. https://developer.mozilla.org/en-US/docs/Web/HTML/Element/link#attr-disabled. The <link> is:",be],level:"warning"}),N(be);else{const Ae=ne.createElement(be.tagName);for(let Fe=0,wt=be.attributes.length;Fe<wt;++Fe){const gt=be.attributes[Fe];gt&&Ae.setAttribute(gt.nodeName,(V=gt.nodeValue)!==null&&V!==void 0?V:"")}Ae.onload=()=>{N(Ae)},Ae.onerror=(Fe,wt,gt,je,it)=>{N(Ae,["Failed to load",Ae,"Error:",it])},z&&Ae.setAttribute("nonce",z),ne.head.appendChild(Ae)}else p({messages:["`react-to-print` encountered a <link> tag with an empty `href` attribute. In addition to being invalid HTML, this can cause problems in many browsers, and so the <link> was not loaded. The <link> is:",be],level:"warning"}),N(be)}}}te===0&&y(A,T)}function R({bodyClass:A,contentRef:N,copyShadowRoots:P,documentTitle:T,fonts:C,ignoreGlobalStyles:k,nonce:$,onAfterPrint:O,onBeforePrint:V,onPrintError:W,pageStyle:L,preserveAfterPrint:F,print:B,printIframeProps:te,suppressErrors:U}){return(0,f.useCallback)(G=>{function J(){const D={bodyClass:A,contentRef:N,copyShadowRoots:P,documentTitle:T,fonts:C,ignoreGlobalStyles:k,nonce:$,onAfterPrint:O,onPrintError:W,pageStyle:L,preserveAfterPrint:F,print:B,suppressErrors:U},z=function(ne){const he=document.createElement("iframe");return he.width=`${document.documentElement.clientWidth}px`,he.height=`${document.documentElement.clientHeight}px`,he.style.position="absolute",he.style.top=`-${document.documentElement.clientHeight+100}px`,he.style.left=`-${document.documentElement.clientWidth+100}px`,he.id=m,he.srcdoc="<!DOCTYPE html>",ne&&(ne.allow&&(he.allow=ne.allow),ne.referrerPolicy!==void 0&&(he.referrerPolicy=ne.referrerPolicy),ne.sandbox!==void 0&&(he.sandbox=ne.sandbox)),he}(te),ae=function(ne,he){const{contentRef:ge,fonts:we,ignoreGlobalStyles:Te,suppressErrors:ue}=he,xe=function({contentRef:Ae,optionalContent:Fe,suppressErrors:wt}){return Fe&&typeof Fe=="function"?(Ae&&p({level:"warning",messages:['"react-to-print" received a `contentRef` option and an optional-content param passed to its callback. The `contentRef` option will be ignored.']}),Fe()):Ae?Ae.current:void p({messages:['"react-to-print" did not receive a `contentRef` option or a optional-content param pass to its callback.'],suppressErrors:wt})}({contentRef:ge,optionalContent:ne,suppressErrors:ue});if(!xe)return;const Ne=xe.cloneNode(!0),Pe=document.querySelectorAll("link[rel~='stylesheet'], link[as='style']"),Re=Ne.querySelectorAll("img"),Be=Ne.querySelectorAll("video"),be=we?we.length:0;return{contentNode:xe,clonedContentNode:Ne,clonedImgNodes:Re,clonedVideoNodes:Be,numResourcesToLoad:(Te?0:Pe.length)+Re.length+Be.length+be,originalCanvasNodes:xe.querySelectorAll("canvas")}}(G,D);if(!ae)return void p({messages:["There is nothing to print"],suppressErrors:U});const Q=function(ne,he,ge){const{suppressErrors:we}=ne,Te=[],ue=[];return function(xe,Ne){Te.includes(xe)?p({level:"debug",messages:["Tried to mark a resource that has already been handled",xe],suppressErrors:we}):(Ne?(p({messages:['"react-to-print" was unable to load a resource but will continue attempting to print the page',...Ne],suppressErrors:we}),ue.push(xe)):Te.push(xe),Te.length+ue.length===he&&y(ge,ne))}}(D,ae.numResourcesToLoad,z);(function(ne,he,ge,we){ne.onload=()=>{E(ne,he,ge,we)},document.body.appendChild(ne)})(z,Q,ae,D)}g(F,!0),V?V().then(()=>{J()}).catch(D=>{W?.("onBeforePrint",b(D))}):J()},[A,N,P,T,C,k,$,O,V,W,L,F,B,U])}return d}()})}(Pu)),Pu.exports}var Lf=JL();const ys=({isOpen:e,onClose:t,title:n,description:s,icon:l,iconBgColor:o="bg-brand-100",iconColor:d="text-brand-600",maxWidth:f="max-w-[640px]",children:m,loading:p=!1})=>e?r.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[r.jsx("div",{className:"absolute inset-0 bg-black/50",onClick:p?void 0:t}),r.jsx("div",{className:`relative bg-white rounded-lg shadow-xl w-full mx-4 p-6 ${f} max-h-[90vh] overflow-y-auto`,children:r.jsxs("div",{className:"flex flex-col gap-4",children:[r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsx("div",{className:`w-8 h-8 ${o} rounded-full flex items-center justify-center flex-shrink-0`,children:De.cloneElement(l,{className:`w-4 h-4 ${d}`})}),r.jsxs("div",{className:"flex-1",children:[r.jsx("h3",{className:"text-heading-3 font-heading-3 text-default-font",children:n}),s&&r.jsx("p",{className:"mt-1 text-body font-body text-subtext-color",children:s})]}),r.jsx("button",{onClick:t,disabled:p,className:"text-gray-400 hover:text-gray-600 transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex-shrink-0",children:r.jsx(bn,{className:"w-6 h-6"})})]}),m]})})]}):null,ZL=De.forwardRef(({paymentData:e,doctorInfo:t,selectedCasesData:n,paymentNotes:s},l)=>{const{t:o,i18n:d}=ye(),f=d.dir()==="rtl",m=`INV-${Date.now()}`,p=new Date().toLocaleDateString(),g={submitted:o("caseStatusBadge.submitted"),accepted:o("caseStatusBadge.accepted"),under_review:o("caseStatusBadge.underReview"),rejected:o("caseStatusBadge.rejected"),awaiting_patient_approval:o("caseStatusBadge.awaitingApproval"),patient_rejected:o("caseStatusBadge.patientRejected"),awaiting_user_approval:o("caseStatusBadge.awaitingApproval"),user_rejected:o("caseStatusBadge.userRejected"),approved:o("caseStatusBadge.approved"),in_production:o("caseStatusBadge.inProduction"),ready_for_delivery:o("caseStatusBadge.readyForDelivery"),delivered:o("caseStatusBadge.delivered"),completed:o("caseStatusBadge.completed")};return r.jsxs("div",{ref:l,className:"p-8 bg-white",dir:f?"rtl":"ltr",children:[r.jsxs("div",{className:"flex items-center justify-between border-b-2 border-brand-600 pb-4 mb-6",children:[r.jsxs("div",{children:[r.jsx("img",{className:"h-10 flex-none object-cover",src:`${window.location.origin}/logo.png`,alt:"Logo"}),r.jsx("p",{className:"text-sm text-gray-600 mt-2",children:o("paymentCollectionDialog.paymentReceipt")})]}),r.jsxs("div",{className:f?"text-left":"text-right",children:[r.jsxs("p",{className:"text-sm text-gray-600",children:[r.jsxs("strong",{children:[o("paymentCollectionDialog.invoice")," #:"]})," ",m]}),r.jsxs("p",{className:"text-sm text-gray-600",children:[r.jsxs("strong",{children:[o("transactions.table.date"),":"]})," ",p]})]})]}),r.jsxs("div",{className:"mb-6",children:[r.jsx("h2",{className:"text-xl font-semibold mb-4 text-gray-800",children:o("paymentCollectionDialog.doctorLabel")}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-xs font-medium text-gray-500 mb-1",children:o("paymentCollectionDialog.name")}),r.jsx("p",{className:"text-sm text-gray-900",children:t.full_name})]}),t.email&&r.jsxs("div",{children:[r.jsx("p",{className:"text-xs font-medium text-gray-500 mb-1",children:o("auth.email")}),r.jsx("p",{className:"text-sm text-gray-900",children:t.email})]})]}),r.jsxs("div",{className:"space-y-2",children:[t.clinic&&r.jsxs("div",{children:[r.jsx("p",{className:"text-xs font-medium text-gray-500 mb-1",children:o("casePage.clinic")}),r.jsx("p",{className:"text-sm text-gray-900",children:t.clinic})]}),t.phone&&r.jsxs("div",{children:[r.jsx("p",{className:"text-xs font-medium text-gray-500 mb-1",children:o("casePage.phone")}),r.jsx("p",{className:"text-sm text-gray-900",children:t.phone})]})]})]})]}),r.jsxs("div",{className:"mb-6",children:[r.jsx("h2",{className:"text-xl font-semibold mb-4 text-gray-800",children:o("paymentCollectionDialog.paymentSummary")}),r.jsxs("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-4",children:[r.jsxs("div",{className:"flex justify-between items-center mb-2",children:[r.jsx("span",{className:"text-sm font-medium text-gray-700",children:o("paymentCollectionDialog.paymentAmount")}),r.jsxs("span",{className:"text-lg font-bold text-gray-900",children:["$",parseFloat(e.amount).toFixed(2)]})]}),s&&r.jsxs("div",{className:"mt-3 pt-3 border-t border-gray-200",children:[r.jsx("p",{className:"text-xs font-medium text-gray-500 mb-1",children:o("paymentCollectionDialog.notes")}),r.jsx("p",{className:"text-sm text-gray-700",children:s})]})]})]}),n.length>0&&r.jsxs("div",{className:"mb-6",children:[r.jsx("h2",{className:"text-xl font-semibold mb-4 text-gray-800",children:o("paymentCollectionDialog.casesIncluded")}),r.jsx("div",{className:"border border-gray-200 rounded-lg overflow-hidden",children:r.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[r.jsx("thead",{className:"bg-gray-50",children:r.jsxs("tr",{children:[r.jsx("th",{className:`px-4 py-3 text-xs font-medium text-gray-500 uppercase tracking-wider ${f?"text-right":"text-left"}`,children:o("cases.caseId")}),r.jsx("th",{className:`px-4 py-3 text-xs font-medium text-gray-500 uppercase tracking-wider ${f?"text-right":"text-left"}`,children:o("paymentCollectionDialog.patient")}),r.jsx("th",{className:`px-4 py-3 text-xs font-medium text-gray-500 uppercase tracking-wider ${f?"text-right":"text-left"}`,children:o("paymentCollectionDialog.statusLabel")}),r.jsx("th",{className:`px-4 py-3 text-xs font-medium text-gray-500 uppercase tracking-wider ${f?"text-right":"text-left"}`,children:o("casePage.treatmentPlan.totalCost")}),r.jsx("th",{className:`px-4 py-3 text-xs font-medium text-gray-500 uppercase tracking-wider ${f?"text-right":"text-left"}`,children:o("paymentCollectionDialog.paymentAmountLabel")})]})}),r.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:n.map(b=>r.jsxs("tr",{children:[r.jsxs("td",{className:`px-4 py-3 text-sm text-gray-900 ${f?"text-right":"text-left"}`,children:[o("doctorTransactions.case")," #",b.id]}),r.jsxs("td",{className:`px-4 py-3 text-sm text-gray-900 ${f?"text-right":"text-left"}`,children:[b.first_name," ",b.last_name]}),r.jsx("td",{className:`px-4 py-3 text-sm text-gray-700 ${f?"text-right":"text-left"}`,children:g[b.status]||b.status}),r.jsxs("td",{className:`px-4 py-3 text-sm text-gray-900 ${f?"text-right":"text-left"}`,children:["$",parseFloat(b.total_cost||0).toFixed(2)]}),r.jsxs("td",{className:`px-4 py-3 text-sm font-medium text-gray-900 ${f?"text-right":"text-left"}`,children:["$",b.paymentApplied.toFixed(2)]})]},b.id))}),r.jsx("tfoot",{className:"bg-gray-50",children:r.jsxs("tr",{children:[r.jsx("td",{colSpan:"4",className:`px-4 py-3 text-sm font-medium text-gray-900 ${f?"text-right":"text-left"}`,children:o("paymentCollectionDialog.totalPayment")}),r.jsxs("td",{className:`px-4 py-3 text-sm font-bold text-gray-900 ${f?"text-right":"text-left"}`,children:["$",parseFloat(e.amount).toFixed(2)]})]})})]})})]}),r.jsx("div",{className:"mt-8 pt-4 border-t border-gray-300 text-center text-xs text-gray-500",children:r.jsx("p",{children:o("adminTreatmentPlan.print.footer",{date:new Date().toLocaleString()})})})]})}),NN=({isOpen:e,onClose:t,doctors:n,initialDoctor:s=null,refetchBillingData:l})=>{const{t:o}=ye(),[d,f]=h.useState(s),[m,p]=h.useState(""),[g,b]=h.useState(""),[y,w]=h.useState(new Set),[j,S]=h.useState(!1),[E,R]=h.useState(null),A=h.useRef(),{doctorCases:N,loadingCases:P,loadDoctorCases:T}=xL(),{processingPayment:C,processPayment:k}=bL(l),$=Lf.useReactToPrint({contentRef:A,documentTitle:`Payment-Invoice-${Date.now()}`});h.useEffect(()=>{e&&(f(s),w(new Set),p(""),b(""),S(!1),R(null),s&&T(s.id))},[e,s,T]);const O=async q=>{const G=n.find(J=>J.id===q)||null;f(G),w(new Set),await T(q)},V=(q,G)=>{const J=new Set(y);G?J.add(q):J.delete(q),w(J)},W=()=>N.filter(q=>y.has(q.id)).reduce((q,G)=>q+G.remainingAmount,0),L=()=>{const q=W(),G=parseFloat(m||0);return Math.max(0,G-q)},F=()=>N.filter(q=>!y.has(q.id)),B=async()=>{if(await k({selectedDoctor:d,paymentAmount:m,selectedCases:y,doctorCases:N,paymentNotes:g})){const G=parseFloat(m),J=W(),D=Math.max(0,G-J),z=F(),ae=N.filter(Q=>y.has(Q.id)).map(Q=>({...Q,paymentApplied:Math.min(Q.remainingAmount,G)}));if(D>0&&z.length>0){const Q=D/z.length;z.forEach(ne=>{ae.push({...ne,paymentApplied:Math.min(ne.remainingAmount,Q)})})}R({paymentData:{amount:m,date:new Date().toISOString()},doctorInfo:d,selectedCasesData:ae,paymentNotes:g}),S(!0)}},te=()=>{S(!1),R(null),t()},U=()=>{$(),setTimeout(()=>{te()},500)};return j&&E?r.jsxs(ys,{isOpen:e,onClose:te,title:o("paymentCollectionDialog.paymentInvoice"),description:o("paymentCollectionDialog.paymentInvoiceDescription"),icon:r.jsx(Nr,{}),maxWidth:"max-w-4xl",children:[r.jsx("div",{className:"space-y-4 w-full pt-4",children:r.jsx("div",{className:"border border-neutral-border rounded-lg bg-white max-h-[60vh] overflow-y-auto",children:r.jsx(ZL,{ref:A,paymentData:E.paymentData,doctorInfo:E.doctorInfo,selectedCasesData:E.selectedCasesData,paymentNotes:E.paymentNotes})})}),r.jsxs("div",{className:"flex items-center justify-end gap-3 pt-6 border-t border-neutral-border w-full mt-6",children:[r.jsx(ce,{variant:"neutral-secondary",onClick:te,children:o("common.close")}),r.jsx(ce,{icon:r.jsx(Nr,{}),onClick:U,children:o("paymentCollectionDialog.printInvoice")})]})]}):r.jsxs(ys,{isOpen:e,onClose:te,title:o("paymentCollectionDialog.title"),description:o("paymentCollectionDialog.subtitle"),icon:r.jsx(Nl,{}),loading:C,maxWidth:"max-w-4xl",children:[r.jsxs("div",{className:"space-y-6 w-full pt-4",children:[r.jsx(XL,{doctors:n,selectedDoctor:d,onDoctorChange:O}),r.jsx(QL,{paymentAmount:m,setPaymentAmount:p}),r.jsx(e9,{paymentNotes:g,setPaymentNotes:b}),d&&r.jsx(t9,{doctorCases:N,loadingCases:P,selectedCases:y,handleCaseSelection:V,paymentAmount:m,calculateSelectedCasesTotal:W,calculateRemainingAmount:L,getUnselectedCases:F})]}),r.jsx(l9,{onClose:te,onSubmit:B,processingPayment:C,paymentAmount:m,selectedDoctor:d})]})},XL=({doctors:e,selectedDoctor:t,onDoctorChange:n})=>{const{t:s}=ye();return r.jsxs("div",{className:"flex flex-col gap-2 w-auto",children:[r.jsxs("label",{className:"text-body-bold font-body-bold text-default-font",children:[s("paymentCollectionDialog.doctorLabel")," *"]}),r.jsxs("select",{value:t?.id||"",onChange:l=>n(l.target.value),className:"w-full px-3 py-2 text-body font-body text-default-font bg-default-background border border-neutral-border rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[r.jsx("option",{value:"",children:s("paymentCollectionDialog.doctorPlaceholder")}),e.filter(l=>l.totalDueAmount>0).map(l=>r.jsxs("option",{value:l.id,children:[l.full_name," ",l.clinic?`(${l.clinic})`:""," - $",l.totalDueAmount.toFixed(2)," ",s("billing.table.paymentStatus.due")]},l.id))]})]})},QL=({paymentAmount:e,setPaymentAmount:t})=>{const{t:n}=ye();return r.jsxs("div",{className:"flex flex-col gap-2",children:[r.jsxs("label",{className:"text-body-bold font-body-bold text-default-font",children:[n("paymentCollectionDialog.paymentAmountLabel")," *"]}),r.jsx(Ce,{children:r.jsx(Ce.Input,{type:"number",min:"0",step:"0.01",value:e,onChange:s=>t(s.target.value),placeholder:n("paymentCollectionDialog.paymentAmountPlaceholder")})})]})},e9=({paymentNotes:e,setPaymentNotes:t})=>{const{t:n}=ye();return r.jsxs("div",{className:"flex flex-col gap-2",children:[r.jsx("label",{className:"text-body-bold font-body-bold text-default-font",children:n("paymentCollectionDialog.notesLabel")}),r.jsx("textarea",{value:e,onChange:s=>t(s.target.value),placeholder:n("paymentCollectionDialog.notesPlaceholder"),rows:3,className:"w-full px-3 py-2 text-body font-body text-default-font bg-default-background border border-neutral-border rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 resize-vertical"})]})},t9=({doctorCases:e,loadingCases:t,selectedCases:n,handleCaseSelection:s,paymentAmount:l,calculateSelectedCasesTotal:o,calculateRemainingAmount:d,getUnselectedCases:f})=>r.jsxs("div",{className:"space-y-4",children:[r.jsx(n9,{selectedCases:n,doctorCases:e}),r.jsx(r9,{doctorCases:e,loadingCases:t,selectedCases:n,handleCaseSelection:s}),l&&e.length>0&&r.jsx(i9,{calculateSelectedCasesTotal:o,paymentAmount:l,calculateRemainingAmount:d,getUnselectedCases:f})]}),n9=({selectedCases:e,doctorCases:t})=>{const{t:n}=ye();return r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("h3",{className:"text-heading-4 font-heading-4 text-default-font",children:n("paymentCollectionDialog.unpaidCasesTitle")}),t.length>0&&r.jsx("div",{className:"text-sm text-subtext-color",children:n("paymentCollectionDialog.selectedSummary",{selected:e.size,total:t.length})})]})},a9=({paymentStatus:e,paymentPercentage:t})=>{const{t:n}=ye(),s={unpaid:{color:"text-red-600 bg-red-50 border-red-200",text:n("billing.table.paymentStatus.unpaid")},partially_paid:{color:"text-yellow-600 bg-yellow-50 border-yellow-200",text:n("adminDoctorDetails.partialPayment",{percent:t.toFixed(0)})},paid:{color:"text-green-600 bg-green-50 border-green-200",text:n("billing.table.paymentStatus.paid")},not_applicable:{color:"text-gray-500 bg-gray-50 border-gray-200",text:n("billing.table.paymentStatus.na")}},l=s[e]||s.unpaid;return r.jsx("span",{className:`inline-flex items-center px-2 py-1 rounded-md text-xs font-medium border ${l.color}`,children:l.text})},r9=({doctorCases:e,loadingCases:t,selectedCases:n,handleCaseSelection:s})=>{const{t:l}=ye();return t?r.jsx("div",{className:"text-center py-8 text-neutral-500",children:l("paymentCollectionDialog.loadingCases")}):e.length===0?r.jsx("div",{className:"text-center py-8 text-neutral-500 border border-neutral-border rounded-md",children:l("paymentCollectionDialog.noUnpaidCases")}):r.jsx("div",{className:"border border-neutral-border rounded-md max-h-60 overflow-y-auto",children:e.map(o=>r.jsx(s9,{case_:o,isSelected:n.has(o.id),onSelectionChange:s},o.id))})},s9=({case_:e,isSelected:t,onSelectionChange:n})=>{const{t:s}=ye(),l={submitted:s("caseStatusBadge.submitted"),accepted:s("caseStatusBadge.accepted"),under_review:s("caseStatusBadge.underReview"),rejected:s("caseStatusBadge.rejected"),awaiting_patient_approval:s("caseStatusBadge.awaitingApproval"),patient_rejected:s("caseStatusBadge.patientRejected"),awaiting_user_approval:s("caseStatusBadge.awaitingApproval"),user_rejected:s("caseStatusBadge.userRejected"),approved:s("caseStatusBadge.approved"),in_production:s("caseStatusBadge.inProduction"),ready_for_delivery:s("caseStatusBadge.readyForDelivery"),delivered:s("caseStatusBadge.delivered"),completed:s("caseStatusBadge.completed")};return r.jsxs("div",{className:"flex items-center gap-3 p-3 border-b border-neutral-border last:border-b-0 hover:bg-neutral-50",children:[r.jsx("input",{type:"checkbox",id:`case-${e.id}`,checked:t,onChange:o=>n(e.id,o.target.checked),className:"w-4 h-4 text-brand-600 border-neutral-border rounded focus:ring-brand-500"}),r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex items-center justify-between mb-1",children:[r.jsxs("label",{htmlFor:`case-${e.id}`,className:"text-body font-body text-default-font cursor-pointer",children:[s("cases.caseId").replace("Case ID","Case")," #",e.id," -"," ",e.first_name," ",e.last_name]}),r.jsx("div",{className:"flex items-center gap-2",children:r.jsx(a9,{paymentStatus:e.paymentStatus,paymentPercentage:e.paymentPercentage||0})})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"text-caption font-caption text-subtext-color",children:[s("paymentCollectionDialog.statusLabel"),":"," ",l[e.status]||e.status," |"," ",s("paymentCollectionDialog.createdLabel"),":"," ",new Date(e.created_at).toLocaleDateString()]}),r.jsxs("div",{className:"text-right",children:[r.jsxs("div",{className:"text-body-bold font-body-bold text-default-font",children:["$",e.remainingAmount.toFixed(2)," ",s("paymentCollectionDialog.remainingShort")]}),r.jsx("div",{className:"text-caption font-caption text-neutral-500",children:s("paymentCollectionDialog.paidOfTotal",{paid:`$${e.totalPaid?.toFixed(2)||"0.00"}`,total:`$${parseFloat(e.total_cost||0).toFixed(2)}`})})]})]})]})]})},i9=({calculateSelectedCasesTotal:e,paymentAmount:t,calculateRemainingAmount:n,getUnselectedCases:s})=>{const{t:l}=ye();return r.jsxs("div",{className:"bg-neutral-50 border border-neutral-border rounded-md p-4 space-y-2",children:[r.jsxs("div",{className:"flex justify-between text-body font-body",children:[r.jsx("span",{children:l("paymentCollectionDialog.selectedCasesTotal")}),r.jsxs("span",{className:"font-bold",children:["$",e().toFixed(2)]})]}),r.jsxs("div",{className:"flex justify-between text-body font-body",children:[r.jsx("span",{children:l("paymentCollectionDialog.paymentAmount")}),r.jsxs("span",{className:"font-bold",children:["$",parseFloat(t||0).toFixed(2)]})]}),r.jsxs("div",{className:"flex justify-between text-body font-body border-t border-neutral-border pt-2",children:[r.jsx("span",{children:l("paymentCollectionDialog.remainingAmount")}),r.jsxs("span",{className:`font-bold ${n()>0?"text-warning-600":"text-success-600"}`,children:["$",n().toFixed(2)]})]}),n()>0&&s().length>0&&r.jsx("div",{className:"text-caption font-caption text-subtext-color",children:l("paymentCollectionDialog.remainingSplitNote",{count:s().length})})]})},l9=({onClose:e,onSubmit:t,processingPayment:n,paymentAmount:s,selectedDoctor:l})=>{const{t:o}=ye();return r.jsxs("div",{className:"flex items-center justify-end gap-3 pt-6 border-t border-neutral-border w-full mt-6",children:[r.jsx(ce,{variant:"neutral-secondary",onClick:e,disabled:n,children:o("paymentCollectionDialog.cancel")}),r.jsx(ce,{onClick:t,disabled:n||!s||parseFloat(s)<=0||!l,icon:r.jsx(Pn,{}),children:o(n?"paymentCollectionDialog.processing":"paymentCollectionDialog.processPayment")})]})},o9=({paymentStatus:e,paymentPercentage:t=0})=>{const{t:n}=ye(),s={unpaid:{color:"error",text:n("billing.table.paymentStatus.unpaid")},partially_paid:{color:"warning",text:n("adminDoctorDetails.partialPayment",{percent:t.toFixed(0)})},paid:{color:"success",text:n("billing.table.paymentStatus.paid")},not_applicable:{color:"neutral",text:n("billing.table.paymentStatus.na")}},l=s[e]||s.unpaid;return r.jsx(Ye,{variant:l.color,children:l.text})},o1=(e,t=[])=>{const n=parseFloat(e.total_cost||0);if(n<=0)return{remainingAmount:0,paymentStatus:"not_applicable",totalPaid:0,paymentPercentage:0};const l=t.filter(m=>m.case_id===e.id).reduce((m,p)=>m+parseFloat(p.allocated_amount||0),0),o=Math.max(0,n-l),d=n>0?l/n*100:0;let f;return o===0&&l>0?f="paid":l>0?f="partially_paid":f="unpaid",{remainingAmount:o,paymentStatus:f,totalPaid:l,paymentPercentage:Math.round(d*100)/100}};function c9(){const{t:e}=ye(),{doctor:t,cases:n,error:s}=fi(),l=vn(),[o,d]=h.useState(""),[f,m]=h.useState(!1),[p,g]=h.useState([]),[b,y]=h.useState(!0);h.useEffect(()=>{(async()=>{if(!n?.length){y(!1);return}try{const C=n.map(V=>V.id),{data:k,error:$}=await Z.from("payment_case_allocations").select("case_id, allocated_amount").in("case_id",C);if($)throw $;const O=n.map(V=>{const W=o1(V,k||[]);return{...V,...W}});g(O)}catch(C){console.error("Error loading payment data:",C)}finally{y(!1)}})()},[n]);const w=h.useMemo(()=>(t?.full_name||"").trim().charAt(0).toUpperCase()||"D",[t]),j=h.useMemo(()=>{if(!Array.isArray(n))return 0;const T=n.map(C=>`${(C.first_name||"").toLowerCase()} ${(C.last_name||"").toLowerCase()}`.trim());return new Set(T).size},[n]),S=h.useMemo(()=>new Set(["submitted","accepted","under_review","awaiting_patient_approval","awaiting_user_approval","approved","in_production","ready_for_delivery"]),[]),E=h.useMemo(()=>Array.isArray(n)?n.filter(T=>S.has(T.status)).length:0,[n,S]),R=h.useMemo(()=>p.reduce((T,C)=>T+(C.remainingAmount||0),0),[p]),A=h.useMemo(()=>{if(!Array.isArray(p))return[];const T=o.trim().toLowerCase();return T?p.filter(C=>`${(C.first_name||"").toLowerCase()} ${(C.last_name||"").toLowerCase()}`.includes(T)):p},[p,o]),N=async()=>{y(!0);try{const T=n.map(O=>O.id),{data:C,error:k}=await Z.from("payment_case_allocations").select("case_id, allocated_amount").in("case_id",T);if(k)throw k;const $=n.map(O=>{const V=o1(O,C||[]);return{...O,...V}});g($)}catch(T){console.error("Error reloading payment data:",T)}finally{y(!1)}};if(s)return r.jsx(pt,{error:s});const P=t?{...t,totalDueAmount:R,unpaidCasesCount:p.filter(T=>T.remainingAmount>0).length}:null;return r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"flex w-full flex-wrap items-center gap-8",children:[r.jsxs(Ut,{children:[r.jsx(At,{to:"/admin/doctors",children:r.jsx(Ut.Item,{children:e("navigation.doctors")})}),r.jsx(Ut.Divider,{}),r.jsx(Ut.Item,{active:!0,children:e("adminDoctorDetails.breadcrumbTitle")})]}),r.jsxs("div",{className:"flex w-full flex-wrap items-start gap-4",children:[r.jsx(Cs,{size:"x-large",image:t?.avatar_url||void 0,children:t?.avatar_url?null:w}),r.jsxs("div",{className:"flex min-w-[160px] grow shrink-0 basis-0 flex-col items-start gap-6 pt-4",children:[r.jsx("div",{className:"flex w-full items-center justify-between",children:r.jsx("span",{className:"text-heading-2 font-heading-2 text-default-font",children:zt(t?.full_name)||""})}),r.jsxs("div",{className:"flex w-full flex-wrap items-start gap-6",children:[r.jsxs("div",{className:"flex grow shrink-0 basis-0 flex-col items-start gap-1",children:[r.jsx("span",{className:"text-body-bold font-body-bold text-default-font",children:e("profile.phoneNumber")}),r.jsx("span",{dir:"ltr",className:"text-caption font-caption text-subtext-color",children:t?.phone||""})]}),r.jsxs("div",{className:"flex grow shrink-0 basis-0 flex-col items-start gap-1",children:[r.jsx("span",{className:"text-body-bold font-body-bold text-default-font",children:e("profile.email")}),r.jsx("span",{className:"text-caption font-caption text-subtext-color",children:t?.email||""})]}),r.jsxs("div",{className:"flex grow shrink-0 basis-0 flex-col items-start gap-1",children:[r.jsx("span",{className:"text-body-bold font-body-bold text-default-font",children:e("profile.clinicName")}),r.jsx("span",{className:"text-caption font-caption text-subtext-color",children:t?.clinic||""})]}),r.jsxs("div",{className:"flex grow shrink-0 basis-0 flex-col items-start gap-1",children:[r.jsx("span",{className:"text-body-bold font-body-bold text-default-font",children:e("profile.clinicAddress")}),r.jsx("span",{className:"text-caption font-caption text-subtext-color",children:t?.address||""})]})]})]})]})]}),r.jsxs("div",{className:"flex w-full grow flex-col items-start gap-8 bg-default-background px-12 py-6 overflow-auto",children:[r.jsxs("div",{className:"flex w-full flex-wrap items-start gap-4",children:[r.jsxs("div",{className:"flex grow shrink-0 basis-0 flex-col items-start gap-4 rounded-md border border-solid border-neutral-border bg-default-background px-6 py-6",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(pp,{}),r.jsx("span",{className:"text-heading-3 font-heading-3 text-default-font",children:e("adminDoctorDetails.totalPatients")})]}),r.jsx("span",{className:"text-heading-1 font-heading-1 text-default-font",children:j.toLocaleString()})]}),r.jsxs("div",{className:"flex grow shrink-0 basis-0 flex-col items-start gap-4 rounded-md border border-solid border-neutral-border bg-default-background px-6 py-6",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(pp,{variant:"success"}),r.jsx("span",{className:"text-heading-3 font-heading-3 text-default-font",children:e("adminDoctorDetails.activeCases")})]}),r.jsx("span",{className:"text-heading-1 font-heading-1 text-default-font",children:E.toLocaleString()})]}),r.jsxs("div",{className:"flex grow shrink-0 basis-0 flex-col items-start gap-4 rounded-md border border-solid border-neutral-border bg-default-background px-6 py-6",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(pp,{variant:R>0?"warning":"success"}),r.jsx("span",{className:"text-heading-3 font-heading-3 text-default-font",children:e("billingStats.duePayments")})]}),r.jsx("span",{className:`text-heading-1 font-heading-1 ${R>0?"text-warning-600":"text-success-600"}`,children:b?"...":`$${R.toFixed(2)}`})]})]}),r.jsxs("div",{className:"flex w-full flex-col items-start gap-4",children:[r.jsxs("div",{className:"flex w-full items-center justify-between",children:[r.jsx("span",{className:"text-heading-2 font-heading-2 text-default-font",children:e("cases.title")}),r.jsxs("div",{className:"flex items-center gap-4",children:[R>0&&r.jsx(ce,{onClick:()=>m(!0),icon:r.jsx(Nl,{}),className:"w-auto",children:e("billing.receivePayment")}),r.jsx(Ce,{variant:"filled",label:"",helpText:"",children:r.jsx(Ce.Input,{placeholder:e("dashboard.searchCases"),value:o,onChange:T=>d(T.target.value)})})]})]}),r.jsx(I,{header:r.jsxs(I.HeaderRow,{children:[r.jsx(I.HeaderCell,{children:e("cases.patientName")}),r.jsx(I.HeaderCell,{children:e("transactions.table.date")}),r.jsx(I.HeaderCell,{children:e("cases.status")}),r.jsx(I.HeaderCell,{children:e("adminDoctorDetails.paymentStatus")}),r.jsx(I.HeaderCell,{children:e("casePage.treatmentPlan.totalCost")}),r.jsx(I.HeaderCell,{children:e("adminDoctorDetails.paidAmount")}),r.jsx(I.HeaderCell,{children:e("adminDoctorDetails.remainingAmount")})]}),children:!A||A.length===0?r.jsx(I.Row,{children:r.jsx(I.Cell,{colSpan:7,children:r.jsx("span",{className:"whitespace-nowrap text-body font-body text-neutral-500 py-4",children:b?r.jsx(Jt,{}):e("cases.noCases")})})}):A.map(T=>r.jsxs(I.Row,{clickable:!0,onClick:()=>l(`/admin/cases/${T.id}`),children:[r.jsx(I.Cell,{children:r.jsxs("span",{className:"whitespace-nowrap text-body-bold font-body-bold text-neutral-700",children:[zt(T.first_name)," ",zt(T.last_name)]})}),r.jsx(I.Cell,{children:r.jsx("span",{className:"whitespace-nowrap text-body font-body text-neutral-500",children:T.created_at?new Date(T.created_at).toLocaleDateString():""})}),r.jsx(I.Cell,{children:r.jsx(bi,{status:T.status})}),r.jsx(I.Cell,{children:r.jsx(o9,{paymentStatus:T.paymentStatus||"unpaid",paymentPercentage:T.paymentPercentage||0})}),r.jsx(I.Cell,{children:r.jsxs("span",{className:"whitespace-nowrap text-body font-body text-neutral-500",children:["$",parseFloat(T.total_cost||0).toFixed(2)]})}),r.jsx(I.Cell,{children:r.jsxs("span",{className:"whitespace-nowrap text-body font-body text-success-600",children:["$",(T.totalPaid||0).toFixed(2)]})}),r.jsx(I.Cell,{children:r.jsxs("span",{className:`whitespace-nowrap text-body font-body ${(T.remainingAmount||0)>0?"text-warning-600":"text-success-600"}`,children:["$",(T.remainingAmount||0).toFixed(2)]})})]},T.id))})]})]}),P&&r.jsx(NN,{isOpen:f,onClose:()=>m(!1),doctors:[P],initialDoctor:P,refetchBillingData:N})]})}async function d9(){const{data:{user:e}}=await Z.auth.getUser();if(!e)throw Yn("/login");const{data:t,error:n}=await Z.from("profiles").select("role").eq("id",e.id).single();if(n||!xi(t?.role))throw Yn("/unauthorized");return null}async function u9({params:e}){const{doctorId:t}=e,{data:{user:n}}=await Z.auth.getUser();if(!n)throw Yn("/login");const{data:s,error:l}=await Z.from("profiles").select("role").eq("id",n.id).single();if(l||!xi(s?.role))throw Yn("/unauthorized");const{data:o,error:d}=await Z.from("profiles").select("id, email, full_name, phone, clinic, avatar_url, address").eq("id",t).single();if(d)return{doctor:null,cases:[],error:d.message};const{data:f,error:m}=await Z.from("cases").select("*").eq("user_id",t).order("created_at",{ascending:!1}).limit(50);return{doctor:o,cases:f||[],error:m?.message||null}}const f9=De.forwardRef(function({active:t=!1,disabled:n=!1,icon:s=null,children:l,className:o,...d},f){return r.jsxs("div",{className:$e("group/d5612535 flex h-10 cursor-pointer items-center justify-center gap-2 border-b border-solid border-neutral-border px-2.5 py-0.5",{"border-b-2 border-solid border-brand-600 px-2.5 pt-0.5 pb-px hover:border-b-2 hover:border-solid hover:border-brand-600":t},o),ref:f,...d,children:[s?r.jsx(Ee,{className:$e("text-body font-body text-subtext-color group-hover/d5612535:text-default-font",{"text-neutral-400 group-hover/d5612535:text-neutral-400":n,"text-brand-700 group-hover/d5612535:text-brand-700":t}),children:s}):null,l?r.jsx("span",{className:$e("text-body-bold font-body-bold text-subtext-color group-hover/d5612535:text-default-font",{"text-neutral-400 group-hover/d5612535:text-neutral-400":n,"text-brand-700 group-hover/d5612535:text-brand-700":t}),children:l}):null]})}),h9=De.forwardRef(function({children:t,className:n,...s},l){return r.jsxs("div",{className:$e("flex w-full items-end",n),ref:l,...s,children:[t?r.jsx("div",{className:"flex items-start self-stretch",children:t}):null,r.jsx("div",{className:"flex grow shrink-0 basis-0 flex-col items-start gap-2 self-stretch border-b border-solid border-neutral-border"})]})}),Rp=Object.assign(h9,{Item:f9});function m9({type:e,label:t}){const[n,s]=h.useState([]),[l,o]=h.useState(!1),[d,f]=h.useState(!1),[m,p]=h.useState({name:"",price:"",description_en:"",description_ar:""}),[g,b]=h.useState(null),[y,w]=h.useState({name:"",price:"",description_en:"",description_ar:""}),j=h.useMemo(()=>e==="printing_method"?"Method Name":e==="aligners_material"?"System Name":e==="acceptance_fee"?"Fee Name":"Name",[e]),S=h.useMemo(()=>e==="printing_method"?"Add Method":e==="aligners_material"?"Add System":e==="acceptance_fee"?"Add Fee":"Add Item",[e]),E=async()=>{o(!0);const{data:C,error:k}=await Z.from("services").select("*").eq("type",e).order("created_at",{ascending:!0});k||s(C||[]),o(!1)};h.useEffect(()=>{E()},[e]);const R=async()=>{if(!m.name)return;const C=parseFloat(String(m.price).trim()||"0");await Z.from("services").insert([{type:e,name:m.name,description_en:m.description_en,description_ar:m.description_ar,price:isNaN(C)?0:C,is_active:!0}]),p({name:"",price:"",description_en:"",description_ar:""}),f(!1),E()},A=C=>{b(C.id),w({name:C.name||"",price:C.price??"",description_en:C.description_en||"",description_ar:C.description_ar||""})},N=()=>{b(null),w({name:"",price:"",description_en:"",description_ar:""})},P=async C=>{const k=parseFloat(String(y.price).trim());await Z.from("services").update({name:y.name,description_en:y.description_en,description_ar:y.description_ar,price:isNaN(k)?0:k}).eq("id",C),N(),E()},T=async(C,k)=>{await Z.from("services").update({is_active:k}).eq("id",C),E()};return r.jsxs("div",{className:"flex w-full flex-col items-start gap-6",children:[r.jsxs("div",{className:"flex w-full items-center justify-between",children:[r.jsx("span",{className:"text-heading-3 font-heading-3 text-default-font",children:t}),d?r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("input",{className:"h-8 rounded-md border border-neutral-border px-3 text-body",placeholder:j.replace(" Name",""),value:m.name,onChange:C=>p(k=>({...k,name:C.target.value}))}),r.jsx("input",{className:"h-8 rounded-md border border-neutral-border px-3 text-body",placeholder:"English Description",value:m.description_en,onChange:C=>p(k=>({...k,description_en:C.target.value}))}),r.jsx("input",{className:"h-8 rounded-md border border-neutral-border px-3 text-body",placeholder:"Arabic Description",value:m.description_ar,onChange:C=>p(k=>({...k,description_ar:C.target.value})),dir:"rtl"}),r.jsx("input",{type:"number",className:"h-8 w-28 rounded-md border border-neutral-border px-3 text-body",placeholder:"Price",value:m.price,onChange:C=>p(k=>({...k,price:C.target.value}))}),r.jsx(ce,{variant:"neutral-secondary",onClick:()=>{f(!1),p({name:"",price:"",description_en:"",description_ar:""})},children:"Cancel"}),r.jsx(ce,{onClick:R,children:"Save"})]}):r.jsx(ce,{className:"w-auto",onClick:()=>f(!0),children:S})]}),r.jsxs(I,{header:r.jsxs(I.HeaderRow,{children:[r.jsx(I.HeaderCell,{children:j}),r.jsx(I.HeaderCell,{children:"English Description"}),r.jsx(I.HeaderCell,{children:"Arabic Description"}),r.jsx(I.HeaderCell,{children:"Price"}),r.jsx(I.HeaderCell,{children:"Status"}),r.jsx(I.HeaderCell,{})]}),children:[(n||[]).map(C=>r.jsxs(I.Row,{children:[r.jsx(I.Cell,{children:g===C.id?r.jsx("input",{className:"h-10 w-full rounded-md border border-neutral-border px-3 text-body",value:y.name,onChange:k=>w($=>({...$,name:k.target.value}))}):r.jsx("span",{className:"text-body-bold font-body-bold text-neutral-700 text-wrap",children:C.name})}),r.jsx(I.Cell,{children:g===C.id?r.jsx("input",{className:"h-10 w-full rounded-md border border-neutral-border px-3 text-body",placeholder:"English description",value:y.description_en,onChange:k=>w($=>({...$,description_en:k.target.value}))}):r.jsx("span",{className:"text-body font-body text-neutral-500 text-wrap line-clamp-2",title:C.description_en,children:C.description_en||"-"})}),r.jsx(I.Cell,{children:g===C.id?r.jsx("input",{className:"h-10 w-full rounded-md border border-neutral-border px-3 text-body",placeholder:" ",value:y.description_ar,onChange:k=>w($=>({...$,description_ar:k.target.value})),dir:"rtl"}):r.jsx("span",{className:"text-body font-body text-neutral-500 text-wrap line-clamp-2",title:C.description_ar,dir:"rtl",children:C.description_ar||"-"})}),r.jsx(I.Cell,{children:g===C.id?r.jsx("input",{type:"number",className:"h-10 w-28 rounded-md border border-neutral-border px-3 text-body",value:y.price,onChange:k=>w($=>({...$,price:k.target.value}))}):r.jsxs("span",{className:"text-body font-body text-neutral-500",children:["$",Number(C.price||0).toFixed(2)]})}),r.jsx(I.Cell,{children:r.jsx(Ye,{variant:C.is_active?"success":"neutral",children:C.is_active?"Active":"Inactive"})}),r.jsx(I.Cell,{children:r.jsx("div",{className:"flex grow shrink-0 basis-0 items-center justify-end",children:g===C.id?r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(ce,{size:"small",onClick:()=>P(C.id),children:"Save"}),r.jsx(ce,{size:"small",variant:"neutral-secondary",onClick:N,children:"Cancel"})]}):r.jsxs(Xg,{children:[r.jsx(Qg,{asChild:!0,children:r.jsx(Wt,{icon:r.jsx(Rk,{})})}),r.jsx(Zg,{children:r.jsx(Jg,{side:"bottom",align:"end",sideOffset:8,asChild:!0,children:r.jsxs(mc,{children:[r.jsx(mc.DropdownItem,{onClick:()=>A(C),icon:r.jsx(yk,{}),children:"Edit"}),r.jsx(mc.DropdownItem,{onClick:()=>T(C.id,!C.is_active),children:C.is_active?"Archive":"Activate"})]})})})]})})})]},C.id)),!l&&n.length===0?r.jsx(I.Row,{children:r.jsx(I.Cell,{className:"col-span-6",children:r.jsx("span",{className:"text-body font-body text-neutral-500",children:"No records yet."})})}):null]})]})}function p9(){const{t:e,i18n:t}=ye(),n=t.language==="ar",[s,l]=h.useState("security"),[o,d]=h.useState(null),[f,m]=h.useState(""),[p,g]=h.useState(""),[b,y]=h.useState(""),[w,j]=h.useState(!1),[S,E]=h.useState(""),[R,A]=h.useState(""),[N,P]=h.useState(!1),[T,C]=h.useState(null),[k,$]=h.useState(""),[O,V]=h.useState(!1);h.useEffect(()=>{(async()=>{const{data:{user:te},error:U}=await Z.auth.getUser();if(U){ve.error("Failed to fetch user");return}E(te?.email||"");const{data:q}=await Z.from("profiles").select("phone").eq("id",te.id).single();A(q?.phone||"");const{data:G,error:J}=await Z.from("services").select("id, price, is_active").eq("type","acceptance_fee").order("created_at",{ascending:!1}).limit(1);!J&&Array.isArray(G)&&G.length>0&&(C(G[0].id),$(String(G[0].price??"")))})()},[]);const W=async()=>{if(!f||!p||!b){ve.error(e("settings.errors.fillAllFields"));return}if(p!==b){ve.error(e("settings.errors.passwordMismatch"));return}if(p.length<6){ve.error(e("settings.errors.passwordTooShort"));return}j(!0),d(null);try{const{data:{user:B}}=await Z.auth.getUser(),{error:te}=await Z.auth.signInWithPassword({email:B.email,password:f});if(te){ve.error(e("settings.errors.incorrectPassword")),j(!1);return}const{error:U}=await Z.auth.updateUser({password:p});U?(ve.error("Failed to update password"),d(U.message)):(ve.success(e("settings.success.passwordUpdated")),m(""),g(""),y(""))}catch(B){console.error(B),ve.error("Unexpected error updating password"),d(B.message)}finally{j(!1)}},L=async()=>{P(!0),d(null);try{const{data:{user:B}}=await Z.auth.getUser();let te=!0;if(S&&S!==B.email){const{error:q}=await Z.auth.updateUser({email:S});q?(te=!1,ve.error("Failed to update email"),d(q.message)):ve.success("Email updated. Confirmation may be required.")}const{error:U}=await Z.from("profiles").update({phone:R}).eq("id",B.id);!U&&te?ve.success(e("settings.success.contactUpdated")):!U&&!te?ve.success(e("settings.success.phoneUpdated")):U&&te&&(ve.error("Failed to update phone"),d(U.message))}catch(B){console.error(B),ve.error("Unexpected error updating contact info"),d(B.message)}finally{P(!1)}},F=async()=>{const B=Number.parseFloat(String(k).trim());if(Number.isNaN(B)||B<0){ve.error("Please enter a valid non-negative number for the fee.");return}V(!0),d(null);try{if(T){const{error:te}=await Z.from("services").update({price:B,is_active:!0}).eq("id",T);if(te)throw te}else{const{data:te,error:U}=await Z.from("services").insert([{type:"acceptance_fee",name:"Case Acceptance Fee",price:B,is_active:!0}]).select("id").single();if(U)throw U;C(te?.id||null)}ve.success(e("settings.success.feeUpdated"))}catch(te){console.error(te),ve.error(te.message||"Failed to update acceptance fee"),d(te.message)}finally{V(!1)}};return r.jsxs(r.Fragment,{children:[o&&r.jsx(pt,{error:o}),r.jsx(vi,{submit:!1,children:e("settings.adminSettings")}),r.jsx("p",{className:"text-body font-body text-subtext-color",children:e("settings.adminSubtitle")}),r.jsxs(Rp,{children:[r.jsx(Rp.Item,{active:s==="security",onClick:()=>l("security"),children:e("settings.accountSecurity")}),r.jsx(Rp.Item,{active:s==="services",onClick:()=>l("services"),children:e("settings.serviceManagement")})]}),s==="security"&&r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"flex w-full flex-col items-start gap-6",children:[r.jsx("span",{className:"text-heading-2 font-heading-2 text-default-font",children:e("settings.language")}),r.jsx("div",{className:"flex w-full flex-col gap-6 rounded-md border border-solid border-neutral-border bg-default-background px-6 py-6 shadow-sm",children:r.jsx(SN,{variant:"cards"})})]}),r.jsxs("div",{className:"flex w-full flex-col items-start gap-6",children:[r.jsx("span",{className:"text-heading-2 font-heading-2 text-default-font",children:e("settings.accountSecurity")}),r.jsxs("div",{className:"flex w-full flex-col gap-6 rounded-md border border-solid border-neutral-border bg-default-background px-6 py-6 shadow-sm",children:[r.jsxs("div",{children:[r.jsx("span",{className:"text-heading-3 font-heading-3 text-default-font",children:e("settings.changePassword")}),r.jsx("span",{className:"block text-body font-body text-subtext-color",children:e("settings.passwordDescription")})]}),r.jsx(Ce,{className:"h-auto w-full flex-none",label:e("settings.currentPassword"),children:r.jsx(Ce.Input,{type:"password",placeholder:e("settings.currentPasswordPlaceholder"),value:f,onChange:B=>m(B.target.value)})}),r.jsx(Ce,{className:"h-auto w-full flex-none",label:e("settings.newPassword"),children:r.jsx(Ce.Input,{type:"password",placeholder:e("settings.passwordPlaceholder"),value:p,onChange:B=>g(B.target.value)})}),r.jsx(Ce,{className:"h-auto w-full flex-none",label:e("settings.confirmPassword"),children:r.jsx(Ce.Input,{type:"password",placeholder:e("settings.confirmPasswordPlaceholder"),value:b,onChange:B=>y(B.target.value)})}),r.jsx(ce,{className:"w-auto",onClick:W,loading:w,children:e("settings.updatePassword")})]})]}),r.jsxs("div",{className:"flex w-full flex-col items-start gap-6",children:[r.jsx("span",{className:"text-heading-2 font-heading-2 text-default-font",children:e("settings.contactInformation")}),r.jsxs("div",{className:"flex w-full flex-col gap-6 rounded-md border border-solid border-neutral-border bg-default-background px-6 py-6 shadow-sm",children:[r.jsx(Ce,{className:"h-auto w-full flex-none",label:e("settings.emailAddress"),children:r.jsx(Ce.Input,{placeholder:"admin@example.com",value:S,onChange:B=>E(B.target.value)})}),r.jsx(Ce,{className:"h-auto w-full flex-none",label:e("settings.phoneNumber"),children:r.jsx(Ce.Input,{placeholder:"+1 (555) 000-0000",value:R,onChange:B=>A(B.target.value),style:{direction:"ltr"},className:` ${n?"text-right":""}`})}),r.jsx(ce,{className:"w-auto",onClick:L,loading:N,children:e("settings.updateContactInfo")})]})]})]}),s==="services"&&r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"flex w-full flex-col items-start gap-6",children:[r.jsx("span",{className:"text-heading-2 font-heading-2 text-default-font",children:e("settings.caseStudyFee")}),r.jsxs("div",{className:"flex w-full flex-col gap-6 rounded-md border border-solid border-neutral-border bg-default-background px-6 py-6 shadow-sm",children:[r.jsxs("div",{children:[r.jsx("span",{className:"text-heading-3 font-heading-3 text-default-font",children:e("settings.caseStudyFee")}),r.jsx("span",{className:"block text-body font-body text-subtext-color",children:e("settings.caseStudyFeeDescription")})]}),r.jsxs("div",{className:"flex items-end gap-3",children:[r.jsx(Ce,{className:"h-auto w-60",label:e("settings.amountUSD"),children:r.jsx(Ce.Input,{type:"number",min:0,step:"0.01",placeholder:"0.00",value:k,onChange:B=>$(B.target.value)})}),r.jsx(ce,{className:"w-auto",loading:O,onClick:F,children:e("settings.saveFee")})]})]})]}),r.jsxs("div",{className:"flex w-full flex-col items-start gap-6",children:[r.jsx("span",{className:"text-heading-2 font-heading-2 text-default-font",children:e("settings.services")}),r.jsx("div",{className:"flex w-full flex-col gap-6 rounded-md border border-solid border-neutral-border bg-default-background px-6 py-6 shadow-sm",children:r.jsx(m9,{type:"aligners_material",label:e("settings.alignerMaterials")})})]})]})]})}const Nc="case-files",g9="https://aoqekaevjsxryyyelpes.supabase.co/functions/v1/telegram-backup",x9=e=>{try{if(!e.startsWith("http"))return{bucketName:Nc,objectPath:e};const n=new URL(e).pathname.split("/").filter(Boolean),s=n.findIndex(l=>l==="object");if(s!==-1&&n[s+1]==="public"){const l=n[s+2],o=n.slice(s+3).join("/");return{bucketName:l,objectPath:decodeURIComponent(o)}}return n.length>=2?{bucketName:Nc,objectPath:n.slice(-2).join("/")}:null}catch(t){return console.error("Error parsing storage URL:",t),null}},b9=async(e,t={})=>{try{const{data:{session:n},error:s}=await Z.auth.getSession();if(s||!n)throw console.error(" No active session:",s),new Error("User must be authenticated");const l=n.user.id,o=new FormData;o.append("file",e),o.append("folderPath",t.folderPath||""),o.append("caseId",t.caseId||""),o.append("patientName",t.patientName||""),o.append("doctorName",t.doctorName||""),o.append("clinicName",t.clinicName||""),o.append("fileType",t.fileType||""),o.append("userId",l);const f=await(await fetch(g9,{method:"POST",headers:{Authorization:`Bearer ${n.access_token}`},body:o})).json();if(!f.success)throw new Error(f.error||"Backup failed");return{success:!0,data:f}}catch(n){return console.error(" Backup error:",n),console.error("Error details:",{message:n.message,stack:n.stack}),{success:!1,error:n.message}}},Uf=async(e,t,n={},s=!1)=>{try{if(!e)throw new Error("No file provided");const l=50*1024*1024;if(e.size>l)throw new Error("File too large (max 50MB)");const o=ve.loading("Uploading & backing up...");if(!s){const g=await b9(e,{folderPath:t,caseId:n.caseId,patientName:n.patientName,doctorName:n.doctorName,clinicName:n.clinicName,fileType:n.fileType||t.split("/").pop()});if(g.success)return ve.success("File uploaded",{id:o}),{success:!0,filePath:g.data.filePath,fileName:g.data.fileName,originalName:g.data.originalName};console.warn("Backup failed, uploading to Supabase only:",g.error),ve.loading("Backup failed, uploading to Supabase...",{id:o})}const d=e.name.split(".").pop().toLowerCase(),f=`${Date.now()}_${Math.random().toString(36).substring(2)}.${d}`,m=`${t}/${f}`,{error:p}=await Z.storage.from(Nc).upload(m,e,{cacheControl:"3600",upsert:!1,contentType:e.type});if(p)throw ve.dismiss(o),p;return ve.success("File uploaded to Supabase",{id:o}),{success:!0,filePath:m,fileName:f,originalName:e.name}}catch(l){return console.error("Upload failed:",l),ve.error(`Upload failed: ${l.message}`),{success:!1,error:l.message}}},c1=async e=>{try{if(!e)return ve.error("No file specified"),{success:!1,error:"No file specified"};const t=x9(e);if(!t?.objectPath)return ve.error("Invalid file path"),{success:!1,error:"Invalid file path"};try{const{data:n,error:s}=await Z.storage.from(Nc).download(t.objectPath);if(!s&&n){const l=URL.createObjectURL(n),o=document.createElement("a");return o.href=l,o.download=t.objectPath.split("/").pop()||"download",document.body.appendChild(o),o.click(),document.body.removeChild(o),URL.revokeObjectURL(l),ve.success("Download started"),{success:!0}}}catch{}try{const{data:n,error:s}=await Z.storage.from(Nc).createSignedUrl(t.objectPath,3600);if(!s&&n?.signedUrl)return window.open(n.signedUrl,"_blank"),ve.success("Download started"),{success:!0};throw s}catch(n){throw console.error("All download methods failed:",n),n}}catch(t){console.error("Download failed:",t);const n=t.message.includes("not found")?"File not found":t.message.includes("permission")?"Access denied":`Download failed: ${t.message}`;return ve.error(n),{success:!1,error:t.message}}};function _N({successMessage:e}){const[t,n]=h.useState(!0);return t?r.jsx("div",{className:"rounded-md bg-green-50 p-4",children:r.jsxs("div",{className:"flex justify-between items-start",children:[r.jsx("div",{className:"flex-1",children:r.jsx("h3",{className:"text-sm font-medium text-green-800",children:e})}),r.jsx("button",{onClick:()=>n(!1),className:"ml-4 text-green-400 hover:text-green-600 transition-colors","aria-label":"Close success message",children:r.jsx("svg",{className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:r.jsx("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})})})]})}):null}const El={tooth1:["M13.5,29.1c-0.4-1.5-0.6-2.4-0.8-3.3c-0.2-0.5-0.4-1.1-1.1-1.1c-0.7-0.1-1,0.5-1.2,1c-0.7,1.6-1.4,3.3-1.9,5  c-0.3-2-0.5-4-0.8-6.1c-0.1-0.6-0.3-1.3-1-1.4C5.9,23,5.4,23.5,5,24.1c-1.9,2.7-2.3,5.8-2.3,8.9c0,4.6-0.3,9.2-1.5,13.7  c-0.5,2.1-0.5,4.2,0.1,6.3c0.8,2.9,2.5,4.2,5.5,3.6c2.6-0.5,5.1-0.5,7.8,0c3.1,0.6,4.9-0.8,5.6-4c0.8-3.5-0.1-6.8-1-10.2  c-0.6-2.1-0.8-4.2-0.5-6.3c0.4-3,0.1-6-0.6-9c-0.1-0.5-0.2-1-0.4-1.4c-0.5-0.9-0.8-2.4-2.1-2.2c-1.3,0.2-1,1.6-1.4,2.5  C13.9,26.8,13.8,27.6,13.5,29.1z"],tooth2:["M12.3,29.4c-0.3-2-0.7-4.1-0.8-6.1c-0.1-2.2-2.1-2-3.2-2.7c-0.9-0.6-1.7,0.5-2.2,1.3c-2.2,2.9-3,6.4-3.3,9.9  C2.3,37,1.9,42.1,0.7,47.3c-0.4,1.8-0.3,3.7,0.2,5.5c0.8,3,2.6,4.4,5.6,3.8c2.7-0.5,5.3-0.6,8,0c3.1,0.6,5-0.7,5.7-3.9  c0.6-2.6,0.5-5.3-0.2-7.8c-1.3-4.2-1.1-8.6-1.4-12.9c-0.2-2.7-0.4-5.4-1.2-7.9c-0.1-0.5-0.2-1-0.5-1.4c-0.4-0.7-0.6-1.9-1.7-1.8  c-1.2,0.1-1.2,1.4-1.3,2.3c-0.4,2.1-0.7,4.2-1,6.2C12.6,29.4,12.5,29.4,12.3,29.4z"],tooth3:["M12.1,31.2c-1-3.3-1.5-6.2-2.1-9.2c-0.2-0.9-0.2-2-1.1-2.3c-1.2-0.4-1.3,1-1.9,1.5c-0.1-0.1-0.2-0.1-0.3-0.2  c-0.5-0.8-0.7-2.1-1.8-2c-1,0.1-1.4,1.3-1.8,2.3c-0.7,2.5-1.1,5-1.1,7.5c0,6.3,0.1,12.5-1.5,18.7c-0.5,1.7-0.2,3.6,0.3,5.3  c0.7,2.7,2.6,4.2,5.3,3.7c3-0.6,5.8-0.6,8.8,0c2.8,0.6,4.7-1,5.4-3.8c0.8-3,0.4-6.1-0.4-9c-0.8-2.9-1-5.8-0.9-8.8  c0.1-3.4,0.1-6.9,0.1-10.3c0-1.4-0.2-2.7-0.8-4c-0.3-0.7-0.7-1.3-1.4-1.3c-0.8,0-1.1,0.8-1.3,1.4c-0.6,1.8-1.1,3.7-1.6,5.5  C13.5,27.8,13.1,29.4,12.1,31.2z"],tooth4:["M17.4,49.7c-0.1-3.1-0.7-6.1-1.8-9.1c-1.4-3.6-1.1-7.6-1.5-11.4c-0.5-4.4-0.6-8.8-1-13.2  c-0.1-1.4-0.1-3.7-1.9-3.6c-1.6,0-1.1,2.2-1.3,3.5c-1.4,7.4-2.5,14.8-3.3,22.3c-0.3,2.8-1.8,5.4-1.9,8.2c-0.1,1.8-0.2,3.6,0.2,5.3  c0.5,2.8,2.4,4,4.9,4.7c2.4,0.7,4.6,0,6.4-1.4C17.7,53.8,17.5,51.7,17.4,49.7z"],tooth5:["M3.9,48.9c-0.1,4.3,1.2,6.1,5,7.4c2.4,0.9,5.3-0.1,7.1-2.5c1.5-2,1.5-4.4,1.1-6.7c-1.1-5.3-2.1-10.7-2.7-16.1  c-0.7-6.3-1.3-12.6-2.8-18.8c-0.2-1-0.6-2-1-2.9c-0.2-0.4-0.3-1-0.9-0.9C9,8.5,8.9,9,8.8,9.5c-0.5,2.2-0.6,4.5-0.7,6.8  c-0.3,7.3-0.8,14.6-1.7,21.8c-0.4,3-2.1,5.7-2.3,8.8C4,47.7,3.9,48.6,3.9,48.9z"],tooth6:["M16.5,48.7c-0.3-2-0.4-4.1-0.8-6.1c-1.3-6.1-1.5-12.3-1.8-18.5c-0.4-6.2-1-12.3-2.4-18.4  c-0.1-0.6-0.3-1.2-0.5-1.8c-0.2-0.4-0.4-1-0.9-1C9.3,3,9.1,3.6,9,4.1C8.8,5.9,8.4,7.7,8.4,9.4c0.1,9.8-1.2,19.5-2.3,29.2  C5.8,42.1,4.9,45.5,4.6,49c-0.3,4.3,2.1,6.1,5.7,7.5c1.8,0.7,4.6-1.3,5.5-3.7C16.3,51.5,16.4,50.1,16.5,48.7z"],tooth7:["M4.8,48.6c0,1.8,0,3.6,0,5.4c0,1.8,0.9,2.6,2.7,2.7c2.1,0.1,4.1,0.1,6.2-0.2c1.2-0.2,1.8-0.8,1.9-2.1  c0.1-5,0.3-10.1-1.2-15c-0.9-2.9-0.9-5.9-1-8.8c-0.2-7.1-1.5-14.1-2.7-21.1c-0.1-0.7-0.1-1.8-1-1.8c-1.1-0.1-1.1,1-1.3,1.8  c-0.7,2.5-0.7,5.2-0.9,7.8C7,25.6,6.4,34,5,42.2C4.7,44.3,5,46.4,5,48.6C4.9,48.6,4.9,48.6,4.8,48.6z"],tooth8:["M4.4,48.7c0,1.9,0,3.9,0.3,5.8c0.2,1.1,0.8,1.7,1.9,1.9c2.7,0.4,5.5,0.5,8.2,0.1c1.4-0.2,2.1-1,2-2.4  c-0.3-5.9,0-11.8-1.4-17.7c-1.3-5.6-1.6-11.4-2.3-17.2c-0.4-4-0.5-8.1-1.6-12.1c-0.3-1.1-0.4-2.8-1.6-2.8c-1.5,0.1-1.3,1.9-1.4,3  c-0.8,9.3-1.3,18.7-2.6,28C5.3,39.8,4.1,44.1,4.4,48.7z"],tooth9:["M16.7,48.7c0,1.9,0,3.9-0.3,5.8c-0.2,1.1-0.8,1.7-1.9,1.9c-2.7,0.4-5.5,0.5-8.2,0.1c-1.4-0.2-2.1-1-2-2.4  c0.3-5.9,0-11.8,1.4-17.7C7,30.8,7.3,25,8,19.2c0.4-4,0.5-8.1,1.6-12.1c0.3-1.1,0.4-2.8,1.6-2.8c1.5,0.1,1.3,1.9,1.4,3  c0.8,9.3,1.3,18.7,2.6,28C15.8,39.8,17,44.1,16.7,48.7z"],tooth10:["M15.9,48.6c0,1.8,0,3.6,0,5.4c0,1.8-0.9,2.6-2.7,2.7c-2.1,0.1-4.1,0.1-6.2-0.2c-1.2-0.2-1.8-0.8-1.9-2.1  c-0.1-5-0.3-10.1,1.2-15c0.9-2.9,0.9-5.9,1-8.8C7.7,23.5,9,16.6,10.2,9.6c0.1-0.7,0.1-1.8,1-1.8c1.1-0.1,1.1,1,1.3,1.8  c0.7,2.5,0.7,5.2,0.9,7.8c0.4,8.3,0.9,16.6,2.4,24.9c0.4,2.1,0.1,4.3,0.1,6.4C15.9,48.6,15.9,48.6,15.9,48.6z"],tooth11:["M4.7,48.7c0.3-2,0.4-4.1,0.8-6.1C6.8,36.5,7,30.3,7.3,24.1c0.4-6.2,1-12.3,2.4-18.4c0.1-0.6,0.3-1.2,0.5-1.8  c0.2-0.4,0.4-1,0.9-1c0.7,0,0.9,0.6,1,1.1c0.2,1.8,0.6,3.6,0.6,5.3c-0.1,9.8,1.2,19.5,2.3,29.2c0.4,3.5,1.2,6.9,1.5,10.4  c0.3,4.3-2.1,6.1-5.7,7.5c-1.8,0.7-4.6-1.3-5.5-3.7C4.9,51.5,4.8,50.1,4.7,48.7z"],tooth12:["M17.2,48.9c0.1,4.3-1.2,6.1-5,7.4c-2.4,0.9-5.3-0.1-7.1-2.5c-1.5-2-1.5-4.4-1.1-6.7  c1.1-5.3,2.1-10.7,2.7-16.1c0.7-6.3,1.3-12.6,2.8-18.8c0.2-1,0.6-2,1-2.9c0.2-0.4,0.3-1,0.9-0.9c0.6,0.1,0.7,0.6,0.8,1.1  c0.5,2.2,0.6,4.5,0.7,6.8c0.3,7.3,0.8,14.6,1.7,21.8c0.4,3,2.1,5.7,2.3,8.8C17.1,47.7,17.2,48.6,17.2,48.9z"],tooth13:["M4.1,49.7c0.1-3.1,0.7-6.1,1.8-9.1C7.3,37,7,33.1,7.4,29.2c0.5-4.4,0.6-8.8,1-13.2c0.1-1.4,0.1-3.7,1.9-3.6  c1.6,0,1.1,2.2,1.3,3.5c1.4,7.4,2.5,14.8,3.3,22.3c0.3,2.8,1.8,5.4,1.9,8.2c0.1,1.8,0.2,3.6-0.2,5.3c-0.5,2.8-2.4,4-4.9,4.7  c-2.4,0.7-4.6,0-6.4-1.4C3.8,53.8,4,51.7,4.1,49.7z"],tooth14:["M9,31.2c1-3.3,1.5-6.2,2.1-9.2c0.2-0.9,0.2-2,1.1-2.3c1.2-0.4,1.3,1,1.9,1.5c0.1-0.1,0.2-0.1,0.3-0.2  c0.5-0.8,0.7-2.1,1.8-2c1,0.1,1.4,1.3,1.8,2.3c0.7,2.5,1.1,5,1.1,7.5c0,6.3-0.1,12.5,1.5,18.7c0.5,1.7,0.2,3.6-0.3,5.3  c-0.7,2.7-2.6,4.2-5.3,3.7c-3-0.6-5.8-0.6-8.8,0c-2.8,0.6-4.7-1-5.4-3.8c-0.8-3-0.4-6.1,0.4-9C2,40.9,2.1,38,2,35  C1.9,31.5,2,28.1,2,24.7c0-1.4,0.2-2.7,0.8-4C3,20,3.4,19.3,4.2,19.3c0.8,0,1.1,0.8,1.3,1.4c0.6,1.8,1.1,3.7,1.6,5.5  C7.6,27.8,8,29.4,9,31.2z"],tooth15:["M8.8,29.4c0.3-2,0.7-4.1,0.8-6.1c0.1-2.2,2.1-2,3.2-2.7c0.9-0.6,1.7,0.5,2.2,1.3c2.2,2.9,3,6.4,3.3,9.9  c0.5,5.2,0.9,10.4,2.1,15.5c0.4,1.8,0.3,3.7-0.2,5.5c-0.8,3-2.6,4.4-5.6,3.8c-2.7-0.5-5.3-0.6-8,0c-3.1,0.6-5-0.7-5.7-3.9  c-0.6-2.6-0.5-5.3,0.2-7.8c1.3-4.2,1.1-8.6,1.4-12.9c0.2-2.7,0.4-5.4,1.2-7.9c0.1-0.5,0.2-1,0.5-1.4c0.4-0.7,0.6-1.9,1.7-1.8  c1.2,0.1,1.2,1.4,1.3,2.3c0.4,2.1,0.7,4.2,1,6.2C8.5,29.4,8.6,29.4,8.8,29.4z"],tooth16:["M7.6,29.1c0.4-1.5,0.6-2.4,0.8-3.3c0.2-0.5,0.4-1.1,1.1-1.1c0.7-0.1,1,0.5,1.2,1c0.7,1.6,1.4,3.3,1.9,5  c0.3-2,0.5-4,0.8-6.1c0.1-0.6,0.3-1.3,1-1.4c0.8-0.2,1.3,0.3,1.7,0.9c1.9,2.7,2.3,5.8,2.3,8.9c0,4.6,0.3,9.2,1.5,13.7  c0.5,2.1,0.5,4.2-0.1,6.3c-0.8,2.9-2.5,4.2-5.5,3.6c-2.6-0.5-5.1-0.5-7.8,0c-3.1,0.6-4.9-0.8-5.6-4c-0.8-3.5,0.1-6.8,1-10.2  c0.6-2.1,0.8-4.2,0.5-6.3c-0.4-3-0.1-6,0.6-9c0.1-0.5,0.2-1,0.4-1.4c0.5-0.9,0.8-2.4,2.1-2.2c1.3,0.2,1,1.6,1.4,2.5  C7.2,26.8,7.3,27.6,7.6,29.1z"],tooth17:["M1.9,20.6c0.3-2.5-0.4-5.1-1.1-7.7c-0.8-2.8-1.1-5.7-0.6-8.6C0.8,1,2.8-0.6,6.1,0.2c3,0.8,5.9,0.7,8.9,0  c3-0.7,4.9,0.7,5.7,3.6c0.9,3.5,0.2,6.9-0.7,10.2c-0.7,2.3-0.9,4.6-0.9,6.9c0.2,5.6-0.2,11.1-1.9,16.5c0,0.1-0.1,0.3-0.1,0.4  c-0.3,0.7-0.5,1.9-1.4,1.8c-1-0.1-1.1-1.2-1.3-2.1c-0.3-1.6-0.6-3.1-0.8-4.7c-0.4-2.3-0.7-4.6-1.6-6.8c-0.2-0.6-0.5-1.2-1.2-1.2  c-0.9,0-1.1,0.7-1.3,1.4c-0.9,3.2-0.9,6.5-1.1,9.8c-0.1,1.3,0.3,3.2-1.1,3.4c-1.5,0.3-2.1-1.5-2.6-2.8C2.5,31.6,2,26.2,1.9,20.6z"],tooth18:["M2.5,21.5c0.8-3.3-1.3-7.1-1.9-11.2C0.3,8.1,0.2,5.9,0.7,3.8c0.8-2.9,2.6-4.3,5.5-3.5c2.9,0.7,5.6,0.8,8.5,0  c3-0.8,4.9,0.7,5.6,3.7c0.6,2.5,0.7,5-0.1,7.4c-1.7,5-1.2,10.1-1.5,15.1c-0.2,4.5-0.9,8.9-2.8,13c-0.4,0.8-0.7,1.9-1.8,1.6  c-1-0.2-0.9-1.3-0.9-2.1c0-3.5-0.2-6.9-0.9-10.3c-0.3-1.2-0.4-3.2-1.7-3.2c-1.2,0-1.2,1.9-1.5,3.1c-0.5,2.8-0.8,5.7-0.8,8.6  c0,0.8,0,1.5-0.1,2.3c-0.1,0.9,0.1,2.2-1.2,2.3c-1,0.1-1.4-1-1.7-1.8c-0.8-2-1.3-4.1-1.7-6.2C2.8,30.1,2.2,26.3,2.5,21.5z"],tooth19:["M2,21.9c0.2-2.1-0.1-6-1.2-9.8C0.1,9.4,0,6.6,0.6,3.9c0.7-3,2.7-4.4,5.6-3.6c2.9,0.8,5.6,0.8,8.5,0  c3.1-0.8,5,0.6,5.7,3.8c0.7,2.9,0.5,5.8-0.3,8.6c-1.7,5.2-1.2,10.5-0.8,15.8c0.3,4.1,0.2,8.1-0.5,12.1c-0.2,0.9-0.2,2.3-1.3,2.4  c-1.3,0.1-1.4-1.4-1.7-2.3c-1-3.5-2-7-2.9-10.5c-0.2-0.9-0.5-1.7-0.9-2.5c-0.3-0.7-0.5-1.9-1.4-1.7c-0.8,0.1-1.1,1.1-1.3,1.9  C8.2,31.4,8,35.2,7.5,39C7.4,40,7.3,41,7.2,42C7,42.8,6.9,43.7,6,43.7c-0.9,0-1.2-0.8-1.5-1.5c-0.9-2.2-1.3-4.5-1.7-6.8  C2.1,31.6,1.8,27.6,2,21.9z"],tooth20:["M17.4,6.9c-0.2,3.1-0.3,6.4-1.3,9.4c-1.7,5.1-1.6,10.4-1.9,15.7c-0.3,4.6,0.3,9.2-0.5,13.8  c-0.2,1,0,2.5-1.3,2.5c-1.3,0.1-1.2-1.4-1.5-2.4c-2.4-8.5-3.2-17.2-4.4-25.8C5.9,15.9,4,11.9,3.8,7.6C3.7,5.7,3.2,3.5,5.1,2.3  c2.5-1.5,4.9-3.5,8.5-1.5C16.2,2.4,17.7,3.8,17.4,6.9z"],tooth21:["M16.9,7.3c-0.2,2.7-0.5,5.7-1.5,8.6c-1.4,4.3-1.6,8.8-1.7,13.3c-0.1,5.5,0,11-0.5,16.5  c-0.1,0.7,0.1,1.5-0.7,1.7c-0.9,0.2-1.1-0.7-1.4-1.3c-0.9-2-1.4-4.1-1.7-6.3c-0.9-6.7-1.8-13.4-2.7-20C6.6,18,6,16.5,5.4,14.9  c-0.9-2.4-1.2-5-1.3-7.5C4,4,7.4,0,10.2,0C13.7,0,17,3.4,16.9,7.3z"],tooth22:["M16.1,7.5c0.2,4.4-1.3,8.5-1.7,12.6c-0.7,7.8-0.4,15.5,0.3,23.3c0.1,1.6,0.3,3.2,0,4.7  c-0.1,0.5-0.2,1-0.8,1.1c-0.6,0.1-0.8-0.5-1-0.9c-1.3-2.7-2.1-5.7-2.7-8.6C8.7,33.2,8,26.5,7,19.8c-0.5-3.4-1.8-6.6-2-10.1  C4.8,6.5,4.6,3.4,7.5,1c1.7-1.3,2.9-1.4,4.6-0.1C14.5,2.6,16.8,4.3,16.1,7.5z"],tooth23:["M15,8.6c-0.8,6.8-1.4,15.6-1.4,24.3c0,2.5,0.1,5.1,0.1,7.6c0,1.3-0.2,2.6-0.3,3.9c-0.1,0.7-0.2,1.7-1.1,1.7  c-0.8,0-0.9-1-1-1.6c-0.6-3.2-1.2-6.4-1.6-9.6c-1.1-7.8-2.2-15.5-3.2-23.3C6,8.6,6.2,5.5,6.2,2.4c0-1.3,0.7-1.9,1.9-2  c0.1,0,0.3,0,0.4-0.1C14.4-0.6,15.1,0.1,15,8.6z"],tooth24:["M15.1,4.4C15,11.2,13.5,18,13.2,24.9c-0.2,5,0,10-0.6,15c-0.2,1.4-0.3,2.9-0.8,4.3c-0.2,0.6-0.4,1.3-1.2,1.2  c-0.6-0.1-0.8-0.7-0.9-1.3c-0.6-3-0.8-6.1-1-9.2c-0.7-7.7-0.7-15.4-2.2-23C6,9,6.2,5.9,6,2.9C6,1,6.8,0.1,8.7,0.1  c0.7,0,1.4-0.1,2.1-0.1C14.8,0,15.1,0.4,15.1,4.4z"],tooth25:["M6,4.4C6.1,11.2,7.6,18,7.9,24.9c0.2,5,0,10,0.6,15c0.2,1.4,0.3,2.9,0.8,4.3c0.2,0.6,0.4,1.3,1.2,1.2  c0.6-0.1,0.8-0.7,0.9-1.3c0.6-3,0.8-6.1,1-9.2c0.7-7.7,0.7-15.4,2.2-23c0.6-2.9,0.4-6,0.6-9c0.1-1.9-0.8-2.8-2.7-2.8  C11.7,0.1,11,0,10.3,0C6.3,0,6,0.4,6,4.4z"],tooth26:["M6.1,8.6c0.8,6.8,1.4,15.6,1.4,24.3c0,2.5-0.1,5.1-0.1,7.6c0,1.3,0.2,2.6,0.3,3.9c0.1,0.7,0.2,1.7,1.1,1.7  c0.8,0,0.9-1,1-1.6c0.6-3.2,1.2-6.4,1.6-9.6c1.1-7.8,2.2-15.5,3.2-23.3c0.4-3.1,0.2-6.2,0.2-9.3c0-1.3-0.7-1.9-1.9-2  c-0.1,0-0.3,0-0.4-0.1C6.7-0.6,6,0.1,6.1,8.6z"],tooth27:["M5,7.5C4.8,12,6.3,16,6.7,20.2C7.4,27.9,7,35.7,6.4,43.5c-0.1,1.6-0.3,3.2,0,4.7c0.1,0.5,0.2,1,0.8,1.1  c0.6,0.1,0.8-0.5,1-0.9c1.3-2.7,2.1-5.7,2.7-8.6c1.5-6.6,2.2-13.3,3.2-20c0.5-3.4,1.8-6.6,2-10.1c0.2-3.2,0.3-6.3-2.6-8.7  C11.9-0.3,10.6-0.4,9,0.9C6.6,2.6,4.3,4.3,5,7.5z"],tooth28:["M4.2,7.3c0.2,2.7,0.5,5.7,1.5,8.6c1.4,4.3,1.6,8.8,1.7,13.3c0.1,5.5,0,11,0.5,16.5c0.1,0.7-0.1,1.5,0.7,1.7  c0.9,0.2,1.1-0.7,1.4-1.3c0.9-2,1.4-4.1,1.7-6.3c0.9-6.7,1.8-13.4,2.7-20c0.2-1.6,0.8-3.2,1.4-4.7c0.9-2.4,1.2-5,1.3-7.5  C17.1,4,13.7,0,10.9,0C7.4,0,4.1,3.4,4.2,7.3z"],tooth29:["M3.7,6.9C4,10,4,13.2,5,16.3C6.7,21.4,6.7,26.7,6.9,32c0.3,4.6-0.3,9.2,0.5,13.8c0.2,1,0,2.5,1.3,2.5  c1.3,0.1,1.2-1.4,1.5-2.4c2.4-8.5,3.2-17.2,4.4-25.8c0.6-4.2,2.5-8.2,2.7-12.5c0.1-1.9,0.6-4.2-1.3-5.3c-2.5-1.5-4.9-3.5-8.5-1.5  C4.9,2.4,3.4,3.8,3.7,6.9z"],tooth30:["M19.1,21.9c-0.2-2.1,0.1-6,1.2-9.8c0.8-2.7,0.8-5.5,0.2-8.2c-0.7-3-2.7-4.4-5.6-3.6C11.9,1,9.2,1,6.3,0.2  C3.3-0.6,1.4,0.8,0.6,4C0,6.9,0.1,9.8,1,12.6c1.7,5.2,1.2,10.5,0.8,15.8c-0.3,4.1-0.2,8.1,0.5,12.1c0.2,0.9,0.2,2.3,1.3,2.4  C4.9,43,5,41.5,5.3,40.6c1-3.5,2-7,2.9-10.5c0.2-0.9,0.5-1.7,0.9-2.5c0.3-0.7,0.5-1.9,1.4-1.7c0.8,0.1,1.1,1.1,1.3,1.9  c1,3.7,1.2,7.5,1.6,11.2c0.1,1,0.2,2.1,0.4,3.1c0.1,0.8,0.2,1.7,1.2,1.7c0.9,0,1.2-0.8,1.5-1.5c0.9-2.2,1.3-4.5,1.7-6.8  C19,31.6,19.3,27.6,19.1,21.9z"],tooth31:["M18.6,21.5c-0.8-3.3,1.3-7.1,1.9-11.2c0.3-2.2,0.4-4.4-0.2-6.6c-0.8-2.9-2.6-4.3-5.5-3.5C12,1,9.3,1,6.4,0.2  c-3-0.8-4.9,0.7-5.6,3.7c-0.6,2.5-0.7,5,0.1,7.4c1.7,5,1.2,10.1,1.5,15.1c0.2,4.5,0.9,8.9,2.8,13C5.6,40.2,5.9,41.3,7,41  c1-0.2,0.9-1.3,0.9-2.1c0-3.5,0.2-6.9,0.9-10.3c0.3-1.2,0.4-3.2,1.7-3.2c1.2,0,1.2,1.9,1.5,3.1c0.5,2.8,0.8,5.7,0.8,8.6  c0,0.8,0,1.5,0.1,2.3c0.1,0.9-0.1,2.2,1.2,2.3c1,0.1,1.4-1,1.7-1.8c0.8-2,1.3-4.1,1.7-6.2C18.3,30.1,18.9,26.3,18.6,21.5z"],tooth32:["M19.2,20.6c-0.3-2.5,0.4-5.1,1.1-7.7c0.8-2.8,1.1-5.7,0.6-8.6C20.3,1,18.3-0.6,15,0.2c-3,0.8-5.9,0.7-8.9,0  c-3-0.7-4.9,0.7-5.7,3.6C-0.5,7.3,0.2,10.7,1.2,14c0.7,2.3,0.9,4.6,0.9,6.9C1.9,26.5,2.2,32.1,4,37.4c0,0.1,0.1,0.3,0.1,0.4  c0.3,0.7,0.5,1.9,1.4,1.8c1-0.1,1.1-1.2,1.3-2.1c0.3-1.6,0.6-3.1,0.8-4.7c0.4-2.3,0.7-4.6,1.6-6.8c0.2-0.6,0.5-1.2,1.2-1.2  c0.9,0,1.1,0.7,1.3,1.4c0.9,3.2,0.9,6.5,1.1,9.8c0.1,1.3-0.3,3.2,1.1,3.4c1.5,0.3,2.1-1.5,2.6-2.8C18.6,31.6,19.1,26.2,19.2,20.6z"]},d1=({num:e,paths:t,status:n,onClick:s,isUpperJaw:l,readOnly:o=!1,statusColor:d})=>r.jsxs("div",{onClick:o?void 0:s,className:`cursor-${o?"default":"pointer"} flex flex-col items-center`,style:{width:"48px",minHeight:"64px"},children:[r.jsx("div",{className:"flex justify-center mb-1",style:{width:"48px",height:"72px",alignItems:l?"flex-end":"flex-start",marginBottom:l?"10px":0},children:r.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 21.1 56.7",className:"w-full h-full",fill:d,style:{maxWidth:"48px",maxHeight:"72px",display:"block"},children:t.map((f,m)=>r.jsx("path",{d:f},m))})}),r.jsx("p",{className:"text-xs text-center",style:{lineHeight:"1",width:"100%",margin:0},children:e})]}),zl=({initialStatus:e={},onChange:t,readOnly:n=!1,scale:s=1,showLegend:l=!0})=>{const{t:o}=ye(),d={movable:{color:"#00adef",description:o("dentalChart.statuses.movable")},unmovable:{color:"#F44336",description:o("dentalChart.statuses.unmovable")},missing:{color:"#9E9E9E",description:o("dentalChart.statuses.missing")},note:{color:"#fa9600",description:o("dentalChart.statuses.note")}},[f,m]=h.useState(()=>Object.keys(e).length>0?e:Object.fromEntries([...Array(32)].map((b,y)=>[y+1,"movable"]))),p=b=>{const y=Object.keys(d),w=f[b],j=(y.indexOf(w)+1)%y.length,S=y[j],E={...f,[b]:S};m(E),t?.(E)},g=s!==1?{transform:`scale(${s})`,transformOrigin:"top center"}:{};return r.jsxs("div",{className:"flex flex-col items-center gap-8 p-4",style:g,children:[r.jsx("div",{className:"flex",style:{gap:"4px",direction:"ltr"},children:[...Array(16)].map((b,y)=>{const w=y+1,j=El[`tooth${w}`]||[],S=f[w],E=d[S]?.color;return r.jsx(d1,{num:w,paths:j,status:S,onClick:()=>p(w),isUpperJaw:!0,readOnly:n,statusColor:E},w)})}),r.jsx("div",{className:"flex",style:{gap:"4px",direction:"ltr"},children:[...Array(16)].map((b,y)=>{const w=32-y,j=El[`tooth${w}`]||[],S=f[w],E=d[S]?.color;return r.jsx(d1,{num:w,paths:j,status:S,onClick:()=>p(w),isUpperJaw:!1,readOnly:n,statusColor:E},w)})}),l&&r.jsx("div",{className:"flex flex-col gap-3 mt-4 max-w-2xl",children:Object.entries(d).map(([b,{color:y,description:w}])=>r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{style:{backgroundColor:y},className:"w-5 h-5 border flex-shrink-0"}),r.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:gap-2",children:[r.jsxs("span",{className:"capitalize font-medium text-sm",children:[o(`dentalChart.statusLabels.${b}`),":"]}),r.jsx("span",{className:"text-sm text-gray-600",children:w})]})]},b))})]})},v9=De.forwardRef(function({variant:t="neutral",icon:n=r.jsx(Wp,{}),title:s,description:l,actions:o,className:d,...f},m){return r.jsx("div",{className:$e("group/3a65613d flex w-full flex-col items-start gap-2 rounded-md border border-solid border-neutral-200 bg-neutral-50 pl-4 pr-3 py-3",{"border border-solid border-warning-100 bg-warning-50":t==="warning","border border-solid border-success-100 bg-success-50":t==="success","border border-solid border-error-100 bg-error-50":t==="error","border border-solid border-brand-100 bg-brand-50":t==="brand"},d),ref:m,...f,children:r.jsxs("div",{className:"flex w-full items-center gap-4",children:[n?r.jsx(Ee,{className:$e("text-heading-3 font-heading-3 text-neutral-800",{"text-warning-800":t==="warning","text-success-800":t==="success","text-error-800":t==="error","text-brand-800":t==="brand"}),children:n}):null,r.jsxs("div",{className:"flex grow shrink-0 basis-0 flex-col items-start",children:[s?r.jsx("span",{className:$e("w-full whitespace-pre-wrap text-body-bold font-body-bold text-default-font font-bold",{"text-warning-900":t==="warning","text-success-900":t==="success","text-error-900":t==="error","text-brand-900":t==="brand"}),children:s}):null,l?r.jsx("span",{className:$e("w-full whitespace-pre-wrap text-caption font-caption text-subtext-color",{"text-warning-800":t==="warning","text-success-800":t==="success","text-error-800":t==="error","text-brand-800":t==="brand"}),children:l}):null]}),o?r.jsx("div",{className:"flex items-center justify-end gap-1",children:o}):null]})})}),ya=v9,CN=({formData:e,handleChange:t,getMinDate:n})=>{const{t:s}=ye(),l=()=>r.jsx("span",{className:"text-red-500 ml-1 font-bold",title:s("common.required"),children:"*"});return r.jsxs("div",{className:"flex w-full flex-col items-start gap-6 rounded-md border border-solid border-gray-200 bg-white px-6 pt-4 pb-6 shadow-sm",children:[r.jsxs("div",{className:"flex w-full items-start gap-4",children:[r.jsx("div",{className:"flex grow shrink-0 basis-0 flex-col items-start gap-4",children:r.jsx(Ce,{className:"h-auto w-full flex-none",label:r.jsxs("span",{className:"flex items-center",children:[s("caseSubmit.patientInfo.firstNameLabel"),r.jsx(l,{})]}),helpText:"",children:r.jsx(Ce.Input,{placeholder:s("caseSubmit.patientInfo.firstNamePlaceholder"),type:"text",id:"firstName",name:"firstName",value:e.firstName,onChange:t,required:!0})})}),r.jsx("div",{className:"flex grow shrink-0 basis-0 flex-col items-start gap-4",children:r.jsx(Ce,{className:"h-auto w-full flex-none",label:r.jsxs("span",{className:"flex items-center",children:[s("caseSubmit.patientInfo.lastNameLabel"),r.jsx(l,{})]}),helpText:"",children:r.jsx(Ce.Input,{placeholder:s("caseSubmit.patientInfo.lastNamePlaceholder"),type:"text",id:"lastName",name:"lastName",value:e.lastName,onChange:t,required:!0})})})]}),r.jsxs("div",{className:"flex w-full flex-col items-start gap-4",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("input",{type:"checkbox",id:"isUrgent",name:"isUrgent",checked:e.isUrgent,onChange:t,className:"w-4 h-4 text-red-600 bg-gray-100 border-gray-300 rounded focus:ring-sky-500 focus:ring-2 accent-sky-600"}),r.jsx("label",{htmlFor:"isUrgent",className:"text-sm font-bold text-gray-700 cursor-pointer",children:s("caseSubmit.patientInfo.urgentCase")})]}),e.isUrgent&&r.jsx("div",{className:"ml-7 w-full max-w-xs",children:r.jsx(Ce,{className:"h-auto w-full flex-none",label:r.jsxs("span",{className:"flex items-center",children:[s("caseSubmit.patientInfo.deliveryDateLabel"),r.jsx(l,{})]}),helpText:s("caseSubmit.patientInfo.deliveryDateHelp"),children:r.jsx(Ce.Input,{type:"date",id:"urgentDeliveryDate",name:"urgentDeliveryDate",value:e.urgentDeliveryDate,onChange:t,min:n?n():"",required:e.isUrgent,className:"text-sm"})})}),e.isUrgent&&r.jsx("div",{className:"ml-7",children:r.jsx(ya,{title:s("caseSubmit.patientInfo.urgentNoticeTitle"),description:s("caseSubmit.patientInfo.urgentNoticeDescription")})})]})]})},_c=({label:e,name:t,options:n,selectedValue:s,onChange:l})=>r.jsxs("fieldset",{className:"flex flex-col gap-2",children:[r.jsx("legend",{className:"text-body-bold font-body-bold text-default-font mb-2",children:e}),n.map(o=>r.jsxs("label",{className:"flex items-center gap-2 cursor-pointer text-body font-body text-default-font group-disabled/0f804ad9:text-subtext-color",children:[r.jsx("input",{type:"radio",name:t,value:o.value,checked:s===o.value,onChange:l,className:"accent-blue-600"}),o.label]},o.value))]}),gx=({formData:e,handleChange:t,alignerMaterials:n})=>{const{t:s,i18n:l}=ye(),o=l.language==="ar",[d,f]=h.useState(!1);return r.jsxs("div",{className:"flex w-full flex-col items-start gap-6 rounded-md border border-solid border-neutral-border bg-default-background px-6 pt-4 pb-6 shadow-sm",children:[r.jsx("div",{className:"w-full",children:r.jsx(_c,{label:s("caseSubmit.treatmentOptions.treatmentArch"),name:"treatmentArch",options:[{label:s("caseSubmit.treatmentOptions.upperArch"),value:"upper"},{label:s("caseSubmit.treatmentOptions.lowerArch"),value:"lower"},{label:s("caseSubmit.treatmentOptions.bothArches"),value:"both"}],selectedValue:e.treatmentArch,onChange:t})}),r.jsxs("div",{className:"flex w-full flex-col items-start gap-2",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{className:"text-body-bold font-body-bold text-default-font",children:s("caseSubmit.treatmentOptions.alignerMaterial")}),r.jsxs("button",{type:"button",onClick:()=>f(!0),className:"flex items-center gap-1 text-caption font-caption text-brand-600 hover:text-brand-700 transition-colors",children:[r.jsx(Wp,{className:"w-3 h-3"}),s("common.learnMore","Learn more about systems")]})]}),r.jsx("div",{className:"flex w-full items-start gap-4",children:r.jsx("div",{className:"flex grow shrink-0 basis-0 flex-col items-start gap-4",children:r.jsx(_c,{label:null,name:"alignerMaterial",options:n.map(m=>({label:`${m.name}`,value:m.name})),selectedValue:e.alignerMaterial,onChange:t})})})]}),r.jsx(ys,{isOpen:d,onClose:()=>f(!1),title:s("caseSubmit.treatmentOptions.materialDetails","Aligner Systems & Pricing"),description:s("caseSubmit.treatmentOptions.materialDesc","Compare our available aligner materials and features."),icon:r.jsx(Wp,{}),children:r.jsxs("div",{className:"flex flex-col gap-4 mt-2",children:[n.map(m=>r.jsxs("div",{className:"flex flex-col gap-1 p-4 rounded-md border border-neutral-border bg-neutral-50",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-body-bold font-body-bold text-default-font",children:m.name}),r.jsxs("span",{className:"text-body-bold font-body-bold text-brand-600",children:["$",Number(m.price||0).toFixed(2)]})]}),r.jsx("p",{className:"text-caption font-caption text-subtext-color",dir:o?"rtl":"ltr",children:(o?m.description_ar:m.description_en)||s("common.noDescription","No description available.")})]},m.id)),n.length===0&&r.jsx("div",{className:"text-center py-6 text-subtext-color",children:s("common.noRecords","No materials found.")})]})})]})},xx=({formData:e,handleChange:t,isAdmin:n})=>{const{t:s}=ye(),l=()=>n?null:r.jsx("span",{className:"text-red-500 ml-1 font-bold",title:s("common.required"),children:"*"});return r.jsxs("div",{className:"flex w-full flex-col items-start gap-6 rounded-md border border-solid border-gray-200 bg-white px-6 pt-4 pb-6 shadow-sm",children:[r.jsx("span",{className:"text-xl font-bold text-gray-800",children:s("caseSubmit.diagnosis.title")}),r.jsx("div",{className:"w-full",children:r.jsxs("div",{className:"flex flex-col gap-2",children:[r.jsx("label",{htmlFor:"chiefComplaint",className:"text-sm font-bold text-gray-700",children:s("caseSubmit.diagnosis.chiefComplaint")}),r.jsx("textarea",{id:"chiefComplaint",name:"chiefComplaint",value:e.chiefComplaint,onChange:t,placeholder:s("caseSubmit.diagnosis.chiefComplaintPlaceholder"),rows:3,className:"w-full px-3 py-2 text-sm border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 resize-vertical min-h-[80px]"}),r.jsx("span",{className:"text-xs text-gray-400",children:s("caseSubmit.diagnosis.chiefComplaintHelp")})]})}),r.jsx("div",{className:"w-full",children:r.jsxs("div",{className:"flex flex-col gap-4",children:[r.jsx(_c,{label:r.jsxs("span",{className:"flex items-center",children:[s("caseSubmit.diagnosis.upperMidline"),r.jsx(l,{})]}),name:"upperMidline",options:[{label:s("caseSubmit.diagnosis.centered"),value:"centered"},{label:s("caseSubmit.diagnosis.shiftedRight"),value:"shifted_right"},{label:s("caseSubmit.diagnosis.shiftedLeft"),value:"shifted_left"}],selectedValue:e.upperMidline,onChange:t}),(e.upperMidline==="shifted_right"||e.upperMidline==="shifted_left")&&r.jsx("div",{className:"ml-6",children:r.jsx(Ce,{className:"h-auto w-48 flex-none",label:r.jsxs("span",{className:"flex items-center",children:[s("caseSubmit.diagnosis.shiftAmount"),r.jsx(l,{})]}),helpText:s("caseSubmit.diagnosis.shiftAmountHelp"),children:r.jsx(Ce.Input,{placeholder:s("caseSubmit.diagnosis.shiftAmountPlaceholder"),type:"number",step:"0.1",id:"upperMidlineShift",name:"upperMidlineShift",value:e.upperMidlineShift,onChange:t})})})]})}),r.jsx("div",{className:"w-full",children:r.jsxs("div",{className:"flex flex-col gap-4",children:[r.jsx(_c,{label:r.jsxs("span",{className:"flex items-center",children:[s("caseSubmit.diagnosis.lowerMidline"),r.jsx(l,{})]}),name:"lowerMidline",options:[{label:s("caseSubmit.diagnosis.centered"),value:"centered"},{label:s("caseSubmit.diagnosis.shiftedRight"),value:"shifted_right"},{label:s("caseSubmit.diagnosis.shiftedLeft"),value:"shifted_left"}],selectedValue:e.lowerMidline,onChange:t}),(e.lowerMidline==="shifted_right"||e.lowerMidline==="shifted_left")&&r.jsx("div",{className:"ml-6",children:r.jsx(Ce,{className:"h-auto w-48 flex-none",label:r.jsxs("span",{className:"flex items-center",children:[s("caseSubmit.diagnosis.shiftAmount"),r.jsx(l,{})]}),helpText:s("caseSubmit.diagnosis.shiftAmountHelp"),children:r.jsx(Ce.Input,{placeholder:s("caseSubmit.diagnosis.shiftAmountPlaceholder"),type:"number",step:"0.1",id:"lowerMidlineShift",name:"lowerMidlineShift",value:e.lowerMidlineShift,onChange:t})})})]})}),r.jsxs("div",{className:"w-full",children:[r.jsxs("span",{className:"text-sm font-bold text-gray-700 mb-4 block",children:[s("caseSubmit.diagnosis.canineRelationship"),r.jsx(l,{})]}),r.jsxs("div",{className:"flex gap-8",children:[r.jsxs("div",{className:"flex flex-col gap-2",children:[r.jsx("span",{className:"text-sm text-gray-600",children:s("caseSubmit.diagnosis.rightSide")}),r.jsxs("select",{name:"canineRightClass",value:e.canineRightClass,onChange:t,className:"px-3 py-2 text-sm border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 outline-none bg-white",children:[r.jsx("option",{value:"",children:s("caseSubmit.diagnosis.selectClass")}),r.jsx("option",{value:"class_i",children:s("caseSubmit.diagnosis.classI")}),r.jsx("option",{value:"class_ii",children:s("caseSubmit.diagnosis.classII")}),r.jsx("option",{value:"class_iii",children:s("caseSubmit.diagnosis.classIII")})]})]}),r.jsxs("div",{className:"flex flex-col gap-2",children:[r.jsx("span",{className:"text-sm text-gray-600",children:s("caseSubmit.diagnosis.leftSide")}),r.jsxs("select",{name:"canineLeftClass",value:e.canineLeftClass,onChange:t,className:"px-3 py-2 text-sm border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 outline-none bg-white",children:[r.jsx("option",{value:"",children:s("caseSubmit.diagnosis.selectClass")}),r.jsx("option",{value:"class_i",children:s("caseSubmit.diagnosis.classI")}),r.jsx("option",{value:"class_ii",children:s("caseSubmit.diagnosis.classII")}),r.jsx("option",{value:"class_iii",children:s("caseSubmit.diagnosis.classIII")})]})]})]})]}),r.jsxs("div",{className:"w-full",children:[r.jsxs("span",{className:"text-sm font-bold text-gray-700 mb-4 block",children:[s("caseSubmit.diagnosis.molarRelationship"),r.jsx(l,{})]}),r.jsxs("div",{className:"flex gap-8",children:[r.jsxs("div",{className:"flex flex-col gap-2",children:[r.jsx("span",{className:"text-sm text-gray-600",children:s("caseSubmit.diagnosis.rightSide")}),r.jsxs("select",{name:"molarRightClass",value:e.molarRightClass,onChange:t,className:"px-3 py-2 text-sm border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 outline-none bg-white",children:[r.jsx("option",{value:"",children:s("caseSubmit.diagnosis.selectClass")}),r.jsx("option",{value:"class_i",children:s("caseSubmit.diagnosis.classI")}),r.jsx("option",{value:"class_ii",children:s("caseSubmit.diagnosis.classII")}),r.jsx("option",{value:"class_iii",children:s("caseSubmit.diagnosis.classIII")})]})]}),r.jsxs("div",{className:"flex flex-col gap-2",children:[r.jsx("span",{className:"text-sm text-gray-600",children:s("caseSubmit.diagnosis.leftSide")}),r.jsxs("select",{name:"molarLeftClass",value:e.molarLeftClass,onChange:t,className:"px-3 py-2 text-sm border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 outline-none bg-white",children:[r.jsx("option",{value:"",children:s("caseSubmit.diagnosis.selectClass")}),r.jsx("option",{value:"class_i",children:s("caseSubmit.diagnosis.classI")}),r.jsx("option",{value:"class_ii",children:s("caseSubmit.diagnosis.classII")}),r.jsx("option",{value:"class_iii",children:s("caseSubmit.diagnosis.classIII")})]})]})]})]}),r.jsx("div",{className:"w-full",children:r.jsxs("div",{className:"flex flex-col gap-2",children:[r.jsx("label",{htmlFor:"userNote",className:"text-sm font-bold text-gray-700",children:s("caseSubmit.diagnosis.additionalNotes")}),r.jsx("textarea",{id:"userNote",name:"userNote",value:e.userNote,onChange:t,placeholder:s("caseSubmit.diagnosis.additionalNotesPlaceholder"),rows:4,className:"w-full px-3 py-2 text-sm border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 resize-vertical min-h-[100px]"}),r.jsx("span",{className:"text-xs text-gray-400",children:s("caseSubmit.diagnosis.additionalNotesHelp")})]})})]})},bx=({formData:e,handleChange:t,isRequired:n=!0})=>{const{t:s}=ye();return r.jsxs("div",{className:"flex w-full flex-col items-start gap-6 rounded-md border border-solid border-neutral-border bg-default-background px-6 pt-4 pb-6 shadow-sm",children:[r.jsx("span",{className:"text-heading-3 font-heading-3 text-default-font",children:s("caseSubmit.fileUpload.requiredScans")}),!n&&r.jsx(ya,{title:s("adminCaseSubmit.title"),description:s("adminCaseSubmit.alerts.fileUploadOptional")}),r.jsx("div",{className:"w-full border-b border-neutral-border pb-4",children:r.jsxs("fieldset",{className:"flex flex-col gap-3",children:[r.jsx("legend",{className:"text-body-bold font-body-bold text-default-font mb-3",children:s("caseSubmit.fileUpload.uploadMethod")}),r.jsxs("label",{className:"flex items-center gap-3 cursor-pointer text-body font-body text-default-font",children:[r.jsx("input",{type:"radio",name:"uploadMethod",value:"individual",checked:e.uploadMethod==="individual",onChange:t,className:"accent-blue-600 w-4 h-4"}),r.jsx("span",{children:s("caseSubmit.fileUpload.individualFiles")})]}),r.jsxs("label",{className:"flex items-center gap-3 cursor-pointer text-body font-body text-default-font",children:[r.jsx("input",{type:"radio",name:"uploadMethod",value:"compressed",checked:e.uploadMethod==="compressed",onChange:t,className:"accent-blue-600 w-4 h-4"}),r.jsx("span",{children:s("caseSubmit.fileUpload.compressedArchive")})]})]})}),e.uploadMethod==="individual"&&r.jsxs(r.Fragment,{children:[r.jsx(ya,{title:s("caseSubmit.fileUpload.individualTitle"),description:s("caseSubmit.fileUpload.individualDescription")}),r.jsxs("div",{children:[r.jsxs("label",{htmlFor:"upperJawScan",className:"block text-sm font-medium text-gray-700",children:[s("caseSubmit.fileUpload.upperJawLabel")," ",n&&r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx("input",{type:"file",id:"upperJawScan",name:"upperJawScan",accept:".stl,.obj,.ply",onChange:t,required:n&&e.uploadMethod==="individual",className:`mt-1 block w-full text-sm text-gray-500\r
              file:mr-4 file:rounded-md file:border-0\r
              file:text-sm file:font-medium\r
              file:bg-sky-50 file:text-sky-700\r
              hover:file:bg-sky-100`})]}),r.jsxs("div",{children:[r.jsxs("label",{htmlFor:"lowerJawScan",className:"block text-sm font-medium text-gray-700",children:[s("caseSubmit.fileUpload.lowerJawLabel")," ",n&&r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx("input",{type:"file",id:"lowerJawScan",name:"lowerJawScan",accept:".stl,.obj,.ply",onChange:t,required:n&&e.uploadMethod==="individual",className:`mt-1 block w-full text-sm text-gray-500\r
              file:mr-4 file:rounded-md file:border-0\r
              file:text-sm file:font-medium\r
              file:bg-sky-50 file:text-sky-700\r
              hover:file:bg-sky-100`})]}),r.jsxs("div",{children:[r.jsxs("label",{htmlFor:"biteScan",className:"block text-sm font-medium text-gray-700",children:[s("caseSubmit.fileUpload.biteScanLabel")," ",n&&r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx("input",{type:"file",id:"biteScan",name:"biteScan",accept:".stl,.obj,.ply",onChange:t,required:n&&e.uploadMethod==="individual",className:`mt-1 block w-full text-sm text-gray-500\r
              file:mr-4 file:rounded-md file:border-0\r
              file:text-sm file:font-medium\r
              file:bg-sky-50 file:text-sky-700\r
              hover:file:bg-sky-100`})]})]}),e.uploadMethod==="compressed"&&r.jsxs(r.Fragment,{children:[r.jsx(ya,{title:s("caseSubmit.fileUpload.compressedTitle"),description:s("caseSubmit.fileUpload.compressedDescription")}),r.jsxs("div",{children:[r.jsxs("label",{htmlFor:"compressedScans",className:"block text-sm font-medium text-gray-700",children:[s("caseSubmit.fileUpload.compressedLabel")," ",n&&r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx("input",{type:"file",id:"compressedScans",name:"compressedScans",accept:".zip,.rar,.7z",onChange:t,required:n&&e.uploadMethod==="compressed",className:`mt-1 block w-full text-sm text-gray-500\r
              file:mr-4 file:rounded-md file:border-0\r
              file:text-sm file:font-medium\r
              file:bg-sky-50 file:text-sky-700\r
              hover:file:bg-sky-100`})]})]}),r.jsxs("div",{className:"pt-4 border-t border-neutral-border",children:[r.jsx("label",{htmlFor:"additionalFiles",className:"block text-sm font-medium text-gray-700",children:s("caseSubmit.fileUpload.additionalFiles")}),r.jsx("input",{type:"file",id:"additionalFiles",name:"additionalFiles",multiple:!0,accept:".stl,.obj,.ply,.pdf,.jpg,.png",onChange:t,className:`mt-1 block w-full text-sm text-gray-500\r
          file:mr-4 file:rounded-md file:border-0\r
          file:text-sm file:font-medium\r
          file:bg-sky-50 file:text-sky-700\r
          hover:file:bg-sky-100`}),e.additionalFiles.length>0&&r.jsx("div",{className:"mt-2 text-sm text-gray-500",children:s("caseSubmit.fileUpload.filesSelected",{count:e.additionalFiles.length})})]})]})},y9=()=>{const{t:e}=ye(),[t,n]=h.useState([]),[s,l]=h.useState([]),[o,d]=h.useState([]),[f,m]=h.useState(""),[p,g]=h.useState(!1),[b,y]=h.useState({}),[w,j]=h.useState(!1),[S,E]=h.useState(null),[R,A]=h.useState(null),[N,P]=h.useState({selectedUserId:"",selectedUserName:"",firstName:"",lastName:"",isUrgent:!1,urgentDeliveryDate:"",alignerMaterial:"",uploadMethod:"individual",upperJawScan:null,lowerJawScan:null,biteScan:null,compressedScans:null,toothStatus:{},additionalFiles:[],userNote:"",upperMidline:"",upperMidlineShift:"",lowerMidline:"",lowerMidlineShift:"",canineRightClass:"",canineLeftClass:"",molarRightClass:"",molarLeftClass:"",treatmentArch:""}),T=h.useRef(null),C=vn();h.useEffect(()=>{(async()=>{j(!0);const{data:F,error:B}=await Z.from("services").select("*").eq("is_active",!0);B?console.error("Error fetching services:",B):n(F.filter(q=>q.type==="aligners_material"));const{data:te,error:U}=await Z.from("profiles").select("id, full_name, email").order("full_name");U?console.error("Error fetching users:",U):(l(te||[]),d(te||[])),j(!1)})()},[]),h.useEffect(()=>{if(f.trim()==="")d(s);else{const L=s.filter(F=>{const B=F?.full_name?.toLowerCase(),te=F?.email?.toLowerCase(),U=f.toLowerCase();return B?.includes(U)||te?.includes(U)});d(L)}},[f,s]);const k=L=>{m(L.target.value),g(!0)},$=L=>{P(F=>({...F,selectedUserId:L.id,selectedUserName:`${L.full_name} (${L.email})`})),m(`${L.full_name} (${L.email})`),g(!1)};h.useEffect(()=>{function L(F){T.current&&!T.current.contains(F.target)&&g(!1)}return document.addEventListener("mousedown",L),()=>{document.removeEventListener("mousedown",L)}},[]);const O=L=>{const{name:F,value:B,files:te,type:U,checked:q}=L.target;te?P(G=>({...G,[F]:F==="additionalFiles"?[...G.additionalFiles,...te]:te[0]})):U==="checkbox"?P(G=>({...G,[F]:q,...F==="isUrgent"&&!q?{urgentDeliveryDate:""}:{}})):(P(G=>({...G,[F]:B})),F==="upperMidline"&&B==="centered"&&P(G=>({...G,upperMidlineShift:""})),F==="lowerMidline"&&B==="centered"&&P(G=>({...G,lowerMidlineShift:""})),F==="uploadMethod"&&B==="compressed"&&P(G=>({...G,upperJawScan:null,lowerJawScan:null,biteScan:null})),F==="uploadMethod"&&B==="individual"&&P(G=>({...G,compressedScans:null})))},V=async L=>{L.preventDefault(),j(!0),E(null),A(null);try{let F=null,B=null,te=null,U=null,q=[];const{data:{user:G},error:J}=await Z.auth.getUser();if(J||!G)throw new pt(e("caseSubmit.errors.authRequired"));const z=(()=>{const xe=[];if(N.selectedUserId||xe.push(e("adminCaseSubmit.errors.doctorRequired")),N.firstName?.trim()||xe.push(e("caseSubmit.errors.firstNameRequired")),N.lastName?.trim()||xe.push(e("caseSubmit.errors.lastNameRequired")),N.isUrgent&&!N.urgentDeliveryDate&&xe.push(e("caseSubmit.errors.deliveryDateRequired")),N.isUrgent&&N.urgentDeliveryDate){const Ne=new Date(N.urgentDeliveryDate),Pe=new Date;Pe.setHours(0,0,0,0),Ne<=Pe&&xe.push(e("caseSubmit.errors.deliveryDateFuture"))}return xe})();if(z.length>0)throw new pt(z.join(", "));const{data:ae}=await Z.from("profiles").select("full_name, clinic").eq("id",N.selectedUserId).single(),Q=ae?.full_name||N.selectedUserName||e("caseSubmit.unknownDoctor"),ne=ae?.clinic||null,he=`${N.firstName.trim()} ${N.lastName.trim()}`,ge=`ADMIN-${N.selectedUserId.substring(0,8)}-${Date.now()}`,we=async(xe,Ne,Pe={})=>{if(!xe)return null;try{const Be=[".stl",".obj",".ply",".pdf",".png",".jpg",".jpeg",".zip",".rar",".7z"];if(xe.size>104857600)throw new pt(e("caseSubmit.errors.fileTooLarge"));const be=xe.name.split(".").pop().toLowerCase();if(!Be.includes(`.${be}`))throw new pt(e("caseSubmit.errors.invalidFileType",{types:Be.join(", ")}));const Ae=await Uf(xe,Ne,{caseId:Pe.caseId||`ADMIN-${Date.now()}`,patientName:Pe.patientName||e("caseSubmit.unknownPatient"),doctorName:Pe.doctorName||e("caseSubmit.unknownDoctor"),clinicName:Pe.clinicName||null,fileType:Pe.fileType||Ne});if(!Ae.success)throw new pt(Ae.error||e("caseSubmit.errors.uploadFailed"));return Ae.filePath}catch(Re){throw console.error(`Upload error for ${Ne}:`,Re),Re}};N.uploadMethod==="individual"?[F,B,te]=await Promise.all([we(N.upperJawScan,"upper-jaw-scans",{caseId:ge,patientName:he,doctorName:Q,clinicName:ne,fileType:e("caseSubmit.upperJawScan")}),we(N.lowerJawScan,"lower-jaw-scans",{caseId:ge,patientName:he,doctorName:Q,clinicName:ne,fileType:e("caseSubmit.lowerJawScan")}),we(N.biteScan,"bite-scans",{caseId:ge,patientName:he,doctorName:Q,clinicName:ne,fileType:e("caseSubmit.biteScan")})]):N.uploadMethod==="compressed"&&(U=await we(N.compressedScans,"compressed-scans",{caseId:ge,patientName:he,doctorName:Q,clinicName:ne,fileType:e("caseSubmit.compressedScans")})),N.additionalFiles&&N.additionalFiles.length>0&&(q=await Promise.all(N.additionalFiles.map((xe,Ne)=>we(xe,"additional-files",{caseId:ge,patientName:he,doctorName:Q,clinicName:ne,fileType:e("caseSubmit.additionalFile",{number:Ne+1})}))));const Te={user_id:N.selectedUserId,first_name:N.firstName.trim(),last_name:N.lastName.trim(),is_urgent:N.isUrgent,urgent_delivery_date:N.isUrgent&&N.urgentDeliveryDate?N.urgentDeliveryDate:null,aligner_material:N.alignerMaterial?.trim()||null,upload_method:N.uploadMethod,upper_jaw_scan_url:F,lower_jaw_scan_url:B,bite_scan_url:te,compressed_scans_url:U,additional_files_urls:q||[],tooth_status:b,user_note:N.userNote?.trim()||null,upper_midline:N.upperMidline?.trim()||null,upper_midline_shift:N.upperMidlineShift?.trim()||null,lower_midline:N.lowerMidline?.trim()||null,lower_midline_shift:N.lowerMidlineShift?.trim()||null,canine_right_class:N.canineRightClass?.trim()||null,canine_left_class:N.canineLeftClass?.trim()||null,molar_right_class:N.molarRightClass?.trim()||null,molar_left_class:N.molarLeftClass?.trim()||null,treatment_arch:N.treatmentArch?.trim()||null,status:"submitted",created_by_admin:!0,admin_id:G.id},{error:ue}=await Z.from("cases").insert(Te);if(ue)throw console.error("Case direct insert error:",ue),ue;A(e("adminCaseSubmit.alerts.success")),C("/admin/cases")}catch(F){console.error("Comprehensive submit error:",F),E(F.message||e("caseSubmit.errors.unexpected"))}finally{j(!1)}},W=()=>{const L=new Date;return L.setDate(L.getDate()+1),L.toISOString().split("T")[0]};return r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"flex w-full flex-col items-start gap-2",children:[r.jsxs(Ut,{children:[r.jsx(At,{to:"/admin/cases",children:r.jsx(Ut.Item,{children:e("navigation.cases")})}),r.jsx(Ut.Divider,{}),r.jsx(Ut.Item,{active:!0,children:e("caseSubmit.newCase")})]}),r.jsx("span",{className:"text-heading-2 font-heading-2 text-default-font",children:e("adminCaseSubmit.title")})]}),r.jsxs("form",{onSubmit:V,className:"flex w-full flex-col items-start gap-6",children:[r.jsx("div",{className:"flex w-full flex-col items-start gap-6 rounded-md border border-solid border-neutral-border bg-default-background px-6 pt-4 pb-6 shadow-sm",children:r.jsx("div",{className:"w-full",children:r.jsxs("div",{className:"relative",ref:T,children:[r.jsx(Ce,{className:"h-auto w-full flex-none",label:e("adminCaseSubmit.selectDoctor.label"),helpText:e("adminCaseSubmit.selectDoctor.helpText"),children:r.jsxs("div",{className:"relative w-full h-full",children:[r.jsx(Ce.Input,{placeholder:e("adminCaseSubmit.selectDoctor.placeholder"),type:"text",value:f,onChange:k,onFocus:()=>g(!0),required:!0,className:"pr-8"}),f&&r.jsx("button",{type:"button",onClick:()=>{m(""),g(!1)},className:"absolute inset-y-0 right-2 flex items-center text-gray-400 hover:text-gray-600",children:r.jsx(pk,{})})]})}),p&&r.jsx("div",{className:"absolute z-10 w-full mt-1 bg-white border border-gray-300 rounded-md shadow-lg max-h-60 overflow-auto",children:o.length>0?o.map(L=>r.jsxs("div",{className:"px-4 py-2 hover:bg-gray-100 cursor-pointer text-sm",onClick:()=>$(L),children:[r.jsx("div",{className:"font-medium",children:L.full_name}),r.jsx("div",{className:"text-gray-500",children:L.email})]},L.id)):r.jsx("div",{className:"px-4 py-2 text-sm text-gray-500",children:e("adminCaseSubmit.selectDoctor.noResults")})})]})})}),r.jsx(CN,{formData:N,handleChange:O,getMinDate:W}),r.jsx(gx,{formData:N,handleChange:O,alignerMaterials:t}),r.jsxs("div",{className:"flex w-full flex-col items-start gap-6 rounded-md border border-solid border-neutral-border bg-default-background px-6 pt-4 pb-6 shadow-sm",children:[r.jsx("span",{className:"text-heading-3 font-heading-3 text-default-font",children:e("casePage.dentalChart")}),r.jsx("div",{className:"flex w-full justify-center",children:r.jsx(zl,{initialStatus:{},onChange:y})})]}),r.jsx(xx,{formData:N,handleChange:O,isAdmin:!0}),r.jsx(bx,{formData:N,handleChange:O,isRequired:!1}),S&&r.jsx(pt,{error:S}),R&&r.jsx(_N,{successMessage:R}),r.jsxs("div",{className:"flex w-full items-center gap-2",children:[r.jsx(ce,{size:"large",type:"submit",disabled:w,children:e(w?"caseSubmit.submitting":"caseSubmit.submitCase")}),r.jsx(ce,{onClick:()=>C(-1),variant:"neutral-tertiary",size:"large",children:e("common.cancel")})]})]})]})},w9=({doctors:e,onCollectPayment:t})=>{const{t:n}=ye();return r.jsx(I,{header:r.jsxs(I.HeaderRow,{children:[r.jsx(I.HeaderCell,{children:n("billingTable.header.doctor")}),r.jsx(I.HeaderCell,{children:n("billingTable.header.cases")}),r.jsx(I.HeaderCell,{children:n("billingTable.header.dueAmount")}),r.jsx(I.HeaderCell,{children:n("billingTable.header.status")}),r.jsx(I.HeaderCell,{children:n("billingTable.header.lastPayment")}),r.jsx(I.HeaderCell,{})]}),children:e.length===0?r.jsx(I.Row,{children:r.jsx(I.Cell,{colSpan:6,children:r.jsx("div",{className:"text-center py-8 text-neutral-500",children:n("billingTable.noDoctorsFound")})})}):e.map(s=>r.jsx(j9,{doctor:s,onCollectPayment:t},s.id))})},j9=({doctor:e,onCollectPayment:t})=>r.jsxs(I.Row,{children:[r.jsx(I.Cell,{children:r.jsx(S9,{doctor:e})}),r.jsx(I.Cell,{children:r.jsx(N9,{doctor:e})}),r.jsx(I.Cell,{children:r.jsx(_9,{amount:e.totalDueAmount})}),r.jsx(I.Cell,{children:r.jsx(C9,{paymentStatus:e.paymentStatus})}),r.jsx(I.Cell,{children:r.jsx(E9,{date:e.lastPaymentDate})}),r.jsx(I.Cell,{children:r.jsx(R9,{doctor:e,onCollectPayment:t})})]}),S9=({doctor:e})=>{const{t}=ye();return r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Cs,{size:"small",image:e.avatar_url,children:e.full_name?.charAt(0)||"D"}),r.jsxs("div",{className:"flex flex-col",children:[r.jsx("span",{className:"whitespace-nowrap text-body-bold font-body-bold text-default-font",children:e.full_name||t("billingTable.unknownDoctor")}),e.clinic&&r.jsx("span",{className:"text-caption font-caption text-subtext-color",children:e.clinic})]})]})},N9=({doctor:e})=>{const{t}=ye();return r.jsxs("div",{className:"flex flex-col",children:[r.jsxs("span",{className:"text-body font-body text-neutral-500",children:[e.totalCases," ",t("billingTable.totalCases")]}),r.jsxs("span",{className:"text-caption font-caption text-error-600",children:[e.unpaidCasesCount," ",t("billingTable.unpaidCases")]})]})},_9=({amount:e})=>r.jsxs("span",{className:`text-body-bold font-body-bold ${e>0?"text-error-600":"text-success-600"}`,children:["$",e.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})]}),C9=({paymentStatus:e})=>{const{t}=ye(),n=e==="due"?"due":"current";return r.jsx(Ye,{variant:e==="due"?"error":"success",children:t(`billingTable.status.${n}`)})},E9=({date:e})=>{const{t}=ye();return r.jsx("span",{className:"text-body font-body text-neutral-500",children:e?new Date(e).toLocaleDateString():t("billingTable.neverPaid")})},R9=({doctor:e,onCollectPayment:t})=>{const{t:n}=ye();return r.jsx(ce,{size:"small",onClick:()=>t(e),disabled:e.totalDueAmount===0,children:n("billingTable.collectPaymentButton")})},A9=({isOpen:e,onClose:t,refetchBillingData:n})=>{const{t:s}=ye(),[l,o]=h.useState(""),[d,f]=h.useState(""),[m,p]=h.useState(!1),g=()=>{o(""),f(""),t()},b=async()=>{if(!l||parseFloat(l)<=0){ve.error(s("expenseDialog.errors.validExpense"));return}try{p(!0);const y=parseFloat(l),{data:{user:w}}=await Z.auth.getUser(),{error:j}=await Z.from("payments").insert({doctor_id:null,amount:y,admin_id:w.id,notes:d.trim()||null,type:"expense"});if(j)throw j;ve.success(s("expenseDialog.success.expenseRecorded")),g(),setTimeout(()=>{n()},1e3)}catch(y){console.error("Expense recording failed:",y),ve.error(y.message||s("expense.errors.recordFailed"))}finally{p(!1)}};return r.jsxs(ys,{isOpen:e,onClose:g,title:s("expenseDialog.title"),description:s("expenseDialog.subtitle"),icon:r.jsx(Nl,{}),iconColor:"text-error-600",iconBgColor:"bg-error-100",maxWidth:"max-w-lg",loading:m,children:[r.jsxs("div",{className:"space-y-6 w-full pt-4",children:[r.jsx(P9,{expenseAmount:l,setExpenseAmount:o}),r.jsx(T9,{expenseNotes:d,setExpenseNotes:f})]}),r.jsx(k9,{onClose:g,onSubmit:b,processingExpense:m,expenseAmount:l})]})},P9=({expenseAmount:e,setExpenseAmount:t})=>{const{t:n}=ye();return r.jsxs("div",{className:"flex flex-col gap-2",children:[r.jsx("label",{className:"text-body-bold font-body-bold text-default-font",children:n("expenseDialog.expenseAmount")}),r.jsx(Ce,{children:r.jsx(Ce.Input,{type:"number",min:"0",step:"0.01",value:e,onChange:s=>t(s.target.value),placeholder:"0.00"})})]})},T9=({expenseNotes:e,setExpenseNotes:t})=>{const{t:n}=ye();return r.jsxs("div",{className:"flex flex-col gap-2",children:[r.jsx("label",{className:"text-body-bold font-body-bold text-default-font",children:n("expenseDialog.description")}),r.jsx("textarea",{value:e,onChange:s=>t(s.target.value),placeholder:n("expenseDialog.descriptionPlaceholder"),rows:4,className:"w-full px-3 py-2 text-body font-body text-default-font bg-default-background border border-neutral-border rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 resize-vertical",required:!0})]})},k9=({onClose:e,onSubmit:t,processingExpense:n,expenseAmount:s})=>{const{t:l}=ye();return r.jsxs("div",{className:"flex items-center justify-end gap-3 mt-6 pt-4 border-t border-neutral-border w-full",children:[r.jsx(ce,{variant:"neutral-secondary",onClick:e,disabled:n,children:l("common.cancel")}),r.jsx(ce,{onClick:t,disabled:n||!s||parseFloat(s)<=0,icon:r.jsx(Pn,{}),variant:"destructive-primary",children:l(n?"expenseDialog.recording":"expenseDialog.recordExpense")})]})};function D9(){const{t:e}=ye(),[t,n]=h.useState(""),[s,l]=h.useState(!1),[o,d]=h.useState(!1),[f,m]=h.useState(null),{role:p}=Ic(),g=Of(p),{doctors:b,loading:y,error:w,totalEarnings:j,totalDue:S,totalExpenses:E,refetchBillingData:R}=jN(),A=b.filter($=>$.full_name.toLowerCase().includes(t.toLowerCase())||$.clinic?.toLowerCase().includes(t.toLowerCase())),N=$=>{m($),l(!0)},P=()=>{m(null),l(!0)},T=()=>{d(!0)},C=()=>{l(!1),m(null)},k=()=>{d(!1)};return r.jsxs(r.Fragment,{children:[w&&r.jsx(pt,{error:w}),r.jsx(vi,{submit:!1,children:e("billing.title")}),r.jsxs("div",{className:"flex w-full items-center justify-between gap-4",children:[r.jsx("p",{className:"text-body font-body text-subtext-color",children:e("billing.subtitle")}),g&&r.jsx(At,{to:"/admin/billing/log",children:r.jsx(ce,{variant:"neutral-secondary",icon:r.jsx(xS,{}),className:"w-auto",children:e("billing.transactionLog")})})]}),y?r.jsx("div",{className:"flex w-full h-full min-h-[200px] justify-center items-center",children:r.jsx(Jt,{size:"medium"})}):r.jsxs(r.Fragment,{children:[r.jsx(yN,{totalEarnings:g?j:null,totalDue:g?S:null,totalExpenses:g?E:null,onReceivePayment:P,onMakePayment:g?T:null}),r.jsxs("div",{className:"flex w-full items-center gap-2",children:[r.jsx("span",{className:"grow shrink-0 basis-0 text-heading-3 font-heading-3 text-default-font",children:e("billing.doctorsBilling")}),r.jsx("div",{className:"flex-shrink-0 max-w-[300px] min-w-[200px]",children:r.jsx(Ce,{variant:"filled",label:"",helpText:"",icon:r.jsx(Tr,{}),children:r.jsx(Ce.Input,{placeholder:e("billing.searchDoctors"),value:t,onChange:$=>n($.target.value)})})})]}),r.jsx(w9,{doctors:A,onCollectPayment:N})]}),r.jsx(NN,{isOpen:s,onClose:C,doctors:b,initialDoctor:f,refetchBillingData:R}),g&&r.jsx(A9,{isOpen:o,onClose:k,refetchBillingData:R})]})}const hg=({variant:e="info",title:t,message:n})=>{const s={info:{bg:"bg-blue-50",border:"border-blue-200",titleColor:"text-blue-800",textColor:"text-blue-700"},warning:{bg:"bg-amber-50",border:"border-amber-200",titleColor:"text-amber-800",textColor:"text-amber-700"},error:{bg:"bg-red-50",border:"border-red-200",titleColor:"text-red-800",textColor:"text-red-700"},success:{bg:"bg-green-50",border:"border-green-200",titleColor:"text-green-800",textColor:"text-green-700"}},l=s[e]||s.info;return r.jsxs("div",{className:`p-4 ${l.bg} border ${l.border} rounded-md`,children:[t&&r.jsx("p",{className:`text-body-bold font-body-bold ${l.titleColor}`,children:t}),r.jsx("p",{className:`text-body font-body ${l.textColor} ${t?"mt-1":""}`,children:n})]})},EN=({isOpen:e,onClose:t,onSubmit:n,originalCaseData:s,alignerMaterials:l,loadingMaterials:o,loading:d,error:f,isAdminMode:m=!1})=>{const{t:p}=ye(),[g,b]=h.useState({reason:"",alignerMaterial:s?.aligner_material||"",treatmentArch:s?.treatment_arch||"",uploadMethod:"individual",upperJawScan:null,lowerJawScan:null,biteScan:null,compressedScans:null,additionalFiles:[],upperMidline:s?.upper_midline||"",upperMidlineShift:s?.upper_midline_shift||"",lowerMidline:s?.lower_midline||"",lowerMidlineShift:s?.lower_midline_shift||"",canineRightClass:s?.canine_right_class||"",canineLeftClass:s?.canine_left_class||"",molarRightClass:s?.molar_right_class||"",molarLeftClass:s?.molar_left_class||""}),[y,w]=h.useState(s?.tooth_status||{});h.useEffect(()=>{e&&s&&(b({reason:"",alignerMaterial:s?.aligner_material||"",treatmentArch:s?.treatment_arch||"",uploadMethod:"individual",upperJawScan:null,lowerJawScan:null,biteScan:null,compressedScans:null,additionalFiles:[],upperMidline:s?.upper_midline||"",upperMidlineShift:s?.upper_midline_shift||"",lowerMidline:s?.lower_midline||"",lowerMidlineShift:s?.lower_midline_shift||"",canineRightClass:s?.canine_right_class||"",canineLeftClass:s?.canine_left_class||"",molarRightClass:s?.molar_right_class||"",molarLeftClass:s?.molar_left_class||""}),w(s?.tooth_status||{}))},[e,s]);const j=E=>{const{name:R,value:A,files:N,type:P,checked:T}=E.target;N?b(C=>({...C,[R]:R==="additionalFiles"?[...C.additionalFiles,...N]:N[0]})):P==="checkbox"?b(C=>({...C,[R]:T})):(b(C=>({...C,[R]:A})),R==="upperMidline"&&A==="centered"&&b(C=>({...C,upperMidlineShift:""})),R==="lowerMidline"&&A==="centered"&&b(C=>({...C,lowerMidlineShift:""})),R==="uploadMethod"&&A==="compressed"&&b(C=>({...C,upperJawScan:null,lowerJawScan:null,biteScan:null})),R==="uploadMethod"&&A==="individual"&&b(C=>({...C,compressedScans:null})))},S=()=>{n({...g,toothStatus:y})};return r.jsxs(ys,{isOpen:e,onClose:t,title:p("casePage.refinement.dialog.title"),description:p("casePage.refinement.dialog.description"),icon:r.jsx(Un,{}),loading:d,maxWidth:"max-w-[900px]",children:[r.jsxs("div",{className:"space-y-6 max-h-[70vh] overflow-y-auto px-1",children:[r.jsx(hg,{variant:"warning",title:p("casePage.refinement.dialog.warningTitle"),message:p("casePage.refinement.dialog.warningMessage")}),f&&r.jsx(hg,{variant:"error",title:p("common.error"),message:f}),r.jsx("div",{className:"border border-neutral-border rounded-md p-4 bg-default-background",children:r.jsxs("div",{className:"flex flex-col gap-2",children:[r.jsxs("label",{htmlFor:"reason",className:"text-body-bold font-body-bold text-default-font",children:[p("casePage.refinement.dialog.reasonLabel")," ",!m&&r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx("p",{className:"text-body font-body text-subtext-color -mt-1 mb-2",children:p("casePage.refinement.dialog.reasonHelp")}),r.jsx("textarea",{id:"reason",value:g.reason,onChange:j,name:"reason",placeholder:p("casePage.refinement.dialog.reasonPlaceholder"),rows:4,disabled:d,className:"w-full px-3 py-2 text-body font-body text-default-font bg-default-background border border-neutral-border rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-brand-500 focus:border-brand-500 resize-vertical min-h-[100px] placeholder:text-subtext-color disabled:opacity-50 disabled:cursor-not-allowed"})]})}),r.jsxs("div",{className:"border border-neutral-border rounded-md bg-default-background",children:[r.jsxs("div",{className:"px-4 pt-3 pb-1",children:[r.jsx("h3",{className:"text-heading-3 font-heading-3 text-default-font mb-2",children:p("casePage.treatmentOptions")}),r.jsx("p",{className:"text-body font-body text-subtext-color mb-4",children:p("casePage.refinement.dialog.treatmentOptionsUpdate")})]}),r.jsx("div",{className:"px-4 pb-4",children:r.jsx(gx,{formData:g,handleChange:j,alignerMaterials:l})})]}),r.jsxs("div",{className:"border border-neutral-border rounded-md p-4 bg-default-background",children:[r.jsx("h3",{className:"text-heading-3 font-heading-3 text-default-font mb-2",children:p("casePage.dentalChart")}),r.jsx("p",{className:"text-body font-body text-subtext-color mb-4",children:p("casePage.refinement.dialog.dentalChartUpdate")}),r.jsx("div",{className:"flex w-full justify-center",style:{transform:"scale(90%)"},children:r.jsx(zl,{initialStatus:y,onChange:w})})]}),r.jsxs("div",{className:"border border-neutral-border rounded-md bg-default-background",children:[r.jsxs("div",{className:"px-4 pt-3 pb-1",children:[r.jsx("h3",{className:"text-heading-3 font-heading-3 text-default-font mb-2",children:p("caseSubmit.diagnosis.title")}),r.jsx("p",{className:"text-body font-body text-subtext-color mb-4",children:p("casePage.refinement.dialog.diagnosisUpdate")})]}),r.jsx("div",{className:"px-4 pb-4",children:r.jsx(xx,{formData:g,handleChange:j})})]}),r.jsx(bx,{formData:g,handleChange:j,isRequired:!0})]}),r.jsxs("div",{className:"flex items-center justify-end gap-2 mt-6 pt-4 border-t border-neutral-border",children:[r.jsx(ce,{variant:"neutral-secondary",onClick:t,disabled:d,children:p("common.cancel")}),r.jsx(ce,{variant:"brand-primary",icon:r.jsx(Pn,{}),onClick:S,disabled:d,children:p(d?"casePage.refinement.dialog.submitting":"casePage.refinement.dialog.submitButton")})]})]})},M9=({rating:e,onRatingChange:t,disabled:n=!1})=>{const[s,l]=h.useState(0);return r.jsx("div",{className:"flex gap-2",children:[1,2,3,4,5].map(o=>r.jsx("button",{type:"button",onClick:()=>!n&&t(o),onMouseEnter:()=>!n&&l(o),onMouseLeave:()=>l(0),disabled:n,className:"transition-transform hover:scale-110 disabled:cursor-not-allowed",children:r.jsx(Gu,{className:`w-8 h-8 ${o<=(s||e)?"fill-yellow-400 text-yellow-400":"text-gray-300"}`})},o))})},O9=({isOpen:e,onClose:t,onSubmit:n,satisfactionData:s,onRatingChange:l,onMessageChange:o,loading:d,error:f})=>{const{t:m}=ye();return r.jsxs(ys,{isOpen:e,onClose:t,title:m("casePage.satisfaction.dialog.title"),description:m("casePage.satisfaction.dialog.description"),icon:r.jsx(Pn,{}),loading:d,maxWidth:"max-w-[540px]",children:[f&&r.jsx(hg,{variant:"error",title:m("common.error"),message:f}),r.jsxs("div",{className:"border border-neutral-border rounded-md p-4",children:[r.jsxs("label",{className:"block text-body-bold font-body-bold text-default-font mb-3",children:[m("casePage.satisfaction.dialog.ratingLabel")," ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx("div",{className:"flex justify-center",children:r.jsx(M9,{rating:s.rating,onRatingChange:l,disabled:d})})]}),r.jsx("div",{className:"border border-neutral-border rounded-md p-4",children:r.jsxs("div",{className:"flex flex-col gap-2",children:[r.jsx("label",{htmlFor:"satisfactionMessage",className:"text-body-bold font-body-bold text-default-font",children:m("casePage.satisfaction.dialog.commentsLabel")}),r.jsx("p",{className:"text-body font-body text-subtext-color -mt-1 mb-2",children:m("casePage.satisfaction.dialog.commentsHelp")}),r.jsx("textarea",{id:"satisfactionMessage",value:s.message,onChange:p=>o(p.target.value),placeholder:m("casePage.satisfaction.dialog.commentsPlaceholder"),rows:4,disabled:d,className:"w-full px-3 py-2 text-body font-body text-default-font bg-default-background border border-neutral-border rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-brand-500 focus:border-brand-500 resize-vertical min-h-[100px] placeholder:text-subtext-color disabled:opacity-50 disabled:cursor-not-allowed"})]})}),r.jsxs("div",{className:"flex items-center justify-end gap-2 mt-2 pt-4 border-t border-neutral-border",children:[r.jsx(ce,{variant:"neutral-secondary",onClick:t,disabled:d,children:m("common.cancel")}),r.jsx(ce,{variant:"brand-primary",icon:r.jsx(Pn,{}),onClick:n,disabled:d,children:m(d?"casePage.satisfaction.dialog.submitting":"casePage.satisfaction.dialog.submitButton")})]})]})},L9=({caseData:e,onCaseUpdate:t})=>{const{t:n}=ye(),[s,l]=h.useState(!1),[o,d]=h.useState(!1),[f,m]=h.useState(!1),[p,g]=h.useState([]),[b,y]=h.useState(!1),[w,j]=h.useState(null),[S,E]=h.useState({rating:0,message:""}),R=["delivered"].includes(e?.status);h.useEffect(()=>{s&&A()},[s]);const A=async()=>{y(!0);try{const{data:k,error:$}=await Z.from("services").select("*").eq("is_active",!0);if($)throw $;g(k.filter(O=>O.type==="aligners_material"))}catch(k){console.error("Error fetching services:",k),ve.error(n("casePage.refinement.errors.loadServicesFailed"))}finally{y(!1)}},N=async k=>{if(!k.reason?.trim()){j(n("casePage.refinement.errors.reasonRequired"));return}if(!k.alignerMaterial){j(n("casePage.refinement.errors.materialRequired"));return}if(k.uploadMethod==="individual"){if(!k.upperJawScan||!k.lowerJawScan||!k.biteScan){j(n("casePage.refinement.errors.allScansRequired"));return}}else if(k.uploadMethod==="compressed"&&!k.compressedScans){j(n("casePage.refinement.errors.compressedRequired"));return}try{m(!0),j(null);const{data:{user:$}}=await Z.auth.getUser();if(!$)throw new Error(n("casePage.refinement.errors.notAuthenticated"));const{data:O}=await Z.from("profiles").select("full_name, clinic").eq("id",$.id).single(),V=O?.full_name||$.email||"Unknown Doctor",W=O?.clinic||null,L=`${e.first_name} ${e.last_name}`,F=`REF-${e.id}-${Date.now()}`,B=async(ne,he,ge={})=>{if(!ne)return null;try{const we=await Uf(ne,he,{caseId:ge.caseId||F,patientName:ge.patientName||L,fileType:ge.fileType||he,doctorName:ge.doctorName||V});if(!we.success)throw new Error(we.error||"Upload failed");return we.filePath}catch(we){throw console.error(`Upload error for ${he}:`,we),we}};let te=null,U=null,q=null,G=null,J=[];k.uploadMethod==="individual"?[te,U,q]=await Promise.all([B(k.upperJawScan,"upper-jaw-scans",{caseId:F,patientName:L,doctorName:V,clinicName:W,fileType:n("caseSubmit.upperJawScan")}),B(k.lowerJawScan,"lower-jaw-scans",{caseId:F,patientName:L,doctorName:V,clinicName:W,fileType:n("caseSubmit.lowerJawScan")}),B(k.biteScan,"bite-scans",{caseId:F,patientName:L,doctorName:V,clinicName:W,fileType:n("caseSubmit.biteScan")})]):k.uploadMethod==="compressed"&&(G=await B(k.compressedScans,"compressed-scans",{caseId:F,patientName:L,doctorName:V,clinicName:W,fileType:n("caseSubmit.compressedScans")})),k.additionalFiles&&k.additionalFiles.length>0&&(J=await Promise.all(k.additionalFiles.map((ne,he)=>B(ne,"additional-files",{caseId:F,patientName:L,doctorName:V,clinicName:W,fileType:n("caseSubmit.additionalFile",{number:he+1})}))));const{data:D}=await Z.from("cases").select("refinement_number").eq("parent_case_id",e.id).order("refinement_number",{ascending:!1}).limit(1),z=D?.[0]?.refinement_number?D[0].refinement_number+1:1,ae={user_id:$.id,parent_case_id:e.id,refinement_number:z,first_name:e.first_name,last_name:e.last_name,refinement_reason:k.reason.trim(),aligner_material:k.alignerMaterial,treatment_arch:k.treatmentArch||e.treatment_arch,upload_method:k.uploadMethod,upper_jaw_scan_url:te,lower_jaw_scan_url:U,bite_scan_url:q,compressed_scans_url:G,additional_files_urls:J||[],tooth_status:k.toothStatus||{},upper_midline:k.upperMidline||null,upper_midline_shift:k.upperMidlineShift||null,lower_midline:k.lowerMidline||null,lower_midline_shift:k.lowerMidlineShift||null,canine_right_class:k.canineRightClass||null,canine_left_class:k.canineLeftClass||null,molar_right_class:k.molarRightClass||null,molar_left_class:k.molarLeftClass||null,status:"submitted"},{error:Q}=await Z.from("cases").insert(ae);if(Q)throw Q;ve.success(n("casePage.refinement.success.submitted")),l(!1),t&&t()}catch($){console.error("Submit error:",$),j($.message||n("casePage.refinement.errors.submitFailed")),ve.error($.message)}finally{m(!1)}},P=async()=>{if(S.rating===0){j(n("casePage.satisfaction.errors.ratingRequired"));return}try{m(!0),j(null);const{error:k}=await Z.from("cases").update({status:"completed",satisfaction_rating:S.rating,satisfaction_message:S.message,completed_at:new Date().toISOString()}).eq("id",e.id);if(k)throw k;ve.success(n("casePage.satisfaction.success.completed")),d(!1),E({rating:0,message:""}),t&&t()}catch(k){console.error("Error updating case:",k),j(k.message||n("casePage.satisfaction.errors.completeFailed"))}finally{m(!1)}},T=()=>{f||(j(null),l(!1))},C=()=>{f||(j(null),d(!1))};return R?r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"flex w-full flex-col items-start gap-4 rounded-md border border-solid border-neutral-border bg-default-background px-6 pt-4 pb-6 shadow-sm",children:[r.jsx("span",{className:"text-heading-3 font-heading-3 text-default-font",children:n("casePage.refinement.caseActions")}),r.jsx("p",{className:"text-body font-body text-subtext-color",children:n("casePage.refinement.description")}),r.jsxs("div",{className:"flex gap-3 flex-wrap",children:[r.jsx(ce,{onClick:()=>d(!0),icon:r.jsx(Pn,{}),className:"w-auto",children:n("casePage.refinement.markCompleted")}),r.jsx(ce,{onClick:()=>l(!0),icon:r.jsx(oi,{}),variant:"neutral-secondary",className:"w-auto",children:n("casePage.refinement.requestRefinement")})]})]}),r.jsx(EN,{isOpen:s,onClose:T,onSubmit:N,originalCaseData:e,alignerMaterials:p,loadingMaterials:b,loading:f,error:w}),r.jsx(O9,{isOpen:o,onClose:C,onSubmit:P,satisfactionData:S,onRatingChange:k=>E($=>({...$,rating:k})),onMessageChange:k=>E($=>({...$,message:k})),loading:f,error:w})]}):null},RN=({caseData:e})=>{const{t}=ye(),[n,s]=h.useState([]),[l,o]=h.useState(!0);h.useEffect(()=>{d()},[e?.id]);const d=async()=>{try{o(!0);const{data:g,error:b}=await Z.from("cases").select("*").eq("parent_case_id",e.id).order("created_at",{ascending:!1});if(b)throw b;s(g.map(y=>({...y,type:"refinement"})))}catch(g){console.error("Error fetching refinements:",g)}finally{o(!1)}},f=g=>{switch(g.status){case"submitted":return r.jsx(Ye,{variant:"neutral",children:t("casePage.refinementHistory.status.submitted")});case"awaiting_user_approval":return r.jsx(Ye,{variant:"brand",children:t("casePage.refinementHistory.status.awaitingApproval")});case"approved":return r.jsx(Ye,{variant:"brand",children:t("casePage.refinementHistory.status.approved")});case"in_production":return r.jsx(Ye,{variant:"brand",children:t("casePage.refinementHistory.status.inProduction")});case"ready_for_delivery":return r.jsx(Ye,{variant:"brand",children:t("casePage.refinementHistory.status.readyForDelivery")});case"delivered":return r.jsx(Ye,{variant:"brand",children:t("casePage.refinementHistory.status.delivered")});case"completed":return r.jsx(Ye,{variant:"brand",children:t("casePage.refinementHistory.status.completed")});default:return r.jsx(Ye,{variant:"neutral",children:g.status})}},m=g=>t("casePage.refinementHistory.caseTitle",{id:g.id}),p=g=>t("casePage.refinementHistory.caseDescription",{number:g.refinement_number||1,material:g.aligner_material||t("casePage.refinementHistory.standardMaterial"),reason:g.refinement_reason||t("casePage.refinementHistory.noReason")});return l?r.jsxs("div",{className:"flex w-full flex-col items-start gap-4 rounded-md border border-solid border-neutral-border bg-default-background px-6 pt-4 pb-6 shadow-sm",children:[r.jsx("span",{className:"text-heading-3 font-heading-3 text-default-font",children:t("casePage.refinementHistory.title")}),r.jsx("div",{className:"text-body font-body text-subtext-color",children:t("casePage.refinementHistory.loading")})]}):n.length===0?null:r.jsxs("div",{className:"flex w-full flex-col items-start gap-4 rounded-md border border-solid border-neutral-border bg-default-background px-6 pt-4 pb-6 shadow-sm",children:[r.jsx("span",{className:"text-heading-3 font-heading-3 text-default-font",children:t("casePage.refinementHistory.title")}),r.jsx("div",{className:"flex w-full flex-col gap-3",children:n.map(g=>r.jsxs("div",{className:"flex items-start justify-between gap-4 rounded-md border border-solid border-neutral-border p-4",children:[r.jsxs("div",{className:"flex flex-col gap-2",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{className:"text-body-bold font-body-bold text-default-font",children:m(g)}),f(g)]}),r.jsx("p",{className:"text-body font-body text-subtext-color",children:p(g)}),r.jsx("div",{className:"flex items-center gap-4 text-sm text-subtext-color",children:r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx(Ef,{size:14}),new Date(g.created_at).toLocaleDateString()]})})]}),r.jsx("a",{href:`/app/cases/${g.id}`,className:"text-sm text-blue-600 hover:text-blue-800",children:t("casePage.refinementHistory.viewCase")})]},`${g.type}-${g.id}`))})]})},U9=De.forwardRef(function({icon:t=r.jsx(sk,{}),label:n,children:s,className:l,...o},d){return r.jsxs("div",{className:$e("flex w-full items-center gap-2",l),ref:d,...o,children:[r.jsxs("div",{className:"flex w-50 flex-none items-center gap-2",children:[t?r.jsx(Ee,{className:"text-body font-body text-subtext-color",children:t}):null,n?r.jsx("span",{className:"line-clamp-1 grow shrink-0 basis-0 text-body font-body text-subtext-color text-wrap",children:n}):null]}),s?r.jsx("div",{className:"flex min-h-[32px] grow shrink-0 basis-0 items-center gap-2 text-wrap",children:s}):null]})}),Gt=U9,$9=De.forwardRef(function({children:t,className:n,...s},l){return t?r.jsx(jD,{asChild:!0,...s,children:r.jsx("div",{className:$e("flex min-w-[320px] flex-col items-start gap-2 rounded-md border border-solid border-neutral-border bg-default-background shadow-lg max-h-[90vh] overflow-auto",n),ref:l,children:t})}):null}),F9=De.forwardRef(function({children:t,className:n,...s},l){return t?r.jsx(wD,{asChild:!0,...s,children:r.jsx("div",{className:$e("flex h-full w-full flex-col items-center justify-center gap-2 bg-[#00000099]",n),ref:l,children:t})}):null}),Rl=Object.assign(F9,{Content:$9}),Rn=({label:e,value:t})=>{const{i18n:n}=ye(),s=n.dir()==="rtl";return r.jsxs("div",{dir:s?"rtl":"ltr",className:"text-start",children:[r.jsx("p",{className:"text-xs font-medium text-gray-500 mb-1",children:e}),r.jsx("p",{className:"text-sm text-gray-900",children:t})]})},I9=De.forwardRef(({caseData:e,isAdmin:t,isRTL:n,t:s},l)=>{const o=m=>s(m?{upper:"caseSubmit.treatmentOptions.upperArch",lower:"caseSubmit.treatmentOptions.lowerArch",both:"caseSubmit.treatmentOptions.bothArches"}[m]||m:"casePage.notSpecified"),d=m=>s(m?{centered:"caseSubmit.diagnosis.centered",shifted_right:"caseSubmit.diagnosis.shiftedRight",shifted_left:"caseSubmit.diagnosis.shiftedLeft"}[m]||m:"casePage.notSpecified"),f=m=>s(m?{class_i:"caseSubmit.diagnosis.classI",class_ii:"caseSubmit.diagnosis.classII",class_iii:"caseSubmit.diagnosis.classIII"}[m]||m:"casePage.notSpecified");return r.jsxs("div",{ref:l,className:"p-8 print-container",style:{direction:n?"rtl":"ltr"},children:[r.jsx("style",{children:`
          @media print {
            .print-container {
              width: 100%;
              max-width: 100%;
            }
            
            /* Prevent page breaks inside small components */
            .print-no-break {
              page-break-inside: avoid;
              break-inside: avoid;
            }
            
            /* Prevent orphaned headers - keep header with next content */
            h2, h3 {
              page-break-after: avoid;
              break-after: avoid;
            }
            
            /* Keep subsections together */
            .subsection-box {
              page-break-inside: avoid;
              break-inside: avoid;
            }
            
            /* Only force page break for very large components like dental chart */
            .force-page-break {
              page-break-before: always;
              break-before: always;
            }
            
            /* Footer on last page */
            .print-footer {
              page-break-inside: avoid;
              break-inside: avoid;
            }
          }
        `}),r.jsxs("div",{className:"flex items-center justify-between border-b-2 border-brand-600 pb-4 mb-6",children:[r.jsxs("div",{children:[r.jsx("img",{className:"h-10 flex-none object-cover",src:`${window.location.origin}/logo.png`}),r.jsx("p",{className:"text-sm text-gray-600",children:s("casePage.caseInformation")})]}),r.jsxs("div",{className:"text-right",children:[r.jsxs("p",{className:"text-sm text-gray-600",children:[s("casePage.caseId"),": ",r.jsxs("strong",{children:["CASE-",e.id]})]}),r.jsx("p",{className:"text-sm text-gray-600",children:new Date().toLocaleDateString()})]})]}),r.jsxs("div",{className:"mb-6",children:[r.jsx("h2",{className:"text-xl font-semibold mb-4 text-gray-800",children:s(t?"casePage.caseInformation":"casePage.patientInformation")}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-3",children:[r.jsx(Rn,{label:s("casePage.firstName"),value:zt(e.first_name)||"N/A"}),r.jsx(Rn,{label:s("casePage.lastName"),value:zt(e.last_name)||"N/A"}),t&&r.jsxs(r.Fragment,{children:[r.jsx(Rn,{label:s("casePage.doctorName"),value:zt(e.profiles?.full_name)||"N/A"}),r.jsx(Rn,{label:s("casePage.phone"),value:r.jsx("span",{dir:"ltr",children:e.profiles?.phone||"N/A"})})]})]}),r.jsxs("div",{className:"space-y-3",children:[r.jsx(Rn,{label:s("casePage.caseId"),value:`CASE-${e.id}`}),t&&r.jsx(Rn,{label:s("casePage.clinic"),value:e.profiles?.clinic||"N/A"}),r.jsx(Rn,{label:s("casePage.alignerMaterial"),value:e.aligner_material||s("casePage.notSpecified")}),r.jsx(Rn,{label:s("casePage.submissionDate"),value:e.created_at?new Date(e.created_at).toLocaleDateString():"N/A"})]})]}),e.refinement_reason&&r.jsxs("div",{className:"mt-4 p-3 bg-gray-50 rounded print-no-break",children:[r.jsxs("p",{className:"text-sm font-semibold text-gray-700 mb-1",children:[s("casePage.refinementReason"),":"]}),r.jsx("p",{className:"text-sm text-gray-600",children:e.refinement_reason})]})]}),r.jsxs("div",{className:"mb-6",children:[r.jsx("h2",{className:"text-xl font-semibold mb-4 text-gray-800",children:s("casePage.treatmentOptionsTitle")}),e.chief_complaint&&r.jsxs("div",{className:"mb-4 subsection-box",children:[r.jsx("h3",{className:"text-base font-semibold mb-2 text-gray-700",children:s("caseSubmit.diagnosis.chiefComplaint")}),r.jsx("div",{className:"bg-brand-50 border-l-4 border-brand-500 p-3 rounded",children:r.jsx("p",{className:"text-sm text-gray-800 whitespace-pre-wrap leading-relaxed",children:e.chief_complaint})})]}),r.jsxs("div",{className:"mb-4 subsection-box",children:[r.jsx("h3",{className:"text-base font-semibold mb-2 text-gray-700",children:s("casePage.treatmentOptions")}),r.jsxs("div",{className:"grid grid-cols-2 gap-4 bg-gray-50 p-3 rounded",children:[r.jsx(Rn,{label:s("caseSubmit.treatmentOptions.treatmentArch"),value:o(e.treatment_arch)}),r.jsx(Rn,{label:s("caseSubmit.treatmentOptions.alignerMaterial"),value:e.aligner_material||s("casePage.notSpecified")})]})]}),(e.upper_midline||e.lower_midline)&&r.jsxs("div",{className:"mb-4 subsection-box",children:[r.jsx("h3",{className:"text-base font-semibold mb-2 text-gray-700",children:s("casePage.midlineAnalysis")}),r.jsxs("div",{className:"grid grid-cols-2 gap-4 bg-gray-50 p-3 rounded",children:[e.upper_midline&&r.jsx(Rn,{label:s("caseSubmit.diagnosis.upperMidline"),value:`${d(e.upper_midline)}${e.upper_midline_shift?` (${e.upper_midline_shift} ${s("casePage.mm")})`:""}`}),e.lower_midline&&r.jsx(Rn,{label:s("caseSubmit.diagnosis.lowerMidline"),value:`${d(e.lower_midline)}${e.lower_midline_shift?` (${e.lower_midline_shift} ${s("casePage.mm")})`:""}`})]})]}),(e.canine_right_class||e.canine_left_class||e.molar_right_class||e.molar_left_class)&&r.jsxs("div",{className:"mb-4 subsection-box",children:[r.jsx("h3",{className:"text-base font-semibold mb-2 text-gray-700",children:s("casePage.occlusalRelationship")}),r.jsxs("div",{className:"bg-gray-50 p-3 rounded",children:[(e.canine_right_class||e.canine_left_class)&&r.jsxs("div",{className:"mb-3",children:[r.jsx("p",{className:"text-xs font-medium text-gray-600 mb-2",children:s("caseSubmit.diagnosis.canineRelationship")}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.canine_right_class&&r.jsx(Rn,{label:s("caseSubmit.diagnosis.rightSide"),value:f(e.canine_right_class)}),e.canine_left_class&&r.jsx(Rn,{label:s("caseSubmit.diagnosis.leftSide"),value:f(e.canine_left_class)})]})]}),(e.molar_right_class||e.molar_left_class)&&r.jsxs("div",{children:[r.jsx("p",{className:"text-xs font-medium text-gray-600 mb-2",children:s("caseSubmit.diagnosis.molarRelationship")}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.molar_right_class&&r.jsx(Rn,{label:s("caseSubmit.diagnosis.rightSide"),value:f(e.molar_right_class)}),e.molar_left_class&&r.jsx(Rn,{label:s("caseSubmit.diagnosis.leftSide"),value:f(e.molar_left_class)})]})]})]})]})]}),e.user_note&&r.jsxs("div",{className:"mb-6 print-no-break",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[r.jsx(sx,{className:"h-5 w-5 text-gray-600"}),r.jsx("h2",{className:"text-xl font-semibold text-gray-800",children:s(t?"casePage.caseNotes.doctorNotes":"casePage.caseNotes.caseNotes")})]}),r.jsx("div",{className:"bg-brand-50 border-l-4 border-brand-500 p-4 rounded",children:r.jsx("p",{className:"text-sm text-gray-800 whitespace-pre-wrap leading-relaxed",children:e.user_note})})]}),t&&r.jsxs("div",{className:"mb-6",children:[r.jsx("h2",{className:"text-xl font-semibold mb-4 text-gray-800",children:s("dentalChart.title")}),r.jsx("div",{className:"border border-gray-300 rounded-lg p-4 bg-white overflow-hidden print-no-break",children:r.jsx("div",{children:r.jsx(zl,{initialStatus:e.tooth_status||{},readOnly:!0})})})]}),r.jsx("div",{className:"mt-8 pt-4 border-t border-gray-300 text-center text-xs text-gray-500 print-footer",children:r.jsx("p",{children:s("adminTreatmentPlan.print.footer",{date:new Date().toLocaleString()})})})]})}),AN=({caseData:e,isAdmin:t=!1})=>{const{t:n,i18n:s}=ye(),[l,o]=h.useState(!1),d=h.useRef(),f=s.language==="ar",m=Lf.useReactToPrint({contentRef:d,documentTitle:`Case-${e.id}-Information`});return r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"flex w-full flex-col items-start gap-4 rounded-md border border-neutral-border bg-default-background px-6 pt-4 pb-6 shadow-sm",children:[r.jsxs("div",{className:"flex w-full items-center justify-between",children:[r.jsx("span",{className:"text-heading-3 font-heading-3 text-default-font",children:n(t?"casePage.caseInformation":"casePage.patientInformation")}),r.jsx(ce,{size:"small",variant:"neutral-secondary",icon:r.jsx(Nr,{}),onClick:()=>o(!0),children:n("casePage.printCaseInfo")})]}),r.jsxs("div",{className:"flex w-full flex-wrap items-start gap-6",children:[r.jsxs("div",{className:"flex grow flex-col gap-2",children:[r.jsx(Gt,{icon:r.jsx(ic,{}),label:n("casePage.firstName"),children:zt(e.first_name)||"N/A"}),r.jsx(Gt,{icon:r.jsx(ic,{}),label:n("casePage.lastName"),children:zt(e.last_name)||"N/A"}),t&&r.jsx(Gt,{icon:r.jsx(ic,{}),label:n("casePage.doctorName"),children:zt(e.profiles?.full_name)||"N/A"}),t&&r.jsx(Gt,{icon:r.jsx(wk,{}),label:n("casePage.phone"),children:r.jsx("span",{dir:"ltr",children:e.profiles?.phone||"N/A"})}),r.jsx(Gt,{icon:r.jsx(hS,{}),label:n("casePage.submissionDate"),children:e.created_at?new Date(e.created_at).toLocaleDateString():"N/A"})]}),r.jsxs("div",{className:"flex grow flex-col gap-2",children:[r.jsxs(Gt,{icon:r.jsx(Ak,{}),label:n("casePage.caseId"),children:["CASE-",e.id]}),t&&r.jsx(Gt,{icon:r.jsx(xk,{}),label:n("casePage.clinic"),children:e.profiles?.clinic||"N/A"}),r.jsx(Gt,{icon:r.jsx(lk,{}),label:n("casePage.alignerMaterial"),children:r.jsx(Ye,{children:e.aligner_material||n("casePage.notSpecified")})}),e.refinement_reason&&r.jsx(Gt,{icon:r.jsx(Un,{}),label:n("casePage.refinementReason"),children:e.refinement_reason})]})]})]}),r.jsx(Rl,{open:l,onOpenChange:o,children:r.jsxs(Rl.Content,{className:"w-auto max-h-[90vh] overflow-y-auto",children:[r.jsxs("div",{className:"flex items-center justify-between px-1 py-3 w-full",children:[r.jsx("span",{className:"text-heading-2 font-heading-2 text-default-font",children:n("casePage.printCaseInfo")}),r.jsx(ce,{variant:"brand-primary",icon:r.jsx(Nr,{}),onClick:()=>{m(),o(!1)},className:"w-auto",children:n("common.print")})]}),r.jsx("div",{className:"border border-neutral-border rounded-lg bg-white",children:r.jsx(I9,{ref:d,caseData:e,isAdmin:t,isRTL:f,t:n})})]})})]})},PN=({noteText:e,setNoteText:t,isEditingNote:n,noteSaving:s,noteError:l,handleEditNote:o,handleCancelEditNote:d,handleSaveNote:f,caseData:m,isAdmin:p=!1})=>{const{t:g}=ye();return r.jsxs("div",{className:"flex w-full flex-col items-start gap-4 rounded-md border border-solid border-neutral-border bg-default-background px-6 pt-4 pb-6 shadow-sm",children:[r.jsxs("div",{className:"flex w-full items-center gap-2",children:[r.jsx(sx,{className:"h-5 w-5 text-neutral-600"}),r.jsx("span",{className:"text-heading-3 font-heading-3 text-default-font",children:g(p?"casePage.caseNotes.doctorNotes":"casePage.caseNotes.caseNotes")})]}),l&&r.jsx("div",{className:"w-full",children:r.jsx(pt,{error:l})}),r.jsx("div",{className:"w-full",children:n?r.jsxs("div",{className:"flex flex-col gap-4",children:[r.jsxs("div",{className:"flex flex-col gap-2",children:[r.jsx("label",{htmlFor:"noteTextarea",className:"text-body-bold font-body-bold text-default-font",children:g("casePage.caseNotes.additionalNotes")}),r.jsx("textarea",{id:"noteTextarea",value:e,onChange:b=>t(b.target.value),placeholder:g(p?"casePage.caseNotes.adminPlaceholder":"casePage.caseNotes.userPlaceholder"),rows:6,className:"w-full px-3 py-2 text-body font-body text-default-font bg-default-background border border-neutral-border rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 resize-vertical min-h-[120px] placeholder:text-subtext-color",disabled:s}),r.jsx("span",{className:"text-caption font-caption text-subtext-color",children:g(p?"casePage.caseNotes.adminHelp":"casePage.caseNotes.userHelp")})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(ce,{icon:r.jsx(Af,{}),onClick:f,disabled:s,size:"small",children:g(s?"casePage.caseNotes.saving":"casePage.caseNotes.saveNote")}),r.jsx(ce,{variant:"neutral-secondary",onClick:d,disabled:s,size:"small",children:g("common.cancel")})]})]}):r.jsx("div",{className:"w-full",children:m.user_note?r.jsx("div",{className:"w-full bg-white border border-neutral-200 rounded-md p-4 shadow-sm hover:border-neutral-300 transition-colors",children:r.jsx("div",{className:"text-body font-body text-neutral-800 whitespace-pre-wrap break-words leading-relaxed",children:m.user_note})}):r.jsx("div",{className:"w-full bg-neutral-50 text-sm text-neutral-500 rounded-md p-3",children:g("casePage.caseNotes.noNotes")})})})]})},u1=({num:e,paths:t,status:n,isUpperJaw:s,iprBefore:l,iprAfter:o})=>{const f={movable:{color:"#00adef"},unmovable:{color:"#F44336"},missing:{color:"#9E9E9E"},note:{color:"#fa9600"}}[n]?.color||"#00adef";return r.jsxs(r.Fragment,{children:[l&&r.jsx("div",{className:"flex items-center justify-center",style:{width:"4px",minHeight:"64px"},children:r.jsx("div",{className:"text-xs font-semibold text-orange-600 bg-orange-50 px-1 rounded whitespace-nowrap",style:{position:"relative",top:s?"8px":"-16px"},children:l})}),r.jsxs("div",{className:"flex flex-col items-center relative",style:{width:"48px",minHeight:"64px"},children:[r.jsx("div",{className:"flex justify-center mb-1",style:{width:"48px",height:"72px",alignItems:s?"flex-end":"flex-start",marginBottom:s?"10px":0},children:r.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 21.1 56.7",className:"w-full h-full",fill:f,style:{maxWidth:"48px",maxHeight:"72px",display:"block"},children:t.map((m,p)=>r.jsx("path",{d:m},p))})}),r.jsx("p",{className:"text-xs text-center",style:{lineHeight:"1",width:"100%",margin:0},children:e})]}),o&&r.jsx("div",{className:"flex items-center justify-center",style:{width:"4px",minHeight:"64px"},children:r.jsx("div",{className:"text-xs font-semibold text-orange-600 bg-orange-50 px-1 rounded whitespace-nowrap",style:{position:"relative",top:s?"8px":"-16px"},children:o})})]})},TN=({toothStatus:e={},iprData:t={},onClose:n,isOpen:s})=>{const l=()=>{n()},{t:o,i18n:d}=ye(),f=d.language==="ar",m=(g,b)=>{const y=t[g];if(!y)return null;const w=y[b]||0;return w>0?w%1===0?w.toString():w.toFixed(2).replace(/\.?0+$/,""):null},p=(g,b)=>{const y=t[g],w=t[b];if(!y&&!w)return null;let j=0;return g>=1&&g<=16?g===1&&b===2||g>=2&&g<=7&&b===g+1?j=(y?.mesial||0)+(w?.distal||0):g===8&&b===9?j=(y?.mesial||0)+(w?.mesial||0):g>=9&&g<=15&&b===g+1&&(j=(y?.distal||0)+(w?.mesial||0)):g>=17&&g<=32&&(g===32&&b===31||g>=26&&g<=31&&b===g-1?j=(y?.mesial||0)+(w?.distal||0):g===25&&b===24?j=(y?.mesial||0)+(w?.mesial||0):(g>=18&&g<=24&&b===g-1||g===18&&b===17)&&(j=(y?.distal||0)+(w?.mesial||0))),j>0?j%1===0?j.toString():j.toFixed(2).replace(/\.?0+$/,""):null};return s?r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50",onClick:l}),r.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 pointer-events-none",children:r.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-auto max-h-[90vh] overflow-y-auto pointer-events-auto",children:[r.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-neutral-200",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-8 h-8 bg-red-100 rounded-full flex items-center justify-center",children:r.jsx(Jp,{className:"w-4 h-4 text-red-600"})}),r.jsxs("div",{className:"flex flex-col",children:[r.jsx("h2",{className:"text-heading-3 font-heading-3 text-default-font",children:o("adminTreatmentPlan.iprChart")}),r.jsx("p",{className:"text-sm text-gray-600 mt-1",children:o("iprChart.description")})]})]}),r.jsx("button",{onClick:l,className:"w-8 h-8 flex items-center justify-center rounded-md hover:bg-neutral-100",children:r.jsx(bn,{className:"w-4 h-4 text-neutral-600"})})]}),r.jsxs("div",{className:"p-6 flex flex-col items-center gap-8",style:{direction:"ltr"},children:[r.jsx("div",{className:"flex relative items-center",children:[...Array(16)].map((g,b)=>{const y=b+1,w=El[`tooth${y}`]||[],j=e[y]||"movable";let S=null,E=null;return y===1?S=m(1,"distal"):S=p(y-1,y),y===16&&(E=m(16,"distal")),r.jsx(u1,{num:y,paths:w,status:j,isUpperJaw:!0,iprBefore:S,iprAfter:E},y)})}),r.jsx("div",{className:"flex relative items-center",children:[...Array(16)].map((g,b)=>{const y=32-b,w=El[`tooth${y}`]||[],j=e[y]||"movable";let S=null,E=null;return y===32?S=m(32,"distal"):S=p(y+1,y),y===17&&(E=m(17,"distal")),r.jsx(u1,{num:y,paths:w,status:j,isUpperJaw:!1,iprBefore:S,iprAfter:E},y)})}),r.jsxs("div",{className:`flex items-center gap-2 text-sm text-gray-600 bg-orange-50 px-4 py-2 rounded ${f?"flex-row-reverse":""}`,children:[r.jsx("div",{className:"w-3 h-3 bg-orange-600 rounded"}),r.jsx("span",{children:o("iprChart.legend")})]})]})]})})]}):null},B9=({toothStatus:e,iprData:t})=>{const{t:n,i18n:s}=ye(),l=s.language==="ar",o=({num:m,paths:p,status:g,isUpperJaw:b,iprBefore:y,iprAfter:w})=>{const S={movable:{color:"#00adef"},unmovable:{color:"#F44336"},missing:{color:"#9E9E9E"},note:{color:"#fa9600"}}[g]?.color||"#00adef";return r.jsxs(r.Fragment,{children:[y&&r.jsx("div",{className:"flex items-center justify-center",style:{width:"4px",minHeight:"64px"},children:r.jsx("div",{className:"text-xs font-semibold text-orange-600 bg-orange-50 px-1 rounded whitespace-nowrap",style:{position:"relative",top:b?"8px":"-16px"},children:y})}),r.jsxs("div",{className:"flex flex-col items-center relative",style:{width:"48px",minHeight:"64px"},children:[r.jsx("div",{className:"flex justify-center mb-1",style:{width:"48px",height:"72px",alignItems:b?"flex-end":"flex-start",marginBottom:b?"10px":0},children:r.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 21.1 56.7",className:"w-full h-full",fill:S,style:{maxWidth:"48px",maxHeight:"72px",display:"block"},children:p.map((E,R)=>r.jsx("path",{d:E},R))})}),r.jsx("p",{className:"text-xs text-center",style:{lineHeight:"1",width:"100%",margin:0},children:m})]}),w&&r.jsx("div",{className:"flex items-center justify-center",style:{width:"4px",minHeight:"64px"},children:r.jsx("div",{className:"text-xs font-semibold text-orange-600 bg-orange-50 px-1 rounded whitespace-nowrap",style:{position:"relative",top:b?"8px":"-16px"},children:w})})]})},d=(m,p)=>{const g=t[m];if(!g)return null;const b=g[p]||0;return b>0?b%1===0?b.toString():b.toFixed(2).replace(/\.?0+$/,""):null},f=(m,p)=>{const g=t[m],b=t[p];if(!g&&!b)return null;let y=0;return m>=1&&m<=16?m===1&&p===2||m>=2&&m<=7&&p===m+1?y=(g?.mesial||0)+(b?.distal||0):m===8&&p===9?y=(g?.mesial||0)+(b?.mesial||0):m>=9&&m<=15&&p===m+1&&(y=(g?.distal||0)+(b?.mesial||0)):m>=17&&m<=32&&(m===32&&p===31||m>=26&&m<=31&&p===m-1?y=(g?.mesial||0)+(b?.distal||0):m===25&&p===24?y=(g?.mesial||0)+(b?.mesial||0):(m>=18&&m<=24&&p===m-1||m===18&&p===17)&&(y=(g?.distal||0)+(b?.mesial||0))),y>0?y%1===0?y.toString():y.toFixed(2).replace(/\.?0+$/,""):null};return r.jsxs("div",{className:"flex flex-col items-center gap-8",style:{transform:"scale(0.85)",transformOrigin:"top center",direction:"ltr"},children:[r.jsx("div",{className:"flex relative items-center",children:[...Array(16)].map((m,p)=>{const g=p+1,b=El[`tooth${g}`]||[],y=e[g]||"movable";let w=null,j=null;return g===1?w=d(1,"distal"):w=f(g-1,g),g===16&&(j=d(16,"distal")),r.jsx(o,{num:g,paths:b,status:y,isUpperJaw:!0,iprBefore:w,iprAfter:j},g)})}),r.jsx("div",{className:"flex relative items-center",children:[...Array(16)].map((m,p)=>{const g=32-p,b=El[`tooth${g}`]||[],y=e[g]||"movable";let w=null,j=null;return g===32?w=d(32,"distal"):w=f(g+1,g),g===17&&(j=d(17,"distal")),r.jsx(o,{num:g,paths:b,status:y,isUpperJaw:!1,iprBefore:w,iprAfter:j},g)})}),r.jsxs("div",{className:`flex items-center gap-2 text-sm text-gray-600 bg-orange-50 px-4 py-2 rounded ${l?"flex-row-reverse":""}`,children:[r.jsx("div",{className:"w-3 h-3 bg-orange-600 rounded"}),r.jsx("span",{children:n("iprChart.legend")})]})]})},z9=({caseData:e,showPlanSection:t,caseHasViewer:n})=>{const{t:s}=ye(),[l,o]=h.useState(!1);if(!t)return null;const d=()=>{const f=`/case-viewer/${e.id}`;window.open(f,"_blank")};return r.jsxs("div",{className:"flex w-full flex-col items-start gap-6",children:[r.jsxs("div",{className:"flex w-full flex-wrap items-start gap-6",children:[r.jsxs("div",{className:"flex grow shrink-0 basis-0 flex-col items-start gap-4",children:[r.jsx(Gt,{icon:r.jsx(wl,{}),label:s("casePage.treatmentPlan.upperJawAligners"),children:r.jsxs(Ye,{children:[e.upper_jaw_aligners??""," ",s("casePage.treatmentPlan.aligners")]})}),r.jsx(Gt,{icon:r.jsx(wl,{}),label:s("casePage.treatmentPlan.lowerJawAligners"),children:r.jsxs(Ye,{children:[e.lower_jaw_aligners??""," ",s("casePage.treatmentPlan.aligners")]})}),r.jsx(Gt,{icon:r.jsx(Ef,{}),label:s("casePage.treatmentPlan.estimatedDuration"),children:r.jsxs("span",{className:"whitespace-nowrap text-body font-body text-default-font",children:[e.estimated_duration_months??""," ",s("casePage.treatmentPlan.months")]})})]}),r.jsxs("div",{className:"flex grow shrink-0 basis-0 flex-col items-start gap-4",children:[r.jsx(Gt,{icon:r.jsx(Nl,{}),label:s("casePage.treatmentPlan.caseStudyFee"),children:r.jsxs("span",{className:"whitespace-nowrap text-body-bold font-body-bold text-default-font",children:["$",e.case_study_fee?parseFloat(e.case_study_fee).toFixed(2):"0"]})}),r.jsx(Gt,{icon:r.jsx(wl,{}),label:s("casePage.treatmentPlan.alignersPrice"),children:r.jsxs("span",{className:"whitespace-nowrap text-body-bold font-body-bold text-default-font",children:["$",e.aligners_price?parseFloat(e.aligners_price).toFixed(2):"0"]})}),r.jsx(Gt,{icon:r.jsx(Sk,{}),label:s("casePage.treatmentPlan.deliveryCharges"),children:r.jsxs("span",{className:"whitespace-nowrap text-body-bold font-body-bold text-default-font",children:["$",e.delivery_charges?parseFloat(e.delivery_charges).toFixed(2):"0"]})}),r.jsx(Gt,{icon:r.jsx(ok,{}),label:s("casePage.treatmentPlan.totalCost"),children:r.jsxs("span",{className:"whitespace-nowrap text-heading-3 font-heading-3 text-brand-600",children:["$",e.total_cost?parseFloat(e.total_cost).toFixed(2):"0"]})})]})]}),n&&r.jsx("div",{className:"flex w-full justify-end",children:r.jsx(ce,{onClick:d,icon:r.jsx(_l,{}),className:"w-auto",children:s("casePage.openViewer")})}),e.ipr_data&&Object.keys(e.ipr_data).length>0&&r.jsxs("div",{className:"mt-8",children:[r.jsx(ce,{onClick:()=>o(!0),icon:r.jsx(_l,{}),className:"w-auto",children:s("casePage.treatmentPlan.viewIPRChart")}),r.jsx(TN,{toothStatus:e.tooth_status||{},iprData:e.ipr_data,onClose:()=>o(!1),isOpen:l})]}),e.admin_note&&r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"flex w-full items-center justify-between",children:r.jsx("span",{className:"text-heading-3 font-heading-3 text-default-font",children:s("casePage.treatmentPlan.adminNotes")})}),r.jsx("div",{className:"w-full",children:r.jsx("div",{className:"w-full bg-white border border-neutral-200 rounded-md p-4 shadow-sm",children:r.jsx("div",{className:"text-body font-body text-neutral-800 whitespace-pre-wrap break-words leading-relaxed",children:e.admin_note})})})]})]})},kN=({caseData:e,downloadingFiles:t,handleFileDownload:n})=>{const{t:s}=ye();return r.jsxs("div",{className:"flex w-full flex-col items-start gap-4 rounded-md border border-solid border-neutral-border bg-default-background px-6 pt-4 pb-6 shadow-sm",children:[r.jsx("span",{className:"text-heading-3 font-heading-3 text-default-font",children:s("casePage.fileDownload.uploadedFiles")}),r.jsxs(I,{header:r.jsxs(I.HeaderRow,{children:[r.jsx(I.HeaderCell,{children:s("casePage.fileDownload.fileName")}),r.jsx(I.HeaderCell,{children:s("casePage.fileDownload.type")}),r.jsx(I.HeaderCell,{children:s("casePage.fileDownload.status")}),r.jsx(I.HeaderCell,{children:s("casePage.fileDownload.actions")})]}),children:[e.upper_jaw_scan_url&&r.jsxs(I.Row,{children:[r.jsx(I.Cell,{children:r.jsx("span",{className:"whitespace-nowrap text-body-bold font-body-bold text-neutral-700",children:s("casePage.fileDownload.upperJawScan")})}),r.jsx(I.Cell,{children:r.jsx(Ye,{variant:"neutral",children:s("casePage.fileDownload.upperJaw")})}),r.jsx(I.Cell,{children:r.jsx("span",{className:"whitespace-nowrap text-body font-body text-neutral-500",children:e.upper_jaw_scan_url?s("casePage.fileDownload.available"):s("casePage.fileDownload.notUploaded")})}),r.jsx(I.Cell,{children:e.upper_jaw_scan_url&&r.jsx(Wt,{icon:r.jsx(Sr,{}),onClick:()=>n(e.upper_jaw_scan_url,s("casePage.fileDownload.upperJawScan")),disabled:t.has(e.upper_jaw_scan_url)})})]}),e.lower_jaw_scan_url&&r.jsxs(I.Row,{children:[r.jsx(I.Cell,{children:r.jsx("span",{className:"whitespace-nowrap text-body-bold font-body-bold text-neutral-700",children:s("casePage.fileDownload.lowerJawScan")})}),r.jsx(I.Cell,{children:r.jsx(Ye,{variant:"neutral",children:s("casePage.fileDownload.lowerJaw")})}),r.jsx(I.Cell,{children:r.jsx("span",{className:"whitespace-nowrap text-body font-body text-neutral-500",children:e.lower_jaw_scan_url?s("casePage.fileDownload.available"):s("casePage.fileDownload.notUploaded")})}),r.jsx(I.Cell,{children:e.lower_jaw_scan_url&&r.jsx(Wt,{icon:r.jsx(Sr,{}),onClick:()=>n(e.lower_jaw_scan_url,s("casePage.fileDownload.lowerJawScan")),disabled:t.has(e.lower_jaw_scan_url)})})]}),e.bite_scan_url&&r.jsxs(I.Row,{children:[r.jsx(I.Cell,{children:r.jsx("span",{className:"whitespace-nowrap text-body-bold font-body-bold text-neutral-700",children:s("casePage.fileDownload.biteScan")})}),r.jsx(I.Cell,{children:r.jsx(Ye,{variant:"neutral",children:s("casePage.fileDownload.bite")})}),r.jsx(I.Cell,{children:r.jsx("span",{className:"whitespace-nowrap text-body font-body text-neutral-500",children:e.bite_scan_url?s("casePage.fileDownload.available"):s("casePage.fileDownload.notUploaded")})}),r.jsx(I.Cell,{children:e.bite_scan_url&&r.jsx(Wt,{icon:r.jsx(Sr,{}),onClick:()=>n(e.bite_scan_url,s("casePage.fileDownload.biteScan")),disabled:t.has(e.bite_scan_url)})})]}),e.compressed_scans_url&&r.jsxs(I.Row,{children:[r.jsx(I.Cell,{children:r.jsx("span",{className:"whitespace-nowrap text-body-bold font-body-bold text-neutral-700",children:s("casePage.fileDownload.allInOne")})}),r.jsx(I.Cell,{children:r.jsx(Ye,{variant:"neutral",children:s("casePage.fileDownload.compressedFile")})}),r.jsx(I.Cell,{children:r.jsx("span",{className:"whitespace-nowrap text-body font-body text-neutral-500",children:e.compressed_scans_url?s("casePage.fileDownload.available"):s("casePage.fileDownload.notUploaded")})}),r.jsx(I.Cell,{children:e.compressed_scans_url&&r.jsx(Wt,{icon:r.jsx(Sr,{}),onClick:()=>n(e.compressed_scans_url,s("casePage.fileDownload.allInOne")),disabled:t.has(e.compressed_scans_url)})})]}),e.additional_files_urls&&e.additional_files_urls.length>0&&e.additional_files_urls.map((l,o)=>r.jsxs(I.Row,{children:[r.jsx(I.Cell,{children:r.jsx("span",{className:"whitespace-nowrap text-body-bold font-body-bold text-neutral-700",children:s("casePage.fileDownload.additionalFile",{number:o+1})})}),r.jsx(I.Cell,{children:r.jsx(Ye,{variant:"neutral",children:s("casePage.fileDownload.additional")})}),r.jsx(I.Cell,{children:r.jsx("span",{className:"whitespace-nowrap text-body font-body text-neutral-500",children:s("casePage.fileDownload.available")})}),r.jsx(I.Cell,{children:r.jsx(Wt,{icon:r.jsx(Sr,{}),onClick:()=>n(l,s("casePage.fileDownload.additionalFile",{number:o+1})),disabled:t.has(l)})})]},o)),!e.upper_jaw_scan_url&&!e.lower_jaw_scan_url&&!e.bite_scan_url&&!e.compressed_scans_url&&(!e.additional_files_urls||e.additional_files_urls.length===0)&&r.jsx(I.Row,{children:r.jsx(I.Cell,{colSpan:4,children:r.jsx("span",{className:"text-neutral-500 py-4",children:s("casePage.fileDownload.noFiles")})})})]})]})},q9=e=>{const{t}=ye(),[n,s]=h.useState(e),l=h.useMemo(()=>{switch(n){case"submitted":return{title:t("caseStatus.submitted.title"),description:t("caseStatus.submitted.description")};case"awaiting_user_approval":return{title:t("caseStatus.awaitingUserApproval.title"),description:t("caseStatus.awaitingUserApproval.description")};case"approved":return{title:t("caseStatus.approved.title"),description:t("caseStatus.approved.description")};case"in_production":return{title:t("caseStatus.inProduction.title"),description:t("caseStatus.inProduction.description")};case"ready_for_delivery":return{title:t("caseStatus.readyForDelivery.title"),description:t("caseStatus.readyForDelivery.description")};case"delivered":return{title:t("caseStatus.delivered.title"),description:t("caseStatus.delivered.description")};case"completed":return{title:t("caseStatus.completed.title"),description:t("caseStatus.completed.description")};case"rejected":return{title:t("caseStatus.rejected.title"),description:t("caseStatus.rejected.description"),variant:"destructive"};case"user_rejected":return{title:t("caseStatus.user_rejected.title"),description:t("caseStatus.user_rejected.description"),variant:"destructive"};default:return{title:t("caseStatus.default.title"),description:t("caseStatus.default.description")}}},[n,t]),o=h.useMemo(()=>["user_rejected","awaiting_user_approval","approved","in_production","ready_for_delivery","delivered","completed"].includes(n),[n]),d=h.useMemo(()=>!["ready_for_delivery","delivered","completed"].includes(n),[n]);return{status:n,setStatus:s,alertContent:l,showPlanSection:o,isPlanEditAllowed:d}},DN=()=>{const[e,t]=h.useState(new Set);return{downloadingFiles:e,downloadSingleFile:async(l,o="download")=>{if(!l){ve.error("No file URL available");return}t(d=>new Set([...d,l]));try{const d=await c1(l);d.success?ve.success(`${o} downloaded successfully`):ve.error(`Failed to download ${o}: ${d.error}`)}catch(d){console.error("Download error:",d),ve.error(`Download failed: ${d.message}`)}finally{t(d=>{const f=new Set(d);return f.delete(l),f})}},downloadAllFiles:async l=>{const o=[];if(l.upper_jaw_scan_url&&o.push({url:l.upper_jaw_scan_url,name:"Upper Jaw Scan"}),l.lower_jaw_scan_url&&o.push({url:l.lower_jaw_scan_url,name:"Lower Jaw Scan"}),l.bite_scan_url&&o.push({url:l.bite_scan_url,name:"Bite Scan"}),l.compressed_scans_url&&o.push({url:l.compressed_scans_url,name:"All-in-One"}),l.additional_files_urls?.length>0&&l.additional_files_urls.forEach((p,g)=>{o.push({url:p,name:`Additional File ${g+1}`})}),o.length===0){ve.error("No files available for download");return}const d=ve.loading(`Downloading ${o.length} file(s)...`);let f=0,m=0;for(let p=0;p<o.length;p++){const g=o[p];try{t(y=>new Set([...y,g.url]));const b=await c1(g.url);b.success?f++:(m++,console.error(` Failed: ${g.name} - ${b.error}`))}catch(b){m++,console.error(` Failed: ${g.name} - ${b.message}`)}finally{t(b=>{const y=new Set(b);return y.delete(g.url),y})}p<o.length-1&&await new Promise(b=>setTimeout(b,500))}ve.dismiss(d),m===0?ve.success(`All ${f} files downloaded successfully!`):f===0?ve.error(`Failed to download all ${o.length} files`):ve.success(`Downloaded ${f} files (${m} failed)`)}}},MN=e=>{const[t,n]=h.useState(!1),[s,l]=h.useState(e?.user_note||""),[o,d]=h.useState(!1),[f,m]=h.useState(null);return{isEditingNote:t,noteText:s,setNoteText:l,noteSaving:o,noteError:f,handleEditNote:()=>{n(!0),m(null)},handleCancelEditNote:()=>{n(!1),l(e?.user_note||""),m(null)},handleSaveNote:async()=>{try{d(!0),m(null);const{error:y}=await Z.from("cases").update({user_note:s.trim()||null}).eq("id",e.id);if(y)throw y;e.user_note=s.trim()||null,n(!1),ve.success("Note updated successfully")}catch(y){console.error("Error saving note:",y),m(y.message||"Failed to save note"),ve.error("Failed to save note")}finally{d(!1)}}}},ON=async e=>{const{data:t,error:n}=await Z.from("treatment_plan_images").select("id, image_category, view_type").eq("case_id",e).limit(1);if(n)throw n;return{hasImages:t&&t.length>0,imageCount:t?.length||0}},H9=({isOpen:e,onClose:t,onConfirm:n,isLoading:s=!1})=>{const{t:l}=ye();return e?r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50",onClick:s?void 0:t}),r.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:r.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-md w-full",children:[r.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-neutral-200",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-8 h-8 bg-green-100 rounded-full flex items-center justify-center",children:r.jsx(Pn,{className:"w-4 h-4 text-green-600"})}),r.jsx("h2",{className:"text-heading-3 font-heading-3 text-default-font",children:l("casePage.dialogs.approval.title")})]}),r.jsx("button",{onClick:t,disabled:s,className:"w-8 h-8 flex items-center justify-center rounded-md hover:bg-neutral-100 disabled:opacity-50 disabled:cursor-not-allowed",children:r.jsx(bn,{className:"w-4 h-4 text-neutral-600"})})]}),r.jsxs("div",{className:"p-6",children:[r.jsx("p",{className:"text-body font-body text-neutral-700",children:l("casePage.dialogs.approval.message")}),r.jsxs("div",{className:"mt-4 p-4 bg-green-50 border border-green-200 rounded-md",children:[r.jsx("p",{className:"text-body-bold font-body-bold text-green-800",children:l("casePage.dialogs.approval.lockMessage")}),r.jsx("p",{className:"text-body font-body text-green-700 mt-1",children:l("casePage.dialogs.approval.productionMessage")})]})]}),r.jsxs("div",{className:"flex items-center justify-end gap-3 p-6 border-t border-neutral-200",children:[r.jsx(ce,{variant:"neutral-secondary",onClick:t,disabled:s,children:l("common.cancel")}),r.jsx(ce,{variant:"brand-primary",icon:r.jsx(Pn,{}),onClick:n,disabled:s,children:l(s?"casePage.dialogs.approval.approving":"casePage.dialogs.approval.confirmButton")})]})]})})]}):null},V9=({isOpen:e,onClose:t,onConfirm:n,isLoading:s=!1})=>{const{t:l}=ye(),[o,d]=h.useState(""),[f,m]=h.useState(""),p=()=>{if(!o.trim()){m(l("casePage.dialogs.decline.reasonRequired"));return}n(o.trim())},g=()=>{s||(d(""),m(""),t())};return e?r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50",onClick:g}),r.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:r.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-md w-full max-h-[90vh] overflow-y-auto",children:[r.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-neutral-200",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-8 h-8 bg-red-100 rounded-full flex items-center justify-center",children:r.jsx(jr,{className:"w-4 h-4 text-red-600"})}),r.jsx("h2",{className:"text-heading-3 font-heading-3 text-default-font",children:l("casePage.dialogs.decline.title")})]}),r.jsx("button",{onClick:g,disabled:s,className:"w-8 h-8 flex items-center justify-center rounded-md hover:bg-neutral-100 disabled:opacity-50 disabled:cursor-not-allowed",children:r.jsx(bn,{className:"w-4 h-4 text-neutral-600"})})]}),r.jsxs("div",{className:"p-6",children:[r.jsx("p",{className:"text-body font-body text-neutral-700 mb-4",children:l("casePage.dialogs.decline.message")}),r.jsxs("div",{className:"flex flex-col gap-2",children:[r.jsxs("label",{htmlFor:"declineReason",className:"text-body-bold font-body-bold text-default-font",children:[l("casePage.dialogs.decline.reasonLabel")," ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx("textarea",{id:"declineReason",value:o,onChange:b=>{d(b.target.value),f&&m("")},placeholder:l("casePage.dialogs.decline.reasonPlaceholder"),rows:4,disabled:s,className:"w-full px-3 py-2 text-body font-body text-default-font bg-default-background border border-neutral-border rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 resize-vertical min-h-[100px] placeholder:text-subtext-color disabled:opacity-50 disabled:cursor-not-allowed"}),f&&r.jsx("span",{className:"text-caption font-caption text-red-600",children:f}),r.jsx("span",{className:"text-caption font-caption text-subtext-color",children:l("casePage.dialogs.decline.infoText")})]})]}),r.jsxs("div",{className:"flex items-center justify-end gap-3 p-6 border-t border-neutral-200",children:[r.jsx(ce,{variant:"neutral-secondary",onClick:g,disabled:s,children:l("common.cancel")}),r.jsx(ce,{variant:"destructive-primary",onClick:p,disabled:s||!o.trim(),children:l(s?"casePage.dialogs.decline.declining":"casePage.dialogs.decline.confirmButton")})]})]})})]}):null},LN=({caseData:e})=>{const{t}=ye();if(!e.satisfaction_rating)return null;const n=s=>r.jsx("div",{className:"flex items-center gap-1",children:[1,2,3,4,5].map(l=>r.jsx(Gu,{className:`w-5 h-5 ${l<=s?"text-yellow-500 fill-yellow-500":"text-neutral-300"}`},l))});return r.jsxs("div",{className:"flex w-full flex-col items-start gap-4 rounded-md border border-solid border-neutral-border bg-default-background px-6 pt-4 pb-6 shadow-sm",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Gu,{className:"w-5 h-5 text-yellow-500 fill-yellow-500"}),r.jsx("span",{className:"text-heading-3 font-heading-3 text-default-font",children:t("casePage.satisfaction.display.title")})]}),r.jsxs("div",{className:"flex w-full flex-col gap-4",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsxs("span",{className:"text-body-bold font-body-bold text-default-font",children:[t("casePage.satisfaction.display.rating"),":"]}),n(e.satisfaction_rating),r.jsxs("span",{className:"text-body font-body text-subtext-color",children:["(",e.satisfaction_rating,"/5)"]})]}),e.satisfaction_message&&r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"flex h-px w-full flex-none flex-col items-center gap-2 bg-neutral-border"}),r.jsxs("div",{className:"flex flex-col gap-2",children:[r.jsxs("span",{className:"text-body-bold font-body-bold text-default-font",children:[t("casePage.satisfaction.display.feedback"),":"]}),r.jsx("div",{className:"w-full bg-neutral-50 border border-neutral-border rounded-md p-4",children:r.jsx("p",{className:"text-body font-body text-neutral-800 whitespace-pre-wrap break-words leading-relaxed",children:e.satisfaction_message})})]})]}),e.completed_at&&r.jsx("div",{className:"flex items-center gap-2 text-body font-body text-subtext-color",children:r.jsxs("span",{children:[t("casePage.satisfaction.display.completedOn"),":"," ",new Date(e.completed_at).toLocaleDateString()]})})]})]})},G9=({isOpen:e,onClose:t,onChangeMaterial:n,saving:s,caseData:l})=>{const{t:o}=ye(),[d,f]=h.useState(!1),[m,p]=h.useState([]),[g,b]=h.useState(""),[y,w]=h.useState(!1),[j,S]=h.useState("");h.useEffect(()=>{e&&((async()=>{w(!0);try{const{data:T,error:C}=await Z.from("services").select("*").eq("is_active",!0);if(C)console.error("Error fetching materials:",C);else{const k=T.filter($=>$.type==="aligners_material");p(k)}}catch(T){console.error("Error fetching materials:",T)}finally{w(!1)}})(),f(!1),b(l?.aligner_material||""),S(l?.user_note||""))},[e,l?.aligner_material,l?.user_note]);const E=P=>{b(P.target.value)},R=async()=>{const P=l?.aligner_material||"",T=g;n&&await n(T,T!==P,j)},A=()=>{s||t()},N=()=>{const P=l?.aligner_material||"",T=l?.user_note||"",C=g!==P,k=j.trim()!==T.trim();return C||k};return e?r.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[r.jsx("div",{className:"absolute inset-0 bg-black/50",onClick:A}),r.jsx("div",{className:"relative bg-white rounded-lg shadow-xl w-full mx-4 p-6 max-w-[640px] max-h-[90vh] overflow-y-auto",children:r.jsxs("div",{className:"flex flex-col gap-4",children:[r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsx("div",{className:"w-8 h-8 bg-brand-100 rounded-full flex items-center justify-center flex-shrink-0",children:r.jsx(Rf,{className:"w-4 h-4 text-brand-600"})}),r.jsxs("div",{className:"flex-1",children:[r.jsx("h3",{className:"text-heading-3 font-heading-3 text-default-font",children:o("casePage.dialogs.requestEdit.title")}),r.jsx("p",{className:"mt-1 text-body font-body text-subtext-color",children:o("casePage.dialogs.requestEdit.subtitle")})]}),r.jsx("button",{onClick:A,disabled:s,className:"text-gray-400 hover:text-gray-600 transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex-shrink-0",children:r.jsx(bn,{className:"w-6 h-6"})})]}),r.jsxs("div",{className:"border border-neutral-border rounded-md p-4 mt-2",children:[r.jsxs("div",{className:"flex items-start gap-3 cursor-pointer hover:bg-neutral-50 -m-4 p-4 rounded-md transition-colors",onClick:()=>f(!d),children:[r.jsx(Un,{className:"w-5 h-5 text-brand-600 flex-shrink-0 mt-0.5"}),r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("h4",{className:"text-body-bold font-body-bold text-default-font",children:o("casePage.dialogs.requestEdit.changeMaterial")}),d?r.jsx(ri,{className:"w-5 h-5 text-subtext-color"}):r.jsx(ai,{className:"w-5 h-5 text-subtext-color"})]}),r.jsxs("p",{className:"text-body font-body text-subtext-color mt-1",children:[o("casePage.dialogs.requestEdit.currentMaterial")," ",r.jsx("span",{className:"font-semibold",children:l?.aligner_material||o("casePage.notSpecified")})]}),r.jsx("p",{className:"text-body font-body text-subtext-color mt-1",children:o("casePage.dialogs.requestEdit.materialDescription")})]})]}),d&&r.jsx("div",{className:"mt-4 pt-4 border-t border-neutral-border",children:y?r.jsx("div",{className:"flex items-center justify-center py-4",children:r.jsx(Jt,{size:"small"})}):m.length>0?r.jsx(_c,{label:o("casePage.dialogs.requestEdit.selectMaterial"),name:"alignerMaterial",options:m.map(P=>({label:P.name,value:P.name})),selectedValue:g,onChange:E}):r.jsx("p",{className:"text-body font-body text-subtext-color",children:o("casePage.dialogs.requestEdit.noMaterials")})})]}),r.jsx("div",{className:"border border-neutral-border rounded-md p-4",children:r.jsxs("div",{className:"flex flex-col gap-2",children:[r.jsx("label",{htmlFor:"userNote",className:"text-body-bold font-body-bold text-default-font",children:o("casePage.dialogs.requestEdit.notesLabel")}),r.jsx("p",{className:"text-body font-body text-subtext-color -mt-1 mb-2",children:o("casePage.dialogs.requestEdit.notesDescription")}),r.jsx("textarea",{id:"userNote",value:j,onChange:P=>S(P.target.value),placeholder:o("casePage.dialogs.requestEdit.notesPlaceholder"),rows:4,disabled:s,className:"w-full px-3 py-2 text-body font-body text-default-font bg-default-background border border-neutral-border rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-brand-500 focus:border-brand-500 resize-vertical min-h-[100px] placeholder:text-subtext-color disabled:opacity-50 disabled:cursor-not-allowed"}),r.jsx("span",{className:"text-caption font-caption text-subtext-color",children:o("casePage.dialogs.requestEdit.notesHelp")})]})}),r.jsxs("div",{className:"p-4 bg-amber-50 border border-amber-200 rounded-md",children:[r.jsx("p",{className:"text-body-bold font-body-bold text-amber-800",children:o("casePage.dialogs.requestEdit.warningTitle")}),r.jsx("p",{className:"text-body font-body text-amber-700 mt-1",children:o("casePage.dialogs.requestEdit.warningMessage")})]}),r.jsxs("div",{className:"flex items-center justify-end gap-2 mt-2 pt-4 border-t border-neutral-border",children:[r.jsx(ce,{variant:"neutral-secondary",onClick:A,disabled:s,children:o("common.cancel")}),r.jsx(ce,{variant:"brand-primary",icon:r.jsx(Un,{}),onClick:R,disabled:s||!g||!N(),children:o(s?"casePage.dialogs.requestEdit.submitting":"casePage.dialogs.requestEdit.submitButton")})]})]})})]}):null},UN=({caseData:e})=>{const{t}=ye();if(!e)return null;const n=o=>t(o?{upper:"caseSubmit.treatmentOptions.upperArch",lower:"caseSubmit.treatmentOptions.lowerArch",both:"caseSubmit.treatmentOptions.bothArches"}[o]||o:"casePage.notSpecified"),s=o=>t(o?{centered:"caseSubmit.diagnosis.centered",shifted_right:"caseSubmit.diagnosis.shiftedRight",shifted_left:"caseSubmit.diagnosis.shiftedLeft"}[o]||o:"casePage.notSpecified"),l=o=>t(o?{class_i:"caseSubmit.diagnosis.classI",class_ii:"caseSubmit.diagnosis.classII",class_iii:"caseSubmit.diagnosis.classIII"}[o]||o:"casePage.notSpecified");return r.jsxs("div",{className:"flex w-full flex-col items-start gap-6 rounded-md border border-solid border-neutral-border bg-default-background px-6 pt-4 pb-6 shadow-sm",children:[r.jsx("span",{className:"text-heading-3 font-heading-3 text-default-font",children:t("casePage.treatmentOptionsTitle")}),e.chief_complaint&&r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"w-full",children:[r.jsx("span",{className:"text-body-bold font-body-bold text-default-font mb-2 block",children:t("caseSubmit.diagnosis.chiefComplaint")}),r.jsx("div",{className:"bg-neutral-50 dark:bg-neutral-900 rounded-md p-4 border border-neutral-border",children:r.jsx("p",{className:"text-body font-body text-default-font whitespace-pre-wrap",children:e.chief_complaint})})]}),r.jsx("div",{className:"w-full border-t border-neutral-border"})]}),r.jsxs("div",{className:"w-full",children:[r.jsx("span",{className:"text-body-bold font-body-bold text-default-font mb-3 block font-bold",children:t("casePage.treatmentOptions")}),r.jsxs("div",{className:"flex flex-wrap items-start gap-8",children:[r.jsxs("div",{className:"flex flex-col gap-1 min-w-[150px]",children:[r.jsx("span",{className:"text-caption font-caption text-subtext-color uppercase",children:t("caseSubmit.treatmentOptions.treatmentArch")}),r.jsx("span",{className:"text-body-bold font-body-bold text-default-font capitalize",children:n(e.treatment_arch)})]}),r.jsxs("div",{className:"flex flex-col gap-1 min-w-[150px]",children:[r.jsx("span",{className:"text-caption font-caption text-subtext-color uppercase",children:t("caseSubmit.treatmentOptions.alignerMaterial")}),r.jsx("span",{className:"text-body-bold font-body-bold text-default-font",children:e.aligner_material||t("casePage.notSpecified")})]})]})]}),r.jsx("div",{className:"w-full border-t border-neutral-border"}),r.jsxs("div",{className:"w-full",children:[r.jsx("span",{className:"text-body-bold font-body-bold text-default-font mb-3 block font-bold",children:t("casePage.midlineAnalysis")}),r.jsxs("div",{className:"flex flex-wrap items-start gap-8",children:[r.jsxs("div",{className:"flex flex-col gap-1 min-w-[200px]",children:[r.jsx("span",{className:"text-caption font-caption text-subtext-color uppercase",children:t("caseSubmit.diagnosis.upperMidline")}),r.jsxs("span",{className:"text-body-bold font-body-bold text-default-font",children:[s(e.upper_midline),e.upper_midline_shift&&r.jsxs("span",{className:"ml-2 text-body font-body text-subtext-color",children:["(",e.upper_midline_shift," ",t("casePage.mm"),")"]})]})]}),r.jsxs("div",{className:"flex flex-col gap-1 min-w-[200px]",children:[r.jsx("span",{className:"text-caption font-caption text-subtext-color uppercase",children:t("caseSubmit.diagnosis.lowerMidline")}),r.jsxs("span",{className:"text-body-bold font-body-bold text-default-font",children:[s(e.lower_midline),e.lower_midline_shift&&r.jsxs("span",{className:"ml-2 text-body font-body text-subtext-color",children:["(",e.lower_midline_shift," ",t("casePage.mm"),")"]})]})]})]})]}),r.jsx("div",{className:"w-full border-t border-neutral-border"}),r.jsxs("div",{className:"w-full",children:[r.jsx("span",{className:"text-body-bold font-body-bold text-default-font mb-3 block font-bold",children:t("casePage.occlusalRelationship")}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[r.jsxs("div",{className:"flex flex-col gap-3",children:[r.jsx("span",{className:"text-body font-body text-default-font font-bold",children:t("caseSubmit.diagnosis.canineRelationship")}),r.jsxs("div",{className:"flex flex-col gap-2 pl-4 border-l-2 border-neutral-border",children:[r.jsxs("div",{className:"flex items-center justify-start gap-2",children:[r.jsxs("span",{className:"text-caption font-caption text-subtext-color",children:[t("caseSubmit.diagnosis.rightSide"),":"]}),r.jsx("span",{className:"text-body-bold font-body-bold text-default-font",children:l(e.canine_right_class)})]}),r.jsxs("div",{className:"flex items-center justify-start gap-2",children:[r.jsxs("span",{className:"text-caption font-caption text-subtext-color",children:[t("caseSubmit.diagnosis.leftSide"),":"]}),r.jsx("span",{className:"text-body-bold font-body-bold text-default-font",children:l(e.canine_left_class)})]})]})]}),r.jsxs("div",{className:"flex flex-col gap-3",children:[r.jsx("span",{className:"text-body font-body text-default-font font-bold",children:t("caseSubmit.diagnosis.molarRelationship")}),r.jsxs("div",{className:"flex flex-col gap-2 pl-4 border-l-2 border-neutral-border",children:[r.jsxs("div",{className:"flex items-center justify-start gap-2",children:[r.jsxs("span",{className:"text-caption font-caption text-subtext-color",children:[t("caseSubmit.diagnosis.rightSide"),":"]}),r.jsx("span",{className:"text-body-bold font-body-bold text-default-font",children:l(e.molar_right_class)})]}),r.jsxs("div",{className:"flex items-center justify-start gap-2",children:[r.jsxs("span",{className:"text-caption font-caption text-subtext-color",children:[t("caseSubmit.diagnosis.leftSide"),":"]}),r.jsx("span",{className:"text-body-bold font-body-bold text-default-font",children:l(e.molar_left_class)})]})]})]})]})]})]})},Y9=()=>{const{t:e}=ye(),{caseData:t,error:n}=fi(),s=sR(),[l,o]=h.useState(null),[d,f]=h.useState(!1),[m,p]=h.useState(!1),[g,b]=h.useState(!1),[y,w]=h.useState(!1),[j,S]=h.useState(!1),{status:E,setStatus:R,alertContent:A,showPlanSection:N}=q9(t?.status),{downloadingFiles:P,downloadSingleFile:T,downloadAllFiles:C}=DN(),{isEditingNote:k,noteText:$,setNoteText:O,noteSaving:V,noteError:W,handleEditNote:L,handleCancelEditNote:F,handleSaveNote:B}=MN(t),te=()=>{s.revalidate()};if(h.useEffect(()=>{const z=async()=>{try{const{hasImages:ae}=await ON(t.id);p(ae)}catch{p(!1)}};t.id&&z()},[t.id]),h.useEffect(()=>{(async()=>{try{const{data:{user:ae}}=await Z.auth.getUser();if(!ae||!t?.id)return;await Z.from("notifications").update({status:"read"}).eq("recipient_id",ae.id).eq("case_id",t.id).eq("status","unread")}catch{}})()},[t?.id]),n)return r.jsx(pt,{error:n});if(!t)return r.jsx("p",{className:"text-neutral-500",children:e("casePage.caseNotFound")});const U=async()=>{try{f(!0),o(null);const{error:z}=await Z.from("cases").update({status:"approved"}).eq("id",t.id);if(z)throw z;R("approved"),b(!1),ve.success(e("casePage.toast.planApproved")),te()}catch(z){o(z.message||e("casePage.toast.approveFailed")),ve.error(z.message||e("casePage.toast.approveFailed"))}finally{f(!1)}},q=async z=>{const ae=parseFloat(t?.case_study_fee||0);try{f(!0),o(null);const{error:Q}=await Z.from("cases").update({status:"user_rejected",total_cost:ae,decline_reason:z}).eq("id",t.id);if(Q)throw Q;R("user_rejected"),w(!1),ve.success(e("casePage.toast.planDeclined")),te()}catch(Q){o(Q.message||e("casePage.toast.declineFailed")),ve.error(Q.message||e("casePage.toast.declineFailed"))}finally{f(!1)}},G=()=>{const z=`/case-viewer/${t.id}`;window.open(z,"_blank")},J=async(z,ae,Q)=>{try{f(!0),o(null);const ne={aligner_material:z,user_note:Q||null};ae&&(ne.status="accepted");const{error:he}=await Z.from("cases").update(ne).eq("id",t.id);if(he)throw he;ae?(R("accepted"),ve.success(e("casePage.toast.materialUpdatedReeval"))):ve.success(e("casePage.toast.materialUpdated")),S(!1),te()}catch(ne){o(ne.message||e("casePage.toast.updateMaterialFailed")),ve.error(ne.message||e("casePage.toast.updateMaterialFailed"))}finally{f(!1)}},D=()=>{switch(E){case"awaiting_user_approval":return e("casePage.statusMessages.awaitingApproval");case"approved":return e("casePage.statusMessages.approved");case"in_production":return e("casePage.statusMessages.inProduction");case"ready_for_delivery":return e("casePage.statusMessages.readyForDelivery");case"delivered":return e("casePage.statusMessages.delivered");case"completed":return e("casePage.statusMessages.completed");case"user_rejected":return e("casePage.statusMessages.userRejected");default:return""}};return r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"flex w-full flex-col items-start gap-2",children:[r.jsxs(Ut,{children:[r.jsx(At,{to:"/app/cases",children:r.jsx(Ut.Item,{children:e("navigation.cases")})}),r.jsx(Ut.Divider,{}),r.jsx(Ut.Item,{active:!0,children:e("casePage.caseDetails")})]}),r.jsxs("div",{className:"flex w-full items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("span",{className:"text-heading-2 font-heading-2 text-default-font",children:e("casePage.caseNumber",{id:t.id})}),r.jsx(bi,{status:E}),t.parent_case_id&&r.jsx(Ye,{variant:"brand",icon:r.jsx(Un,{}),children:e("casePage.refinementBadge",{number:t.refinement_number||1})})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[t.parent_case_id&&r.jsx(ce,{variant:"neutral-secondary",icon:r.jsx(Un,{}),asChild:!0,children:r.jsx(At,{to:`/app/cases/${t.parent_case_id}`,children:e("casePage.viewOriginalCase")})}),r.jsx(ce,{variant:"neutral-secondary",icon:r.jsx(Sr,{}),onClick:()=>C(t),disabled:P.size>0,children:P.size>0?e("casePage.downloading"):e("casePage.downloadFiles")}),m&&r.jsx(ce,{onClick:G,icon:r.jsx(_l,{}),children:e("casePage.openViewer")})]})]})]}),N&&r.jsx(ya,{variant:"success",icon:r.jsx(jr,{}),title:A.title,description:A.description,actions:null}),r.jsxs("div",{className:"flex w-full flex-col items-start gap-6",children:[r.jsx(AN,{caseData:t,isAdmin:!1}),E==="completed"&&t.satisfaction_rating&&r.jsx(LN,{caseData:t,onRefresh:te}),r.jsx(UN,{caseData:t}),(E==="user_rejected"||E==="rejected")&&t.decline_reason&&r.jsxs("div",{className:"flex w-full flex-col items-start gap-4 rounded-md border border-solid border-red-200 bg-red-50 px-6 pt-4 pb-6 shadow-sm",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(jr,{className:"w-5 h-5 text-red-600"}),r.jsx("span",{className:"text-heading-3 font-heading-3 text-red-900",children:e(E==="user_rejected"?"casePage.declineReason":"casePage.rejectionReason")})]}),r.jsx("div",{className:"w-full bg-white border border-red-200 rounded-md p-4 shadow-sm",children:r.jsx("div",{className:"text-body font-body text-neutral-800 whitespace-pre-wrap break-words leading-relaxed",children:t.decline_reason})})]}),r.jsx(PN,{noteText:$,setNoteText:O,isEditingNote:k,noteSaving:V,noteError:W,handleEditNote:L,handleCancelEditNote:F,handleSaveNote:B,caseData:t,isAdmin:!1}),r.jsxs("div",{className:"flex w-full flex-col items-start gap-6 rounded-md border border-solid border-neutral-border bg-default-background px-6 pt-4 pb-6 shadow-sm",children:[r.jsx("span",{className:"text-heading-3 font-heading-3 text-default-font",children:e("casePage.dentalChart")}),r.jsx("div",{className:"flex w-full justify-center",children:r.jsx(zl,{initialStatus:t.tooth_status||{},onChange:z=>Z.from("cases").update({tooth_status:z}).eq("id",t.id),readOnly:!0})})]}),N&&r.jsxs("div",{className:"flex w-full flex-col items-start gap-4 rounded-md border border-solid border-neutral-border bg-default-background px-6 pt-4 pb-6 shadow-sm",children:[r.jsx("span",{className:"text-heading-3 font-heading-3 text-default-font",children:e("casePage.treatmentPlanReview")}),l&&r.jsx(pt,{error:l}),r.jsxs("div",{className:"flex w-full flex-col items-start gap-6",children:[r.jsx(z9,{caseHasViewer:m,caseData:t,showPlanSection:!0}),r.jsx("div",{className:"flex h-px w-full flex-none flex-col items-center gap-2 bg-neutral-border"}),r.jsxs("div",{className:"flex w-full items-center justify-between",children:[r.jsx("span",{className:"text-body font-body text-subtext-color",children:D()}),r.jsx("div",{className:"flex items-center gap-2",children:E==="awaiting_user_approval"&&r.jsxs(r.Fragment,{children:[r.jsx(ce,{variant:"destructive-secondary",icon:r.jsx(bn,{}),disabled:d,onClick:()=>w(!0),children:e("casePage.declinePlan")}),r.jsx(ce,{variant:"neutral-secondary",icon:r.jsx(Rf,{}),disabled:d,onClick:()=>S(!0),children:e("casePage.requestEdit")}),r.jsx(ce,{variant:"brand-primary",icon:r.jsx(Pn,{}),disabled:d,onClick:()=>b(!0),children:e("casePage.approvePlan")})]})})]})]})]}),r.jsx(L9,{caseData:t,onCaseUpdate:te}),r.jsx(RN,{caseData:t}),r.jsx(kN,{caseData:t,downloadingFiles:P,handleFileDownload:T})]}),r.jsx(H9,{isOpen:g,onClose:()=>b(!1),onConfirm:U,isLoading:d}),r.jsx(V9,{isOpen:y,onClose:()=>w(!1),onConfirm:q,isLoading:d}),r.jsx(G9,{isOpen:j,onClose:()=>S(!1),onChangeMaterial:J,saving:d,caseData:t})]})},K9=()=>{const{t:e}=ye(),[t,n]=h.useState([]),[s,l]=h.useState({}),[o,d]=h.useState(!1),[f,m]=h.useState(null),[p,g]=h.useState(null),[b,y]=h.useState({firstName:"",lastName:"",isUrgent:!1,urgentDeliveryDate:"",alignerMaterial:"",uploadMethod:"individual",upperJawScan:null,lowerJawScan:null,biteScan:null,compressedScans:null,toothStatus:{},additionalFiles:[],chiefComplaint:"",userNote:"",upperMidline:"",upperMidlineShift:"",lowerMidline:"",lowerMidlineShift:"",canineRightClass:"",canineLeftClass:"",molarRightClass:"",molarLeftClass:"",treatmentArch:""}),w=vn();h.useEffect(()=>{(async()=>{d(!0);const{data:A,error:N}=await Z.from("services").select("*").eq("is_active",!0);if(N){console.error("Error fetching services:",N),d(!1);return}n(A.filter(P=>P.type==="aligners_material")),d(!1)})()},[]);const j=R=>{const{name:A,value:N,files:P,type:T,checked:C}=R.target;P?y(k=>({...k,[A]:A==="additionalFiles"?[...k.additionalFiles,...P]:P[0]})):T==="checkbox"?y(k=>({...k,[A]:C,...A==="isUrgent"&&!C?{urgentDeliveryDate:""}:{}})):(y(k=>({...k,[A]:N})),A==="upperMidline"&&N==="centered"&&y(k=>({...k,upperMidlineShift:""})),A==="lowerMidline"&&N==="centered"&&y(k=>({...k,lowerMidlineShift:""})),A==="uploadMethod"&&N==="compressed"&&y(k=>({...k,upperJawScan:null,lowerJawScan:null,biteScan:null})),A==="uploadMethod"&&N==="individual"&&y(k=>({...k,compressedScans:null})))},S=async R=>{R.preventDefault(),d(!0),m(null),g(null);try{let A=null,N=null,P=null,T=null,C=[];const{data:{user:k},error:$}=await Z.auth.getUser();if($||!k)throw new pt(e("caseSubmit.errors.authRequired"));const{data:O,error:V}=await Z.from("profiles").select("full_name, clinic").eq("id",k.id).single(),W=O?.full_name||k.email||e("caseSubmit.unknownDoctor"),L=O?.clinic||null,B=(()=>{const D=[];return b.firstName?.trim()||D.push(e("caseSubmit.errors.firstNameRequired")),b.lastName?.trim()||D.push(e("caseSubmit.errors.lastNameRequired")),isAdmin||(b.upperMidline||D.push(e("caseSubmit.errors.upperMidlineRequired")),b.lowerMidline||D.push(e("caseSubmit.errors.lowerMidlineRequired")),b.canineRightClass||D.push(e("caseSubmit.errors.canineRightRequired")),b.canineLeftClass||D.push(e("caseSubmit.errors.canineLeftRequired")),b.molarRightClass||D.push(e("caseSubmit.errors.molarRightRequired")),b.molarLeftClass||D.push(e("caseSubmit.errors.molarLeftRequired")),b.treatmentArch||D.push(e("caseSubmit.errors.treatmentArchRequired")),["shifted_right","shifted_left"].includes(b.upperMidline)&&!b.upperMidlineShift&&D.push(e("caseSubmit.errors.upperShiftRequired"))),b.uploadMethod==="individual"&&(!b.upperJawScan||!b.lowerJawScan)&&D.push(e("caseSubmit.errors.scansRequired")),D})();if(B.length>0)throw new pt(B.join(", "));const te=async(D,z,ae={})=>{if(!D)return null;try{const ne=[".stl",".obj",".ply",".pdf",".png",".jpg",".jpeg",".zip",".rar",".7z"];if(D.size>104857600)throw new pt(e("caseSubmit.errors.fileTooLarge"));const he=D.name.split(".").pop().toLowerCase();if(!ne.includes(`.${he}`))throw new pt(e("caseSubmit.errors.invalidFileType",{types:ne.join(", ")}));const ge=await Uf(D,z,{caseId:ae.caseId||`CASE-${Date.now()}`,patientName:ae.patientName||e("caseSubmit.unknownPatient"),fileType:ae.fileType||z,doctorName:ae.doctorName||"N/A"});if(!ge.success)throw new pt(ge.error||e("caseSubmit.errors.uploadFailed"));return ge.filePath}catch(Q){throw console.error(`Upload error for ${z}:`,Q),Q}},U=`${b.firstName.trim()} ${b.lastName.trim()}`,q=`CASE-${k.id.substring(0,8)}-${Date.now()}`;b.uploadMethod==="individual"?[A,N,P]=await Promise.all([te(b.upperJawScan,"upper-jaw-scans",{caseId:q,patientName:U,doctorName:W,clinicName:L,fileType:e("caseSubmit.upperJawScan")}),te(b.lowerJawScan,"lower-jaw-scans",{caseId:q,patientName:U,doctorName:W,clinicName:L,fileType:e("caseSubmit.lowerJawScan")}),te(b.biteScan,"bite-scans",{caseId:q,patientName:U,doctorName:W,clinicName:L,fileType:e("caseSubmit.biteScan")})]):b.uploadMethod==="compressed"&&(T=await te(b.compressedScans,"compressed-scans",{caseId:q,patientName:U,doctorName:W,clinicName:L,fileType:e("caseSubmit.compressedScans")})),b.additionalFiles&&b.additionalFiles.length>0&&(C=await Promise.all(b.additionalFiles.map((D,z)=>te(D,"additional-files",{caseId:q,patientName:U,doctorName:W,clinicName:L,fileType:e("caseSubmit.additionalFile",{number:z+1})}))));const G={user_id:k.id,first_name:b.firstName.trim(),last_name:b.lastName.trim(),is_urgent:b.isUrgent,urgent_delivery_date:b.isUrgent&&b.urgentDeliveryDate?b.urgentDeliveryDate:null,aligner_material:b.alignerMaterial?.trim()||null,upload_method:b.uploadMethod,upper_jaw_scan_url:A,lower_jaw_scan_url:N,bite_scan_url:P,compressed_scans_url:T,additional_files_urls:C||[],tooth_status:s,chief_complaint:b.chiefComplaint?.trim()||null,user_note:b.userNote?.trim()||null,upper_midline:b.upperMidline?.trim()||null,upper_midline_shift:b.upperMidlineShift?.trim()||null,lower_midline:b.lowerMidline?.trim()||null,lower_midline_shift:b.lowerMidlineShift?.trim()||null,canine_right_class:b.canineRightClass?.trim()||null,canine_left_class:b.canineLeftClass?.trim()||null,molar_right_class:b.molarRightClass?.trim()||null,molar_left_class:b.molarLeftClass?.trim()||null,treatment_arch:b.treatmentArch?.trim()||null,status:"submitted"},{error:J}=await Z.from("cases").insert(G);if(J)throw J;g(e("caseSubmit.success.submitted")),w("/app/cases")}catch(A){console.error("Submit error:",A),m(A.message||e("caseSubmit.errors.unexpected"))}finally{d(!1)}},E=()=>{const R=new Date;return R.setDate(R.getDate()+1),R.toISOString().split("T")[0]};return r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"flex w-full flex-col items-start gap-2",children:[r.jsxs(Ut,{children:[r.jsx(At,{to:"/app/cases",children:r.jsx(Ut.Item,{children:e("navigation.cases")})}),r.jsx(Ut.Divider,{}),r.jsx(Ut.Item,{active:!0,children:e("caseSubmit.newCase")})]}),r.jsx("span",{className:"text-heading-2 font-heading-2 text-default-font",children:e("caseSubmit.title")})]}),r.jsxs("form",{onSubmit:S,className:"flex w-full flex-col items-start gap-6",children:[r.jsx(CN,{formData:b,handleChange:j,getMinDate:E}),r.jsx(gx,{formData:b,handleChange:j,alignerMaterials:t}),r.jsx(xx,{formData:b,handleChange:j,isAdmin:!1}),r.jsxs("div",{className:"flex w-full flex-col items-start gap-6 rounded-md border border-solid border-neutral-border bg-default-background px-6 pt-4 pb-6 shadow-sm",children:[r.jsx("span",{className:"text-heading-3 font-heading-3 text-default-font",children:e("casePage.dentalChart")}),r.jsx("div",{className:"flex w-full justify-center",children:r.jsx(zl,{initialStatus:{},onChange:l})})]}),r.jsx(bx,{formData:b,handleChange:j}),f&&r.jsx(pt,{error:f}),p&&r.jsx(_N,{successMessage:p}),r.jsxs("div",{className:"flex w-full items-center gap-2",children:[r.jsx(ce,{size:"large",type:"submit",disabled:o,children:e(o?"caseSubmit.submitting":"caseSubmit.submitCase")}),r.jsx(ce,{onClick:()=>w(-1),variant:"neutral-tertiary",size:"large",children:e("common.cancel")})]})]})]})},W9=({cases:e})=>{const{t}=ye(),n=vn();return r.jsx("div",{className:"w-full overflow-x-auto",children:r.jsx(I,{header:r.jsxs(I.HeaderRow,{children:[r.jsx(I.HeaderCell,{children:t("billing.table.case")}),r.jsx(I.HeaderCell,{children:t("billing.table.patient")}),r.jsx(I.HeaderCell,{children:t("billing.table.treatmentDetails")}),r.jsx(I.HeaderCell,{children:t("billing.table.date")}),r.jsx(I.HeaderCell,{children:t("billing.table.payment")}),r.jsx(I.HeaderCell,{})]}),children:e.length===0?r.jsx(I.Row,{children:r.jsx(I.Cell,{colSpan:6,children:r.jsx("div",{className:"text-center py-8 text-neutral-500",children:t("billing.table.noCases")})})}):e.map(s=>r.jsx(J9,{case_item:s,navigate:n},s.id))})})},J9=({case_item:e,navigate:t})=>r.jsxs(I.Row,{children:[r.jsx(I.Cell,{children:r.jsx(Z9,{case_item:e})}),r.jsx(I.Cell,{children:r.jsx(X9,{case_item:e})}),r.jsx(I.Cell,{children:r.jsx(Q9,{case_item:e})}),r.jsx(I.Cell,{children:r.jsx(eU,{date:e.case_date})}),r.jsx(I.Cell,{children:r.jsx(tU,{case_item:e})}),r.jsx(I.Cell,{children:r.jsx(nU,{case_item:e,navigate:t})})]}),Z9=({case_item:e})=>r.jsx("span",{className:"whitespace-nowrap text-body-bold font-body-bold text-neutral-700",children:e.case_id||`CASE-${e.id}`}),X9=({case_item:e})=>{const{t}=ye();return r.jsx("span",{className:"whitespace-nowrap text-body font-body text-neutral-700",children:e.patient_name||t("billing.table.unknownPatient")})},Q9=({case_item:e})=>{const{t}=ye(),n=e.urgency==="Urgent",s=e.refinement_info,l=[];e.aligners_count&&l.push(t("billing.table.alignersCount",{count:e.aligners_count})),e.duration&&l.push(e.duration);const o=l.join("  ");return r.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[r.jsxs("div",{className:"flex flex-col gap-0.5",children:[r.jsx("span",{className:"text-body font-body text-neutral-700",children:e.treatment_type||t("billing.table.standardTreatment")}),o&&r.jsx("span",{className:"text-caption font-caption text-neutral-500",children:o})]}),r.jsxs("div",{className:"flex items-center gap-1 flex-wrap",children:[n&&r.jsx("span",{className:"inline-flex items-center px-1.5 py-0.5 rounded text-[10px] font-medium bg-error-100 text-error-700",children:t("billing.table.urgent")}),s&&r.jsx("span",{className:"inline-flex items-center px-1.5 py-0.5 rounded text-[10px] font-medium bg-warning-100 text-warning-700",children:e.refinement_info})]})]})},eU=({date:e})=>{const{t}=ye();return r.jsx("span",{className:"whitespace-nowrap text-body font-body text-neutral-500",children:e?new Date(e).toLocaleDateString():t("billing.table.notSet")})},tU=({case_item:e})=>{const{t}=ye(),{amount:n,remainingAmount:s,paymentStatus:l,paymentPercentage:o=0}=e,d={unpaid:{variant:"error",text:t("billing.table.paymentStatus.unpaid")},partially_paid:{variant:"warning",text:`${o.toFixed(0)}%`},paid:{variant:"success",text:t("billing.table.paymentStatus.paid")},not_applicable:{variant:"neutral",text:t("billing.table.paymentStatus.na")},due:{variant:"error",text:t("billing.table.paymentStatus.due")},overdue:{variant:"error",text:t("billing.table.paymentStatus.overdue")},pending:{variant:"warning",text:t("billing.table.paymentStatus.pending")},processing:{variant:"brand",text:t("billing.table.paymentStatus.processing")}},f=l?.toLowerCase()||"unpaid",m=d[f]||{variant:"neutral",text:t("billing.table.paymentStatus.unknown")};return r.jsxs("div",{className:"flex flex-col gap-1",children:[r.jsxs("div",{className:"flex items-baseline gap-2",children:[r.jsxs("span",{className:"text-body-bold font-body-bold text-neutral-700",children:["$",n?.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})||"0.00"]}),r.jsx(Ye,{variant:m.variant,className:"text-xs",children:m.text})]}),s>0&&r.jsxs("span",{className:"text-caption font-caption text-neutral-500",children:["$",s?.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})," ",t("billing.table.remaining")]})]})},nU=({case_item:e,navigate:t})=>{const{t:n}=ye();return r.jsx(ce,{size:"small",variant:"neutral-secondary",onClick:()=>t(`/app/cases/${e.id}`),className:"whitespace-nowrap",children:n("common.viewDetails")})};function aU(){const{t:e}=ye(),[t,n]=h.useState(""),{cases:s,loading:l,error:o,totalCases:d,totalDue:f,totalPaid:m,pendingCases:p,completedCases:g}=bN(),y=s.filter(w=>w.paymentStatus?.toLowerCase()!=="not_applicable").filter(w=>w.patient_name.toLowerCase().includes(t.toLowerCase())||w.case_id?.toLowerCase().includes(t.toLowerCase())||w.treatment_type?.toLowerCase().includes(t.toLowerCase()));return r.jsxs(r.Fragment,{children:[o&&r.jsx(pt,{error:o}),r.jsx(Bl,{submit:!1,children:e("billing.myBilling")}),r.jsxs("div",{className:"flex w-full items-center justify-between gap-4",children:[r.jsx("p",{className:"text-body font-body text-subtext-color",children:e("billing.userSubtitle")}),r.jsx(At,{to:"/app/billing/log",children:r.jsx(ce,{variant:"neutral-secondary",icon:r.jsx(xS,{}),className:"w-auto",children:e("navigation.paymentsHistory")})})]}),l?r.jsx("div",{className:"flex w-full h-full min-h-[200px] justify-center items-center",children:r.jsx(Jt,{size:"medium"})}):r.jsxs(r.Fragment,{children:[r.jsx(vN,{totalCases:d,totalDue:f,totalPaid:m,pendingCases:p,completedCases:g}),r.jsxs("div",{className:"flex w-full items-center gap-2",children:[r.jsx("span",{className:"grow shrink-0 basis-0 text-heading-3 font-heading-3 text-default-font",children:e("billing.myCasesAndBilling")}),r.jsx("div",{className:"flex-shrink-0 max-w-[300px] min-w-[200px]",children:r.jsx(Ce,{variant:"filled",label:"",helpText:"",icon:r.jsx(Tr,{}),children:r.jsx(Ce.Input,{placeholder:e("cases.searchPatientOrDoctor"),value:t,onChange:w=>n(w.target.value)})})})]}),r.jsx(W9,{cases:y})]})]})}const rU=({isOpen:e,onClose:t,onConfirm:n,isLoading:s=!1})=>{const{t:l,i18n:o}=ye(),d=o.language==="ar",[f,m]=h.useState(""),[p,g]=h.useState(""),b=()=>{if(!f.trim()){g(l("casePage.dialogs.decline.reasonRequired"));return}n(f.trim())},y=()=>{s||(m(""),g(""),t())};return e?r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50",onClick:y}),r.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:r.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-md w-full max-h-[90vh] overflow-y-auto",children:[r.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-neutral-200",children:[r.jsxs("div",{className:"flex items-center gap-3 ",children:[r.jsx("div",{className:"w-8 h-8 bg-red-100 rounded-full flex items-center justify-center",children:r.jsx(jr,{className:"w-4 h-4 text-red-600"})}),r.jsx("h2",{className:"text-heading-3 font-heading-3 text-default-font",children:l("casePage.dialogs.decline.title")})]}),r.jsx("button",{onClick:y,disabled:s,className:"w-8 h-8 flex items-center justify-center rounded-md hover:bg-neutral-100 disabled:opacity-50 disabled:cursor-not-allowed",children:r.jsx(bn,{className:"w-4 h-4 text-neutral-600"})})]}),r.jsxs("div",{className:`p-6 ${d?"text-right":""}`,children:[r.jsx("p",{className:"text-body font-body text-neutral-700 mb-4",children:l("casePage.dialogs.decline.reasonRequired")}),r.jsxs("div",{className:"flex flex-col gap-2",children:[r.jsxs("label",{htmlFor:"declineReason",className:"text-body-bold font-body-bold text-default-font",children:[l("casePage.dialogs.decline.reasonLabel")," ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx("textarea",{id:"declineReason",value:f,onChange:w=>{m(w.target.value),p&&g("")},placeholder:l("casePage.dialogs.decline.reasonPlaceholder"),rows:4,disabled:s,className:`w-full px-3 py-2 text-body font-body text-default-font bg-default-background border border-neutral-border rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 resize-vertical min-h-[100px] placeholder:text-subtext-color disabled:opacity-50 disabled:cursor-not-allowed ${d?"text-right":""}`,dir:d?"rtl":"ltr"}),p&&r.jsx("span",{className:`text-caption font-caption text-red-600 ${d?"self-end":"self-start"}`,children:p}),r.jsx("span",{className:"text-caption font-caption text-subtext-color",children:l("casePage.dialogs.decline.adminInfoText")})]})]}),r.jsxs("div",{className:`flex items-center gap-3 p-6 border-t border-neutral-200 ${d?"flex-row-reverse":"justify-end"}`,children:[r.jsx(ce,{variant:"neutral-secondary",onClick:y,disabled:s,children:l("common.cancel")}),r.jsx(ce,{variant:"destructive-primary",onClick:b,disabled:s||!f.trim(),children:l(s?"casePage.dialogs.decline.declining":"casePage.dialogs.decline.confirmButton")})]})]})})]}):null},sU=({currentStatus:e,caseStudyFee:t,setCaseStudyFee:n,saving:s,acceptCase:l,handleDecline:o})=>{const{t:d}=ye();return e!=="submitted"?null:r.jsxs("div",{className:"flex w-full flex-col items-start gap-4 rounded-md border border-solid border-neutral-border bg-default-background px-6 pt-4 pb-6 shadow-sm",children:[r.jsxs("div",{className:"flex w-full items-center gap-2",children:[r.jsx(Pn,{className:"h-5 w-5 text-brand-600"}),r.jsx("span",{className:"text-heading-3 font-heading-3 text-default-font",children:d(e==="submitted"?"casePage.caseAcceptanceCard.title":"casePage.caseAcceptanceCard.caseStudyFee")})]}),e==="submitted"?r.jsxs(r.Fragment,{children:[r.jsx(ya,{variant:"brand",title:d("casePage.alerts.submitted.title"),description:d("casePage.caseAcceptanceCard.description")}),r.jsxs("div",{className:"flex w-full flex-col items-start gap-4",children:[r.jsx("div",{className:"w-full max-w-xs",children:r.jsx(Ce,{label:d("casePage.caseAcceptanceCard.caseStudyFee"),children:r.jsx(Ce.Input,{type:"number",min:0,step:"0.01",value:t,onChange:f=>n(f.target.value),placeholder:"0.00"})})}),r.jsxs("div",{className:"flex w-full items-center justify-between",children:[r.jsx("span",{className:"text-body font-body text-subtext-color",children:d("casePage.alerts.submitted.description")}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(ce,{variant:"destructive-secondary",disabled:s,onClick:o,icon:r.jsx(bn,{}),children:d("casePage.caseAcceptanceCard.declineCase")}),r.jsx(ce,{disabled:s,onClick:l,icon:r.jsx(Pn,{}),children:d("casePage.caseAcceptanceCard.acceptCase")})]})]})]})]}):r.jsxs(r.Fragment,{children:[r.jsx(ya,{variant:"success",title:d("casePage.caseAcceptanceCard.caseAcceptedAlertTitle"),description:d("casePage.caseAcceptanceCard.caseAcceptedAlert")}),r.jsxs("div",{className:"flex w-full flex-col items-start gap-4",children:[r.jsx("div",{className:"w-full max-w-xs",children:r.jsx(Ce,{label:d("casePage.caseAcceptanceCard.caseStudyFee"),disabled:!0,children:r.jsx(Ce.Input,{type:"number",value:t,placeholder:"0.00",disabled:!0})})}),r.jsx("div",{className:"flex w-full items-center justify-between",children:r.jsx("span",{className:"text-body font-body text-subtext-color",children:d("casePage.caseAcceptanceCard.caseStudyFeeSet")})})]})]})]})},iU=({isOpen:e,onClose:t,caseId:n})=>{const{t:s}=ye(),[l,o]=h.useState("sequence"),[d,f]=h.useState(!1),[m,p]=h.useState({}),[g,b]=h.useState({sequence:{},beforeAfter:{}}),[y,w]=h.useState({front:[],left:[],right:[],upper:[],lower:[]}),[j,S]=h.useState({front:null,left:null,right:null,upper:null,lower:null}),E=h.useMemo(()=>[{value:"front",label:s("treatmentPlanImages.views.front")},{value:"left",label:s("treatmentPlanImages.views.left")},{value:"right",label:s("treatmentPlanImages.views.right")},{value:"upper",label:s("treatmentPlanImages.views.upper")},{value:"lower",label:s("treatmentPlanImages.views.lower")}],[s]),R=h.useCallback(async()=>{try{const{data:O,error:V}=await Z.from("treatment_plan_images").select("*").eq("case_id",n).order("sequence_order",{ascending:!0});if(V)throw V;const W={sequence:{},beforeAfter:{}};O?.forEach(L=>{L.image_category==="sequence"?(W.sequence[L.view_type]||(W.sequence[L.view_type]=[]),W.sequence[L.view_type].push(L)):L.image_category==="beforeAfter"&&(W.beforeAfter[L.view_type]=L)}),b(W)}catch(O){console.error("Error loading images:",O)}},[n]);h.useEffect(()=>{e&&n&&R()},[e,n,R]);const A=(O,V)=>{w(W=>({...W,[O]:[...W[O],...Array.from(V)]}))},N=(O,V)=>{S(W=>({...W,[O]:V}))},P=(O,V)=>{w(W=>({...W,[O]:W[O].filter((L,F)=>F!==V)}))},T=O=>{S(V=>({...V,[O]:null}))},C=async O=>{try{const{data:V}=await Z.from("treatment_plan_images").select("storage_path").eq("id",O).single();V?.storage_path&&await Z.storage.from("treatment-plans").remove([V.storage_path]);const{error:W}=await Z.from("treatment_plan_images").delete().eq("id",O);if(W)throw W;ve.success(s("treatmentPlanImages.toast.deleted")),R()}catch(V){ve.error(s("treatmentPlanImages.toast.deleteFailed")),console.error(V)}},k=async()=>{f(!0),p({});try{const{data:{user:O}}=await Z.auth.getUser();for(const V of Object.keys(y)){const W=y[V];if(W.length===0)continue;const L=g.sequence[V]?.length||0;for(let F=0;F<W.length;F++){const B=W[F],te=L+F+1,U=B.name.split(".").pop(),q=`step_${String(te).padStart(3,"0")}.${U}`,G=`${n}/sequence/${V}/${q}`;p(z=>({...z,[`sequence-${V}-${F}`]:"uploading"}));const{error:J}=await Z.storage.from("treatment-plans").upload(G,B,{upsert:!0});if(J)throw J;const{error:D}=await Z.from("treatment_plan_images").insert({case_id:n,image_category:"sequence",view_type:V,sequence_order:te,storage_path:G,file_name:q,file_size:B.size,mime_type:B.type,uploaded_by:O?.id});if(D)throw D}}for(const V of Object.keys(j)){const W=j[V];if(!W)continue;const F=`before-after.${W.name.split(".").pop()}`,B=`${n}/before-after/${V}/${F}`,{error:te}=await Z.storage.from("treatment-plans").upload(B,W,{upsert:!0});if(te)throw te;const{data:U}=await Z.from("treatment_plan_images").select("id").eq("case_id",n).eq("image_category","beforeAfter").eq("view_type",V).single(),q={case_id:n,image_category:"beforeAfter",view_type:V,image_stage:"combined",storage_path:B,file_name:F,file_size:W.size,mime_type:W.type,uploaded_by:O?.id,uploaded_at:new Date().toISOString()};U?await Z.from("treatment_plan_images").update(q).eq("id",U.id):await Z.from("treatment_plan_images").insert(q)}ve.success(s("treatmentPlanImages.toast.uploaded")),w({front:[],left:[],right:[],upper:[],lower:[]}),S({front:null,left:null,right:null,upper:null,lower:null}),R()}catch(O){console.error("Upload error:",O),ve.error(s("treatmentPlanImages.toast.uploadFailed"))}finally{f(!1),p({})}},$=()=>{const O=Object.values(y).some(W=>W.length>0),V=Object.values(j).some(W=>W!==null);return O||V};return r.jsx(ys,{isOpen:e,onClose:t,title:s("treatmentPlanImages.title"),description:s("treatmentPlanImages.subtitle"),icon:r.jsx(nc,{}),maxWidth:"max-w-[800px]",loading:d,children:r.jsxs("div",{className:"w-full flex flex-col gap-6",children:[r.jsxs("div",{className:"flex gap-2 border-b border-neutral-border",children:[r.jsx("button",{onClick:()=>o("sequence"),className:`px-4 py-2 text-body font-body transition-colors border-b-2 ${l==="sequence"?"border-brand-600 text-brand-600":"border-transparent text-subtext-color hover:text-default-font"}`,children:s("treatmentPlanImages.tabs.sequence")}),r.jsx("button",{onClick:()=>o("beforeAfter"),className:`px-4 py-2 text-body font-body transition-colors border-b-2 ${l==="beforeAfter"?"border-brand-600 text-brand-600":"border-transparent text-subtext-color hover:text-default-font"}`,children:s("treatmentPlanImages.tabs.beforeAfter")})]}),l==="sequence"&&r.jsxs("div",{className:"space-y-6",children:[r.jsx(ya,{variant:"neutral",icon:r.jsx(nc,{}),title:s("treatmentPlanImages.alerts.sequence.title"),description:s("treatmentPlanImages.alerts.sequence.description")}),E.map(O=>{const V=g.sequence[O.value]||[],W=y[O.value]||[];return r.jsxs("div",{className:"border border-neutral-border rounded-lg bg-white overflow-hidden",children:[r.jsxs("div",{className:"bg-neutral-50 p-3 border-b border-neutral-border flex justify-between items-center",children:[r.jsx("h3",{className:"text-body-bold font-body-bold text-default-font",children:O.label}),r.jsxs("div",{className:"text-xs text-subtext-color bg-white px-2 py-1 rounded border border-neutral-border",children:[V.length+W.length," ",s("treatmentPlanImages.labels.step")]})]}),r.jsxs("div",{className:"p-4 flex flex-col gap-4",children:[V.length>0&&r.jsxs("div",{className:"flex flex-col gap-2",children:[r.jsx("span",{className:"text-caption font-caption text-subtext-color uppercase tracking-wider",children:s("treatmentPlanImages.labels.existing")}),r.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-3",children:V.map(L=>r.jsxs("div",{className:"relative group border border-neutral-border rounded-md p-3 bg-neutral-50 flex flex-col gap-2 items-center justify-center text-center",children:[r.jsx("div",{className:"w-8 h-8 rounded-full bg-brand-100 text-brand-600 flex items-center justify-center text-caption font-bold",children:L.sequence_order}),r.jsx("span",{className:"text-caption text-subtext-color truncate w-full",children:L.file_name}),r.jsx("button",{onClick:()=>C(L.id),className:"absolute -top-2 -right-2 bg-white border border-error-200 text-error-600 p-1.5 rounded-full shadow-sm hover:bg-error-50 transition-colors opacity-0 group-hover:opacity-100",title:"Delete",children:r.jsx(cw,{className:"w-3 h-3"})})]},L.id))})]}),W.length>0&&r.jsxs("div",{className:"flex flex-col gap-2",children:[r.jsx("span",{className:"text-caption font-caption text-brand-600 uppercase tracking-wider",children:s("treatmentPlanImages.labels.newUploads")}),r.jsx("div",{className:"grid grid-cols-1 gap-2",children:W.map((L,F)=>r.jsxs("div",{className:"flex items-center justify-between bg-brand-50 border border-brand-100 p-2 rounded-md",children:[r.jsxs("div",{className:"flex items-center gap-2 overflow-hidden",children:[r.jsx(ow,{className:"w-4 h-4 text-brand-600 flex-shrink-0"}),r.jsx("span",{className:"text-sm text-default-font truncate",children:L.name}),r.jsxs("span",{className:"text-xs text-brand-600 whitespace-nowrap",children:["(",s("treatmentPlanImages.labels.step")," ",V.length+F+1,")"]})]}),r.jsx(ce,{variant:"neutral-tertiary",size:"small",icon:r.jsx(bn,{}),onClick:()=>P(O.value,F)})]},F))})]}),r.jsxs("div",{className:"mt-2",children:[r.jsx("input",{type:"file",id:`sequence-${O.value}`,multiple:!0,accept:"image/*",className:"hidden",onChange:L=>A(O.value,L.target.files),disabled:d}),r.jsx(ce,{variant:"neutral-secondary",size:"small",icon:r.jsx(oi,{}),disabled:d,className:"w-full justify-center border-dashed",onClick:()=>document.getElementById(`sequence-${O.value}`).click(),children:s("treatmentPlanImages.buttons.addImages")})]})]})]},O.value)})]}),l==="beforeAfter"&&r.jsxs("div",{className:"space-y-6",children:[r.jsx(ya,{variant:"neutral",icon:r.jsx(nc,{}),title:s("treatmentPlanImages.alerts.beforeAfter.title"),description:s("treatmentPlanImages.alerts.beforeAfter.description")}),E.map(O=>r.jsxs("div",{className:"border border-neutral-border rounded-lg bg-white overflow-hidden",children:[r.jsxs("div",{className:"bg-neutral-50 p-3 border-b border-neutral-border flex justify-between items-center",children:[r.jsx("h3",{className:"text-body-bold font-body-bold text-default-font",children:O.label}),g.beforeAfter[O.value]&&r.jsxs("span",{className:"text-xs text-success-700 bg-success-50 px-2 py-1 rounded border border-success-200 flex items-center gap-1",children:[r.jsx(Pn,{className:"w-3 h-3"}),s("treatmentPlanImages.labels.imageExists")]})]}),r.jsxs("div",{className:"p-4",children:[g.beforeAfter[O.value]&&r.jsxs("div",{className:"mb-4 flex items-center justify-between p-3 bg-neutral-50 rounded-md border border-neutral-border",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-8 h-8 bg-neutral-200 rounded flex items-center justify-center",children:r.jsx(nc,{className:"w-4 h-4 text-subtext-color"})}),r.jsxs("div",{className:"flex flex-col",children:[r.jsx("span",{className:"text-sm font-medium text-default-font",children:s("treatmentPlanImages.labels.currentImage")}),r.jsx("span",{className:"text-xs text-subtext-color",children:g.beforeAfter[O.value].file_name})]})]}),r.jsx(ce,{variant:"destructive-tertiary",size:"small",icon:r.jsx(cw,{}),onClick:()=>C(g.beforeAfter[O.value].id)})]}),j[O.value]&&r.jsxs("div",{className:"mb-4 flex items-center justify-between bg-brand-50 border border-brand-100 p-3 rounded-md",children:[r.jsxs("div",{className:"flex items-center gap-2 overflow-hidden",children:[r.jsx(ow,{className:"w-4 h-4 text-brand-600 flex-shrink-0"}),r.jsx("span",{className:"text-sm text-default-font truncate",children:j[O.value].name}),r.jsx("span",{className:"text-xs text-brand-600 bg-white px-1 rounded",children:"New"})]}),r.jsx(ce,{variant:"neutral-tertiary",size:"small",icon:r.jsx(bn,{}),onClick:()=>T(O.value)})]}),r.jsx("input",{type:"file",id:`beforeAfter-${O.value}`,accept:"image/*",className:"hidden",onChange:V=>N(O.value,V.target.files[0]),disabled:d}),r.jsx(ce,{variant:"neutral-secondary",size:"small",icon:r.jsx(Mk,{}),disabled:d,className:"w-full justify-center",onClick:()=>document.getElementById(`beforeAfter-${O.value}`).click(),children:g.beforeAfter[O.value]?s("treatmentPlanImages.buttons.replace"):s("treatmentPlanImages.buttons.select")})]})]},O.value))]}),r.jsxs("div",{className:"flex w-full items-center justify-end gap-3 pt-4 border-t border-neutral-border mt-auto",children:[r.jsx(ce,{variant:"neutral-secondary",onClick:t,disabled:d,children:s("common.cancel")}),r.jsx(ce,{variant:"brand-primary",icon:d?null:r.jsx(Pn,{}),onClick:k,disabled:!$()||d,loading:d,children:s(d?"treatmentPlanImages.buttons.uploading":"treatmentPlanImages.buttons.upload")})]})]})})},lU=({isOpen:e,onClose:t,onSave:n,initialData:s={},caseId:l})=>{const{t:o,i18n:d}=ye(),f=d.language==="ar",[m,p]=h.useState(()=>{const R={};for(let A=1;A<=32;A++)R[A]={mesial:s[A]?.mesial||"",distal:s[A]?.distal||""};return R}),[g,b]=h.useState(!1);h.useEffect(()=>{Object.keys(s).length>0&&p(R=>{const A={...R};return Object.keys(s).forEach(N=>{A[N]={mesial:s[N]?.mesial||"",distal:s[N]?.distal||""}}),A})},[s]);const y=(R,A,N)=>{(N===""||/^\d*\.?\d{0,2}$/.test(N))&&p(P=>({...P,[R]:{...P[R],[A]:N}}))},w=async()=>{b(!0);try{const R={};Object.entries(m).forEach(([A,N])=>{const P=N.mesial,T=N.distal,C=P!==""&&P!=="0"&&P!=="0.0"&&P!=="0.00",k=T!==""&&T!=="0"&&T!=="0.0"&&T!=="0.00";(C||k)&&(R[A]={mesial:C?parseFloat(P):0,distal:k?parseFloat(T):0})}),await n(R),t()}catch(R){console.error("Error saving IPR data:",R),alert(o("adminTreatmentPlan.toast.iprFailed")||"Failed to save IPR data. Please try again.")}finally{b(!1)}};if(!e)return null;const j=(R,A)=>r.jsxs("div",{className:"flex flex-col items-center gap-1",style:{width:"48px"},children:[r.jsxs("div",{className:"text-xs font-bold text-gray-700 mb-1",children:["#",R]}),r.jsxs("div",{className:"flex flex-col items-center w-full",children:[r.jsx("div",{className:"text-[10px] text-gray-500 font-medium mb-0.5",children:"M"}),r.jsx("input",{type:"text",inputMode:"decimal",value:m[R]?.mesial||"",onChange:N=>y(R,"mesial",N.target.value),placeholder:"0.0",className:"w-full px-1 py-1 text-xs text-center border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),r.jsxs("div",{className:"flex flex-col items-center w-full",children:[r.jsx("div",{className:"text-[10px] text-gray-500 font-medium mb-0.5",children:"D"}),r.jsx("input",{type:"text",inputMode:"decimal",value:m[R]?.distal||"",onChange:N=>y(R,"distal",N.target.value),placeholder:"0.0",className:"w-full px-1 py-1 text-xs text-center border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),r.jsx("div",{className:"text-[10px] text-gray-400 mt-0.5",children:o("casePage.mm")})]},R),S=()=>[...Array(16)].map((A,N)=>{const P=N+1;return j(P)}),E=()=>[...Array(16)].map((A,N)=>{const P=32-N;return j(P)});return r.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50 p-4",children:r.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-6xl w-full max-h-[90vh] overflow-hidden flex flex-col",children:[r.jsxs("div",{className:"flex items-center justify-between p-6 border-b ",children:[r.jsxs("div",{className:f?"text-right":"",children:[r.jsx("h2",{className:"text-2xl font-semibold text-gray-900",children:o("adminTreatmentPlan.iprChart")}),r.jsx("p",{className:"text-sm text-gray-600 mt-1",children:o("iprChart.instructions.enterValues")})]}),r.jsx("button",{onClick:t,className:"w-8 h-8 flex items-center justify-center rounded-md hover:bg-neutral-100 disabled:opacity-50 disabled:cursor-not-allowed",disabled:g,children:r.jsx(bn,{className:"w-4 h-4 text-neutral-600"})})]}),r.jsxs("div",{className:"flex-1 overflow-y-auto p-6",children:[r.jsxs("div",{className:"flex flex-col items-center gap-12",children:[r.jsxs("div",{className:"w-full",children:[r.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4 text-center",children:o("iprChart.upperJaw")}),r.jsx("div",{className:"flex justify-center",style:{gap:"4px",direction:"ltr"},children:S()})]}),r.jsx("div",{className:"w-full border-t border-gray-300"}),r.jsxs("div",{className:"w-full",children:[r.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4 text-center",children:o("iprChart.lowerJaw")}),r.jsx("div",{className:"flex justify-center",style:{gap:"4px",direction:"ltr"},children:E()})]})]}),r.jsxs("div",{className:`mt-8 p-4 bg-brand-50 rounded-lg ${f?"text-right":""}`,children:[r.jsx("h4",{className:"text-body-bold font-body-bold text-default-font mb-2",children:o("iprChart.instructions.title")}),r.jsxs("ul",{className:`text-body font-body text-default-font space-y-1 list-disc ${f?"list-inside mr-4":"list-inside"}`,children:[r.jsx("li",{children:o("iprChart.instructions.enterMillimeters")}),r.jsx("li",{children:o("iprChart.instructions.leaveEmpty")}),r.jsx("li",{children:o("iprChart.instructions.combineValues")}),r.jsx("li",{children:o("iprChart.instructions.clickSave")})]})]})]}),r.jsxs("div",{className:`flex items-center gap-3 p-6 border-t bg-gray-50 ${f?"flex-row-reverse":"justify-end"}`,children:[r.jsx(ce,{variant:"neutral-secondary",onClick:t,disabled:g,className:"w-auto",children:o("common.cancel")}),r.jsx(ce,{variant:"brand-primary",icon:r.jsx(Af,{}),onClick:w,disabled:g,className:"w-auto",children:o(g?"common.saving":"iprChart.saveButton")})]})]})})},is=({label:e,value:t})=>{const{i18n:n}=ye(),s=n.dir()==="rtl";return r.jsxs("div",{dir:s?"rtl":"ltr",className:"text-start",children:[r.jsx("p",{className:"text-xs font-medium text-gray-500 mb-1",children:e}),r.jsx("p",{className:"text-sm text-gray-900",children:t})]})},oU=De.forwardRef(({caseData:e,upperJawAligners:t,lowerJawAligners:n,estimatedDurationMonths:s,iprData:l},o)=>{const{t:d}=ye(),f=l&&Object.keys(l).length>0;return r.jsxs("div",{ref:o,className:"p-8",children:[r.jsxs("div",{className:"flex items-center justify-between border-b-2 border-brand-600 pb-4 mb-6",children:[r.jsxs("div",{children:[r.jsx("img",{className:"h-10 flex-none object-cover",src:`${window.location.origin}/logo.png`}),r.jsx("p",{className:"text-sm text-gray-600",children:d("adminTreatmentPlan.print.treatmentPlanDetails")})]}),r.jsxs("div",{className:"text-right",children:[r.jsxs("p",{className:"text-sm text-gray-600",children:[d("cases.caseId"),": ",r.jsxs("strong",{children:["CASE-",e.id]})]}),r.jsx("p",{className:"text-sm text-gray-600",children:new Date().toLocaleDateString()})]})]}),r.jsxs("div",{className:"mb-6",children:[r.jsx("h2",{className:"text-xl font-semibold mb-4 text-gray-800",children:d("casePage.patientInformation")}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-3",children:[r.jsx(is,{label:d("casePage.firstName"),value:zt(e.first_name)||"N/A"}),r.jsx(is,{label:d("casePage.lastName"),value:zt(e.last_name)||"N/A"})]}),r.jsxs("div",{className:"space-y-3",children:[r.jsx(is,{label:d("casePage.doctorName"),value:zt(e.profiles?.full_name)||"N/A"}),r.jsx(is,{label:d("casePage.clinic"),value:e.profiles?.clinic||"N/A"})]})]})]}),r.jsxs("div",{className:"mb-6",children:[r.jsx("h2",{className:"text-xl font-semibold mb-4 text-gray-800",children:d("casePage.treatmentPlanReview")}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-3",children:[r.jsx(is,{label:d("casePage.alignerMaterial"),value:e.aligner_material||d("casePage.notSpecified")}),r.jsx(is,{label:d("casePage.treatmentPlan.upperJawAligners"),value:`${t||""} ${d("casePage.treatmentPlan.aligners")}`})]}),r.jsxs("div",{className:"space-y-3",children:[r.jsx(is,{label:d("casePage.treatmentPlan.lowerJawAligners"),value:`${n||""} ${d("casePage.treatmentPlan.aligners")}`}),r.jsx(is,{label:d("casePage.treatmentPlan.estimatedDuration"),value:`${s||""} ${d("casePage.treatmentPlan.months")}`})]})]})]}),f&&r.jsxs("div",{className:"mb-6 page-break-inside-avoid",children:[r.jsx("h2",{className:"text-xl font-semibold mb-4 text-gray-800",children:d("adminTreatmentPlan.iprChart")}),r.jsx("div",{className:"border border-gray-300 rounded-lg p-4 bg-white overflow-hidden flex justify-center",children:r.jsx(B9,{toothStatus:e.tooth_status||{},iprData:l})})]}),r.jsx("div",{className:"mt-8 pt-4 border-t border-gray-300 text-center text-xs text-gray-500",children:r.jsx("p",{children:d("adminTreatmentPlan.print.footer",{date:new Date().toLocaleString()})})})]})}),cU=({caseData:e,currentStatus:t,isEditingPlan:n,upperJawAligners:s,setUpperJawAligners:l,lowerJawAligners:o,setLowerJawAligners:d,estimatedDurationMonths:f,setEstimatedDurationMonths:m,caseStudyFee:p,alignersPrice:g,setAlignersPrice:b,deliveryCharges:y,setDeliveryCharges:w,alignerUnitPrice:j,isDisabled:S,handleStartEdit:E,handleCancelEdit:R,handleSendForApproval:A,handleDecline:N,caseHasViewer:P,handleViewerClick:T,viewerLink:C,iprData:k={},onIPRSave:$})=>{const{t:O}=ye(),[V,W]=h.useState(!1),[L,F]=h.useState(!1),[B,te]=h.useState(!1),[U,q]=h.useState(!1),[G,J]=h.useState(!1),D=h.useRef(),z=Lf.useReactToPrint({contentRef:D,documentTitle:`Case-${e.id}-Treatment-Plan`}),ae=async()=>{try{await navigator.clipboard.writeText(C),J(!0),setTimeout(()=>J(!1),2e3)}catch(we){console.error("Failed to copy:",we)}},Q=async we=>{$&&await $(we)};if(!["accepted","user_rejected","awaiting_user_approval","approved","in_production","ready_for_delivery","delivered","completed"].includes(t))return null;const ne=parseFloat(p||0)+parseFloat(g||0)+parseFloat(y||0),he=Object.keys(k).length>0,ge=n?["approved","in_production","ready_for_delivery","delivered","completed","user_rejected"].includes(t):!0;return r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"flex w-full flex-col items-start gap-4 rounded-md border border-solid border-neutral-border bg-default-background px-6 pt-4 pb-6 shadow-sm",children:[r.jsxs("div",{className:"flex w-full items-center justify-between",children:[r.jsx("span",{className:"text-heading-3 font-heading-3 text-default-font",children:O("casePage.treatmentPlanReview")}),ge&&r.jsx(ce,{size:"small",variant:"neutral-secondary",icon:r.jsx(Nr,{}),onClick:()=>te(!0),children:O("adminTreatmentPlan.printButton")})]}),r.jsxs("div",{className:"flex w-full flex-col items-start gap-6",children:[r.jsxs("div",{className:"flex w-full flex-wrap items-start gap-6",children:[r.jsx("div",{className:"flex grow shrink-0 basis-0 flex-col items-start gap-4",children:n&&!["approved","in_production","ready_for_delivery","delivered","completed","user_rejected"].includes(t)?r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"flex items-center gap-2 text-caption-bold font-caption-bold text-default-font",children:[O("casePage.alignerMaterial"),":",r.jsxs(Ye,{children:[e.aligner_material," (",j,"$)"]})]}),r.jsx(Ce,{label:O("casePage.treatmentPlan.upperJawAligners"),children:r.jsx(Ce.Input,{type:"number",min:1,value:s,onChange:we=>l(we.target.value)})}),r.jsx(Ce,{label:O("casePage.treatmentPlan.lowerJawAligners"),children:r.jsx(Ce.Input,{type:"number",min:1,value:o,onChange:we=>d(we.target.value)})}),r.jsx(Ce,{label:O("adminTreatmentPlan.estimatedDurationLabel"),children:r.jsx(Ce.Input,{type:"number",min:1,value:f,onChange:we=>m(we.target.value)})}),r.jsxs("div",{className:"flex w-auto flex-col gap-2 text-caption-bold font-caption-bold text-default-font",children:[O("adminTreatmentPlan.actionButtons"),":",r.jsx(ce,{variant:"neutral-secondary",icon:r.jsx(nc,{}),onClick:()=>W(!0),size:"small",className:"flex-2",children:O("adminTreatmentPlan.addViewer")}),r.jsx(ce,{variant:he?"brand-secondary":"neutral-secondary",icon:r.jsx(Jp,{}),onClick:()=>F(!0),size:"small",className:"flex-2",children:O(he?"adminTreatmentPlan.editIPRChart":"adminTreatmentPlan.addIPRChart")})]})]}):r.jsxs(r.Fragment,{children:[r.jsx(Gt,{icon:r.jsx(wl,{}),label:O("casePage.treatmentPlan.upperJawAligners"),children:r.jsxs(Ye,{children:[s||""," ",O("casePage.treatmentPlan.aligners")]})}),r.jsx(Gt,{icon:r.jsx(wl,{}),label:O("casePage.treatmentPlan.lowerJawAligners"),children:r.jsxs(Ye,{children:[o||""," ",O("casePage.treatmentPlan.aligners")]})}),r.jsx(Gt,{icon:r.jsx(Ef,{}),label:O("casePage.treatmentPlan.estimatedDuration"),children:r.jsxs("span",{className:"whitespace-nowrap text-body font-body text-default-font",children:[f||""," ",O("casePage.treatmentPlan.months")]})}),he&&r.jsx(Gt,{icon:r.jsx(Jp,{}),label:O("adminTreatmentPlan.iprChart"),children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Ye,{variant:"brand",children:O("adminTreatmentPlan.available")}),r.jsx(ce,{size:"small",variant:"neutral-secondary",onClick:()=>q(!0),children:O("adminTreatmentPlan.viewChart")})]})})]})}),r.jsx("div",{className:"flex grow shrink-0 basis-0 flex-col items-start gap-4",children:n&&!["approved","in_production","ready_for_delivery","delivered","completed","user_rejected"].includes(t)?r.jsxs(r.Fragment,{children:[r.jsx(Ce,{label:O("casePage.treatmentPlan.caseStudyFee"),disabled:!0,children:r.jsx(Ce.Input,{type:"number",min:0,step:"0.01",value:p,placeholder:"0.00",disabled:!0})}),r.jsx(Ce,{label:O("casePage.treatmentPlan.alignersPrice"),children:r.jsx(Ce.Input,{type:"number",min:0,step:"0.01",value:g,onChange:we=>b(we.target.value),placeholder:"0.00"})}),r.jsx(Ce,{label:O("casePage.treatmentPlan.deliveryCharges"),children:r.jsx(Ce.Input,{type:"number",min:0,step:"0.01",value:y,onChange:we=>w(we.target.value),placeholder:"0.00"})}),r.jsx(Gt,{icon:r.jsx(Nl,{}),label:O("casePage.treatmentPlan.totalCost"),children:r.jsxs("span",{className:"whitespace-nowrap text-heading-3 font-heading-3 text-brand-600",children:["$",ne.toFixed(2)]})})]}):r.jsxs(r.Fragment,{children:[r.jsx(Gt,{icon:r.jsx(sx,{}),label:O("casePage.treatmentPlan.caseStudyFee"),children:r.jsxs("span",{className:"whitespace-nowrap text-body-bold font-body-bold text-default-font",children:["$",parseFloat(p||0).toFixed(2)]})}),r.jsx(Gt,{icon:r.jsx(wl,{}),label:O("casePage.treatmentPlan.alignersPrice"),children:r.jsxs("span",{className:"whitespace-nowrap text-body-bold font-body-bold text-default-font",children:["$",parseFloat(g||0).toFixed(2)]})}),r.jsx(Gt,{icon:r.jsx(kk,{}),label:O("casePage.treatmentPlan.deliveryCharges"),children:r.jsxs("span",{className:"whitespace-nowrap text-body-bold font-body-bold text-default-font",children:["$",parseFloat(y||0).toFixed(2)]})}),r.jsx(Gt,{icon:r.jsx(Nl,{}),label:O("casePage.treatmentPlan.totalCost"),children:r.jsxs("span",{className:"whitespace-nowrap text-heading-3 font-heading-3 text-brand-600",children:["$",ne.toFixed(2)]})})]})}),P&&r.jsxs("div",{className:"flex w-full items-center gap-2",children:[r.jsx(ce,{onClick:T,icon:r.jsx(_l,{}),className:"flex-shrink-0 w-auto",children:O("adminTreatmentPlan.openViewer")}),r.jsx(Ce,{className:"flex flex-grow",children:r.jsx(Ce.Input,{type:"text",value:C||"",readOnly:!0})}),r.jsx(Wt,{icon:r.jsx(hk,{}),onClick:ae,"aria-label":O(G?"adminTreatmentPlan.copied":"adminTreatmentPlan.copyLink"),variant:G?"brand-primary":"neutral-secondary",className:"flex-shrink-0"})]})]}),r.jsx("div",{className:"flex h-px w-full flex-none flex-col items-center gap-2 bg-neutral-border"}),r.jsxs("div",{className:"flex w-full items-center justify-between",children:[r.jsx("span",{className:"text-body font-body text-subtext-color",children:n&&!["approved","in_production","ready_for_delivery","delivered","completed","user_rejected"].includes(t)?O("adminTreatmentPlan.statusMessages.editing"):t==="awaiting_user_approval"?O("adminTreatmentPlan.statusMessages.awaitingApproval"):t==="approved"?O("adminTreatmentPlan.statusMessages.approved"):t==="rejected"?O("adminTreatmentPlan.statusMessages.rejected"):t==="in_production"?O("adminTreatmentPlan.statusMessages.inProduction"):t==="ready_for_delivery"?O("adminTreatmentPlan.statusMessages.readyForDelivery"):t==="delivered"?O("adminTreatmentPlan.statusMessages.delivered"):t==="user_rejected"?O("adminTreatmentPlan.statusMessages.userRejected"):""}),r.jsx("div",{className:"flex items-center gap-2",children:n&&!["approved","in_production","ready_for_delivery","delivered","completed","user_rejected"].includes(t)?r.jsxs(r.Fragment,{children:[r.jsx(ce,{variant:"destructive-secondary",disabled:S,onClick:N,children:O("adminTreatmentPlan.declineCase")}),r.jsx(ce,{icon:r.jsx(Pn,{}),disabled:S,onClick:A,children:O("adminTreatmentPlan.sendForApproval")})]}):t!=="rejected"&&["accepted","submitted","awaiting_user_approval"].includes(t)?r.jsx(Wt,{icon:r.jsx(mk,{}),onClick:E,"aria-label":O("adminTreatmentPlan.editPlan")}):null})]})]})]}),r.jsx(iU,{isOpen:V,onClose:()=>W(!1),caseId:e.id}),r.jsx(lU,{isOpen:L,onClose:()=>F(!1),onSave:Q,initialData:k,caseId:e.id}),r.jsx(TN,{isOpen:U,onClose:()=>q(!1),toothStatus:e.tooth_status||{},iprData:k}),r.jsx(Rl,{open:B,onOpenChange:te,children:r.jsxs(Rl.Content,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[r.jsxs("div",{className:"flex items-center justify-between px-1 py-3 w-full",children:[r.jsx("span",{className:"text-heading-2 font-heading-2 text-default-font",children:O("adminTreatmentPlan.printDialogTitle")}),r.jsx(ce,{variant:"brand-primary",icon:r.jsx(Nr,{}),onClick:()=>{z(),te(!1)},className:"w-auto",children:O("adminTreatmentPlan.printButton")})]}),r.jsx("div",{className:"border border-neutral-border rounded-lg bg-white",children:r.jsx(oU,{ref:D,caseData:e,upperJawAligners:s,lowerJawAligners:o,estimatedDurationMonths:f,iprData:k})})]})})]})},dU=({currentStatus:e,isDisabled:t,handleStatusTransition:n})=>{const{t:s}=ye();if(!["approved","in_production","ready_for_delivery","delivered","completed"].includes(e))return null;const l=()=>{switch(e){case"approved":return r.jsx(ce,{disabled:t,onClick:()=>n("in_production"),children:s("manufacturingProgress.buttons.startProduction")});case"in_production":return r.jsx(ce,{disabled:t,onClick:()=>n("ready_for_delivery"),children:s("manufacturingProgress.buttons.markReady")});case"ready_for_delivery":return r.jsx(ce,{disabled:t,onClick:()=>n("delivered"),children:s("manufacturingProgress.buttons.markDelivered")});default:return null}},o=()=>{switch(e){case"approved":return s("manufacturingProgress.messages.approved");case"in_production":return s("manufacturingProgress.messages.inProduction");case"ready_for_delivery":return s("manufacturingProgress.messages.readyForDelivery");case"delivered":return s("manufacturingProgress.messages.delivered");case"completed":return s("manufacturingProgress.messages.completed");default:return s("manufacturingProgress.messages.default")}};return r.jsxs("div",{className:"flex w-full flex-col items-start gap-4 rounded-md border border-solid border-neutral-border bg-default-background px-6 pt-4 pb-6 shadow-sm",children:[r.jsx("span",{className:"text-heading-3 font-heading-3 text-default-font",children:s("manufacturingProgress.title")}),r.jsxs("div",{className:"flex w-full items-center justify-between",children:[r.jsx("span",{className:"text-body font-body text-subtext-color",children:o()}),r.jsx("div",{className:"flex items-center gap-2",children:l()})]})]})},uU=({caseData:e})=>{const{t}=ye(),[n,s]=h.useState(e?.admin_note||""),[l,o]=h.useState(!1),[d,f]=h.useState(""),[m,p]=h.useState(!1),[g,b]=h.useState(null),y=()=>{f(n),o(!0)},w=()=>{s(d),o(!1),b(null)},j=async()=>{try{p(!0),b(null);const{error:S}=await Z.from("cases").update({admin_note:n}).eq("id",e.id);if(S)throw S;ve.success(t("adminNotes.toast.saved")),o(!1)}catch(S){b(S.message||t("adminNotes.toast.saveFailed")),ve.error(S.message||t("adminNotes.toast.saveFailed"))}finally{p(!1)}};return r.jsxs("div",{className:"flex w-full flex-col items-start gap-4 rounded-md border border-solid border-neutral-border bg-default-background px-6 pt-4 pb-6 shadow-sm",children:[r.jsxs("div",{className:"flex w-full items-center justify-between",children:[r.jsx("span",{className:"text-heading-3 font-heading-3 text-default-font",children:t("adminNotes.title")}),!l&&r.jsx(ce,{variant:"neutral-secondary",size:"small",icon:r.jsx(Rf,{}),onClick:y,children:t(n?"adminNotes.editNote":"adminNotes.addNote")})]}),g&&r.jsx("div",{className:"w-full",children:r.jsx(pt,{error:g})}),r.jsx("div",{className:"w-full",children:l?r.jsxs("div",{className:"flex flex-col gap-4",children:[r.jsxs("div",{className:"flex flex-col gap-2",children:[r.jsx("label",{htmlFor:"adminNoteTextarea",className:"text-body-bold font-body-bold text-default-font",children:t("adminNotes.additionalNotes")}),r.jsx("textarea",{id:"adminNoteTextarea",value:n,onChange:S=>s(S.target.value),placeholder:t("adminNotes.placeholder"),rows:6,className:"w-full px-3 py-2 text-body font-body text-default-font bg-default-background border border-neutral-border rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 resize-vertical min-h-[120px] placeholder:text-subtext-color",disabled:m}),r.jsx("span",{className:"text-caption font-caption text-subtext-color",children:t("adminNotes.helpText")})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(ce,{icon:r.jsx(Af,{}),onClick:j,disabled:m,size:"small",children:t(m?"adminNotes.saving":"adminNotes.saveNote")}),r.jsx(ce,{variant:"neutral-secondary",onClick:w,disabled:m,size:"small",children:t("common.cancel")})]})]}):r.jsx("div",{className:"w-full",children:n?r.jsx("div",{className:"w-full bg-white border border-neutral-200 rounded-md p-4 shadow-sm",children:r.jsx("div",{className:"text-body font-body text-neutral-800 whitespace-pre-wrap break-words leading-relaxed",children:n})}):r.jsx("div",{className:"w-full bg-neutral-50 text-sm text-neutral-500 rounded-md p-3",children:t("adminNotes.noNotes")})})})]})},fU=e=>{const[t,n]=h.useState(e?.status),[s,l]=h.useState(!1),[o,d]=h.useState(null),[f,m]=h.useState(null),[p,g]=h.useState(e?.case_study_fee?.toFixed(2)||"0.00"),[b,y]=h.useState(0),[w,j]=h.useState(e?.aligners_price?.toFixed(2)||"0.00"),[S,E]=h.useState(e?.delivery_charges?.toFixed(2)||"25.00"),[R,A]=h.useState(e?.upper_jaw_aligners??""),[N,P]=h.useState(e?.lower_jaw_aligners??""),[T,C]=h.useState(e?.estimated_duration_months??""),[k,$]=h.useState(["submitted","accepted"].includes(e?.status)),[O,V]=h.useState(null),[W,L]=h.useState(!1),[F,B]=h.useState(!1),[te,U]=h.useState(!1),q=h.useMemo(()=>s,[s]),G=h.useMemo(()=>!["ready_for_delivery","delivered","completed","user_rejected"].includes(t),[t]);h.useEffect(()=>{(async()=>{if(!e?.case_study_fee){const{data:Ne}=await Z.from("services").select("price").eq("type","acceptance_fee").eq("is_active",!0).single();g(Ne?.price?.toFixed(2)||"0.00")}const{data:xe}=await Z.from("services").select("price").eq("type","aligners_material").eq("name",e?.aligner_material).eq("is_active",!0).single();y(parseFloat(xe?.price||0))})()},[e?.aligner_material,e?.case_study_fee]),h.useEffect(()=>{if(!e?.aligners_price){const xe=(parseInt(R||0)+parseInt(N||0))*b;j(xe.toFixed(2))}},[R,N,b,e?.aligners_price]);const J=async ue=>{l(!0),d(null),m(null);try{const{error:xe}=await Z.from("cases").update(ue).eq("id",e.id);if(xe)throw xe;m("Case updated successfully."),typeof ue.status=="string"&&n(ue.status)}catch(xe){d(xe.message||"Failed to update case"),ve.error(xe.message||"Failed to update case")}finally{l(!1)}};return{currentStatus:t,saving:s,actionError:o,actionSuccess:f,caseStudyFee:p,setCaseStudyFee:g,alignerUnitPrice:b,alignersPrice:w,setAlignersPrice:j,deliveryCharges:S,setDeliveryCharges:E,upperJawAligners:R,setUpperJawAligners:A,lowerJawAligners:N,setLowerJawAligners:P,estimatedDurationMonths:T,setEstimatedDurationMonths:C,isEditingPlan:k,editBackup:O,showDeclineDialog:W,isDecliningCase:F,isUndoingDecline:te,isDisabled:q,isPlanEditAllowed:G,acceptCase:async()=>{const ue=parseFloat(p||0);await J({status:"accepted",case_study_fee:ue,total_cost:ue}),ve.success("Case accepted successfully")},handleDecline:()=>{L(!0)},handleConfirmDecline:async ue=>{B(!0);try{const{data:{user:xe}}=await Z.auth.getUser(),{error:Ne}=await Z.from("cases").update({status:"rejected",decline_reason:ue,declined_at:new Date().toISOString(),declined_by:xe?.id,case_study_fee:0,total_cost:0}).eq("id",e.id);if(Ne)throw Ne;n("rejected"),e.decline_reason=ue,e.declined_at=new Date().toISOString(),e.declined_by=xe?.id,L(!1),$(!1),V(null),ve.success("Case declined successfully")}catch(xe){console.error("Error declining case:",xe),ve.error(xe.message||"Failed to decline case")}finally{B(!1)}},handleCloseDeclineDialog:()=>{L(!1)},handleUndoDecline:async()=>{U(!0);try{const{error:ue}=await Z.from("cases").update({status:"submitted",decline_reason:null,declined_at:null,declined_by:null}).eq("id",e.id);if(ue)throw ue;n("submitted"),$(!0),e.decline_reason=null,e.declined_at=null,e.declined_by=null,ve.success("Case decline has been undone")}catch(ue){console.error("Error undoing decline:",ue),ve.error(ue.message||"Failed to undo decline")}finally{U(!1)}},handleSendForApproval:async()=>{const ue=Number(R),xe=Number(N),Ne=Number(T);if(Number.isNaN(ue)||Number.isNaN(xe)||Number.isNaN(Ne)||ue<=0||xe<=0||Ne<=0){d("Please enter valid positive numbers for all fields"),ve.error("Please enter valid positive numbers for all fields");return}const Pe=parseFloat(p||0),Re=parseFloat(w||0),Be=parseFloat(S||0),be=Pe+Re+Be;await J({upper_jaw_aligners:ue,lower_jaw_aligners:xe,estimated_duration_months:Ne,status:"awaiting_user_approval",aligners_price:Re,delivery_charges:Be,total_cost:be}),$(!1),V(null),ve.success("Sent for doctor approval")},handleStatusTransition:async ue=>{await J({status:ue})},handleStartEdit:()=>{G&&(V({upper:R,lower:N,duration:T}),$(!0))},handleCancelEdit:()=>{O&&(A(O.upper),P(O.lower),C(O.duration)),$(!1),V(null),d(null)},updateCase:J}},hU=({caseData:e})=>{const{t}=ye(),[n,s]=h.useState(e?.admin_note||""),[l,o]=h.useState(!1),[d,f]=h.useState(""),[m,p]=h.useState(!1),[g,b]=h.useState(null),y=()=>{f(n),o(!0)},w=()=>{s(d),o(!1),b(null)},j=async()=>{try{p(!0),b(null);const{error:S}=await Z.from("cases").update({internal_note:n}).eq("id",e.id);if(S)throw S;ve.success(t("internalNotes.toast.saved")),o(!1)}catch(S){b(S.message||t("internalNotes.toast.saveFailed")),ve.error(S.message||t("internalNotes.toast.saveFailed"))}finally{p(!1)}};return r.jsxs("div",{className:"flex w-full flex-col items-start gap-4 rounded-md border border-solid border-neutral-border bg-default-background px-6 pt-4 pb-6 shadow-sm",children:[r.jsxs("div",{className:"flex w-full items-center justify-between",children:[r.jsx("span",{className:"text-heading-3 font-heading-3 text-default-font",children:t("internalNotes.title")}),!l&&r.jsx(ce,{variant:"neutral-secondary",size:"small",icon:r.jsx(Rf,{}),onClick:y,children:t(n?"internalNotes.editNote":"internalNotes.addNote")})]}),g&&r.jsx("div",{className:"w-full",children:r.jsx(pt,{error:g})}),r.jsx("div",{className:"w-full",children:l?r.jsxs("div",{className:"flex flex-col gap-4",children:[r.jsxs("div",{className:"flex flex-col gap-2",children:[r.jsx("label",{htmlFor:"internalNoteTextarea",className:"text-body-bold font-body-bold text-default-font",children:t("internalNotes.additionalNotes")}),r.jsx("textarea",{id:"internalNoteTextarea",value:n,onChange:S=>s(S.target.value),placeholder:t("internalNotes.placeholder"),rows:6,className:"w-full px-3 py-2 text-body font-body text-default-font bg-default-background border border-neutral-border rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 resize-vertical min-h-[120px] placeholder:text-subtext-color",disabled:m}),r.jsx("span",{className:"text-caption font-caption text-subtext-color",children:t("internalNotes.helpText")})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(ce,{icon:r.jsx(Af,{}),onClick:j,disabled:m,size:"small",children:t(m?"internalNotes.saving":"internalNotes.saveNote")}),r.jsx(ce,{variant:"neutral-secondary",onClick:w,disabled:m,size:"small",children:t("common.cancel")})]})]}):r.jsx("div",{className:"w-full",children:n?r.jsx("div",{className:"w-full bg-white border border-neutral-200 rounded-md p-4 shadow-sm",children:r.jsx("div",{className:"text-body font-body text-neutral-800 whitespace-pre-wrap break-words leading-relaxed",children:n})}):r.jsx("div",{className:"w-full bg-neutral-50 text-sm text-neutral-500 rounded-md p-3",children:t("internalNotes.noNotes")})})})]})},mU=()=>{const{t:e}=ye(),{caseData:t,error:n}=fi(),s=vn(),[l,o]=h.useState(!1);Ic();const[d,f]=h.useState(!1),[m,p]=h.useState([]),[g,b]=h.useState(!1),[y,w]=h.useState(null),[j,S]=h.useState(!1);h.useEffect(()=>{d&&E()},[d]);const E=async()=>{b(!0);try{const{data:Oe,error:Tt}=await Z.from("services").select("*").eq("is_active",!0);if(Tt)throw Tt;p(Oe.filter(un=>un.type==="aligners_material"))}catch(Oe){console.error("Error fetching services:",Oe),ve.error(e("casePage.refinement.errors.loadServicesFailed"))}finally{b(!1)}},[R,A]=h.useState(t?.ipr_data||{}),{downloadingFiles:N,downloadSingleFile:P,downloadAllFiles:T}=DN(),{isEditingNote:C,noteText:k,setNoteText:$,noteSaving:O,noteError:V,handleEditNote:W,handleCancelEditNote:L,handleSaveNote:F}=MN(t),{currentStatus:B,saving:te,caseStudyFee:U,setCaseStudyFee:q,alignerUnitPrice:G,alignersPrice:J,setAlignersPrice:D,deliveryCharges:z,setDeliveryCharges:ae,upperJawAligners:Q,setUpperJawAligners:ne,lowerJawAligners:he,setLowerJawAligners:ge,estimatedDurationMonths:we,setEstimatedDurationMonths:Te,isEditingPlan:ue,showDeclineDialog:xe,isDecliningCase:Ne,isUndoingDecline:Pe,isDisabled:Re,acceptCase:Be,handleDecline:be,handleConfirmDecline:Ae,handleCloseDeclineDialog:Fe,handleUndoDecline:wt,handleSendForApproval:gt,handleStatusTransition:je,handleStartEdit:it,handleCancelEdit:at,updateCase:_t}=fU(t),[xt,$t]=h.useState(!1);if(h.useEffect(()=>{t?.ipr_data&&A(t.ipr_data)},[t?.ipr_data]),h.useEffect(()=>{(async()=>{try{const{data:{user:Tt}}=await Z.auth.getUser();if(!Tt||!t?.id)return;await Z.from("notifications").update({status:"read"}).eq("recipient_id",Tt.id).eq("case_id",t.id).eq("status","unread")}catch{}})()},[t?.id]),h.useEffect(()=>{const Oe=async()=>{try{const{hasImages:Tt}=await ON(t.id);o(Tt)}catch{o(!1)}};t.id&&Oe()},[t.id]),n)return r.jsx(pt,{error:n});if(!t)return r.jsx("p",{className:"text-neutral-500",children:e("casePage.caseNotFound")});const Pt=async()=>{try{const{error:Oe}=await Z.from("cases").delete().eq("id",t.id);if(Oe)throw Oe;$t(!1),ve.success(e("adminCasePage.toast.caseDeleted")),s("/admin/cases")}catch(Oe){ve.error(Oe.message||e("adminCasePage.toast.deleteFailed"))}},rt=()=>{const Oe=`/case-viewer/${t.id}`;window.open(Oe,"_blank")},Ve=`${window.location.origin}/case-viewer/${t.id}`,ut=async Oe=>{try{const{error:Tt}=await Z.from("cases").update({ipr_data:Oe}).eq("id",t.id);if(Tt)throw Tt;A(Oe),t.ipr_data=Oe,ve.success(e("adminCasePage.toast.iprSaved"))}catch(Tt){console.error("Error saving IPR data:",Tt),ve.error(e("adminCasePage.toast.iprFailed"))}},kn=async()=>{try{await _t({status:"approved"}),ve.success(e("casePage.toast.planApproved"))}catch(Oe){ve.error(Oe.message||e("casePage.toast.approveFailed"))}},Nn=async Oe=>{try{S(!0),w(null);const{data:{user:Tt}}=await Z.auth.getUser();if(!Tt)throw new pt(e("casePage.refinement.errors.notAuthenticated"));const un=t.profiles?.full_name||"Unknown Doctor",Kn=t.profiles?.clinic||null,yn=`${t.first_name} ${t.last_name}`,_a=`REF-${t.id}-${Date.now()}`,la=async(ee,le,me={})=>{if(!ee)return null;try{const Se=await Uf(ee,le,{caseId:me.caseId||_a,patientName:me.patientName||yn,fileType:me.fileType||le,doctorName:me.doctorName||un});if(!Se.success)throw new pt(Se.error||"Upload failed");return Se.filePath}catch(Se){throw console.error(`Upload error for ${le}:`,Se),Se}};let Es=null,tr=null,Fa=null,Rs=null,Ia=[];Oe.uploadMethod==="individual"?[Es,tr,Fa]=await Promise.all([la(Oe.upperJawScan,"upper-jaw-scans",{caseId:_a,patientName:yn,doctorName:un,clinicName:Kn,fileType:e("caseSubmit.upperJawScan")}),la(Oe.lowerJawScan,"lower-jaw-scans",{caseId:_a,patientName:yn,doctorName:un,clinicName:Kn,fileType:e("caseSubmit.lowerJawScan")}),la(Oe.biteScan,"bite-scans",{caseId:_a,patientName:yn,doctorName:un,clinicName:Kn,fileType:e("caseSubmit.biteScan")})]):Oe.uploadMethod==="compressed"&&(Rs=await la(Oe.compressedScans,"compressed-scans",{caseId:_a,patientName:yn,doctorName:un,clinicName:Kn,fileType:e("caseSubmit.compressedScans")})),Oe.additionalFiles&&Oe.additionalFiles.length>0&&(Ia=await Promise.all(Oe.additionalFiles.map((ee,le)=>la(ee,"additional-files",{caseId:_a,patientName:yn,doctorName:un,clinicName:Kn,fileType:e("caseSubmit.additionalFile",{number:le+1})}))));const{data:Ba}=await Z.from("cases").select("refinement_number").eq("parent_case_id",t.id).order("refinement_number",{ascending:!1}).limit(1),As=Ba?.[0]?.refinement_number?Ba[0].refinement_number+1:1,Ps={user_id:t.user_id,parent_case_id:t.id,refinement_number:As,first_name:t.first_name,last_name:t.last_name,refinement_reason:Oe.reason?.trim()||"Admin refinement",aligner_material:Oe.alignerMaterial||t.aligner_material,treatment_arch:Oe.treatmentArch||t.treatment_arch,upload_method:Oe.uploadMethod,upper_jaw_scan_url:Es,lower_jaw_scan_url:tr,bite_scan_url:Fa,compressed_scans_url:Rs,additional_files_urls:Ia||[],tooth_status:Oe.toothStatus||{},upper_midline:Oe.upperMidline||null,upper_midline_shift:Oe.upperMidlineShift||null,lower_midline:Oe.lowerMidline||null,lower_midline_shift:Oe.lowerMidlineShift||null,canine_right_class:Oe.canineRightClass||null,canine_left_class:Oe.canineLeftClass||null,molar_right_class:Oe.molarRightClass||null,molar_left_class:Oe.molarLeftClass||null,status:"submitted"},{error:Y}=await Z.from("cases").insert(Ps);if(Y)throw Y;ve.success(e("casePage.refinement.success.submitted")),f(!1),window.location.reload()}catch(Tt){console.error("Submit error:",Tt),w(Tt.message||e("casePage.refinement.errors.submitFailed")),ve.error(Tt.message)}finally{S(!1)}},vt=()=>{j||(w(null),f(!1))};return r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"flex w-full flex-col items-start gap-2",children:[r.jsxs(Ut,{children:[r.jsx(At,{to:"/admin/cases",children:r.jsx(Ut.Item,{children:e("navigation.cases")})}),r.jsx(Ut.Divider,{}),r.jsx(Ut.Item,{active:!0,children:e("casePage.caseDetails")})]}),r.jsxs("div",{className:"flex w-full items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("span",{className:"text-heading-2 font-heading-2 text-default-font",children:e("casePage.caseNumber",{id:t.id})}),r.jsx(bi,{status:B}),t.parent_case_id&&r.jsx(Ye,{variant:"brand",icon:r.jsx(Un,{}),children:e("casePage.refinementBadge",{number:t.refinement_number||1})})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[t.parent_case_id&&r.jsx(ce,{variant:"neutral-secondary",icon:r.jsx(Un,{}),asChild:!0,children:r.jsx(At,{to:`/admin/cases/${t.parent_case_id}`,children:e("casePage.viewOriginalCase")})}),r.jsx(ce,{variant:"neutral-secondary",icon:r.jsx(Sr,{}),onClick:()=>T(t),disabled:N.size>0,children:N.size>0?e("casePage.downloading"):e("casePage.downloadFiles")}),l&&r.jsx(ce,{onClick:rt,icon:r.jsx(_l,{}),children:e("casePage.openViewer")})]})]})]}),xt&&r.jsx(Rl,{open:xt,onOpenChange:$t,children:r.jsxs(Rl.Content,{className:"p-6 max-w-[480px]",children:[r.jsx("div",{className:"flex items-start gap-3",children:r.jsx("span",{className:"text-heading-3 font-heading-3 text-default-font",children:e("casePage.deleteCase")})}),r.jsx("div",{className:"mt-2 text-body font-body text-subtext-color",children:e("casePage.deleteCaseConfirm")}),r.jsxs("div",{className:"mt-4 flex items-center justify-end gap-2",children:[r.jsx(ce,{variant:"neutral-secondary",onClick:()=>$t(!1),disabled:te,children:e("common.cancel")}),r.jsx(ce,{variant:"destructive-primary",onClick:Pt,disabled:te,icon:r.jsx(jr,{}),children:e("common.delete")})]})]})}),B==="rejected"&&t.decline_reason&&r.jsx(ya,{variant:"destructive",icon:r.jsx(jr,{}),title:e("adminCasePage.caseDeclined"),description:r.jsxs("div",{className:"space-y-2",children:[r.jsxs("p",{children:[r.jsxs("strong",{children:[e("casePage.reason"),":"]})," ",t.decline_reason]}),t.declined_at&&r.jsxs("p",{className:"text-sm opacity-75",children:[e("casePage.declinedOn")," ",new Date(t.declined_at).toLocaleDateString()," ",e("casePage.at")," ",new Date(t.declined_at).toLocaleTimeString()]})]}),actions:r.jsx(ce,{variant:"destructive-secondary",size:"small",icon:r.jsx(Nk,{}),onClick:wt,disabled:Pe,children:e(Pe?"casePage.undoing":"casePage.undoDecline")})}),B!=="rejected"&&B!=="user_rejected"&&r.jsx(ya,{variant:"success",icon:r.jsx(ik,{}),title:e(`casePage.alerts.${B}.title`),description:e(`casePage.alerts.${B}.description`),actions:null}),B==="user_rejected"&&r.jsx(ya,{variant:"destructive",icon:r.jsx(jr,{}),title:e("casePage.alerts.user_rejected.title"),description:e("casePage.alerts.user_rejected.description"),actions:null}),r.jsxs("div",{className:"flex w-full flex-col items-start gap-6",children:[r.jsx(AN,{caseData:t,isAdmin:!0}),B==="completed"&&t.satisfaction_rating&&r.jsx(LN,{caseData:t}),(B==="user_rejected"||B==="rejected")&&t.decline_reason&&r.jsxs("div",{className:"flex w-full flex-col items-start gap-4 rounded-md border border-solid border-red-200 bg-red-50 px-6 pt-4 pb-6 shadow-sm",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(jr,{className:"w-5 h-5 text-red-600"}),r.jsx("span",{className:"text-heading-3 font-heading-3 text-red-900",children:e(B==="user_rejected"?"adminCasePage.doctorDeclineReason":"adminCasePage.adminDeclineReason")})]}),r.jsx("div",{className:"w-full bg-white border border-red-200 rounded-md p-4 shadow-sm",children:r.jsx("div",{className:"text-body font-body text-neutral-800 whitespace-pre-wrap break-words leading-relaxed",children:t.decline_reason})}),t.declined_at&&r.jsxs("div",{className:"text-caption font-caption text-red-700",children:[e("casePage.declinedOn")," ",new Date(t.declined_at).toLocaleDateString()," ",e("casePage.at")," ",new Date(t.declined_at).toLocaleTimeString()]})]}),r.jsx(hU,{caseData:t}),r.jsx(UN,{caseData:t}),t.user_note&&r.jsx(PN,{noteText:k,setNoteText:$,isEditingNote:C,noteSaving:O,noteError:V,handleEditNote:W,handleCancelEditNote:L,handleSaveNote:F,caseData:t,isAdmin:!0}),r.jsxs("div",{className:"flex w-full flex-col items-start gap-6 rounded-md border border-solid border-neutral-border bg-default-background px-6 pt-4 pb-6 shadow-sm",children:[r.jsx("span",{className:"text-heading-3 font-heading-3 text-default-font",children:e("casePage.dentalChart")}),r.jsx("div",{className:"flex w-full justify-center",children:r.jsx(zl,{initialStatus:t.tooth_status||{},onChange:Oe=>Z.from("cases").update({tooth_status:Oe}).eq("id",t.id),readOnly:!0})})]}),r.jsx(sU,{currentStatus:B,caseStudyFee:U,setCaseStudyFee:q,saving:te,acceptCase:Be,handleDecline:be}),r.jsx(uU,{caseData:t}),r.jsx(cU,{caseData:t,currentStatus:B,isEditingPlan:ue,upperJawAligners:Q,setUpperJawAligners:ne,lowerJawAligners:he,setLowerJawAligners:ge,estimatedDurationMonths:we,setEstimatedDurationMonths:Te,caseStudyFee:U,setCaseStudyFee:q,alignersPrice:J,setAlignersPrice:D,deliveryCharges:z,setDeliveryCharges:ae,alignerUnitPrice:G,isDisabled:Re,handleStartEdit:it,handleCancelEdit:at,handleSendForApproval:gt,handleDecline:be,caseHasViewer:l,handleViewerClick:rt,viewerLink:Ve,iprData:R,onIPRSave:ut}),r.jsx(dU,{currentStatus:B,isDisabled:Re,handleStatusTransition:je}),r.jsx(kN,{caseData:t,downloadingFiles:N,handleFileDownload:P}),r.jsx(RN,{caseData:t}),r.jsxs("div",{className:"flex w-full items-center justify-end gap-2",children:[B==="delivered"&&r.jsx(ce,{variant:"brand-secondary",icon:r.jsx(Un,{}),onClick:()=>f(!0),className:"w-auto",children:e("casePage.refinement.requestRefinement")}),B==="awaiting_user_approval"&&r.jsx(ce,{variant:"brand",icon:r.jsx(Pn,{}),onClick:kn,disabled:te,className:"w-auto",children:e("adminCasePage.approvePlan")}),r.jsx(ce,{variant:"destructive-primary",icon:r.jsx(jr,{}),onClick:()=>$t(!0),className:"w-auto",children:e("casePage.deleteCase")})]})]}),r.jsx(EN,{isOpen:d,onClose:vt,onSubmit:Nn,originalCaseData:t,alignerMaterials:m,loadingMaterials:g,loading:j,error:y,isAdminMode:!0}),r.jsx(rU,{isOpen:xe,onClose:Fe,onConfirm:Ae,isLoading:Ne})]})},pU=De.forwardRef(({transaction:e,casesData:t},n)=>{const{t:s,i18n:l}=ye(),o=l.dir()==="rtl",d={submitted:s("caseStatusBadge.submitted"),accepted:s("caseStatusBadge.accepted"),under_review:s("caseStatusBadge.underReview"),rejected:s("caseStatusBadge.rejected"),awaiting_patient_approval:s("caseStatusBadge.awaitingApproval"),patient_rejected:s("caseStatusBadge.patientRejected"),awaiting_user_approval:s("caseStatusBadge.awaitingApproval"),user_rejected:s("caseStatusBadge.userRejected"),approved:s("caseStatusBadge.approved"),in_production:s("caseStatusBadge.inProduction"),ready_for_delivery:s("caseStatusBadge.readyForDelivery"),delivered:s("caseStatusBadge.delivered"),completed:s("caseStatusBadge.completed")},f=e.id,m=new Date(e.datetime).toLocaleDateString();return r.jsxs("div",{ref:n,className:"p-8 bg-white",dir:o?"rtl":"ltr",children:[r.jsxs("div",{className:"flex items-center justify-between border-b-2 border-brand-600 pb-4 mb-6",children:[r.jsxs("div",{children:[r.jsx("img",{className:"h-10 flex-none object-cover",src:`${window.location.origin}/logo.png`,alt:"Logo"}),r.jsx("p",{className:"text-sm text-gray-600 mt-2",children:s("paymentCollectionDialog.paymentReceipt")})]}),r.jsxs("div",{className:o?"text-left":"text-right",children:[r.jsxs("p",{className:"text-sm text-gray-600",children:[r.jsxs("strong",{children:[s("paymentCollectionDialog.invoice")," #:"]})," ",f]}),r.jsxs("p",{className:"text-sm text-gray-600",children:[r.jsxs("strong",{children:[s("transactions.table.date"),":"]})," ",m]})]})]}),r.jsxs("div",{className:"mb-6",children:[r.jsx("h2",{className:"text-xl font-semibold mb-4 text-gray-800",children:s("paymentCollectionDialog.doctorLabel")}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-xs font-medium text-gray-500 mb-1",children:s("paymentCollectionDialog.name")}),r.jsx("p",{className:"text-sm text-gray-900",children:e.from})]}),e.email!=="-"&&r.jsxs("div",{children:[r.jsx("p",{className:"text-xs font-medium text-gray-500 mb-1",children:s("auth.email")}),r.jsx("p",{className:"text-sm text-gray-900",children:e.email})]})]}),r.jsx("div",{className:"space-y-2",children:e.clinic!=="-"&&r.jsxs("div",{children:[r.jsx("p",{className:"text-xs font-medium text-gray-500 mb-1",children:s("casePage.clinic")}),r.jsx("p",{className:"text-sm text-gray-900",children:e.clinic})]})})]})]}),r.jsxs("div",{className:"mb-6",children:[r.jsx("h2",{className:"text-xl font-semibold mb-4 text-gray-800",children:s("paymentCollectionDialog.paymentSummary")}),r.jsxs("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-4",children:[r.jsxs("div",{className:"flex justify-between items-center mb-2",children:[r.jsx("span",{className:"text-sm font-medium text-gray-700",children:s("paymentCollectionDialog.paymentAmount")}),r.jsxs("span",{className:"text-lg font-bold text-gray-900",children:["$",e.amount.toFixed(2)]})]}),e.description&&r.jsxs("div",{className:"mt-3 pt-3 border-t border-gray-200",children:[r.jsx("p",{className:"text-xs font-medium text-gray-500 mb-1",children:s("paymentCollectionDialog.notes")}),r.jsx("p",{className:"text-sm text-gray-700",children:e.description})]})]})]}),t&&t.length>0&&r.jsxs("div",{className:"mb-6",children:[r.jsx("h2",{className:"text-xl font-semibold mb-4 text-gray-800",children:s("paymentCollectionDialog.casesIncluded")}),r.jsx("div",{className:"border border-gray-200 rounded-lg overflow-hidden",children:r.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[r.jsx("thead",{className:"bg-gray-50",children:r.jsxs("tr",{children:[r.jsx("th",{className:`px-4 py-3 text-xs font-medium text-gray-500 uppercase tracking-wider ${o?"text-right":"text-left"}`,children:s("cases.caseId")}),r.jsx("th",{className:`px-4 py-3 text-xs font-medium text-gray-500 uppercase tracking-wider ${o?"text-right":"text-left"}`,children:s("paymentCollectionDialog.patient")}),r.jsx("th",{className:`px-4 py-3 text-xs font-medium text-gray-500 uppercase tracking-wider ${o?"text-right":"text-left"}`,children:s("paymentCollectionDialog.statusLabel")}),r.jsx("th",{className:`px-4 py-3 text-xs font-medium text-gray-500 uppercase tracking-wider ${o?"text-right":"text-left"}`,children:s("casePage.treatmentPlan.totalCost")}),r.jsx("th",{className:`px-4 py-3 text-xs font-medium text-gray-500 uppercase tracking-wider ${o?"text-right":"text-left"}`,children:s("paymentCollectionDialog.paymentAmountLabel")})]})}),r.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:t.map(p=>r.jsxs("tr",{children:[r.jsxs("td",{className:`px-4 py-3 text-sm text-gray-900 ${o?"text-right":"text-left"}`,children:[s("doctorTransactions.case")," #",p.id]}),r.jsxs("td",{className:`px-4 py-3 text-sm text-gray-900 ${o?"text-right":"text-left"}`,children:[p.first_name," ",p.last_name]}),r.jsx("td",{className:`px-4 py-3 text-sm text-gray-700 ${o?"text-right":"text-left"}`,children:d[p.status]||p.status}),r.jsxs("td",{className:`px-4 py-3 text-sm text-gray-900 ${o?"text-right":"text-left"}`,children:["$",parseFloat(p.total_cost||0).toFixed(2)]}),r.jsxs("td",{className:`px-4 py-3 text-sm font-medium text-gray-900 ${o?"text-right":"text-left"}`,children:["$",p.paymentApplied.toFixed(2)]})]},p.id))}),r.jsx("tfoot",{className:"bg-gray-50",children:r.jsxs("tr",{children:[r.jsx("td",{colSpan:"4",className:`px-4 py-3 text-sm font-medium text-gray-900 ${o?"text-right":"text-left"}`,children:s("paymentCollectionDialog.totalPayment")}),r.jsxs("td",{className:`px-4 py-3 text-sm font-bold text-gray-900 ${o?"text-right":"text-left"}`,children:["$",e.amount.toFixed(2)]})]})})]})})]}),r.jsx("div",{className:"mt-8 pt-4 border-t border-gray-300 text-center text-xs text-gray-500",children:r.jsx("p",{children:s("adminTreatmentPlan.print.footer",{date:new Date().toLocaleString()})})})]})});function gU(){const{t:e}=ye(),{role:t}=Ic(),n=Of(t),[s,l]=h.useState([]),[o,d]=h.useState(!0),[f,m]=h.useState(!1),[p,g]=h.useState(null),[b,y]=h.useState(null),[w,j]=h.useState(!1),[S,E]=h.useState(null),[R,A]=h.useState(!1),[N,P]=h.useState(null),[T,C]=h.useState([]),[k,$]=h.useState(!1),O=h.useRef(),[V,W]=h.useState(""),[L,F]=h.useState("all"),[B,te]=h.useState("all"),[U,q]=h.useState("all"),[G,J]=h.useState(""),[D,z]=h.useState(""),[ae,Q]=h.useState(!1),ne=Lf.useReactToPrint({contentRef:O,documentTitle:`Invoice-${N?.id||"Receipt"}`}),he=h.useMemo(()=>{const je=new Set;return s.forEach(it=>{const at=new Date(it.datetime).getFullYear();je.add(at)}),Array.from(je).sort((it,at)=>at-it)},[s]);h.useEffect(()=>{ge()},[]);const ge=async(je=!1)=>{try{je?m(!0):d(!0),g(null);const{data:it,error:at}=await Z.from("payments").select("id, amount, type, notes, created_at, doctor_id, admin_id").order("created_at",{ascending:!1});if(at)throw at;const _t=[...new Set(it.map(vt=>vt.doctor_id).filter(Boolean))],xt=[...new Set(it.map(vt=>vt.admin_id).filter(Boolean))],{data:$t,error:Pt}=await Z.from("profiles").select("id, full_name, email, clinic").in("id",_t);if(Pt)throw Pt;const{data:rt,error:Ve}=await Z.from("profiles").select("id, full_name").in("id",xt);if(Ve)throw Ve;const ut=($t||[]).reduce((vt,Oe)=>(vt[Oe.id]=Oe,vt),{}),kn=(rt||[]).reduce((vt,Oe)=>(vt[Oe.id]=Oe,vt),{}),Nn=(it||[]).map(vt=>{const Oe=vt.doctor_id?ut[vt.doctor_id]:null,Tt=vt.admin_id?kn[vt.admin_id]:null;return{id:`TXN-${vt.id.toString().slice(0,8)}`,fullId:vt.id,date:new Date(vt.created_at).toLocaleDateString("en-GB"),datetime:vt.created_at,type:vt.type==="payment"?"payment_received":"expense",description:vt.notes||(vt.type==="payment"?`Payment from ${Oe?.full_name||"Unknown"}`:"Expense"),from:vt.type==="payment"?Oe?.full_name||"Unknown Doctor":vt.notes||"Expense",email:Oe?.email||"-",clinic:Oe?.clinic||"-",amount:parseFloat(vt.amount||0),status:"completed",processedBy:Tt?.full_name||"System"}});l(Nn)}catch(it){console.error("Error fetching transactions:",it),g(it.message||"Failed to load transactions")}finally{d(!1),m(!1)}},we=()=>{ge(!0)},Te=async je=>{P(je),A(!0),$(!0),C([]);try{const{data:it,error:at}=await Z.from("payment_case_allocations").select(`
          allocated_amount,
          cases (
            id,
            first_name,
            last_name,
            status,
            total_cost
          )
        `).eq("payment_id",je.fullId);if(at)console.error("Error fetching invoice details:",at);else if(it){const _t=it.map(xt=>({...xt.cases,paymentApplied:parseFloat(xt.allocated_amount)}));C(_t)}}catch(it){console.error("Error fetching invoice details:",it)}finally{$(!1)}},ue=()=>{ne(),setTimeout(()=>{A(!1),P(null),C([])},500)},xe=()=>{A(!1),P(null),C([])},Ne=je=>{E(je),j(!0)},Pe=async()=>{if(S)try{y(S.fullId),g(null);const{error:je}=await Z.from("payments").delete().eq("id",S.fullId);if(je)throw je;l(it=>it.filter(at=>at.fullId!==S.fullId)),j(!1),E(null)}catch(je){console.error("Error deleting transaction:",je),g(je.message||"Failed to delete transaction")}finally{y(null)}},Re=()=>{j(!1),E(null)},Be=h.useMemo(()=>s.filter(je=>{const it=je.from.toLowerCase().includes(V.toLowerCase())||je.email.toLowerCase().includes(V.toLowerCase())||je.id.toLowerCase().includes(V.toLowerCase())||je.description.toLowerCase().includes(V.toLowerCase())||je.clinic.toLowerCase().includes(V.toLowerCase()),at=L==="all"||je.type===L,_t=new Date(je.datetime),xt=new Date;let $t=!0;if(B!=="all"){if(B==="today")$t=_t.toDateString()===xt.toDateString();else if(B==="week"){const Ve=new Date(xt);Ve.setDate(Ve.getDate()-7),$t=_t>=Ve}else if(B==="month"){const Ve=new Date(xt);Ve.setMonth(Ve.getMonth()-1),$t=_t>=Ve}}let Pt=!0;U!=="all"&&(Pt=_t.getFullYear()===parseInt(U));let rt=!0;if(G||D){if(G){const Ve=new Date(G);Ve.setHours(0,0,0,0),rt=rt&&_t>=Ve}if(D){const Ve=new Date(D);Ve.setHours(23,59,59,999),rt=rt&&_t<=Ve}}return it&&at&&$t&&Pt&&rt}),[s,V,L,B,U,G,D]),be=h.useMemo(()=>{const je=Be.filter(xt=>xt.type==="payment_received"),it=Be.filter(xt=>xt.type==="expense"),at=je.reduce((xt,$t)=>xt+$t.amount,0),_t=it.reduce((xt,$t)=>xt+$t.amount,0);return{total:Be.length,revenue:at,expenses:_t,netIncome:at-_t}},[Be]),Ae=je=>e(je==="payment_received"?"transactions.paymentReceived":"transactions.expense"),Fe=()=>{const je=[e("transactions.table.transactionId"),e("transactions.table.date"),e("transactions.table.type"),e("transactions.table.from"),e("transactions.table.email"),e("transactions.table.clinic"),e("transactions.table.description"),e("transactions.table.amount"),e("transactions.table.processedBy")],it=Be.map(ut=>[ut.id,ut.date,Ae(ut.type),ut.from,ut.email,ut.clinic,ut.description,ut.amount.toFixed(2),ut.processedBy]),at=ut=>{const kn=String(ut);return kn.includes(",")||kn.includes('"')||kn.includes(`
`)?`"${kn.replace(/"/g,'""')}"`:kn},_t=[je.map(at).join(","),...it.map(ut=>ut.map(at).join(","))].join(`
`);let xt="transaction-log";L!=="all"&&(xt+=`-${L}`),U!=="all"&&(xt+=`-${U}`),G||D?xt+="-custom-range":B!=="all"&&(xt+=`-${B}`),xt+=`-${new Date().toISOString().split("T")[0]}.csv`;const $t="\uFEFF",Pt=new Blob([$t+_t],{type:"text/csv;charset=utf-8;"}),rt=window.URL.createObjectURL(Pt),Ve=document.createElement("a");Ve.href=rt,Ve.download=xt,Ve.click(),window.URL.revokeObjectURL(rt)},wt=()=>{W(""),F("all"),te("all"),q("all"),J(""),z("")},gt=V||L!=="all"||B!=="all"||U!=="all"||G||D;return r.jsxs(r.Fragment,{children:[p&&r.jsx(pt,{error:p}),r.jsxs(Ut,{children:[r.jsx(At,{to:"/admin/billing",children:r.jsx(Ut.Item,{children:e("navigation.billing")})}),r.jsx(Ut.Divider,{}),r.jsx(Ut.Item,{active:!0,children:e("transactions.title")})]}),r.jsx(vi,{submit:!1,children:e("transactions.title")}),r.jsxs("div",{className:"flex w-full items-center justify-between gap-4",children:[r.jsx("p",{className:"text-body font-body text-subtext-color",children:e("transactions.subtitle")}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Wt,{icon:r.jsx(Un,{className:f?"animate-spin":""}),onClick:we,disabled:f}),r.jsx(ce,{variant:"brand-primary",size:"medium",icon:r.jsx(Sr,{}),onClick:Fe,className:"w-auto",children:e("transactions.exportCSV")})]})]}),o?r.jsx("div",{className:"flex w-full h-full min-h-[200px] justify-center items-center",children:r.jsx(Jt,{size:"medium"})}):r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"grid w-full grid-cols-1 gap-4 md:grid-cols-4",children:[r.jsx(gu,{label:e("transactions.stats.totalTransactions"),value:be.total.toString()}),r.jsx(gu,{label:e("transactions.stats.totalRevenue"),value:`$${be.revenue.toFixed(2)}`,valueClass:"text-success-600"}),r.jsx(gu,{label:e("transactions.stats.totalExpenses"),value:`$${be.expenses.toFixed(2)}`,valueClass:"text-error-600"}),r.jsx(gu,{label:e("transactions.stats.netIncome"),value:`$${be.netIncome.toFixed(2)}`,valueClass:be.netIncome>=0?"text-success-600":"text-error-600"})]}),r.jsxs("div",{className:"flex flex-col gap-3",children:[r.jsxs("div",{className:"flex w-full items-center gap-2 justify-stretch flex-wrap",children:[r.jsx("div",{className:"flex-grow max-w-[400px]",children:r.jsx(Ce,{variant:"filled",label:"",helpText:"",icon:r.jsx(Tr,{}),children:r.jsx(Ce.Input,{placeholder:e("transactions.searchPlaceholder"),value:V,onChange:je=>W(je.target.value)})})}),r.jsxs("select",{value:L,onChange:je=>F(je.target.value),className:"rounded-md border border-neutral-border bg-default-background px-3 py-2 text-body font-body text-default-font outline-none focus:border-brand-600",children:[r.jsx("option",{value:"all",children:e("transactions.filters.allTypes")}),r.jsx("option",{value:"payment_received",children:e("transactions.filters.paymentsReceived")}),r.jsx("option",{value:"expense",children:e("transactions.filters.expenses")})]}),r.jsxs("select",{value:B,onChange:je=>te(je.target.value),className:"rounded-md border border-neutral-border bg-default-background px-3 py-2 text-body font-body text-default-font outline-none focus:border-brand-600",children:[r.jsx("option",{value:"all",children:e("transactions.filters.allTime")}),r.jsx("option",{value:"today",children:e("transactions.filters.today")}),r.jsx("option",{value:"week",children:e("transactions.filters.lastWeek")}),r.jsx("option",{value:"month",children:e("transactions.filters.lastMonth")})]}),r.jsx(ce,{size:"sm",variant:ae?"neutral-secondary":"neutral-tertiary",onClick:()=>Q(!ae),icon:r.jsx(hS,{}),children:"Advanced Filters"}),gt&&r.jsx(ce,{size:"sm",variant:"neutral-tertiary",className:"px-2 w-auto",onClick:wt,icon:r.jsx(bn,{}),children:e("common.clear")})]}),ae&&r.jsxs("div",{className:"rounded-md border border-neutral-border bg-neutral-50 p-4",children:[r.jsx("h3",{className:"text-body-bold font-body-bold text-default-font mb-3",children:"Advanced Date Filters"}),r.jsxs("div",{className:"flex flex-wrap gap-4",children:[r.jsxs("div",{className:"flex flex-col gap-1.5",children:[r.jsx("label",{className:"text-caption-bold font-caption-bold text-subtext-color",children:"Filter by Year"}),r.jsxs("select",{value:U,onChange:je=>q(je.target.value),className:"rounded-md border border-neutral-border bg-default-background px-3 py-2 text-body font-body text-default-font outline-none focus:border-brand-600 min-w-[140px]",children:[r.jsx("option",{value:"all",children:"All Years"}),he.map(je=>r.jsx("option",{value:je,children:je},je))]})]}),r.jsxs("div",{className:"flex flex-col gap-1.5",children:[r.jsx("label",{className:"text-caption-bold font-caption-bold text-subtext-color",children:"From Date"}),r.jsx("input",{type:"date",value:G,onChange:je=>J(je.target.value),className:"rounded-md border border-neutral-border bg-default-background px-3 py-2 text-body font-body text-default-font outline-none focus:border-brand-600"})]}),r.jsxs("div",{className:"flex flex-col gap-1.5",children:[r.jsx("label",{className:"text-caption-bold font-caption-bold text-subtext-color",children:"To Date"}),r.jsx("input",{type:"date",value:D,onChange:je=>z(je.target.value),className:"rounded-md border border-neutral-border bg-default-background px-3 py-2 text-body font-body text-default-font outline-none focus:border-brand-600"})]})]}),(G||D)&&r.jsx("p",{className:"text-caption font-caption text-subtext-color mt-2",children:G&&D?`Showing transactions from ${new Date(G).toLocaleDateString("en-GB")} to ${new Date(D).toLocaleDateString("en-GB")}`:G?`Showing transactions from ${new Date(G).toLocaleDateString("en-GB")} onwards`:`Showing transactions up to ${new Date(D).toLocaleDateString("en-GB")}`})]}),gt&&r.jsxs("div",{className:"flex flex-wrap gap-2 items-center",children:[r.jsx("span",{className:"text-xs text-neutral-600",children:"Active filters:"}),L!=="all"&&r.jsxs(Ye,{variant:"neutral",className:"text-xs",children:["Type:"," ",L==="payment_received"?"Payments":"Expenses",r.jsx("button",{onClick:()=>F("all"),className:"ml-1 hover:text-neutral-800",children:""})]}),B!=="all"&&r.jsxs(Ye,{variant:"neutral",className:"text-xs",children:["Period: ",B,r.jsx("button",{onClick:()=>te("all"),className:"ml-1 hover:text-neutral-800",children:""})]}),U!=="all"&&r.jsxs(Ye,{variant:"neutral",className:"text-xs",children:["Year: ",U,r.jsx("button",{onClick:()=>q("all"),className:"ml-1 hover:text-neutral-800",children:""})]}),(G||D)&&r.jsxs(Ye,{variant:"neutral",className:"text-xs",children:["Custom Range: ",G||"..."," to ",D||"...",r.jsx("button",{onClick:()=>{J(""),z("")},className:"ml-1 hover:text-neutral-800",children:""})]}),V&&r.jsxs(Ye,{variant:"neutral",className:"text-xs",children:['Search: "',V,'"',r.jsx("button",{onClick:()=>W(""),className:"ml-1 hover:text-neutral-800",children:""})]})]})]}),r.jsx(I,{header:r.jsxs(I.HeaderRow,{children:[r.jsx(I.HeaderCell,{children:e("transactions.table.id")}),r.jsx(I.HeaderCell,{children:e("transactions.table.date")}),r.jsx(I.HeaderCell,{children:e("transactions.table.from")}),r.jsx(I.HeaderCell,{children:e("transactions.table.description")}),r.jsx(I.HeaderCell,{children:e("transactions.table.type")}),r.jsx(I.HeaderCell,{children:e("transactions.table.amount")}),r.jsx(I.HeaderCell,{children:e("common.actions")})]}),children:Be.length===0?r.jsx(I.Row,{children:r.jsx(I.Cell,{colSpan:7,children:r.jsx("div",{className:"text-center py-8",children:r.jsx("span",{className:"text-neutral-500",children:e("transactions.noTransactions")})})})}):Be.map(je=>r.jsxs(I.Row,{children:[r.jsx(I.Cell,{children:r.jsx("span",{className:"whitespace-nowrap text-body-bold font-body-bold text-neutral-700",children:je.id})}),r.jsx(I.Cell,{children:r.jsx("span",{className:"whitespace-nowrap text-body font-body text-neutral-500",children:je.date})}),r.jsx(I.Cell,{children:r.jsxs("div",{className:"flex flex-col gap-0.5",children:[r.jsx("span",{className:"text-body-bold font-body-bold text-neutral-700",children:je.from}),je.email!=="-"&&r.jsx("span",{className:"text-caption font-caption text-neutral-500",children:je.email}),je.clinic!=="-"&&r.jsx("span",{className:"text-caption font-caption text-neutral-500",children:je.clinic})]})}),r.jsx(I.Cell,{children:r.jsxs("div",{className:"flex flex-col gap-0.5",children:[r.jsx("span",{className:"text-body font-body text-neutral-700",children:je.description}),r.jsxs("span",{className:"text-caption font-caption text-neutral-500",children:[e("transactions.processedBy")," ",je.processedBy]})]})}),r.jsx(I.Cell,{children:r.jsx(Ye,{variant:je.type==="expense"?"error":"brand",children:Ae(je.type)})}),r.jsx(I.Cell,{children:r.jsxs("span",{className:`whitespace-nowrap text-body-bold font-body-bold ${je.type==="expense"?"text-error-600":"text-success-600"}`,children:[je.type==="expense"&&"-","$",je.amount.toFixed(2)]})}),r.jsx(I.Cell,{children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Wt,{icon:r.jsx(Nr,{}),onClick:()=>Te(je),variant:"neutral"}),n&&r.jsx(Wt,{icon:r.jsx(Pk,{}),onClick:()=>Ne(je),disabled:b===je.fullId,variant:"destructive"})]})})]},je.fullId))}),Be.length>0&&r.jsxs("div",{className:"w-full text-body font-body text-subtext-color",children:[e("transactions.showing")," ",Be.length," ",e("transactions.of")," ",s.length," ",e("transactions.transactions")]})]}),R&&N&&r.jsxs(ys,{isOpen:R,onClose:xe,title:e("paymentCollectionDialog.paymentInvoice"),description:e("paymentCollectionDialog.paymentInvoiceDescription"),icon:r.jsx(Nr,{}),maxWidth:"max-w-4xl",children:[r.jsx("div",{className:"space-y-4 w-full pt-4",children:k?r.jsx("div",{className:"flex w-full h-40 justify-center items-center",children:r.jsx(Jt,{size:"medium"})}):r.jsx("div",{className:"border border-neutral-border rounded-lg bg-white max-h-[60vh] overflow-y-auto",children:r.jsx(pU,{ref:O,transaction:N,casesData:T})})}),r.jsxs("div",{className:"flex items-center justify-end gap-3 pt-6 border-t border-neutral-border w-full mt-6",children:[r.jsx(ce,{variant:"neutral-secondary",onClick:xe,children:e("common.close")}),r.jsx(ce,{icon:r.jsx(Nr,{}),onClick:ue,disabled:k,children:e("paymentCollectionDialog.printInvoice")})]})]}),w&&S&&r.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50",children:r.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-md w-full mx-4 p-6",children:[r.jsx("h3",{className:"text-heading-3 font-heading-3 text-default-font mb-2",children:"Delete Transaction"}),r.jsx("p",{className:"text-body font-body text-subtext-color mb-4",children:"Are you sure you want to delete this transaction?"}),r.jsxs("div",{className:"bg-neutral-50 rounded-md p-4 mb-4",children:[r.jsxs("div",{className:"flex justify-between items-center mb-2",children:[r.jsx("span",{className:"text-caption-bold font-caption-bold text-neutral-700",children:"Transaction ID:"}),r.jsx("span",{className:"text-body font-body text-neutral-900",children:S.id})]}),r.jsxs("div",{className:"flex justify-between items-center mb-2",children:[r.jsx("span",{className:"text-caption-bold font-caption-bold text-neutral-700",children:"Type:"}),r.jsx(Ye,{variant:S.type==="expense"?"error":"brand",children:Ae(S.type)})]}),r.jsxs("div",{className:"flex justify-between items-center mb-2",children:[r.jsx("span",{className:"text-caption-bold font-caption-bold text-neutral-700",children:"Amount:"}),r.jsxs("span",{className:`text-body-bold font-body-bold ${S.type==="expense"?"text-error-600":"text-success-600"}`,children:[S.type==="expense"&&"-","$",S.amount.toFixed(2)]})]}),r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx("span",{className:"text-caption-bold font-caption-bold text-neutral-700",children:"From:"}),r.jsx("span",{className:"text-body font-body text-neutral-900",children:S.from})]})]}),r.jsx("div",{className:"bg-error-50 border border-error-200 rounded-md p-3 mb-6",children:r.jsx("p",{className:"text-caption font-caption text-error-700",children:" This action cannot be undone. The transaction will be permanently deleted."})}),r.jsxs("div",{className:"flex gap-3",children:[r.jsx(ce,{variant:"neutral-secondary",onClick:Re,disabled:b===S.fullId,className:"flex-1",children:"Cancel"}),r.jsx(ce,{variant:"destructive-primary",onClick:Pe,disabled:b===S.fullId,className:"flex-1",children:b===S.fullId?"Deleting...":"Delete Transaction"})]})]})})]})}const gu=({label:e,value:t,valueClass:n="text-default-font"})=>r.jsxs("div",{className:"flex flex-col gap-2 rounded-md border border-solid border-neutral-border bg-default-background px-6 py-6 shadow-sm",children:[r.jsx("span",{className:"text-caption-bold font-caption-bold text-subtext-color",children:e}),r.jsx("span",{className:`text-heading-2 font-heading-2 ${n}`,children:t})]});function xU(){const{t:e}=ye(),[t,n]=h.useState([]),[s,l]=h.useState(!0),[o,d]=h.useState(!1),[f,m]=h.useState(null),[p,g]=h.useState(""),[b,y]=h.useState("all");h.useEffect(()=>{w()},[]);const w=async(N=!1)=>{try{N?d(!0):l(!0),m(null);const{data:{user:P},error:T}=await Z.auth.getUser();if(T)throw T;if(!P)throw new pt("Not authenticated");const{data:C,error:k}=await Z.from("payments").select("id, amount, type, notes, created_at, admin_id").eq("doctor_id",P.id).eq("type","payment").order("created_at",{ascending:!1});if(k)throw k;const $=[...new Set(C.map(q=>q.admin_id).filter(Boolean))];let O=[];if($.length>0){const{data:q,error:G}=await Z.from("profiles").select("id, full_name").in("id",$);if(G)throw G;O=q||[]}const V=O.reduce((q,G)=>(q[G.id]=G,q),{}),W=C.map(q=>q.id);let L=[],F=[];if(W.length>0){const{data:q,error:G}=await Z.from("payment_case_allocations").select("payment_id, case_id, allocated_amount").in("payment_id",W);if(G)throw G;L=q||[];const J=[...new Set(L.map(D=>D.case_id))];if(J.length>0){const{data:D,error:z}=await Z.from("cases").select("id, first_name, last_name").in("id",J);if(z)throw z;F=D||[]}}const B=F.reduce((q,G)=>(q[G.id]=G,q),{}),te=L.reduce((q,G)=>(q[G.payment_id]||(q[G.payment_id]=[]),q[G.payment_id].push(G),q),{}),U=(C||[]).map(q=>{const G=q.admin_id?V[q.admin_id]:null,J=te[q.id]||[],D=J.map(ae=>{const Q=B[ae.case_id];return Q?`${Q.first_name||""} ${Q.last_name||""}`.trim():null}).filter(Boolean),z=q.notes?q.notes:D.length>0?`Payment for: ${D.join(", ")}`:"Payment";return{id:`TXN-${q.id.toString().slice(0,8)}`,fullId:q.id,date:new Date(q.created_at).toLocaleDateString("en-GB"),datetime:q.created_at,description:z,casesCount:J.length,caseNames:D,amount:parseFloat(q.amount||0),receivedBy:G?.full_name||"System",notes:q.notes||"-"}});n(U)}catch(P){console.error("Error fetching doctor transactions:",P),m(P.message||"Failed to load transactions")}finally{l(!1),d(!1)}},j=()=>{w(!0)},S=h.useMemo(()=>t.filter(N=>{const P=N.description.toLowerCase().includes(p.toLowerCase())||N.id.toLowerCase().includes(p.toLowerCase())||N.notes.toLowerCase().includes(p.toLowerCase())||N.caseNames.some(C=>C.toLowerCase().includes(p.toLowerCase()));let T=!0;if(b!=="all"){const C=new Date(N.datetime),k=new Date;if(b==="today")T=C.toDateString()===k.toDateString();else if(b==="week"){const $=new Date(k);$.setDate($.getDate()-7),T=C>=$}else if(b==="month"){const $=new Date(k);$.setMonth($.getMonth()-1),T=C>=$}}return P&&T}),[t,p,b]),E=()=>{const N=[e("transactions.table.transactionId"),e("transactions.table.date"),e("transactions.table.description"),e("doctorTransactions.cases"),e("transactions.table.amount"),e("doctorTransactions.receivedBy"),e("doctorTransactions.notes")],P=S.map(L=>[L.id,L.date,L.description,L.caseNames.join("; "),L.amount.toFixed(2),L.receivedBy,L.notes]),T=L=>{const F=String(L);return F.includes(",")||F.includes('"')||F.includes(`
`)?`"${F.replace(/"/g,'""')}"`:F},C=[N.map(T).join(","),...P.map(L=>L.map(T).join(","))].join(`
`);let k="my-payments";b!=="all"&&(k+=`-${b}`),k+=`-${new Date().toISOString().split("T")[0]}.csv`;const $="\uFEFF",O=new Blob([$+C],{type:"text/csv;charset=utf-8;"}),V=window.URL.createObjectURL(O),W=document.createElement("a");W.href=V,W.download=k,W.click(),window.URL.revokeObjectURL(V)},R=()=>{g(""),y("all")},A=p||b!=="all";return r.jsxs(r.Fragment,{children:[f&&r.jsx(pt,{error:f}),r.jsxs(Ut,{children:[r.jsx(At,{to:"/app/billing",children:r.jsx(Ut.Item,{children:e("billing.myBilling")})}),r.jsx(Ut.Divider,{}),r.jsx(Ut.Item,{active:!0,children:e("doctorTransactions.title")})]}),r.jsx(Bl,{submit:!1,children:e("doctorTransactions.title")}),r.jsxs("div",{className:"flex w-full items-center justify-between gap-4",children:[r.jsx("p",{className:"text-body font-body text-subtext-color",children:e("doctorTransactions.subtitle")}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Wt,{icon:r.jsx(Un,{className:o?"animate-spin":""}),onClick:j,disabled:o}),r.jsx(ce,{variant:"brand-primary",size:"medium",icon:r.jsx(Sr,{}),onClick:E,className:"w-auto",children:e("transactions.exportCSV")})]})]}),s?r.jsx("div",{className:"flex w-full h-full min-h-[200px] justify-center items-center",children:r.jsx(Jt,{size:"medium"})}):r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"flex w-full items-center gap-2",children:[r.jsx("div",{className:"flex-grow max-w-[400px]",children:r.jsx(Ce,{variant:"filled",label:"",helpText:"",icon:r.jsx(Tr,{}),children:r.jsx(Ce.Input,{placeholder:e("doctorTransactions.searchPlaceholder"),value:p,onChange:N=>g(N.target.value)})})}),r.jsxs("select",{value:b,onChange:N=>y(N.target.value),className:"rounded-md border border-neutral-border bg-default-background px-3 py-2 text-body font-body text-default-font outline-none focus:border-brand-600",children:[r.jsx("option",{value:"all",children:e("transactions.filters.allTime")}),r.jsx("option",{value:"today",children:e("transactions.filters.today")}),r.jsx("option",{value:"week",children:e("transactions.filters.lastWeek")}),r.jsx("option",{value:"month",children:e("transactions.filters.lastMonth")})]}),A&&r.jsx(ce,{size:"sm",variant:"neutral-tertiary",className:"px-2 w-auto",onClick:R,icon:r.jsx(bn,{}),children:e("common.clear")})]}),r.jsx(I,{header:r.jsxs(I.HeaderRow,{children:[r.jsx(I.HeaderCell,{children:e("transactions.table.id")}),r.jsx(I.HeaderCell,{children:e("transactions.table.date")}),r.jsx(I.HeaderCell,{children:e("doctorTransactions.cases")}),r.jsx(I.HeaderCell,{children:e("transactions.table.amount")})]}),children:S.length===0?r.jsx(I.Row,{children:r.jsx(I.Cell,{colSpan:4,children:r.jsx("div",{className:"text-center py-8",children:r.jsx("span",{className:"text-neutral-500",children:e("doctorTransactions.noPayments")})})})}):S.map(N=>r.jsxs(I.Row,{children:[r.jsx(I.Cell,{children:r.jsx("span",{className:"whitespace-nowrap text-body-bold font-body-bold text-neutral-700",children:N.id})}),r.jsx(I.Cell,{children:r.jsx("span",{className:"whitespace-nowrap text-body font-body text-neutral-500",children:N.date})}),r.jsx(I.Cell,{children:N.casesCount>0?r.jsxs("div",{className:"flex flex-col gap-0.5",children:[r.jsxs("span",{className:"text-body font-body text-neutral-700",children:[N.casesCount," ",N.casesCount===1?e("doctorTransactions.case"):e("doctorTransactions.cases")]}),N.caseNames.length>0&&r.jsx("span",{className:"text-caption font-caption text-neutral-500 line-clamp-2",children:N.caseNames.join(", ")})]}):r.jsx("span",{className:"text-body font-body text-neutral-500",children:e("doctorTransactions.generalPayment")})}),r.jsx(I.Cell,{children:r.jsxs("span",{className:"whitespace-nowrap text-body-bold font-body-bold text-brand-600",children:["$",N.amount.toFixed(2)]})})]},N.fullId))}),S.length>0&&r.jsxs("div",{className:"w-full text-body font-body text-subtext-color",children:[e("transactions.showing")," ",S.length," ",e("transactions.of")," ",t.length," ",e("doctorTransactions.payments")]})]})]})}var Gn=function(){return Gn=Object.assign||function(t){for(var n,s=1,l=arguments.length;s<l;s++){n=arguments[s];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},Gn.apply(this,arguments)};function tf(e,t,n){if(n||arguments.length===2)for(var s=0,l=t.length,o;s<l;s++)(o||!(s in t))&&(o||(o=Array.prototype.slice.call(t,0,s)),o[s]=t[s]);return e.concat(o||Array.prototype.slice.call(t))}var Vt="-ms-",pc="-moz-",Rt="-webkit-",$N="comm",$f="rule",vx="decl",bU="@import",FN="@keyframes",vU="@layer",IN=Math.abs,yx=String.fromCharCode,mg=Object.assign;function yU(e,t){return xn(e,0)^45?(((t<<2^xn(e,0))<<2^xn(e,1))<<2^xn(e,2))<<2^xn(e,3):0}function BN(e){return e.trim()}function wr(e,t){return(e=t.exec(e))?e[0]:e}function st(e,t,n){return e.replace(t,n)}function Tu(e,t,n){return e.indexOf(t,n)}function xn(e,t){return e.charCodeAt(t)|0}function Al(e,t,n){return e.slice(t,n)}function Ka(e){return e.length}function zN(e){return e.length}function rc(e,t){return t.push(e),e}function wU(e,t){return e.map(t).join("")}function f1(e,t){return e.filter(function(n){return!wr(n,t)})}var Ff=1,Pl=1,qN=0,ja=0,on=0,ql="";function If(e,t,n,s,l,o,d,f){return{value:e,root:t,parent:n,type:s,props:l,children:o,line:Ff,column:Pl,length:d,return:"",siblings:f}}function ds(e,t){return mg(If("",null,null,"",null,null,0,e.siblings),e,{length:-e.length},t)}function fl(e){for(;e.root;)e=ds(e.root,{children:[e]});rc(e,e.siblings)}function jU(){return on}function SU(){return on=ja>0?xn(ql,--ja):0,Pl--,on===10&&(Pl=1,Ff--),on}function Ma(){return on=ja<qN?xn(ql,ja++):0,Pl++,on===10&&(Pl=1,Ff++),on}function si(){return xn(ql,ja)}function ku(){return ja}function Bf(e,t){return Al(ql,e,t)}function pg(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function NU(e){return Ff=Pl=1,qN=Ka(ql=e),ja=0,[]}function _U(e){return ql="",e}function Ap(e){return BN(Bf(ja-1,gg(e===91?e+2:e===40?e+1:e)))}function CU(e){for(;(on=si())&&on<33;)Ma();return pg(e)>2||pg(on)>3?"":" "}function EU(e,t){for(;--t&&Ma()&&!(on<48||on>102||on>57&&on<65||on>70&&on<97););return Bf(e,ku()+(t<6&&si()==32&&Ma()==32))}function gg(e){for(;Ma();)switch(on){case e:return ja;case 34:case 39:e!==34&&e!==39&&gg(on);break;case 40:e===41&&gg(e);break;case 92:Ma();break}return ja}function RU(e,t){for(;Ma()&&e+on!==57;)if(e+on===84&&si()===47)break;return"/*"+Bf(t,ja-1)+"*"+yx(e===47?e:Ma())}function AU(e){for(;!pg(si());)Ma();return Bf(e,ja)}function PU(e){return _U(Du("",null,null,null,[""],e=NU(e),0,[0],e))}function Du(e,t,n,s,l,o,d,f,m){for(var p=0,g=0,b=d,y=0,w=0,j=0,S=1,E=1,R=1,A=0,N="",P=l,T=o,C=s,k=N;E;)switch(j=A,A=Ma()){case 40:if(j!=108&&xn(k,b-1)==58){Tu(k+=st(Ap(A),"&","&\f"),"&\f",IN(p?f[p-1]:0))!=-1&&(R=-1);break}case 34:case 39:case 91:k+=Ap(A);break;case 9:case 10:case 13:case 32:k+=CU(j);break;case 92:k+=EU(ku()-1,7);continue;case 47:switch(si()){case 42:case 47:rc(TU(RU(Ma(),ku()),t,n,m),m);break;default:k+="/"}break;case 123*S:f[p++]=Ka(k)*R;case 125*S:case 59:case 0:switch(A){case 0:case 125:E=0;case 59+g:R==-1&&(k=st(k,/\f/g,"")),w>0&&Ka(k)-b&&rc(w>32?m1(k+";",s,n,b-1,m):m1(st(k," ","")+";",s,n,b-2,m),m);break;case 59:k+=";";default:if(rc(C=h1(k,t,n,p,g,l,f,N,P=[],T=[],b,o),o),A===123)if(g===0)Du(k,t,C,C,P,o,b,f,T);else switch(y===99&&xn(k,3)===110?100:y){case 100:case 108:case 109:case 115:Du(e,C,C,s&&rc(h1(e,C,C,0,0,l,f,N,l,P=[],b,T),T),l,T,b,f,s?P:T);break;default:Du(k,C,C,C,[""],T,0,f,T)}}p=g=w=0,S=R=1,N=k="",b=d;break;case 58:b=1+Ka(k),w=j;default:if(S<1){if(A==123)--S;else if(A==125&&S++==0&&SU()==125)continue}switch(k+=yx(A),A*S){case 38:R=g>0?1:(k+="\f",-1);break;case 44:f[p++]=(Ka(k)-1)*R,R=1;break;case 64:si()===45&&(k+=Ap(Ma())),y=si(),g=b=Ka(N=k+=AU(ku())),A++;break;case 45:j===45&&Ka(k)==2&&(S=0)}}return o}function h1(e,t,n,s,l,o,d,f,m,p,g,b){for(var y=l-1,w=l===0?o:[""],j=zN(w),S=0,E=0,R=0;S<s;++S)for(var A=0,N=Al(e,y+1,y=IN(E=d[S])),P=e;A<j;++A)(P=BN(E>0?w[A]+" "+N:st(N,/&\f/g,w[A])))&&(m[R++]=P);return If(e,t,n,l===0?$f:f,m,p,g,b)}function TU(e,t,n,s){return If(e,t,n,$N,yx(jU()),Al(e,2,-2),0,s)}function m1(e,t,n,s,l){return If(e,t,n,vx,Al(e,0,s),Al(e,s+1,-1),s,l)}function HN(e,t,n){switch(yU(e,t)){case 5103:return Rt+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return Rt+e+e;case 4789:return pc+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return Rt+e+pc+e+Vt+e+e;case 5936:switch(xn(e,t+11)){case 114:return Rt+e+Vt+st(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return Rt+e+Vt+st(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return Rt+e+Vt+st(e,/[svh]\w+-[tblr]{2}/,"lr")+e}case 6828:case 4268:case 2903:return Rt+e+Vt+e+e;case 6165:return Rt+e+Vt+"flex-"+e+e;case 5187:return Rt+e+st(e,/(\w+).+(:[^]+)/,Rt+"box-$1$2"+Vt+"flex-$1$2")+e;case 5443:return Rt+e+Vt+"flex-item-"+st(e,/flex-|-self/g,"")+(wr(e,/flex-|baseline/)?"":Vt+"grid-row-"+st(e,/flex-|-self/g,""))+e;case 4675:return Rt+e+Vt+"flex-line-pack"+st(e,/align-content|flex-|-self/g,"")+e;case 5548:return Rt+e+Vt+st(e,"shrink","negative")+e;case 5292:return Rt+e+Vt+st(e,"basis","preferred-size")+e;case 6060:return Rt+"box-"+st(e,"-grow","")+Rt+e+Vt+st(e,"grow","positive")+e;case 4554:return Rt+st(e,/([^-])(transform)/g,"$1"+Rt+"$2")+e;case 6187:return st(st(st(e,/(zoom-|grab)/,Rt+"$1"),/(image-set)/,Rt+"$1"),e,"")+e;case 5495:case 3959:return st(e,/(image-set\([^]*)/,Rt+"$1$`$1");case 4968:return st(st(e,/(.+:)(flex-)?(.*)/,Rt+"box-pack:$3"+Vt+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+Rt+e+e;case 4200:if(!wr(e,/flex-|baseline/))return Vt+"grid-column-align"+Al(e,t)+e;break;case 2592:case 3360:return Vt+st(e,"template-","")+e;case 4384:case 3616:return n&&n.some(function(s,l){return t=l,wr(s.props,/grid-\w+-end/)})?~Tu(e+(n=n[t].value),"span",0)?e:Vt+st(e,"-start","")+e+Vt+"grid-row-span:"+(~Tu(n,"span",0)?wr(n,/\d+/):+wr(n,/\d+/)-+wr(e,/\d+/))+";":Vt+st(e,"-start","")+e;case 4896:case 4128:return n&&n.some(function(s){return wr(s.props,/grid-\w+-start/)})?e:Vt+st(st(e,"-end","-span"),"span ","")+e;case 4095:case 3583:case 4068:case 2532:return st(e,/(.+)-inline(.+)/,Rt+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Ka(e)-1-t>6)switch(xn(e,t+1)){case 109:if(xn(e,t+4)!==45)break;case 102:return st(e,/(.+:)(.+)-([^]+)/,"$1"+Rt+"$2-$3$1"+pc+(xn(e,t+3)==108?"$3":"$2-$3"))+e;case 115:return~Tu(e,"stretch",0)?HN(st(e,"stretch","fill-available"),t,n)+e:e}break;case 5152:case 5920:return st(e,/(.+?):(\d+)(\s*\/\s*(span)?\s*(\d+))?(.*)/,function(s,l,o,d,f,m,p){return Vt+l+":"+o+p+(d?Vt+l+"-span:"+(f?m:+m-+o)+p:"")+e});case 4949:if(xn(e,t+6)===121)return st(e,":",":"+Rt)+e;break;case 6444:switch(xn(e,xn(e,14)===45?18:11)){case 120:return st(e,/(.+:)([^;\s!]+)(;|(\s+)?!.+)?/,"$1"+Rt+(xn(e,14)===45?"inline-":"")+"box$3$1"+Rt+"$2$3$1"+Vt+"$2box$3")+e;case 100:return st(e,":",":"+Vt)+e}break;case 5719:case 2647:case 2135:case 3927:case 2391:return st(e,"scroll-","scroll-snap-")+e}return e}function nf(e,t){for(var n="",s=0;s<e.length;s++)n+=t(e[s],s,e,t)||"";return n}function kU(e,t,n,s){switch(e.type){case vU:if(e.children.length)break;case bU:case vx:return e.return=e.return||e.value;case $N:return"";case FN:return e.return=e.value+"{"+nf(e.children,s)+"}";case $f:if(!Ka(e.value=e.props.join(",")))return""}return Ka(n=nf(e.children,s))?e.return=e.value+"{"+n+"}":""}function DU(e){var t=zN(e);return function(n,s,l,o){for(var d="",f=0;f<t;f++)d+=e[f](n,s,l,o)||"";return d}}function MU(e){return function(t){t.root||(t=t.return)&&e(t)}}function OU(e,t,n,s){if(e.length>-1&&!e.return)switch(e.type){case vx:e.return=HN(e.value,e.length,n);return;case FN:return nf([ds(e,{value:st(e.value,"@","@"+Rt)})],s);case $f:if(e.length)return wU(n=e.props,function(l){switch(wr(l,s=/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":fl(ds(e,{props:[st(l,/:(read-\w+)/,":"+pc+"$1")]})),fl(ds(e,{props:[l]})),mg(e,{props:f1(n,s)});break;case"::placeholder":fl(ds(e,{props:[st(l,/:(plac\w+)/,":"+Rt+"input-$1")]})),fl(ds(e,{props:[st(l,/:(plac\w+)/,":"+pc+"$1")]})),fl(ds(e,{props:[st(l,/:(plac\w+)/,Vt+"input-$1")]})),fl(ds(e,{props:[l]})),mg(e,{props:f1(n,s)});break}return""})}}var LU={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},na={},Tl=typeof process<"u"&&na!==void 0&&(na.REACT_APP_SC_ATTR||na.SC_ATTR)||"data-styled",VN="active",GN="data-styled-version",zf="6.1.19",wx=`/*!sc*/
`,af=typeof window<"u"&&typeof document<"u",UU=!!(typeof SC_DISABLE_SPEEDY=="boolean"?SC_DISABLE_SPEEDY:typeof process<"u"&&na!==void 0&&na.REACT_APP_SC_DISABLE_SPEEDY!==void 0&&na.REACT_APP_SC_DISABLE_SPEEDY!==""?na.REACT_APP_SC_DISABLE_SPEEDY!=="false"&&na.REACT_APP_SC_DISABLE_SPEEDY:typeof process<"u"&&na!==void 0&&na.SC_DISABLE_SPEEDY!==void 0&&na.SC_DISABLE_SPEEDY!==""&&na.SC_DISABLE_SPEEDY!=="false"&&na.SC_DISABLE_SPEEDY),qf=Object.freeze([]),kl=Object.freeze({});function $U(e,t,n){return n===void 0&&(n=kl),e.theme!==n.theme&&e.theme||t||n.theme}var YN=new Set(["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","tr","track","u","ul","use","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"]),FU=/[!"#$%&'()*+,./:;<=>?@[\\\]^`{|}~-]+/g,IU=/(^-|-$)/g;function p1(e){return e.replace(FU,"-").replace(IU,"")}var BU=/(a)(d)/gi,xu=52,g1=function(e){return String.fromCharCode(e+(e>25?39:97))};function xg(e){var t,n="";for(t=Math.abs(e);t>xu;t=t/xu|0)n=g1(t%xu)+n;return(g1(t%xu)+n).replace(BU,"$1-$2")}var Pp,KN=5381,xl=function(e,t){for(var n=t.length;n;)e=33*e^t.charCodeAt(--n);return e},WN=function(e){return xl(KN,e)};function zU(e){return xg(WN(e)>>>0)}function qU(e){return e.displayName||e.name||"Component"}function Tp(e){return typeof e=="string"&&!0}var JN=typeof Symbol=="function"&&Symbol.for,ZN=JN?Symbol.for("react.memo"):60115,HU=JN?Symbol.for("react.forward_ref"):60112,VU={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},GU={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},XN={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},YU=((Pp={})[HU]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},Pp[ZN]=XN,Pp);function x1(e){return("type"in(t=e)&&t.type.$$typeof)===ZN?XN:"$$typeof"in e?YU[e.$$typeof]:VU;var t}var KU=Object.defineProperty,WU=Object.getOwnPropertyNames,b1=Object.getOwnPropertySymbols,JU=Object.getOwnPropertyDescriptor,ZU=Object.getPrototypeOf,v1=Object.prototype;function QN(e,t,n){if(typeof t!="string"){if(v1){var s=ZU(t);s&&s!==v1&&QN(e,s,n)}var l=WU(t);b1&&(l=l.concat(b1(t)));for(var o=x1(e),d=x1(t),f=0;f<l.length;++f){var m=l[f];if(!(m in GU||n&&n[m]||d&&m in d||o&&m in o)){var p=JU(t,m);try{KU(e,m,p)}catch{}}}}return e}function Dl(e){return typeof e=="function"}function jx(e){return typeof e=="object"&&"styledComponentId"in e}function ni(e,t){return e&&t?"".concat(e," ").concat(t):e||t||""}function y1(e,t){if(e.length===0)return"";for(var n=e[0],s=1;s<e.length;s++)n+=e[s];return n}function Cc(e){return e!==null&&typeof e=="object"&&e.constructor.name===Object.name&&!("props"in e&&e.$$typeof)}function bg(e,t,n){if(n===void 0&&(n=!1),!n&&!Cc(e)&&!Array.isArray(e))return t;if(Array.isArray(t))for(var s=0;s<t.length;s++)e[s]=bg(e[s],t[s]);else if(Cc(t))for(var s in t)e[s]=bg(e[s],t[s]);return e}function Sx(e,t){Object.defineProperty(e,"toString",{value:t})}function Bc(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return new Error("An error occurred. See https://github.com/styled-components/styled-components/blob/main/packages/styled-components/src/utils/errors.md#".concat(e," for more information.").concat(t.length>0?" Args: ".concat(t.join(", ")):""))}var XU=function(){function e(t){this.groupSizes=new Uint32Array(512),this.length=512,this.tag=t}return e.prototype.indexOfGroup=function(t){for(var n=0,s=0;s<t;s++)n+=this.groupSizes[s];return n},e.prototype.insertRules=function(t,n){if(t>=this.groupSizes.length){for(var s=this.groupSizes,l=s.length,o=l;t>=o;)if((o<<=1)<0)throw Bc(16,"".concat(t));this.groupSizes=new Uint32Array(o),this.groupSizes.set(s),this.length=o;for(var d=l;d<o;d++)this.groupSizes[d]=0}for(var f=this.indexOfGroup(t+1),m=(d=0,n.length);d<m;d++)this.tag.insertRule(f,n[d])&&(this.groupSizes[t]++,f++)},e.prototype.clearGroup=function(t){if(t<this.length){var n=this.groupSizes[t],s=this.indexOfGroup(t),l=s+n;this.groupSizes[t]=0;for(var o=s;o<l;o++)this.tag.deleteRule(s)}},e.prototype.getGroup=function(t){var n="";if(t>=this.length||this.groupSizes[t]===0)return n;for(var s=this.groupSizes[t],l=this.indexOfGroup(t),o=l+s,d=l;d<o;d++)n+="".concat(this.tag.getRule(d)).concat(wx);return n},e}(),Mu=new Map,rf=new Map,Ou=1,bu=function(e){if(Mu.has(e))return Mu.get(e);for(;rf.has(Ou);)Ou++;var t=Ou++;return Mu.set(e,t),rf.set(t,e),t},QU=function(e,t){Ou=t+1,Mu.set(e,t),rf.set(t,e)},e$="style[".concat(Tl,"][").concat(GN,'="').concat(zf,'"]'),t$=new RegExp("^".concat(Tl,'\\.g(\\d+)\\[id="([\\w\\d-]+)"\\].*?"([^"]*)')),n$=function(e,t,n){for(var s,l=n.split(","),o=0,d=l.length;o<d;o++)(s=l[o])&&e.registerName(t,s)},a$=function(e,t){for(var n,s=((n=t.textContent)!==null&&n!==void 0?n:"").split(wx),l=[],o=0,d=s.length;o<d;o++){var f=s[o].trim();if(f){var m=f.match(t$);if(m){var p=0|parseInt(m[1],10),g=m[2];p!==0&&(QU(g,p),n$(e,g,m[3]),e.getTag().insertRules(p,l)),l.length=0}else l.push(f)}}},w1=function(e){for(var t=document.querySelectorAll(e$),n=0,s=t.length;n<s;n++){var l=t[n];l&&l.getAttribute(Tl)!==VN&&(a$(e,l),l.parentNode&&l.parentNode.removeChild(l))}};function r$(){return typeof __webpack_nonce__<"u"?__webpack_nonce__:null}var e_=function(e){var t=document.head,n=e||t,s=document.createElement("style"),l=function(f){var m=Array.from(f.querySelectorAll("style[".concat(Tl,"]")));return m[m.length-1]}(n),o=l!==void 0?l.nextSibling:null;s.setAttribute(Tl,VN),s.setAttribute(GN,zf);var d=r$();return d&&s.setAttribute("nonce",d),n.insertBefore(s,o),s},s$=function(){function e(t){this.element=e_(t),this.element.appendChild(document.createTextNode("")),this.sheet=function(n){if(n.sheet)return n.sheet;for(var s=document.styleSheets,l=0,o=s.length;l<o;l++){var d=s[l];if(d.ownerNode===n)return d}throw Bc(17)}(this.element),this.length=0}return e.prototype.insertRule=function(t,n){try{return this.sheet.insertRule(n,t),this.length++,!0}catch{return!1}},e.prototype.deleteRule=function(t){this.sheet.deleteRule(t),this.length--},e.prototype.getRule=function(t){var n=this.sheet.cssRules[t];return n&&n.cssText?n.cssText:""},e}(),i$=function(){function e(t){this.element=e_(t),this.nodes=this.element.childNodes,this.length=0}return e.prototype.insertRule=function(t,n){if(t<=this.length&&t>=0){var s=document.createTextNode(n);return this.element.insertBefore(s,this.nodes[t]||null),this.length++,!0}return!1},e.prototype.deleteRule=function(t){this.element.removeChild(this.nodes[t]),this.length--},e.prototype.getRule=function(t){return t<this.length?this.nodes[t].textContent:""},e}(),l$=function(){function e(t){this.rules=[],this.length=0}return e.prototype.insertRule=function(t,n){return t<=this.length&&(this.rules.splice(t,0,n),this.length++,!0)},e.prototype.deleteRule=function(t){this.rules.splice(t,1),this.length--},e.prototype.getRule=function(t){return t<this.length?this.rules[t]:""},e}(),j1=af,o$={isServer:!af,useCSSOMInjection:!UU},t_=function(){function e(t,n,s){t===void 0&&(t=kl),n===void 0&&(n={});var l=this;this.options=Gn(Gn({},o$),t),this.gs=n,this.names=new Map(s),this.server=!!t.isServer,!this.server&&af&&j1&&(j1=!1,w1(this)),Sx(this,function(){return function(o){for(var d=o.getTag(),f=d.length,m="",p=function(b){var y=function(R){return rf.get(R)}(b);if(y===void 0)return"continue";var w=o.names.get(y),j=d.getGroup(b);if(w===void 0||!w.size||j.length===0)return"continue";var S="".concat(Tl,".g").concat(b,'[id="').concat(y,'"]'),E="";w!==void 0&&w.forEach(function(R){R.length>0&&(E+="".concat(R,","))}),m+="".concat(j).concat(S,'{content:"').concat(E,'"}').concat(wx)},g=0;g<f;g++)p(g);return m}(l)})}return e.registerId=function(t){return bu(t)},e.prototype.rehydrate=function(){!this.server&&af&&w1(this)},e.prototype.reconstructWithOptions=function(t,n){return n===void 0&&(n=!0),new e(Gn(Gn({},this.options),t),this.gs,n&&this.names||void 0)},e.prototype.allocateGSInstance=function(t){return this.gs[t]=(this.gs[t]||0)+1},e.prototype.getTag=function(){return this.tag||(this.tag=(t=function(n){var s=n.useCSSOMInjection,l=n.target;return n.isServer?new l$(l):s?new s$(l):new i$(l)}(this.options),new XU(t)));var t},e.prototype.hasNameForId=function(t,n){return this.names.has(t)&&this.names.get(t).has(n)},e.prototype.registerName=function(t,n){if(bu(t),this.names.has(t))this.names.get(t).add(n);else{var s=new Set;s.add(n),this.names.set(t,s)}},e.prototype.insertRules=function(t,n,s){this.registerName(t,n),this.getTag().insertRules(bu(t),s)},e.prototype.clearNames=function(t){this.names.has(t)&&this.names.get(t).clear()},e.prototype.clearRules=function(t){this.getTag().clearGroup(bu(t)),this.clearNames(t)},e.prototype.clearTag=function(){this.tag=void 0},e}(),c$=/&/g,d$=/^\s*\/\/.*$/gm;function n_(e,t){return e.map(function(n){return n.type==="rule"&&(n.value="".concat(t," ").concat(n.value),n.value=n.value.replaceAll(",",",".concat(t," ")),n.props=n.props.map(function(s){return"".concat(t," ").concat(s)})),Array.isArray(n.children)&&n.type!=="@keyframes"&&(n.children=n_(n.children,t)),n})}function u$(e){var t,n,s,l=kl,o=l.options,d=o===void 0?kl:o,f=l.plugins,m=f===void 0?qf:f,p=function(y,w,j){return j.startsWith(n)&&j.endsWith(n)&&j.replaceAll(n,"").length>0?".".concat(t):y},g=m.slice();g.push(function(y){y.type===$f&&y.value.includes("&")&&(y.props[0]=y.props[0].replace(c$,n).replace(s,p))}),d.prefix&&g.push(OU),g.push(kU);var b=function(y,w,j,S){w===void 0&&(w=""),j===void 0&&(j=""),S===void 0&&(S="&"),t=S,n=w,s=new RegExp("\\".concat(n,"\\b"),"g");var E=y.replace(d$,""),R=PU(j||w?"".concat(j," ").concat(w," { ").concat(E," }"):E);d.namespace&&(R=n_(R,d.namespace));var A=[];return nf(R,DU(g.concat(MU(function(N){return A.push(N)})))),A};return b.hash=m.length?m.reduce(function(y,w){return w.name||Bc(15),xl(y,w.name)},KN).toString():"",b}var f$=new t_,vg=u$(),a_=De.createContext({shouldForwardProp:void 0,styleSheet:f$,stylis:vg});a_.Consumer;De.createContext(void 0);function S1(){return h.useContext(a_)}var h$=function(){function e(t,n){var s=this;this.inject=function(l,o){o===void 0&&(o=vg);var d=s.name+o.hash;l.hasNameForId(s.id,d)||l.insertRules(s.id,d,o(s.rules,d,"@keyframes"))},this.name=t,this.id="sc-keyframes-".concat(t),this.rules=n,Sx(this,function(){throw Bc(12,String(s.name))})}return e.prototype.getName=function(t){return t===void 0&&(t=vg),this.name+t.hash},e}(),m$=function(e){return e>="A"&&e<="Z"};function N1(e){for(var t="",n=0;n<e.length;n++){var s=e[n];if(n===1&&s==="-"&&e[0]==="-")return e;m$(s)?t+="-"+s.toLowerCase():t+=s}return t.startsWith("ms-")?"-"+t:t}var r_=function(e){return e==null||e===!1||e===""},s_=function(e){var t,n,s=[];for(var l in e){var o=e[l];e.hasOwnProperty(l)&&!r_(o)&&(Array.isArray(o)&&o.isCss||Dl(o)?s.push("".concat(N1(l),":"),o,";"):Cc(o)?s.push.apply(s,tf(tf(["".concat(l," {")],s_(o),!1),["}"],!1)):s.push("".concat(N1(l),": ").concat((t=l,(n=o)==null||typeof n=="boolean"||n===""?"":typeof n!="number"||n===0||t in LU||t.startsWith("--")?String(n).trim():"".concat(n,"px")),";")))}return s};function ii(e,t,n,s){if(r_(e))return[];if(jx(e))return[".".concat(e.styledComponentId)];if(Dl(e)){if(!Dl(o=e)||o.prototype&&o.prototype.isReactComponent||!t)return[e];var l=e(t);return ii(l,t,n,s)}var o;return e instanceof h$?n?(e.inject(n,s),[e.getName(s)]):[e]:Cc(e)?s_(e):Array.isArray(e)?Array.prototype.concat.apply(qf,e.map(function(d){return ii(d,t,n,s)})):[e.toString()]}function p$(e){for(var t=0;t<e.length;t+=1){var n=e[t];if(Dl(n)&&!jx(n))return!1}return!0}var g$=WN(zf),x$=function(){function e(t,n,s){this.rules=t,this.staticRulesId="",this.isStatic=(s===void 0||s.isStatic)&&p$(t),this.componentId=n,this.baseHash=xl(g$,n),this.baseStyle=s,t_.registerId(n)}return e.prototype.generateAndInjectStyles=function(t,n,s){var l=this.baseStyle?this.baseStyle.generateAndInjectStyles(t,n,s):"";if(this.isStatic&&!s.hash)if(this.staticRulesId&&n.hasNameForId(this.componentId,this.staticRulesId))l=ni(l,this.staticRulesId);else{var o=y1(ii(this.rules,t,n,s)),d=xg(xl(this.baseHash,o)>>>0);if(!n.hasNameForId(this.componentId,d)){var f=s(o,".".concat(d),void 0,this.componentId);n.insertRules(this.componentId,d,f)}l=ni(l,d),this.staticRulesId=d}else{for(var m=xl(this.baseHash,s.hash),p="",g=0;g<this.rules.length;g++){var b=this.rules[g];if(typeof b=="string")p+=b;else if(b){var y=y1(ii(b,t,n,s));m=xl(m,y+g),p+=y}}if(p){var w=xg(m>>>0);n.hasNameForId(this.componentId,w)||n.insertRules(this.componentId,w,s(p,".".concat(w),void 0,this.componentId)),l=ni(l,w)}}return l},e}(),i_=De.createContext(void 0);i_.Consumer;var kp={};function b$(e,t,n){var s=jx(e),l=e,o=!Tp(e),d=t.attrs,f=d===void 0?qf:d,m=t.componentId,p=m===void 0?function(P,T){var C=typeof P!="string"?"sc":p1(P);kp[C]=(kp[C]||0)+1;var k="".concat(C,"-").concat(zU(zf+C+kp[C]));return T?"".concat(T,"-").concat(k):k}(t.displayName,t.parentComponentId):m,g=t.displayName,b=g===void 0?function(P){return Tp(P)?"styled.".concat(P):"Styled(".concat(qU(P),")")}(e):g,y=t.displayName&&t.componentId?"".concat(p1(t.displayName),"-").concat(t.componentId):t.componentId||p,w=s&&l.attrs?l.attrs.concat(f).filter(Boolean):f,j=t.shouldForwardProp;if(s&&l.shouldForwardProp){var S=l.shouldForwardProp;if(t.shouldForwardProp){var E=t.shouldForwardProp;j=function(P,T){return S(P,T)&&E(P,T)}}else j=S}var R=new x$(n,y,s?l.componentStyle:void 0);function A(P,T){return function(C,k,$){var O=C.attrs,V=C.componentStyle,W=C.defaultProps,L=C.foldedComponentIds,F=C.styledComponentId,B=C.target,te=De.useContext(i_),U=S1(),q=C.shouldForwardProp||U.shouldForwardProp,G=$U(k,te,W)||kl,J=function(he,ge,we){for(var Te,ue=Gn(Gn({},ge),{className:void 0,theme:we}),xe=0;xe<he.length;xe+=1){var Ne=Dl(Te=he[xe])?Te(ue):Te;for(var Pe in Ne)ue[Pe]=Pe==="className"?ni(ue[Pe],Ne[Pe]):Pe==="style"?Gn(Gn({},ue[Pe]),Ne[Pe]):Ne[Pe]}return ge.className&&(ue.className=ni(ue.className,ge.className)),ue}(O,k,G),D=J.as||B,z={};for(var ae in J)J[ae]===void 0||ae[0]==="$"||ae==="as"||ae==="theme"&&J.theme===G||(ae==="forwardedAs"?z.as=J.forwardedAs:q&&!q(ae,D)||(z[ae]=J[ae]));var Q=function(he,ge){var we=S1(),Te=he.generateAndInjectStyles(ge,we.styleSheet,we.stylis);return Te}(V,J),ne=ni(L,F);return Q&&(ne+=" "+Q),J.className&&(ne+=" "+J.className),z[Tp(D)&&!YN.has(D)?"class":"className"]=ne,$&&(z.ref=$),h.createElement(D,z)}(N,P,T)}A.displayName=b;var N=De.forwardRef(A);return N.attrs=w,N.componentStyle=R,N.displayName=b,N.shouldForwardProp=j,N.foldedComponentIds=s?ni(l.foldedComponentIds,l.styledComponentId):"",N.styledComponentId=y,N.target=s?l.target:e,Object.defineProperty(N,"defaultProps",{get:function(){return this._foldedDefaultProps},set:function(P){this._foldedDefaultProps=s?function(T){for(var C=[],k=1;k<arguments.length;k++)C[k-1]=arguments[k];for(var $=0,O=C;$<O.length;$++)bg(T,O[$],!0);return T}({},l.defaultProps,P):P}}),Sx(N,function(){return".".concat(N.styledComponentId)}),o&&QN(N,e,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,shouldForwardProp:!0,styledComponentId:!0,target:!0}),N}function _1(e,t){for(var n=[e[0]],s=0,l=t.length;s<l;s+=1)n.push(t[s],e[s+1]);return n}var C1=function(e){return Object.assign(e,{isCss:!0})};function v$(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(Dl(e)||Cc(e))return C1(ii(_1(qf,tf([e],t,!0))));var s=e;return t.length===0&&s.length===1&&typeof s[0]=="string"?ii(s):C1(ii(_1(s,t)))}function yg(e,t,n){if(n===void 0&&(n=kl),!t)throw Bc(1,t);var s=function(l){for(var o=[],d=1;d<arguments.length;d++)o[d-1]=arguments[d];return e(t,n,v$.apply(void 0,tf([l],o,!1)))};return s.attrs=function(l){return yg(e,t,Gn(Gn({},n),{attrs:Array.prototype.concat(n.attrs,l).filter(Boolean)}))},s.withConfig=function(l){return yg(e,t,Gn(Gn({},n),l))},s}var l_=function(e){return yg(b$,e)},Xe=l_;YN.forEach(function(e){Xe[e]=l_(e)});const E1="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2051.79%2034.83'%3e%3cdefs%3e%3cstyle%3e.cls-1{fill:%23037cdb;opacity:0.3;}.cls-2{fill:%23fff;stroke:%23324858;stroke-linecap:round;stroke-linejoin:round;}%3c/style%3e%3c/defs%3e%3ctitle%3eRecurso%2017%3c/title%3e%3cg%20id='Capa_2'%20data-name='Capa%202'%3e%3cg%20id='Capa_1-2'%20data-name='Capa%201'%3e%3cpath%20class='cls-1'%20d='M50.48,19.85C51.81,38.59,32.75,34.41,26.1,34.34h-.46C19,34.41.8,38.81,1.26,19.85L8.39,23H43.33Z'/%3e%3cpath%20class='cls-1'%20d='M50.48,8.8C51.3-3.83,32.75.83,26.1.9a.85.85,0,0,0-.23,0,.91.91,0,0,0-.23,0C19,.83.44-3.83,1.26,8.8L3.4,11.86h45Z'/%3e%3cpath%20class='cls-2'%20d='M2.61,8.87S.47,8.18.5,11.41s2.11,2.52,2.11,2.52'/%3e%3cpath%20class='cls-2'%20d='M2.86,21.72s-1.6,0-1.6-2.28c0-1.87.6-2.66,1.9-3.08a2.15,2.15,0,0,1,2.39.89'/%3e%3cpath%20class='cls-2'%20d='M4.59,23.27s-1.84.31-1.72-2.41,1.49-3.4,2.42-3.56a1.8,1.8,0,0,1,2.06,1'/%3e%3cpath%20class='cls-2'%20d='M6.61,25.25S4.26,25.57,4.48,21a2.42,2.42,0,0,1,1-1.82L5.72,19a2.41,2.41,0,0,1,3.43.5l.08.13'/%3e%3cpath%20class='cls-2'%20d='M11.32,20.82a2.55,2.55,0,0,0-3.51-.92c-2.47,1.09-1.33,7.77.32,7.43a3.23,3.23,0,0,0,2.31-1.6'/%3e%3cpath%20class='cls-2'%20d='M15.3,22.18s-2-3.06-4.15-1.23c-1.88,1.62-.43,9.92,2.11,8.51a4.39,4.39,0,0,0,2.34-2.75'/%3e%3cpath%20class='cls-2'%20d='M20.52,22.83a1,1,0,0,0-.7-1.16,12,12,0,0,0-3.88,0c-.51.08-.75.58-.75,1.14,0,3.63.71,5.11,1.39,6.1a1.93,1.93,0,0,0,3.05.18A6.23,6.23,0,0,0,20.74,26'/%3e%3cpath%20class='cls-2'%20d='M21.27,21.65c-.51.08-.75.58-.74,1.14,0,3.63.71,5.53,1.39,6.52a1.49,1.49,0,0,0,2.46,0c.67-1,1.38-2.87,1.48-6.48a1,1,0,0,0-.71-1.16A12,12,0,0,0,21.27,21.65Z'/%3e%3cpath%20class='cls-2'%20d='M4.76,8.78s-2-1-2.31.46-.39,5.12.93,5.65a2,2,0,0,0,1.38-.06'/%3e%3cpath%20class='cls-2'%20d='M7.43,8.56s-1.76-1.22-2.55,0-.76,6.42.43,7c.71.38,1.94-.48,1.94-.48'/%3e%3cpath%20class='cls-2'%20d='M11.56,9.92a3.58,3.58,0,0,0-2-2.12A1.82,1.82,0,0,0,7.15,9.22c-.48,1.87-.51,5.25.69,7.32,1.06,1.82,3.34-.35,3.34-.35'/%3e%3cpath%20class='cls-2'%20d='M17.36,11c-.92-3.1-3.27-4.55-4.74-3.21s-1.7,5.69-1.5,7.69a2.63,2.63,0,0,0,1.09,1.75c1.41,1.18,4.46.06,4.46.06'/%3e%3cpath%20class='cls-2'%20d='M21.24,19.31a9.4,9.4,0,0,0,3.4-.61,2.11,2.11,0,0,0,1.25-2c0-10.53-4.47-10.16-4.47-10.16s-4.43-.49-4.75,10a2.11,2.11,0,0,0,1.2,2,9.33,9.33,0,0,0,3.37.7'/%3e%3cpath%20class='cls-2'%20d='M49.18,8.87s2.14-.69,2.11,2.54-2.11,2.52-2.11,2.52'/%3e%3cpath%20class='cls-2'%20d='M48.92,21.72s1.61,0,1.61-2.28c0-1.87-.61-2.66-1.91-3.08a2.14,2.14,0,0,0-2.38.89'/%3e%3cpath%20class='cls-2'%20d='M47.2,23.27s1.84.31,1.72-2.41-1.49-3.4-2.43-3.56a1.79,1.79,0,0,0-2.05,1'/%3e%3cpath%20class='cls-2'%20d='M45.18,25.25s2.35.32,2.12-4.26a2.41,2.41,0,0,0-.95-1.82L46.07,19a2.41,2.41,0,0,0-3.43.5l-.08.13'/%3e%3cpath%20class='cls-2'%20d='M40.47,20.82A2.54,2.54,0,0,1,44,19.9c2.47,1.09,1.33,7.77-.33,7.43a3.22,3.22,0,0,1-2.3-1.6'/%3e%3cpath%20class='cls-2'%20d='M36.48,22.18s2-3.06,4.16-1.23c1.88,1.62.42,9.92-2.12,8.51a4.39,4.39,0,0,1-2.33-2.75'/%3e%3cpath%20class='cls-2'%20d='M31.26,22.83A1,1,0,0,1,32,21.67a12,12,0,0,1,3.88,0c.51.08.75.58.75,1.14,0,3.63-.71,5.11-1.39,6.1a1.93,1.93,0,0,1-3.05.18A6.14,6.14,0,0,1,31.05,26'/%3e%3cpath%20class='cls-2'%20d='M30.52,21.65c.51.08.74.58.74,1.14,0,3.63-.71,5.53-1.39,6.52a1.49,1.49,0,0,1-2.46,0c-.67-1-1.38-2.87-1.48-6.48a1,1,0,0,1,.71-1.16A12,12,0,0,1,30.52,21.65Z'/%3e%3cpath%20class='cls-2'%20d='M47,8.78s2-1,2.31.46.4,5.12-.92,5.65A2,2,0,0,1,47,14.83'/%3e%3cpath%20class='cls-2'%20d='M44.36,8.56s1.76-1.22,2.55,0,.76,6.42-.44,7c-.7.38-1.93-.48-1.93-.48'/%3e%3cpath%20class='cls-2'%20d='M40.23,9.92a3.55,3.55,0,0,1,2-2.12,1.82,1.82,0,0,1,2.37,1.42c.48,1.87.51,5.25-.69,7.32-1.06,1.82-3.34-.35-3.34-.35'/%3e%3cpath%20class='cls-2'%20d='M34.43,11c.92-3.1,3.27-4.55,4.73-3.21s1.71,5.69,1.5,7.69a2.61,2.61,0,0,1-1.08,1.75c-1.41,1.18-4.46.06-4.46.06'/%3e%3cpath%20class='cls-2'%20d='M30.54,19.31a9.34,9.34,0,0,1-3.39-.61,2.14,2.14,0,0,1-1.26-2c0-10.53,4.48-10.16,4.48-10.16s4.43-.49,4.75,10a2.13,2.13,0,0,1-1.2,2,9.37,9.37,0,0,1-3.38.7'/%3e%3c/g%3e%3c/g%3e%3c/svg%3e",R1="/assets/aligner-front-active-Pkr1rJle.svg",A1="/assets/aligner-left-RbIXASHp.svg",P1="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2049.66%2033.84'%3e%3cdefs%3e%3cstyle%3e.cls-1{fill:%23324858;}.cls-2{fill:%23fff;stroke:%23324858;stroke-miterlimit:10;}%3c/style%3e%3c/defs%3e%3ctitle%3eRecurso%2014%3c/title%3e%3cg%20id='Capa_2'%20data-name='Capa%202'%3e%3cg%20id='Capa_1-2'%20data-name='Capa%201'%3e%3cpath%20class='cls-1'%20d='M18,.28h.1a2.48,2.48,0,0,1,0,5c-4.24.4-6.65.17-1.61,1.06,5.3,1,10.92-.75,15.1-2.61A18.17,18.17,0,0,1,42.74,2.41l.47.11c5.27,1.36,6.54,5,6.44,8.78a3.35,3.35,0,0,1-1.89,3L20.93,18.18,7.19,14.09,1.14,10.22C2-.35,9.3-.5,18,.28Z'/%3e%3cpath%20class='cls-1'%20d='M.56,20.49s-2.51,9,3.09,11.17C17.84,37.22,44,30.41,44,30.41a7.2,7.2,0,0,0,4.29-6c.41-3.43-1.08-4.15-1.08-4.15l-3.37,1.44-7.79,2.7-6.83,1.1-6.4.39-6.45,0L11.91,25,6.18,23.88l-3.8-.95Z'/%3e%3cpath%20class='cls-2'%20d='M39.32,22.62a7.75,7.75,0,0,0,3.8,1.44c1.91,0,4.36-1,4.09-4.21-.17-2.11-.55-2.35-1.39-3.07'/%3e%3cpath%20class='cls-2'%20d='M2.64,16.63c-1.39.57-2.48,3.77-2,5.49.37,1.41,1.6,3.78,3.64,1.06'/%3e%3cpath%20class='cls-2'%20d='M32.76,24.18a5,5,0,0,0,3.18,1.27c1.68-.09,3.86-1.27,3.4-4.46a4,4,0,0,0-.93-2.5'/%3e%3cpath%20class='cls-2'%20d='M31.4,20C33,21.09,33.74,26.08,30,26.8s-4.17-2.38-4.17-2.38'/%3e%3cpath%20class='cls-2'%20d='M25.58,21.34c1.16,1.85-.52,7.73-3.09,6.52-1.78-.85-2.82-1.74-2.73-5.09'/%3e%3cpath%20class='cls-2'%20d='M4.49,18.91c-.57,4.25,0,6.78,1.57,6.91,1.42.12,3-1,3.63-5.73'/%3e%3cpath%20class='cls-2'%20d='M14.49,23.28c-.07,1.23-.89,3.77-3.19,3.59-1.53-.12-2.55-2.35-1.53-7.15'/%3e%3cpath%20class='cls-2'%20d='M19.45,21.14c1,1.33-.27,6.63-3,6.37-1.78-.16-2.21-2.49-1.92-6'/%3e%3cpath%20class='cls-2'%20d='M5.22,11.79c.08-1-2-4.77-3.75-2.14-1.95,2.94-.55,7,2.2,7.29'/%3e%3cpath%20class='cls-2'%20d='M38.63,17.9c.93,1.05,2.81-.35,5-.81s4.5-.45,3.88-3.58-5.29-3.26-5.29-3.26a5.26,5.26,0,0,0-4.86,3.42'/%3e%3cpath%20class='cls-2'%20d='M10.63,14.1c.29-3.77-3.78-6.17-6-1.16-1.17,2.59-.94,4.44-.55,5.32.81,1.82,3.75,1.84,5.87,1.21'/%3e%3cpath%20class='cls-2'%20d='M30.1,15.17s1.33-2.59,3.66-2.62,4.16.85,4.71,3.15,0,3.53-1.26,3.46a6.29,6.29,0,0,0-3.83.75c-1.47.83-3.37-.6-3.37-.6'/%3e%3cpath%20class='cls-2'%20d='M24.1,15.45s1.06-2.73,3.33-2.77,2.75,2.57,2.89,3.55c.25,1.85-.42,5.75-3.43,5.54a3.75,3.75,0,0,1-2.84-2.22'/%3e%3cpath%20class='cls-2'%20d='M17.93,16.46s.47-3.53,3.43-3.41,3.34,3.67,2.69,6.5-6.1,1.84-6.51.3'/%3e%3cpath%20class='cls-2'%20d='M17.35,20.28C16,22.11,10.13,21,10,19.17c.15-3.84.69-8.23,4.49-8C18.88,11.52,18.13,19.23,17.35,20.28Z'/%3e%3c/g%3e%3c/g%3e%3c/svg%3e",T1="/assets/aligner-right-D6fD7OoG.svg",k1="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2049.66%2033.84'%3e%3cdefs%3e%3cstyle%3e.cls-1{fill:%23324858;}.cls-2{fill:%23fff;stroke:%23324858;stroke-miterlimit:10;}%3c/style%3e%3c/defs%3e%3ctitle%3eRecurso%2012%3c/title%3e%3cg%20id='Capa_2'%20data-name='Capa%202'%3e%3cg%20id='Capa_1-2'%20data-name='Capa%201'%3e%3cpath%20class='cls-1'%20d='M31.63.28h-.11a2.49,2.49,0,0,0,0,5c4.24.4,6.65.17,1.62,1.06-5.31,1-10.93-.75-15.1-2.61A18.19,18.19,0,0,0,6.91,2.41l-.47.11C1.17,3.88-.09,7.49,0,11.3a3.33,3.33,0,0,0,1.89,3l26.83,3.88,13.74-4.09,6.05-3.87C47.69-.35,40.36-.5,31.63.28Z'/%3e%3cpath%20class='cls-1'%20d='M49.09,20.49s2.52,9-3.08,11.17C31.82,37.22,5.63,30.41,5.63,30.41a7.2,7.2,0,0,1-4.29-6C.94,21,2.42,20.28,2.42,20.28L5.8,21.72l7.78,2.7,6.83,1.1,6.4.39,6.46,0L37.74,25l5.74-1.08,3.79-.95Z'/%3e%3cpath%20class='cls-2'%20d='M10.33,22.62a7.75,7.75,0,0,1-3.8,1.44c-1.9,0-4.35-1-4.08-4.21.17-2.11.54-2.35,1.38-3.07'/%3e%3cpath%20class='cls-2'%20d='M47,16.63c1.39.57,2.47,3.77,2,5.49-.37,1.41-1.61,3.78-3.65,1.06'/%3e%3cpath%20class='cls-2'%20d='M16.9,24.18a5,5,0,0,1-3.18,1.27C12,25.36,9.85,24.18,10.31,21a4.05,4.05,0,0,1,.93-2.5'/%3e%3cpath%20class='cls-2'%20d='M18.26,20c-1.6,1.08-2.35,6.07,1.44,6.79s4.16-2.38,4.16-2.38'/%3e%3cpath%20class='cls-2'%20d='M24.07,21.34c-1.16,1.85.53,7.73,3.09,6.52,1.78-.85,2.83-1.74,2.73-5.09'/%3e%3cpath%20class='cls-2'%20d='M45.17,18.91c.56,4.25,0,6.78-1.57,6.91-1.42.12-3-1-3.64-5.73'/%3e%3cpath%20class='cls-2'%20d='M35.17,23.28c.06,1.23.88,3.77,3.19,3.59,1.52-.12,2.55-2.35,1.53-7.15'/%3e%3cpath%20class='cls-2'%20d='M30.21,21.14c-1,1.33.27,6.63,2.95,6.37,1.79-.16,2.22-2.49,1.92-6'/%3e%3cpath%20class='cls-2'%20d='M44.43,11.79c-.08-1,2-4.77,3.76-2.14,1.94,2.94.55,7-2.21,7.29'/%3e%3cpath%20class='cls-2'%20d='M11,17.9c-.93,1.05-2.8-.35-5-.81s-4.5-.45-3.87-3.58,5.28-3.26,5.28-3.26a5.28,5.28,0,0,1,4.87,3.42'/%3e%3cpath%20class='cls-2'%20d='M39,14.1c-.3-3.77,3.77-6.17,6-1.16,1.18,2.59.94,4.44.55,5.32-.8,1.82-3.74,1.84-5.86,1.21'/%3e%3cpath%20class='cls-2'%20d='M19.55,15.17s-1.32-2.59-3.66-2.62-4.16.85-4.71,3.15,0,3.53,1.27,3.46a6.26,6.26,0,0,1,3.82.75c1.48.83,3.38-.6,3.38-.6'/%3e%3cpath%20class='cls-2'%20d='M25.55,15.45s-1.06-2.73-3.32-2.77-2.75,2.57-2.89,3.55c-.26,1.85.41,5.75,3.42,5.54a3.75,3.75,0,0,0,2.85-2.22'/%3e%3cpath%20class='cls-2'%20d='M31.72,16.46s-.47-3.53-3.42-3.41-3.35,3.67-2.69,6.5,6.09,1.84,6.51.3'/%3e%3cpath%20class='cls-2'%20d='M32.31,20.28c1.37,1.83,7.22.7,7.39-1.11-.16-3.84-.69-8.23-4.5-8C30.77,11.52,31.53,19.23,32.31,20.28Z'/%3e%3c/g%3e%3c/g%3e%3c/svg%3e",D1="/assets/aligner-upper-DapjTZhE.svg",M1="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2053.11%2039.15'%3e%3cdefs%3e%3cstyle%3e.cls-1{fill:%23324858;}.cls-2{fill:%23fff;}.cls-2,.cls-3{stroke:%23324858;stroke-linecap:round;stroke-linejoin:round;}.cls-3{fill:none;stroke-width:0.5px;}%3c/style%3e%3c/defs%3e%3ctitle%3eRecurso%2011%3c/title%3e%3cg%20id='Capa_2'%20data-name='Capa%202'%3e%3cg%20id='Capa_1-2'%20data-name='Capa%201'%3e%3cpath%20class='cls-1'%20d='M7.81,8.36C3.41,13.37,0,20.75,0,31.6a7.74,7.74,0,0,0,7.49,7.54c4.53.21,8.27-3.15,8.27-7.33a23.46,23.46,0,0,1,3.12-12.53,9.14,9.14,0,0,1,15.35,0,23.47,23.47,0,0,1,3.12,12.38,7.89,7.89,0,0,0,15.76.14c0-11.57-3.74-19.21-8.41-24.23C35-2.92,17.24-2.38,7.81,8.36Z'/%3e%3cpath%20class='cls-2'%20d='M24.89,11.63c1.52-.38,1.8-4,1.28-5.89-.57-2.09-6.32-.4-5.81,1.55C20.75,8.77,23.14,12.07,24.89,11.63Z'/%3e%3cpath%20class='cls-2'%20d='M19.48,13.26c1.07-.61.52-3.74-.29-5.27s-4.89.86-4.09,2.43C15.71,11.61,18.24,14,19.48,13.26Z'/%3e%3cpath%20class='cls-2'%20d='M16.39,16.62c.79-1.22-.82-3.91-2.48-5.07-.93-.65-1.91.62-3,1.24s-.73,3,.1,3.56C12.26,17.26,15.47,18,16.39,16.62Z'/%3e%3cpath%20class='cls-2'%20d='M13.84,22.6c.76-2-1-4.68-2.83-5.5s-3.18.47-4.11,1.35c-1.18,1.12.35,4.32,1.23,4.83C9.49,24.07,13.25,24.17,13.84,22.6Z'/%3e%3cpath%20class='cls-2'%20d='M9.35,23.84a16.54,16.54,0,0,0-2.88-.43c-.78,0-3.22,1.31-3.12,3.66a16.79,16.79,0,0,0,.52,3.74,4.28,4.28,0,0,0,3.55,2.67H7.5a5.15,5.15,0,0,0,4.81-2.76,3.9,3.9,0,0,0,.27-.65l.13-.4a4.76,4.76,0,0,0,.19-2.12,2.28,2.28,0,0,0-.28-.88C12.18,26,10.51,24.07,9.35,23.84Z'/%3e%3cpath%20class='cls-2'%20d='M29.13,11.63c-1.51-.38-1.8-4-1.28-5.89.58-2.09,6.32-.4,5.81,1.55C33.27,8.77,30.88,12.07,29.13,11.63Z'/%3e%3cpath%20class='cls-2'%20d='M34.55,13.26c-1.08-.61-.52-3.74.28-5.27s4.9.86,4.09,2.43C38.31,11.61,35.78,14,34.55,13.26Z'/%3e%3cpath%20class='cls-2'%20d='M37.64,16.62c-.79-1.22.82-3.91,2.47-5.07.93-.65,1.91.62,3,1.24s.73,3-.1,3.56C41.77,17.26,38.55,18,37.64,16.62Z'/%3e%3cpath%20class='cls-2'%20d='M40.18,22.6c-.76-2,1-4.68,2.83-5.5s3.18.47,4.11,1.35c1.19,1.12-.35,4.32-1.23,4.83C44.53,24.07,40.77,24.17,40.18,22.6Z'/%3e%3cpath%20class='cls-2'%20d='M44.67,23.84a16.54,16.54,0,0,1,2.88-.43c.78,0,3.22,1.31,3.12,3.66a16.09,16.09,0,0,1-.52,3.74,4.28,4.28,0,0,1-3.55,2.67h-.08a5.16,5.16,0,0,1-4.81-2.76,3.9,3.9,0,0,1-.27-.65l-.13-.4a4.91,4.91,0,0,1-.19-2.12,2.28,2.28,0,0,1,.28-.88C41.84,26,43.51,24.07,44.67,23.84Z'/%3e%3cpath%20class='cls-3'%20d='M8.41,25.11a3.24,3.24,0,0,1-3.24,2.28'/%3e%3cpath%20class='cls-3'%20d='M7.5,31.64a3.25,3.25,0,0,1,3.24-2.29'/%3e%3cpath%20class='cls-3'%20d='M5.17,30.16s3.55-3.06,5.57-2.42'/%3e%3cpath%20class='cls-3'%20d='M8.68,20.91s1.89-1.63,3-1.29'/%3e%3cpath%20class='cls-3'%20d='M45.64,25.11a3.24,3.24,0,0,0,3.24,2.28'/%3e%3cpath%20class='cls-3'%20d='M46.55,31.64a3.25,3.25,0,0,0-3.24-2.29'/%3e%3cpath%20class='cls-3'%20d='M48.88,30.16s-3.55-3.06-5.57-2.42'/%3e%3cpath%20class='cls-3'%20d='M45.38,20.91s-1.9-1.63-3-1.29'/%3e%3c/g%3e%3c/g%3e%3c/svg%3e",O1="/assets/aligner-lower-BrDaugTS.svg",L1="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2051.91%2040.18'%3e%3cdefs%3e%3cstyle%3e.cls-1{fill:%23324858;}.cls-2{fill:%23fff;}.cls-2,.cls-3{stroke:%23324858;stroke-linecap:round;stroke-linejoin:round;}.cls-3{fill:none;stroke-width:0.5px;}%3c/style%3e%3c/defs%3e%3ctitle%3eRecurso%2015%3c/title%3e%3cg%20id='Capa_2'%20data-name='Capa%202'%3e%3cg%20id='Capa_1-2'%20data-name='Capa%201'%3e%3cpath%20class='cls-1'%20d='M44.28,31.6c4.29-5.14,7.64-12.71,7.63-23.85A7.76,7.76,0,0,0,44.59,0a7.62,7.62,0,0,0-8.08,7.52,25,25,0,0,1-3.06,12.86,8.7,8.7,0,0,1-15,0,24.92,24.92,0,0,1-3-12.7A7.76,7.76,0,0,0,7.94,0,7.62,7.62,0,0,0,0,7.53C0,19.41,3.65,27.25,8.21,32.41,17.74,43.18,35.06,42.62,44.28,31.6Z'/%3e%3cpath%20class='cls-2'%20d='M24.33,30.46s-.86-.86-1.84.3-2.43,3.75-1.8,4.95,3,1.32,3.59.93.91-1,.91-2.88A5,5,0,0,0,24.33,30.46Z'/%3e%3cpath%20class='cls-2'%20d='M18.74,29.18s-1.83-.3-3.48,2.59,2.36,4.57,3.81,2.89C19.69,33.93,20.73,29.6,18.74,29.18Z'/%3e%3cpath%20class='cls-2'%20d='M15.38,28.12A1.4,1.4,0,0,0,14.24,27c-1.18-.23-3.1-.56-4.6.6-2.17,1.69,2.47,6.33,4.08,5.05A5.1,5.1,0,0,0,15.38,28.12Z'/%3e%3cpath%20class='cls-2'%20d='M27.58,30.46s.86-.86,1.84.3,2.44,3.75,1.8,4.95-3,1.32-3.59.93-.91-1-.91-2.88A5.07,5.07,0,0,1,27.58,30.46Z'/%3e%3cpath%20class='cls-2'%20d='M33.17,29.18s1.84-.3,3.49,2.59-2.37,4.57-3.82,2.89C32.22,33.93,31.18,29.6,33.17,29.18Z'/%3e%3cpath%20class='cls-2'%20d='M36.53,28.12A1.42,1.42,0,0,1,37.67,27c1.18-.23,3.1-.56,4.6.6,2.18,1.69-2.46,6.33-4.08,5.05A5.13,5.13,0,0,1,36.53,28.12Z'/%3e%3cpath%20class='cls-2'%20d='M42.22,16a4.59,4.59,0,0,1,2.87.84c1.32,1,.17,2.13.51,3.38s.87,4.55-1.19,5.8-3.91,1-4.75,0a4.54,4.54,0,0,1-.51-4.38c.61-1.59-.37-2.91.51-4.43A2.55,2.55,0,0,1,42.22,16Z'/%3e%3cpath%20class='cls-2'%20d='M43.65,4.66a5.5,5.5,0,0,1,2.93.93c1.25.92,1.31,1.81,1.63,3s-.48,5.2-2.42,6.38-4.14.67-4.94-.29a4.61,4.61,0,0,1-.67-4.27c.58-1.5-.16-2.87.67-4.3A3.47,3.47,0,0,1,43.65,4.66Z'/%3e%3cpath%20class='cls-3'%20d='M42.37,18.41a12.75,12.75,0,0,1,0,5.64'/%3e%3cpath%20class='cls-3'%20d='M44.69,19.77a7.12,7.12,0,0,1-2,.31'/%3e%3cpath%20class='cls-3'%20d='M40.66,20.83a7.36,7.36,0,0,0,2.05-.07'/%3e%3cpath%20class='cls-3'%20d='M43.94,7.56a21.55,21.55,0,0,1-.38,6'/%3e%3cpath%20class='cls-3'%20d='M41.46,10.19a12.83,12.83,0,0,1,4.64.38'/%3e%3cpath%20class='cls-2'%20d='M9.69,16a4.59,4.59,0,0,0-2.87.84c-1.31,1-.16,2.13-.5,3.38S5.44,24.72,7.5,26s3.91,1,4.76,0a4.57,4.57,0,0,0,.5-4.38c-.6-1.59.38-2.91-.5-4.43A2.56,2.56,0,0,0,9.69,16Z'/%3e%3cpath%20class='cls-2'%20d='M8.26,4.66a5.5,5.5,0,0,0-2.93.93C4.09,6.51,4,7.4,3.71,8.58s.47,5.2,2.42,6.38,4.13.67,4.93-.29a4.59,4.59,0,0,0,.67-4.27c-.57-1.5.17-2.87-.66-4.3A3.48,3.48,0,0,0,8.26,4.66Z'/%3e%3cpath%20class='cls-3'%20d='M9.54,18.41a12.92,12.92,0,0,0,0,5.64'/%3e%3cpath%20class='cls-3'%20d='M7.23,19.77a7,7,0,0,0,2,.31'/%3e%3cpath%20class='cls-3'%20d='M11.25,20.83a7.29,7.29,0,0,1-2-.07'/%3e%3cpath%20class='cls-3'%20d='M8,7.56a21.55,21.55,0,0,0,.38,6'/%3e%3cpath%20class='cls-3'%20d='M10.59,10.19a14.29,14.29,0,0,0-4.9.38'/%3e%3c/g%3e%3c/g%3e%3c/svg%3e",y$="/assets/aligner-info-upper-DUqiEBFF.svg",w$="/assets/aligner-info-lower-BjIw_2eg.svg",Ya=({isActive:e,activeIcon:t,disabledIcon:n,name:s,viewChanger:l})=>e?r.jsxs(S$,{children:[r.jsx(U1,{src:t}),r.jsx($1,{children:s})]}):r.jsxs(j$,{onClick:()=>l(s),children:[r.jsx(U1,{src:n}),r.jsx($1,{children:s})]}),U1=Xe.img`
  width: 43px;
  height: 40px;
  display: block;

  @media (max-width: 570px) {
    width: 35px;
  }
`,$1=Xe.p`
  font-size: 14px;
  color: #324858;
  font-weight: bold;
  margin: 0;
`,j$=Xe.div`
  width: 95px;
  height: 95px;
  border-radius: 10px;
  margin-left: 0.4vw;
  margin-right: 0.4vw;
  cursor: pointer;
  opacity: 0.5;
  z-index: 1020;
  display: flex;
  flex-direction: column;
  align-items: center;
  text-align: center;
  justify-content: center;
  @media (max-width: 768px) {
    width: 15vw;
    height: 15vw;
  }
`,S$=Xe.div`
  width: 95px;
  height: 95px;
  border-radius: 10px;
  margin-left: 0.4vw;
  margin-right: 0.4vw;
  background-color: #ffd6f3;
  z-index: 1020;
  display: flex;
  flex-direction: column;
  align-items: center;
  text-align: center;
  justify-content: center;
  @media (max-width: 768px) {
    width: 15vw;
    height: 15vw;
  }
`,F1=({name:e,jawImg:t,upperCount:n,lowerCount:s})=>r.jsxs(N$,{children:[n?r.jsxs(I1,{children:[r.jsx(B1,{children:n})," ",e," "]}):null,s?r.jsxs(I1,{children:[r.jsx(B1,{children:s})," ",e," "]}):null,r.jsx(_$,{src:t})]}),N$=Xe.div`
  display: flex;
  flex-direction: column;
  text-align: center;
  align-items: center;
  justify-content: center;
  margin: 0 20px;
`,I1=Xe.p`
  color: #212529;
  font-weight: 600;
  margin: 0;
  font-size: 1rem;
`,B1=Xe.span`
  color: #760052;
  font-weight: bold;
  margin: 0;
  font-size: 1rem;
`,_$=Xe.img`
  width: 43px;
  height: 40px;
  display: block;
`;function C$(){const{t:e,i18n:t}=ye(),[n,s]=h.useState(null),[l,o]=h.useState(!0),[d,f]=h.useState(null),{caseId:m}=J4(),[p,g]=h.useState("Front"),[b,y]=h.useState("videos"),[w,j]=h.useState(0),[S,E]=h.useState(!1),[R,A]=h.useState(!1),[N,P]=h.useState(0),T=h.useRef(null),C=t.language==="ar",k=h.useCallback(async()=>{try{o(!0);const{data:Q,error:ne}=await Z.from("cases").select("*").eq("id",m).single();if(ne)throw ne;const{data:he,error:ge}=await Z.from("treatment_plan_images").select("*").eq("case_id",m).order("sequence_order",{ascending:!0});if(ge)throw ge;const we=await Promise.all((he||[]).map(async Ne=>{const{data:Pe}=Z.storage.from("treatment-plans").getPublicUrl(Ne.storage_path);return{...Ne,url:Pe.publicUrl}})),Te={front:[],left:[],right:[],upper:[],lower:[]};we.filter(Ne=>Ne.image_category==="sequence").forEach(Ne=>{Te[Ne.view_type]&&Te[Ne.view_type].push(Ne)});const ue={front:null,left:null,right:null,upper:null,lower:null};we.filter(Ne=>Ne.image_category==="beforeAfter").forEach(Ne=>{ue[Ne.view_type]!==void 0&&(ue[Ne.view_type]=Ne.url)});const xe={...Q,sequenceImages:Te,beforeAfter:ue};s(xe),o(!1)}catch(Q){f(Q.message),o(!1)}},[m]);if(h.useEffect(()=>{k()},[k]),h.useEffect(()=>{if(S&&b==="videos"){const Q=p.toLowerCase(),ne=n?.sequenceImages?.[Q]||[];ne.length>0&&(T.current=setInterval(()=>{j(he=>he>=ne.length-1?(E(!1),ne.length-1):he+1)},500))}else T.current&&clearInterval(T.current);return()=>{T.current&&clearInterval(T.current)}},[S,b,p,n]),h.useEffect(()=>{j(0),E(!1),A(!1),P(0)},[p,b]),h.useEffect(()=>{if(b==="videos"&&n){const Q=p.toLowerCase(),ne=n?.sequenceImages?.[Q]||[];if(ne.length===0){A(!0);return}A(!1),P(0);let he=0;const ge=ne.map((we,Te)=>new Promise(ue=>{const xe=new Image;xe.onload=()=>{he++,P(Math.round(he/ne.length*100)),ue()},xe.onerror=()=>{console.error(`Failed to preload image ${Te+1}:`,we.url),he++,P(Math.round(he/ne.length*100)),ue()},xe.src=we.url}));Promise.all(ge).then(()=>{A(!0)})}},[p,b,n]),l)return r.jsx(vu,{children:r.jsxs(K$,{className:"flex flex-col items-center",children:[r.jsx(Jt,{size:"large"}),e("viewer.loadingViewer")]})});if(d)return r.jsx(vu,{children:r.jsxs(Z1,{children:[e("common.error"),": ",d]})});if(!n)return r.jsx(vu,{children:r.jsx(Z1,{children:e("viewer.caseNotFound")})});const $=Q=>{y(Q)},O=Q=>{g(Q)},V={lower:n.sequenceImages?.lower?.length>0,upper:n.sequenceImages?.upper?.length>0,right:n.sequenceImages?.right?.length>0,left:n.sequenceImages?.left?.length>0,front:n.sequenceImages?.front?.length>0},W={lower:!!n.beforeAfter.lower,upper:!!n.beforeAfter.upper,right:!!n.beforeAfter.right,left:!!n.beforeAfter.left,front:!!n.beforeAfter.front},L=p.toLowerCase(),F=n.sequenceImages?.[L]||[],B=n.beforeAfter[L],te=()=>{F.length===0||!R||E(!S)},U=()=>{E(!1),j(0)},q=()=>{E(!1),j(Math.max(0,F.length-1))},G=()=>{E(!1),j(Q=>Math.min(Q+1,F.length-1))},J=()=>{E(!1),j(Q=>Math.max(Q-1,0))},D=Da(n?.first_name),z=Da(n?.last_name),ae=`${D} ${z}`;return r.jsxs(vu,{children:[r.jsx(E$,{children:r.jsx(R$,{children:r.jsx(A$,{src:"/logo.png",alt:"Lumina Logo"})})}),r.jsxs(P$,{children:[r.jsxs(T$,{children:[r.jsxs(z1,{children:[r.jsxs(q1,{children:[e("viewer.patientName"),":"]}),r.jsx(H1,{children:ae||""})]}),r.jsxs(z1,{children:[r.jsxs(q1,{children:[e("viewer.caseNumber"),":"]}),r.jsxs(H1,{children:["#",n.id||""]})]})]}),r.jsxs(k$,{children:[r.jsx(V1,{active:b==="videos",onClick:()=>$("videos"),children:e("viewer.sequenceAnimation")}),r.jsx(V1,{active:b==="before-after",onClick:()=>$("before-after"),children:e("viewer.beforeAfter")})]}),b==="videos"?r.jsxs(G1,{children:[V.front&&r.jsx(Ya,{isActive:p==="Front",activeIcon:R1,disabledIcon:E1,name:"Front",viewChanger:O}),V.left&&r.jsx(Ya,{isActive:p==="Left",activeIcon:P1,disabledIcon:A1,name:"Left",viewChanger:O}),V.right&&r.jsx(Ya,{isActive:p==="Right",activeIcon:k1,disabledIcon:T1,name:"Right",viewChanger:O}),V.upper&&r.jsx(Ya,{isActive:p==="Upper",activeIcon:M1,disabledIcon:D1,name:"Upper",viewChanger:O}),V.lower&&r.jsx(Ya,{isActive:p==="Lower",activeIcon:L1,disabledIcon:O1,name:"Lower",viewChanger:O})]}):r.jsxs(G1,{children:[W.front&&r.jsx(Ya,{isActive:p==="Front",activeIcon:R1,disabledIcon:E1,name:"Front",viewChanger:O}),W.left&&r.jsx(Ya,{isActive:p==="Left",activeIcon:P1,disabledIcon:A1,name:"Left",viewChanger:O}),W.right&&r.jsx(Ya,{isActive:p==="Right",activeIcon:k1,disabledIcon:T1,name:"Right",viewChanger:O}),W.upper&&r.jsx(Ya,{isActive:p==="Upper",activeIcon:M1,disabledIcon:D1,name:"Upper",viewChanger:O}),W.lower&&r.jsx(Ya,{isActive:p==="Lower",activeIcon:L1,disabledIcon:O1,name:"Lower",viewChanger:O})]}),b==="videos"?r.jsxs(r.Fragment,{children:[r.jsx(Y1,{children:F.length>0?r.jsxs(r.Fragment,{children:[!R&&r.jsxs(M$,{children:[r.jsxs(O$,{children:[e("viewer.preloadingImages")," ",N,"%"]}),r.jsx(L$,{children:r.jsx(U$,{style:{width:`${N}%`}})})]}),r.jsx(D$,{children:F.map((Q,ne)=>r.jsx(K1,{src:Q.url,alt:`${p} view - step ${ne+1}`,style:{display:ne===w?"block":"none",opacity:R?1:.3},onError:()=>{console.error("Image failed to load:",Q.url)}},Q.id))}),r.jsxs($$,{children:[r.jsx(F$,{children:r.jsx(I$,{style:{width:`${(w+1)/F.length*100}%`}})}),r.jsxs(B$,{children:[e("viewer.step")," ",w+1," ",e("viewer.of")," ",F.length]})]})]}):r.jsx(W1,{children:e("viewer.noSequenceImages")})}),F.length>0&&r.jsxs(z$,{children:[r.jsx(yu,{onClick:U,title:e("viewer.jumpToStart"),disabled:!R,children:r.jsx(uk,{})}),r.jsx(yu,{onClick:J,title:e("viewer.previousStep"),disabled:!R,children:r.jsx(_k,{})}),r.jsx(q$,{onClick:te,disabled:!R,children:S?r.jsx(vk,{}):r.jsx(jk,{})}),r.jsx(yu,{onClick:G,title:e("viewer.nextStep"),disabled:!R,children:r.jsx(Ck,{})}),r.jsx(yu,{onClick:q,title:e("viewer.jumpToEnd"),disabled:!R,children:r.jsx(fk,{})})]})]}):r.jsx(Y1,{children:B?r.jsx(K1,{src:B,alt:`${p} view before/after comparison`}):r.jsx(W1,{children:e("viewer.noBeforeAfterImage")})}),r.jsxs(H$,{children:[r.jsx(J1,{children:r.jsx(F1,{upperCount:n.upper_jaw_aligners||0,jawImg:y$,name:e("viewer.upperAligners")})}),r.jsx(J1,{children:r.jsx(F1,{upperCount:n.lower_jaw_aligners||0,jawImg:w$,name:e("viewer.lowerAligners")})})]}),r.jsxs(V$,{children:[r.jsx(G$,{children:e("viewer.disclaimer.title")}),r.jsx(Y$,{isRTL:C,children:e("viewer.disclaimer.points",{returnObjects:!0}).map((Q,ne)=>r.jsxs("li",{children:[Q,"."]},ne))})]})]})]})}const vu=Xe.div`
  text-align: center;
  background-color: #f8f9fa;
  min-height: 100vh;
  display: flex;
  flex-direction: column;
  align-items: center;
  color: #212529;
`,E$=Xe.div`
  width: 100%;
  background-color: #fff;
  padding: 1.5rem 2rem;
  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
  display: flex;
  align-items: center;
  justify-content: center;
  position: relative;
`,R$=Xe.div`
  display: flex;
  align-items: center;
  gap: 1rem;
`,A$=Xe.img`
  height: 50px;
  width: auto;
  object-fit: contain;

  @media (max-width: 768px) {
    height: 40px;
  }
`;Xe.h1`
  font-size: 1.8rem;
  font-weight: 700;
  color: #00adef;
  margin: 0;

  @media (max-width: 768px) {
    font-size: 1.4rem;
  }
`;Xe.button`
  position: absolute;
  left: 2rem;
  display: flex;
  align-items: center;
  gap: 0.5rem;
  padding: 0.5rem 1rem;
  background-color: #fff;
  border: 1px solid #dee2e6;
  border-radius: 6px;
  color: #495057;
  font-size: 0.9rem;
  cursor: pointer;
  transition: all 0.2s;

  &:hover {
    background-color: #f8f9fa;
    border-color: #adb5bd;
  }

  @media (max-width: 768px) {
    position: static;
    margin-bottom: 1rem;
  }
`;const P$=Xe.div`
  width: 90%;
  max-width: 1200px;
  margin: 2rem auto;
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 2rem;

  @media (max-width: 768px) {
    width: 95%;
    margin: 1rem auto;
  }
`,T$=Xe.div`
  width: 100%;
  background-color: #fff;
  padding: 1.5rem;
  border-radius: 8px;
  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
  display: flex;
  justify-content: center;
  gap: 3rem;

  @media (max-width: 768px) {
    flex-direction: column;
    gap: 1rem;
  }
`,z1=Xe.div`
  display: flex;
  align-items: center;
  gap: 0.5rem;
`,q1=Xe.span`
  font-size: 0.9rem;
  color: #6c757d;
  font-weight: 500;
`,H1=Xe.span`
  font-size: 1rem;
  color: #212529;
  font-weight: 600;
`,k$=Xe.div`
  display: flex;
  gap: 0.5rem;
  background-color: #fff;
  padding: 0.5rem;
  border-radius: 8px;
  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
`,V1=Xe.button`
  padding: 0.75rem 2rem;
  //background-color: ${e=>e.active?"#0284c7":"transparent"};
  background-color: ${e=>e.active?"#760052":"transparent"};
  color: ${e=>e.active?"#fff":"#495057"};
  border: none;
  border-radius: 6px;
  font-size: 0.95rem;
  font-weight: 600;
  cursor: pointer;
  transition: all 0.2s;

  &:hover {
    background-color: ${e=>e.active?"#a72181":"#f8f9fa"};
  }
`,G1=Xe.div`
  display: flex;
  gap: 0.75rem;
  flex-wrap: wrap;
  justify-content: center;
`,Y1=Xe.div`
  height: 500px;
  width: 100%;
  background-color: #000;
  border-radius: 8px;
  overflow: hidden;
  display: flex;
  align-items: center;
  justify-content: center;
  box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
  position: relative;

  @media (max-width: 768px) {
    height: 300px;
  }
`,D$=Xe.div`
  position: relative;
  width: 100%;
  height: 100%;
  display: flex;
  align-items: center;
  justify-content: center;
`,K1=Xe.img`
  position: absolute;
  max-height: 100%;
  max-width: 100%;
  object-fit: contain;
  transition: opacity 0.3s ease;
`,M$=Xe.div`
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 1rem;
  z-index: 10;
`,O$=Xe.div`
  color: #fff;
  font-size: 1rem;
  font-weight: 600;
`,L$=Xe.div`
  width: 200px;
  height: 6px;
  background-color: rgba(255, 255, 255, 0.3);
  border-radius: 3px;
  overflow: hidden;
`,U$=Xe.div`
  height: 100%;
  background-color: #760052;
  transition: width 0.3s ease;
`,$$=Xe.div`
  position: absolute;
  bottom: 0;
  left: 0;
  right: 0;
  padding: 1rem;
  background: linear-gradient(to top, rgba(0, 0, 0, 0.8), transparent);
  display: flex;
  flex-direction: column;
  gap: 0.5rem;
`,F$=Xe.div`
  width: 100%;
  height: 4px;
  background-color: rgba(255, 255, 255, 0.3);
  border-radius: 2px;
  overflow: hidden;
  direction: ltr;
`,I$=Xe.div`
  height: 100%;
  background-color: #760052;
  transition: width 0.3s ease;
`,B$=Xe.div`
  color: #fff;
  font-size: 0.85rem;
  font-weight: 600;
  text-align: center;
`,W1=Xe.div`
  color: #fff;
  font-size: 1.1rem;
  padding: 2rem;
`,z$=Xe.div`
  display: flex;
  gap: 1rem;
  align-items: center;
  justify-content: center;
  background-color: #fff;
  padding: 1rem;
  border-radius: 8px;
  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
  direction: ltr;
`,yu=Xe.button`
  padding: 0.75rem;
  background-color: #fff;
  border: 2px solid #dee2e6;
  border-radius: 6px;
  color: #495057;
  cursor: pointer;
  transition: all 0.2s;
  display: flex;
  align-items: center;
  justify-content: center;

  &:hover:not(:disabled) {
    background-color: #f8f9fa;
    border-color: #a72181;
    color: #a72181;
  }

  &:active:not(:disabled) {
    transform: scale(0.95);
  }

  &:disabled {
    opacity: 0.5;
    cursor: not-allowed;
  }
`,q$=Xe.button`
  padding: 1rem 1.5rem;
  background-color: #760052;
  border: none;
  border-radius: 8px;
  color: #fff;
  cursor: pointer;
  transition: all 0.2s;
  display: flex;
  align-items: center;
  justify-content: center;

  &:hover:not(:disabled) {
    background-color: #a72181;
    transform: scale(1.05);
  }

  &:active:not(:disabled) {
    transform: scale(0.98);
  }

  &:disabled {
    opacity: 0.5;
    cursor: not-allowed;
  }
`,H$=Xe.div`
  display: flex;
  gap: 2rem;
  width: 100%;
  justify-content: center;

  @media (max-width: 768px) {
    flex-direction: column;
    gap: 1rem;
  }
`,J1=Xe.div`
  background-color: #fff;
  padding: 1.5rem 3rem;
  border-radius: 8px;
  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
  text-align: center;
  min-width: 200px;
`,V$=Xe.div`
  width: 100%;
  background-color: #fff3cd;
  border: 1px solid #ffc107;
  border-radius: 8px;
  padding: 1.5rem 2rem;
  margin-top: 1rem;
  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
`,G$=Xe.div`
  font-size: 1.1rem;
  font-weight: 700;
  color: #856404;
  margin-bottom: 0.75rem;
  text-align: center;
`,Y$=Xe.ul`
  font-size: 0.9rem;
  color: #856404;
  line-height: 1.6;
  margin: 0;
  padding: 0;
  list-style-type: none; /* We will add custom bullets */
  text-align: ${e=>e.isRTL?"right":"left"};
  direction: ${e=>e.isRTL?"rtl":"ltr"};

  li {
    margin-bottom: 0.5rem;
    position: relative;
    padding-inline-start: 1.5rem;

    &:before {
      content: '';
      position: absolute;
      left: ${e=>e.isRTL?"auto":"0"};
      right: ${e=>e.isRTL?"0":"auto"};
      font-weight: bold;
    }
  }
`;Xe.div`
  height: 1px;
  background-color: #ffc107;
  margin: 1rem 0;
  opacity: 0.5;
`;const K$=Xe.div`
  font-size: 1.2rem;
  color: #6c757d;
  padding: 4rem;
`,Z1=Xe.div`
  font-size: 1.1rem;
  color: #dc3545;
  padding: 2rem;
`,W$=({isOpen:e,onClose:t,onSubmit:n})=>{const{t:s,i18n:l}=ye(),o=l.language==="ar",[d,f]=h.useState({full_name:"",clinic:"",phone:"",email:"",address:"",password:"",language_preference:"en"}),[m,p]=h.useState(!1),[g,b]=h.useState(null),[y,w]=h.useState(!1),[j,S]=h.useState(!1),E=N=>{f({...d,[N.target.name]:N.target.value})},R=()=>{const P="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789!@#$%^&*";let T="";for(let C=0;C<12;C++)T+=P.charAt(Math.floor(Math.random()*P.length));f({...d,password:T}),S(!0)},A=async N=>{N.preventDefault(),b(null),p(!0);try{if(!d.full_name||!d.email||!d.clinic)throw new Error(s("settings.errors.fillAllFields"));if(!d.password||d.password.length<6)throw new Error(s("settings.errors.passwordTooShort"));await n(d),w(!0),setTimeout(()=>{w(!1),f({full_name:"",clinic:"",phone:"",email:"",address:"",password:"",language_preference:"en"}),S(!1),t()},3e3)}catch(P){b(P.message)}finally{p(!1)}};return e?r.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50",children:r.jsxs("div",{className:"relative w-full max-w-2xl bg-white rounded-lg shadow-xl mx-4 max-h-[90vh] overflow-y-auto",children:[r.jsxs("div",{className:"sticky top-0 bg-white border-b px-6 py-4 flex items-center justify-between",children:[r.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:s("signUpRequests.createUser")}),r.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600 transition-colors",children:r.jsx(bn,{className:"w-6 h-6"})})]}),y?r.jsx("div",{className:"p-6",children:r.jsx("div",{className:"rounded-md bg-green-50 p-4",children:r.jsx("div",{className:"flex",children:r.jsxs("div",{className:"ml-3",children:[r.jsx("h3",{className:"text-sm font-medium text-green-800",children:s("signUpRequests.userCreatedSuccess")}),r.jsx("p",{className:"mt-2 text-sm text-green-700",children:s("signUpRequests.passwordHint")})]})})})}):r.jsxs("div",{className:"p-6 space-y-4",children:[g&&r.jsx("div",{className:"rounded-md bg-red-50 p-4",children:r.jsx("div",{className:"flex",children:r.jsx("div",{className:"ml-3",children:r.jsx("h3",{className:"text-sm font-medium text-red-800",children:g})})})}),r.jsxs("div",{children:[r.jsxs("label",{htmlFor:"full_name",className:"block text-sm font-medium text-gray-700 mb-1",children:[s("signUpRequests.fullName")," ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx("input",{type:"text",id:"full_name",name:"full_name",required:!0,value:d.full_name,onChange:E,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-sky-600 focus:border-transparent",placeholder:"Dr. John Doe"})]}),r.jsxs("div",{children:[r.jsxs("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-1",children:[s("signUpRequests.email")," ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx("input",{type:"email",id:"email",name:"email",required:!0,value:d.email,onChange:E,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-sky-600 focus:border-transparent",placeholder:"john.doe@example.com"})]}),r.jsxs("div",{children:[r.jsxs("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-1",children:[s("auth.password")," ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx("div",{className:"relative flex-1",children:r.jsx("input",{type:j?"text":"password",id:"password",name:"password",required:!0,value:d.password,onChange:E,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-sky-600 focus:border-transparent",placeholder:s("signUpRequests.passwordPlaceholder")})}),r.jsx("button",{type:"button",onClick:()=>S(!j),className:"px-3 py-2 border border-gray-300 rounded-md text-gray-700 hover:bg-gray-50 text-sm",children:s(j?"common.hide":"common.show")}),r.jsx("button",{type:"button",onClick:R,className:"px-3 py-2 bg-gray-100 border border-gray-300 rounded-md text-gray-700 hover:bg-gray-200 text-sm whitespace-nowrap",children:s("common.generate")})]}),r.jsx("p",{className:"mt-1 text-xs text-gray-500",children:s("signUpRequests.passwordHint")})]}),r.jsxs("div",{children:[r.jsxs("label",{htmlFor:"clinic",className:"block text-sm font-medium text-gray-700 mb-1",children:[s("signUpRequests.clinicName")," ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx("input",{type:"text",id:"clinic",name:"clinic",required:!0,value:d.clinic,onChange:E,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-sky-600 focus:border-transparent",placeholder:"City Medical Center"})]}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"phone",className:"block text-sm font-medium text-gray-700 mb-1",children:s("signUpRequests.phoneNumber")}),r.jsx("input",{type:"tel",id:"phone",name:"phone",value:d.phone,onChange:E,className:`w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-sky-600 focus:border-transparent ${o?"text-right":""}`,placeholder:"+1 (555) 123-4567"})]}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"address",className:"block text-sm font-medium text-gray-700 mb-1",children:s("signUpRequests.clinicAddress")}),r.jsx("textarea",{id:"address",name:"address",rows:"2",value:d.address,onChange:E,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-sky-600 focus:border-transparent",placeholder:"123 Main Street, Suite 100, City, State 12345"})]}),r.jsxs("div",{children:[r.jsxs("label",{htmlFor:"language_preference",className:"block text-sm font-medium text-gray-700 mb-1",children:[s("signUpRequests.prefferedLanguage")," ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsxs("select",{id:"language_preference",name:"language_preference",required:!0,value:d.language_preference,onChange:E,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-sky-600 focus:border-transparent bg-white",children:[r.jsx("option",{value:"en",children:"English"}),r.jsx("option",{value:"ar",children:" (Arabic)"})]}),r.jsx("p",{className:"mt-1 text-xs text-gray-500",children:s("signUpRequests.prefferedLanguageSubtext")})]}),r.jsxs("div",{className:"flex gap-3 pt-4",children:[r.jsx("button",{type:"button",onClick:t,className:"flex-1 px-4 py-2 border border-gray-300 rounded-md text-gray-700 hover:bg-gray-50 font-medium",children:s("common.cancel")}),r.jsx("button",{type:"button",onClick:A,disabled:m,className:"flex-1 px-4 py-2 bg-brand-600 text-white rounded-md hover:bg-brand-700 font-medium disabled:bg-brand-400",children:s(m?"signUpRequests.creatingAccount":"signUpRequests.createUser")})]})]})]})}):null},J$=()=>{const{t:e,i18n:t}=ye(),n=t.language==="ar",[s,l]=h.useState([]),[o,d]=h.useState(!0),[f,m]=h.useState(!1),[p,g]=h.useState(null),[b,y]=h.useState(!1),[w,j]=h.useState(!1),[S,E]=h.useState(""),[R,A]=h.useState(null),[N,P]=h.useState(null);h.useEffect(()=>{T()},[]);const T=async(L=!1)=>{try{L?m(!0):d(!0);const{data:F,error:B}=await Z.from("signup_requests").select("*").order("created_at",{ascending:!1});if(B)throw B;l(F||[]),P(null)}catch(F){console.error("Error fetching requests:",F),P(F.message)}finally{d(!1),m(!1)}},C=()=>{T(!0)},k=async()=>{if(!S||S.length<6){P(e("signUpRequests.passwordRequired"));return}A(p.id),P(null);try{const{data:L,error:F}=await hu.auth.admin.createUser({email:p.email,password:S,email_confirm:!0,user_metadata:{full_name:p.full_name,clinic:p.clinic,phone:p.phone,address:p.address,language_preference:p.language_preference||"en"}});if(F)throw F;await new Promise(G=>setTimeout(G,1e3));const{error:B}=await Z.from("profiles").update({full_name:p.full_name,clinic:p.clinic,phone:p.phone,address:p.address,language_preference:p.language_preference||"en"}).eq("id",L.user.id);B&&console.warn("Profile update warning:",B);const{error:te}=await Z.from("signup_requests").update({status:"approved",approved_at:new Date().toISOString(),user_id:L.user.id}).eq("id",p.id);if(te)throw te;const{data:U,error:q}=await Z.from("profiles").select("id, role, full_name, clinic, phone, address, language_preference").eq("id",L.user.id).single();q?console.warn("Profile verification warning:",q):console.log("Profile created/updated successfully:",U),alert(`${e("signUpRequests.userCreatedSuccess")}
${e("signUpRequests.email")}: ${p.email}
${e("signUpRequests.password")}: ${S}`),y(!1),E(""),g(null),T()}catch(L){console.error("Error approving request:",L),P(L.message)}finally{A(null)}},$=async L=>{if(confirm(e("signUpRequests.confirmReject"))){A(L);try{const{error:F}=await Z.from("signup_requests").update({status:"rejected",rejected_at:new Date().toISOString()}).eq("id",L);if(F)throw F;T()}catch(F){console.error("Error rejecting request:",F),P(F.message)}finally{A(null)}}},O=async L=>{try{const{data:F,error:B}=await hu.auth.admin.createUser({email:L.email,password:L.password,email_confirm:!0,user_metadata:{full_name:L.full_name,clinic:L.clinic,phone:L.phone,address:L.address,language_preference:L.language_preference||"en"}});if(B)throw B;await new Promise(G=>setTimeout(G,1e3));const{error:te}=await hu.from("profiles").update({full_name:L.full_name,clinic:L.clinic,phone:L.phone,address:L.address,language_preference:L.language_preference||"en"}).eq("id",F.user.id);te&&console.warn("Profile update warning:",te);const{data:U,error:q}=await hu.from("profiles").select("id, role, full_name, language_preference").eq("id",F.user.id).single();q?console.warn("Profile verification warning:",q):console.log("Profile created successfully:",U),console.log("User created successfully:",F.user),alert(`${e("signUpRequests.userCreatedSuccess")}
${e("signUpRequests.email")}: ${L.email}
${e("signUpRequests.password")}: ${L.password}`)}catch(F){throw console.error("Error creating user:",F),new pt(F.message||"Failed to create user account")}},V=L=>{const F={pending:{bg:"bg-yellow-100",text:"text-yellow-800",icon:Ef,label:e("signUpRequests.statusPending")},approved:{bg:"bg-green-100",text:"text-green-800",icon:lw,label:e("signUpRequests.statusApproved")},rejected:{bg:"bg-red-100",text:"text-red-800",icon:dw,label:e("signUpRequests.statusRejected")}},B=F[L]||F.pending,te=B.icon;return r.jsxs("span",{className:`inline-flex items-center gap-1 px-2.5 py-0.5 rounded-full text-xs font-medium ${B.bg} ${B.text}`,children:[r.jsx(te,{className:"w-3 h-3"}),B.label]})},W=L=>{const F=L==="ar";return r.jsxs("span",{className:`inline-flex items-center gap-1 px-2 py-1 rounded text-xs font-medium ${F?"bg-purple-100 text-purple-800":"bg-blue-100 text-blue-800"}`,children:[r.jsx(Kp,{className:"w-3 h-3"}),F?"":"English"]})};return r.jsxs(r.Fragment,{children:[N&&r.jsx(pt,{error:N}),r.jsx(vi,{submit:!1,createUser:!0,onCreateUser:()=>j(!0),children:e("signUpRequests.title")}),r.jsxs("div",{className:"flex w-full justify-between items-center gap-4",children:[r.jsx("p",{className:"text-body font-body text-subtext-color",children:e("signUpRequests.subtitle")}),r.jsx("div",{className:"flex items-center gap-2 flex-shrink-0",children:r.jsx(Wt,{icon:r.jsx(Un,{className:f?"animate-spin":""}),onClick:C,disabled:f})})]}),r.jsx(I,{header:r.jsxs(I.HeaderRow,{children:[r.jsx(I.HeaderCell,{children:e("signUpRequests.name")}),r.jsx(I.HeaderCell,{children:e("signUpRequests.email")}),r.jsx(I.HeaderCell,{children:e("signUpRequests.clinic")}),r.jsx(I.HeaderCell,{children:e("signUpRequests.phone")}),r.jsx(I.HeaderCell,{children:e("signUpRequests.status")}),r.jsx(I.HeaderCell,{children:e("signUpRequests.date")}),r.jsx(I.HeaderCell,{children:e("common.actions")})]}),children:o?r.jsx(I.Row,{children:r.jsx(I.Cell,{colSpan:7,children:r.jsx("div",{className:"flex w-full h-full min-h-[100px] justify-center items-center",children:r.jsx(Jt,{size:"medium"})})})}):s.length===0?r.jsx(I.Row,{children:r.jsx(I.Cell,{colSpan:7,children:r.jsx("div",{className:"text-center py-8",children:r.jsx("span",{className:"text-neutral-500",children:e("signUpRequests.noRequests")})})})}):s.map(L=>r.jsxs(I.Row,{children:[r.jsx(I.Cell,{children:r.jsx("span",{className:"whitespace-nowrap text-body-bold font-body-bold text-neutral-700",children:L.full_name})}),r.jsx(I.Cell,{children:r.jsx("span",{className:"whitespace-nowrap text-body font-body text-neutral-700",children:L.email})}),r.jsx(I.Cell,{children:r.jsx("span",{className:"whitespace-nowrap text-body font-body text-neutral-500",children:L.clinic})}),r.jsx(I.Cell,{children:r.jsx("span",{className:"whitespace-nowrap text-body font-body text-neutral-500",style:{direction:"ltr"},children:L.phone||"-"})}),r.jsx(I.Cell,{children:V(L.status)}),r.jsx(I.Cell,{children:r.jsx("span",{className:"whitespace-nowrap text-body font-body text-neutral-500",children:new Date(L.created_at).toLocaleDateString()})}),r.jsx(I.Cell,{children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("button",{onClick:()=>{g(L),y(!0)},className:"text-sky-600 hover:text-sky-900",title:e("common.viewDetails"),children:r.jsx(_l,{className:"w-5 h-5"})}),L.status==="pending"&&r.jsxs(r.Fragment,{children:[r.jsx("button",{onClick:()=>{g(L),y(!0)},disabled:R===L.id,className:"text-success-600 hover:text-success-900 disabled:opacity-50",title:e("common.approve"),children:r.jsx(lw,{className:"w-5 h-5"})}),r.jsx("button",{onClick:()=>$(L.id),disabled:R===L.id,className:"text-error-600 hover:text-error-900 disabled:opacity-50",title:e("common.reject"),children:r.jsx(dw,{className:"w-5 h-5"})})]})]})})]},L.id))}),b&&p&&r.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50",children:r.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-2xl w-full mx-4 max-h-[90vh] overflow-y-auto",children:[r.jsx("div",{className:"px-6 py-4 border-b",children:r.jsx("h3",{className:"text-xl font-bold text-gray-900",children:e("signUpRequests.reviewRequest")})}),r.jsxs("div",{className:"p-6 space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700",children:e("signUpRequests.fullName")}),r.jsx("p",{className:"mt-1 text-sm text-gray-900",children:p.full_name})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700",children:e("signUpRequests.email")}),r.jsx("p",{className:"mt-1 text-sm text-gray-900",children:p.email})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700",children:e("signUpRequests.clinicName")}),r.jsx("p",{className:"mt-1 text-sm text-gray-900",children:p.clinic})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700",children:e("signUpRequests.phoneNumber")}),r.jsx("p",{className:`mt-1 text-sm text-gray-900 ${n?"text-right":""}`,style:{direction:"ltr"},children:p.phone||"N/A"})]})]}),p.address&&r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700",children:e("signUpRequests.clinicAddress")}),r.jsx("p",{className:"mt-1 text-sm text-gray-900",children:p.address})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700",children:e("signUpRequests.prefferedLanguage")}),r.jsx("div",{className:"mt-1",children:W(p.language_preference||"en")})]}),p.status==="pending"&&r.jsxs("div",{children:[r.jsxs("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-1",children:[e("signUpRequests.setPassword")," ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx("input",{type:"text",id:"password",value:S,onChange:L=>E(L.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-indigo-600 focus:border-transparent",placeholder:e("signUpRequests.passwordPlaceholder")}),r.jsx("p",{className:"mt-1 text-xs text-gray-500",children:e("signUpRequests.passwordHint")})]})]}),r.jsxs("div",{className:"px-6 py-4 bg-gray-50 flex gap-3",children:[r.jsx(ce,{variant:"neutral-secondary",onClick:()=>{y(!1),E(""),g(null),P(null)},children:e("common.cancel")}),p.status==="pending"&&r.jsx(ce,{variant:"brand-primary",onClick:k,disabled:R===p.id,children:R===p.id?e("signUpRequests.creatingAccount"):e("signUpRequests.approveAndCreate")})]})]})}),r.jsx(W$,{isOpen:w,onClose:()=>j(!1),onSubmit:O})]})},Z$=FR([{element:r.jsx(V7,{}),children:[{element:r.jsx(r8,{}),path:"/about"},{element:r.jsx(G7,{}),path:"/features"}]},{element:r.jsx(s1,{}),path:"/"},{element:r.jsx(s1,{}),path:"/login"},{element:r.jsx(oL,{}),path:"/reset-password"},{element:r.jsx(lL,{}),path:"/update-password"},{element:r.jsx(Ep,{children:r.jsx(i1,{role:"user",children:r.jsx(EL,{})})}),loader:TL,children:[{element:r.jsx(iL,{}),path:"/app/dashboard",loader:OL},{element:r.jsx(cL,{}),path:"/app/cases"},{path:"/app/cases/:caseId",element:r.jsx(Y9,{}),loader:dL},{element:r.jsx(K9,{}),path:"/app/cases/new"},{element:r.jsx(aU,{}),path:"/app/billing"},{element:r.jsx(xU,{}),path:"/app/billing/log"},{path:"/app/profile",element:r.jsx(UL,{})},{path:"/app/settings",element:r.jsx(LL,{})}]},{element:r.jsx(Ep,{children:r.jsx(i1,{role:"admin",children:r.jsx(PL,{})})}),loader:kL,children:[{element:r.jsx(vL,{}),path:"/admin/dashboard",loader:$L},{element:r.jsx(zL,{}),path:"/admin/cases"},{element:r.jsx(J$,{}),path:"/admin/signup-requests"},{element:r.jsx(y9,{}),path:"/admin/cases/new"},{path:"/admin/cases/:caseId",element:r.jsx(mU,{}),loader:qL},{path:"/admin/doctors",element:r.jsx(VL,{}),loader:d9},{path:"/admin/doctors/:doctorId",element:r.jsx(c9,{}),loader:u9},{path:"/admin/settings",element:r.jsx(p9,{})},{path:"/admin/billing",element:r.jsx(D9,{})},{path:"/admin/billing/log",element:r.jsx(gU,{})}]},{element:r.jsx(Ep,{children:r.jsx(C$,{})}),path:"/case-viewer/:caseId"},{path:"/app",loader:()=>Yn("/app/dashboard")},{path:"/admin",loader:()=>Yn("/admin/dashboard")},{path:"*",element:r.jsx(DL,{})},{path:"/unauthorized",element:r.jsx(ML,{})}]);function X$(){return r.jsx(uR,{router:Z$,hydrateFallbackElement:null})}const o_={search:"",save:"",cancel:"",delete:"",edit:"",submit:"",required:"",loading:" ...",error:"",success:"",refresh:"",clear:"",previous:"",next:"",actions:"",viewDetails:" ",approve:"",reject:"",creating:" ...",updating:" ...",close:"",generate:"",hide:"",show:"",print:"",learnMore:"  ",noDescription:"   .",noRecords:"     ."},c_={dashboard:"",home:"",doctors:"",cases:"",billing:" ",settings:"",signOut:" ",allCases:" ",signUpRequests:" ",transactionLog:" ",paymentsHistory:" ",profile:" "},d_={title:"",hello:" .",totalCases:" ",pendingReview:" ",completedBy3DA:" ",recentCases:" ",paymentOverview:"    ",noCases:"   .",searchCases:"  ..."},u_={title:" ",patient:"",patientName:" ",doctor:"",clinic:"",phone:"",status:"",submitted:" ",submissionDate:" ",caseId:" ",noCases:"     .",noMatchingCases:"    .",searchPatientOrDoctor:"    ...",showing:"",of:"",cases:"",filters:{status:"",allStatuses:" ",date:"",allDates:" ",clinic:"",allClinics:" ",sortBy:" ",activeFilters:" :",clearFilters:"",submitted:" ",rejected:"",awaitingApproval:" ",rejectedByDoctor:"   ",approved:" ",inProduction:" ",readyForDelivery:" ",delivered:"",completed:"",today:"",thisWeek:" ",thisMonth:" ",thisQuarter:" ",thisYear:" ",newestFirst:" ",oldestFirst:" ",patientAZ:" -",patientZA:" -",doctorAZ:" -",doctorZA:" -",clinicAZ:" -",clinicZA:" -",statusAZ:" -",statusZA:" -",material:" ",allMaterials:" ",mostCasesFirst:"  ",fewestCasesFirst:"  "}},f_={title:"  ",myBilling:" ",subtitle:"   ",userSubtitle:"    ",totalEarnings:" ",totalReceived:"  ",totalDue:" ",pending:"",totalPaid:" ",totalExpenses:" ",doctorsBilling:" ",myCasesAndBilling:"",searchDoctors:"  ...",transactionLog:" ",receivePayment:" ",makePayment:" ",table:{case:"",patient:"",treatmentDetails:" ",date:"",payment:"",noCases:"    .",unknownPatient:"  ",standardTreatment:" ",alignersCount:"{{count}} ",urgent:"",notSet:" ",remaining:"",paymentStatus:{unpaid:" ",paid:"",na:" ",due:"",overdue:"",pending:"",processing:" ",unknown:" "}}},h_={header:{doctor:"",cases:"",dueAmount:" ",status:"",lastPayment:" "},noDoctorsFound:"    .",unknownDoctor:"  ",totalCases:"",unpaidCases:" ",status:{due:"",current:""},neverPaid:"",collectPaymentButton:" "},m_={title:"",adminSettings:" ",subtitle:"  ",adminSubtitle:"    ",language:"",selectLanguage:" ",english:"",arabic:"",currentLanguage:" ",updateEmail:"  ",newEmail:"  ",emailDescription:"       ",emailPlaceholder:"   ",changePassword:"  ",currentPassword:"  ",newPassword:"  ",confirmPassword:"  ",passwordDescription:"    ",passwordPlaceholder:"   ",currentPasswordPlaceholder:"   ",confirmPasswordPlaceholder:"   ",updatePassword:"  ",accountSecurity:" ",contactInformation:" ",emailAddress:"  ",phoneNumber:" ",updateContactInfo:"  ",serviceManagement:" ",caseStudyFee:"  ",caseStudyFeeDescription:"       .",amountUSD:" ( )",saveFee:" ",alignerMaterials:" ",services:"",errors:{invalidEmail:"     .",passwordTooShort:"      6   .",passwordMismatch:"     .",fillAllFields:"     ",incorrectPassword:"    "},success:{emailUpdated:"    .",passwordUpdated:"    .",contactUpdated:"   ",phoneUpdated:"  ",feeUpdated:"    ",preferencesSaved:"  "}},p_={signIn:" ",signUp:" ",signOut:" ",email:" ",password:" ",forgotPassword:"   ",dontHaveAccount:"  ",alreadyHaveAccount:"   "},g_={title:"  ",subtitle:"    ",profilePhoto:"  ",avatarDescription:"     ",personalInformation:" ",personalInfoDescription:"    ",fullName:" ",fullNamePlaceholder:"  ",email:" ",emailPlaceholder:" ",phoneNumber:" ",phonePlaceholder:"  ",clinicName:" ",clinicPlaceholder:"  ",clinicAddress:" ",addressPlaceholder:"  ",saveChanges:" ",errors:{fetchFailed:"   ",updateFailed:"   ",avatarFailed:"   "},success:{updated:"    !",avatarUpdated:"    "}},x_={title:"   ",subtitle:"    ",exportCSV:" CSV",searchPlaceholder:"         ...",noTransactions:"      ",showing:"",of:"",transactions:"",processedBy:"  ",paymentReceived:"",expense:"",stats:{totalTransactions:" ",totalRevenue:" ",totalExpenses:" ",netIncome:" "},filters:{allTypes:" ",paymentsReceived:" ",expenses:"",allTime:" ",today:"",lastWeek:" 7 ",lastMonth:" 30 "},table:{transactionId:" ",id:"",date:"",type:"",from:"",email:" ",clinic:"",description:"",amount:"",processedBy:"  "}},b_={title:" ",subtitle:"     ",searchPlaceholder:"       ...",noPayments:"     ",cases:"",case:"",receivedBy:"",notes:"",generalPayment:" ",payments:"",stats:{totalPayments:" ",totalPaid:" ",amountDue:" "}},v_={title:" ",subtitle:"      ",expenseAmount:"  *",description:"/ *",descriptionPlaceholder:"  (          )",recordExpense:" ",recording:" ",errors:{recordFailed:"  ",validExpense:"    "},success:{expenseRecorded:"   !"}},y_={title:" ",loadingViewer:"   ...",caseNotFound:"    ",patientName:" ",caseNumber:" ",sequenceAnimation:"",beforeAfter:" ",preloadingImages:"  ...",step:"",of:"",noSequenceImages:"    ",noBeforeAfterImage:"    /   ",jumpToStart:"  ",previousStep:" ",nextStep:" ",jumpToEnd:"  ",upperAligners:"  ",lowerAligners:"  ",disclaimer:{title:" ",points:["          ","      ","      "]}},w_=JSON.parse(`{"treatmentOptionsTitle":"  ","treatmentOptions":" ","midlineAnalysis":"  ","occlusalRelationship":" ","mm":"","caseDetails":" ","downloadFiles":" ","downloading":" ","openViewer":"  ","viewOriginalCase":"  ","refinementCase":" ","caseAcceptanceCard":{"title":" ","description":"              ","acceptCase":" ","declineCase":" ","caseStudyFee":"  ","caseStudyFeeSet":"          ","caseAcceptedAlert":"            . ","caseAcceptedAlertTitle":" "},"deleteCase":" ","deleteCaseConfirm":"             ","caseDeclined":" ","reason":" ","declinedOn":"","at":"","undoDecline":"   ","undoing":"    ","dentalChart":"  ","caseInformation":" ","patientInformation":" ","firstName":" ","lastName":" ","doctorName":" ","phone":" ","submissionDate":"  ","caseId":" ","clinic":" ","alignerMaterial":" ","notSpecified":" ","refinementReason":"  ","printCaseInfo":"  ","exportPDF":"  PDF","caseNotFound":"  .","caseNumber":"-{{id}}","refinementBadge":" #{{number}}","treatmentPlanReview":"  ","declineReason":" ","rejectionReason":" ","declinePlan":" ","requestEdit":" ","approvePlan":"  ","refinement":{"caseActions":" ","description":"               .","markCompleted":" ","requestRefinement":" ","dialog":{"title":" ","description":"       .","warningTitle":"  ","warningMessage":"        .      .","treatmentOptionsUpdate":"        ","dentalChartUpdate":"       ","diagnosisUpdate":"        ","reasonLabel":"  ","reasonHelp":"     (           )","reasonPlaceholder":"   ...","materialLabel":"   *","noMaterials":"     ","uploadMethod":"  ","individualFiles":"  (    )","compressedArchive":"  (     ZIP/RAR )","scansRequired":"   *","individualHelp":"      .        STL  OBJ  PLY.","compressedHelp":"   ZIP  RAR       :      .       .","upperJawScan":"  ","lowerJawScan":"  ","biteScan":" ","compressedLabel":"  ","additionalFiles":"  ()","filesSelected":"  {{count}} ","submitting":" ...","submitButton":"  "},"errors":{"loadServicesFailed":"    ","reasonRequired":"    ","materialRequired":"   ","allScansRequired":"     ","compressedRequired":"    ","notAuthenticated":"   ","compressedUploadFailed":"     ","scanUploadFailed":"        ","submitFailed":"    "},"success":{"submitted":"    !"}},"refinementHistory":{"title":" ","loading":"   ...","caseTitle":"  #{{id}}","caseDescription":" {{number}} -   {{material}} - {{reason}}","standardMaterial":"","noReason":"   ","viewCase":"  ","status":{"submitted":"","awaitingApproval":"  ","approved":" ","inProduction":" ","readyForDelivery":" ","delivered":"","completed":""}},"satisfaction":{"display":{"title":" ","rating":"","feedback":"","completedOn":" "},"errors":{"ratingRequired":"  ","completeFailed":"   .    ."},"dialog":{"title":" ","description":"   .     .","ratingLabel":"    ","commentsLabel":"  ()","commentsHelp":"    .","commentsPlaceholder":" ...","submitting":" ...","submitButton":" "},"success":{"completed":"   !"}},"dialogs":{"approval":{"title":"    ","message":"                .","lockMessage":"    ","productionMessage":"     .","approving":" ...","confirmButton":" "},"decline":{"title":" ","message":"     .","reasonLabel":" ","reasonPlaceholder":"    ...","reasonRequired":"     .","infoText":"          .","adminInfoText":"       .","declining":" ...","confirmButton":" "},"requestEdit":{"title":"   ","subtitle":"               .","changeMaterial":"  ","currentMaterial":"  :","materialDescription":"   .       .","selectMaterial":"   ","noMaterials":"   ","notesLabel":"  ()","notesDescription":"          .","notesPlaceholder":"      ...","notesHelp":"        .","warningTitle":"  ","warningMessage":"            .           .","submitting":" ...","submitButton":"  "}},"treatmentPlan":{"upperJawAligners":"  ","lowerJawAligners":"  ","aligners":"","estimatedDuration":" ","months":"","caseStudyFee":"  ","alignersPrice":" ","deliveryCharges":" ","totalCost":" ","viewIPRChart":"   ","adminNotes":" "},"caseNotes":{"doctorNotes":" ","caseNotes":"  ","additionalNotes":"  ","adminPlaceholder":"       ...","userPlaceholder":"         ...","adminHelp":"         .","userHelp":"        ","saving":" ...","saveNote":" ","noNotes":"    "},"fileDownload":{"uploadedFiles":" ","fileName":" ","type":"","status":"","actions":"","upperJawScan":"  ","lowerJawScan":"  ","biteScan":" ","allInOne":" ","additionalFile":"  {{number}}","upperJaw":" ","lowerJaw":" ","bite":"","compressedFile":" ","additional":"","available":"","notUploaded":"  ","noFiles":"      ."},"toast":{"planApproved":"    ","approveFailed":"    ","planDeclined":"   ","declineFailed":"   ","materialUpdatedReeval":"   .        .","materialUpdated":"    .","updateMaterialFailed":"    "},"statusMessages":{"awaitingApproval":"           .","approved":"   .   .","inProduction":"   .","readyForDelivery":"  .","delivered":"   .","completed":" .","userRejected":"   ."},"alerts":{"submitted":{"title":"    ","description":"          ."},"accepted":{"title":"   -   ","description":"        ."},"awaiting_user_approval":{"title":"     ","description":"     ."},"approved":{"title":"     ","description":"  .      ."},"in_production":{"title":"  ","description":"   ' '   ."},"ready_for_delivery":{"title":"  ","description":"   ' '    ."},"delivered":{"title":"   ","description":"     ''   ."},"completed":{"title":"  ","description":"   ."},"rejected":{"title":"  ","description":"      .        ."},"user_rejected":{"title":"   ","description":"             ."}}}`),j_={title:"  ",newCase:" ",submitCase:" ",submitCaseButton:"  ",submitting:" ...",unknownDoctor:"  ",unknownPatient:"  ",upperJawScan:"  ",lowerJawScan:"  ",biteScan:" ",compressedScans:"  ",additionalFile:"  {{number}}",patientInfo:{firstNameLabel:" ",firstNamePlaceholder:"   ",lastNameLabel:" ",lastNamePlaceholder:"   ",urgentCase:" ",deliveryDateLabel:"  ",deliveryDateHelp:"    ",urgentNoticeTitle:"  ",urgentNoticeDescription:"       .         ."},treatmentOptions:{treatmentArch:"   ",upperArch:" ",lowerArch:" ",bothArches:" ",alignerMaterial:"  ",materialDetails:"   ",materialDesc:"       ."},fileUpload:{requiredScans:" ",uploadMethod:"  ",individualFiles:"  (    )",compressedArchive:"  (     ZIP/RAR )",individualTitle:" ",individualDescription:"      .        STL  OBJ  PLY.",upperJawLabel:"  ",lowerJawLabel:"  ",biteScanLabel:" ",compressedTitle:"  ",compressedDescription:"   ZIP  RAR       :      .     (  : upper_jaw.stl lower_jaw.stl bite.stl)   .",compressedLabel:"  ",additionalFiles:"  ()",filesSelected:"  {{count}} "},diagnosis:{title:" ",chiefComplaint:" ",chiefComplaintPlaceholder:"       ...",chiefComplaintHelp:"      ",upperMidline:"  ",lowerMidline:"  ",centered:"",shiftedRight:" ",shiftedLeft:" ",shiftAmount:" ",shiftAmountHelp:"  ",shiftAmountPlaceholder:" 2.5",canineRelationship:" ",molarRelationship:" ",rightSide:" ",leftSide:" ",selectClass:" ",classI:" ",classII:" ",classIII:" ",additionalNotes:"  ",additionalNotesPlaceholder:"           ...",additionalNotesHelp:"        "},errors:{authRequired:"     ",firstNameRequired:"  ",lastNameRequired:"  ",deliveryDateRequired:"    ",deliveryDateFuture:"      ",scanRequired:"{{scan}} ",compressedRequired:"   ",maxFilesExceeded:"  5    ",fileTooLarge:"  .      100 .",invalidFileType:"   .    : {{types}}",uploadFailed:" ",unexpected:"   "},success:{submitted:"   !"}},S_={title:"   ()",selectDoctor:{label:" ",helpText:"    ",placeholder:"    ...",noResults:"    "},alerts:{fileUploadOptional:" :   .       .",success:"     !"},errors:{doctorRequired:"    "}},N_={submitted:{title:"  ",description:"       "},awaitingUserApproval:{title:"   ",description:"          ."},approved:{title:"    ",description:"      .   ."},inProduction:{title:"  ",description:"  .      ."},readyForDelivery:{title:"  ",description:" .       ."},delivered:{title:"  ",description:"  .       ."},completed:{title:" ",description:" .   !"},rejected:{title:"  ",description:"      .        ."},user_rejected:{title:"   ",description:"             ."},default:{title:" ",description:"          ."}},__={netIncome:" ",duePayments:"",totalExpenses:" ",allTime:" ",outstanding:"",receivePayment:" ",recordExpense:" "},C_={amountDue:" ",totalPaid:" ",pendingCases:" ",cases:"",inProgress:" ",finished:""},E_={submitted:" ",accepted:"",underReview:" ",rejected:"",awaitingApproval:" ",patientRejected:"  ",userRejected:"   ",approved:" ",inProduction:" ",readyForDelivery:" ",delivered:"",completed:""},R_={createUserButton:"  "},A_={title:" ",statuses:{movable:"  ",unmovable:"      ",missing:"   ",note:"        "},statusLabels:{movable:"  ",unmovable:"   ",missing:"",note:""}},P_={printButton:"  ",estimatedDurationLabel:"  ()",actionButtons:" ",addViewer:"   ",addIPRChart:"   ",editIPRChart:"   ",iprChart:"  ",available:"",viewChart:" ",openViewer:"  ",copyLink:" ",copied:" !",declineCase:" ",sendForApproval:"  ",editPlan:"  ",printDialogTitle:"  ",statusMessages:{editing:"          .",awaitingApproval:"      .",approved:"       .   .",rejected:"     .",inProduction:" ",readyForDelivery:" ",delivered:"        ''   .",userRejected:"          ."},print:{treatmentPlanDetails:"  ",footer:"     {{date}} | Lumina"}},T_={title:" ",editNote:" ",addNote:" ",additionalNotes:" ",placeholder:"         ",helpText:"        .",saving:" ...",saveNote:" ",noNotes:"     .",toast:{saved:"   ",saveFailed:"   "}},k_={title:" ",editNote:" ",addNote:" ",additionalNotes:" ",placeholder:"      ...",helpText:"         .",saving:" ...",saveNote:" ",noNotes:"     .",toast:{saved:"   ",saveFailed:"   "}},D_={breadcrumbTitle:" ",totalPatients:" ",activeCases:" ",paymentStatus:" ",paidAmount:" ",remainingAmount:" ",partialPayment:"{{percent}}% "},M_={title:" ",subtitle:"       .",doctorLabel:"",name:"",doctorPlaceholder:" ...",notes:"",invoice:"",casesIncluded:" ",paymentReceipt:" ",printInvoice:" ",paymentInvoice:" ",paymentInvoiceDescription:"        ",patient:" ",totalPayment:" :",paymentSummary:" ",paymentAmountLabel:"  ( )",paymentAmountPlaceholder:"0.00",notesLabel:" ()",notesPlaceholder:"     ...",unpaidCasesTitle:"  ",selectedSummary:"{{selected}}  {{total}} ",loadingCases:"  ...",noUnpaidCases:"      .",statusLabel:"",createdLabel:" ",remainingShort:"",paidOfTotal:"{{paid}}   {{total}}",selectedCasesTotal:"  :",paymentAmount:" :",remainingAmount:" :",remainingSplitNote:"     {{count}}   ",cancel:"",processPayment:" ",processing:" ..."},O_={title:"  ",buttons:{startProduction:" ",markReady:"  ",markDelivered:" "},messages:{approved:"    .    .",inProduction:"   .",readyForDelivery:" .   .",delivered:"    .        .",completed:"  .",default:"       ."}},L_={caseDeclined:"  ",doctorDeclineReason:"  ",adminDeclineReason:"  ",approvePlan:"  ",toast:{caseDeleted:"   ",deleteFailed:"   ",iprSaved:"     ",iprFailed:"     "}},U_={noCasesToShow:"   "},$_={upperJaw:" ",lowerJaw:" ",description:"   ",legend:"         ",instructions:{title:":",enterValues:"     (M)  (D)   ",enterMillimeters:"   ( 0.2 0.5)",leaveEmpty:"        ",combineValues:"     (   #8 +   #9)",clickSave:"         "},saveButton:"   "},F_={title:"  ",subtitle:"        .",tabs:{sequence:" ",beforeAfter:" "},alerts:{sequence:{title:"  ",description:"        .       1  2 ."},beforeAfter:{title:"   ",description:"          ."}},views:{front:" ",left:" ",right:" ",upper:" ",lower:" "},labels:{existing:" ",newUploads:" ",step:"",imageExists:" ",currentImage:" ",noImages:"    "},buttons:{addImages:" ",upload:" ",uploading:" ...",replace:" ",select:" "},toast:{deleted:"   ",deleteFailed:"  ",uploaded:"   ",uploadFailed:"  "}},I_={welcomeBack:" ",subtitle:"     Lumina  ",enterCredentials:"       ",emailPlaceholder:"  ",passwordPlaceholder:"  ",signingIn:"  ...",requestAccess:"   ",forgotPasswordText:"   ",resetPassword:"   ",errors:{emptyFields:"     ",submitFailed:"   "},signUpDialog:{title:"   ",fullName:" ",fullNamePlaceholder:".  ",email:" ",emailPlaceholder:"ahmed@example.com",clinicName:" ",clinicNamePlaceholder:"  ",phoneNumber:" ",phoneNumberPlaceholder:"+966 50 123 4567",clinicAddress:" ",clinicAddressPlaceholder:"    123    12345",languagePreference:" ",languageHelp:"    ",submitting:" ...",submitButton:" ",successTitle:"   !",successMessage:"      .",errors:{requiredFields:"    "}}},B_={title:"   ",subtitle:"          .",emailLabel:" ",emailPlaceholder:"you@example.com",sending:" ...",sendButton:" ",backToSignIn:"  ",errors:{emailRequired:"    "},success:{instructionsSent:"         "}},z_={title:" ",subtitle:"      ",name:"",email:" ",clinic:"",phone:"",status:"",date:"",noRequests:"      ",reviewRequest:"  ",fullName:" ",clinicName:" ",phoneNumber:" ",clinicAddress:" ",prefferedLanguage:" ",prefferedLanguageSubtext:"    ",setPassword:"  ",passwordRequired:"      6   ",passwordPlaceholder:"   ",passwordHint:"6   .      .",approveAndCreate:"  ",creatingAccount:"  ...",createUser:" ",userCreatedSuccess:"    !",password:" ",confirmReject:"      ",statusPending:" ",statusApproved:"",statusRejected:""},Q$={common:o_,navigation:c_,dashboard:d_,cases:u_,billing:f_,billingTable:h_,settings:m_,auth:p_,profile:g_,transactions:x_,doctorTransactions:b_,expenseDialog:v_,viewer:y_,casePage:w_,caseSubmit:j_,adminCaseSubmit:S_,caseStatus:N_,billingStats:__,doctorBillingStats:C_,caseStatusBadge:E_,signUpRequestPage:R_,dentalChart:A_,adminTreatmentPlan:P_,adminNotes:T_,internalNotes:k_,adminDoctorDetails:D_,paymentCollectionDialog:M_,manufacturingProgress:O_,adminCasePage:L_,casesPage:U_,iprChart:$_,treatmentPlanImages:F_,login:I_,resetPassword:B_,signUpRequests:z_},eF=Object.freeze(Object.defineProperty({__proto__:null,adminCasePage:L_,adminCaseSubmit:S_,adminDoctorDetails:D_,adminNotes:T_,adminTreatmentPlan:P_,auth:p_,billing:f_,billingStats:__,billingTable:h_,casePage:w_,caseStatus:N_,caseStatusBadge:E_,caseSubmit:j_,cases:u_,casesPage:U_,common:o_,dashboard:d_,default:Q$,dentalChart:A_,doctorBillingStats:C_,doctorTransactions:b_,expenseDialog:v_,internalNotes:k_,iprChart:$_,login:I_,manufacturingProgress:O_,navigation:c_,paymentCollectionDialog:M_,profile:g_,resetPassword:B_,settings:m_,signUpRequestPage:R_,signUpRequests:z_,transactions:x_,treatmentPlanImages:F_,viewer:y_},Symbol.toStringTag,{value:"Module"})),q_={search:"Search",save:"Save",cancel:"Cancel",delete:"Delete",edit:"Edit",submit:"Submit",required:"required",loading:"Loading...",error:"Error",success:"Success",refresh:"Refresh",clear:"Clear",previous:"Previous",next:"Next",actions:"Actions",viewDetails:"View Details",approve:"Approve",reject:"Reject",creating:"Creating...",updating:"Updating...",close:"Close",generate:"Generate",hide:"Hide",show:"Show",print:"Print",learnMore:"Learn more about our systems",noDescription:"No description available.",noRecords:"No materials found."},H_={dashboard:"Dashboard",doctors:"Doctors",cases:"Cases",billing:"Billing",settings:"Settings",signOut:"Sign Out",allCases:"All Cases",signUpRequests:"Sign Up Requests",transactionLog:"Transaction Log",paymentsHistory:"Payments History",home:"Home",profile:"Profile"},V_={title:"Dashboard",hello:"Hello, Dr.",totalCases:"TOTAL CASES",pendingReview:"PENDING REVIEW",completedBy3DA:"COMPLETED",recentCases:"Recent Cases",paymentOverview:"Payment Overview",noCases:"No recent cases.",searchCases:"Search cases..."},G_={title:"All Cases",patient:"Patient",patientName:"Patient Name",doctor:"Doctor",clinic:"Clinic",phone:"Phone",status:"Status",submitted:"Submitted",submissionDate:"Submission Date",caseId:"Case ID",noCases:"No cases found.",noMatchingCases:"No cases match your filters.",searchPatientOrDoctor:"Search patient or doctor...",showing:"Showing",of:"of",cases:"cases",filters:{clinic:"Clinic",allClinics:"All Clinics",status:"Status",allStatuses:"All Statuses",date:"Date",allDates:"All Dates",sortBy:"Sort By",activeFilters:"Active filters:",clearFilters:"Clear",submitted:"Submitted",rejected:"Rejected",awaitingApproval:"Awaiting Approval",rejectedByDoctor:"Rejected by Doctor",approved:"Approved",inProduction:"In Production",readyForDelivery:"Ready for Delivery",delivered:"Delivered",completed:"Completed",today:"Today",thisWeek:"This Week",thisMonth:"This Month",thisQuarter:"This Quarter",thisYear:"This Year",newestFirst:"Newest First",oldestFirst:"Oldest First",patientAZ:"Patient A-Z",patientZA:"Patient Z-A",doctorAZ:"Doctor A-Z",doctorZA:"Doctor Z-A",clinicAZ:"Clinic A-Z",clinicZA:"Clinic Z-A",statusAZ:"Status A-Z",statusZA:"Status Z-A",material:"Aligners System",allMaterials:"All Aligners Systems",mostCasesFirst:"Most Cases First",fewestCasesFirst:"Fewest Cases First"}},Y_={title:"Billing Management",myBilling:"My Billing",subtitle:"Manage payments and track billing information",userSubtitle:"View your cases and track billing information",totalEarnings:"TOTAL EARNINGS",totalReceived:"TOTAL RECEIVED",totalDue:"TOTAL DUE",pending:"PENDING",totalPaid:"TOTAL PAID",totalExpenses:"TOTAL EXPENSES",doctorsBilling:"Doctors Billing",myCasesAndBilling:"My Billings",searchDoctors:"Search doctors...",transactionLog:"Transaction Log",receivePayment:"Receive Payment",makePayment:"Make Payment",table:{case:"Case",patient:"Patient",treatmentDetails:"Treatment Details",date:"Date",payment:"Payment",noCases:"No cases found.",unknownPatient:"Unknown Patient",standardTreatment:"Standard Treatment",alignersCount:"{{count}} aligners",urgent:"URGENT",notSet:"Not set",remaining:"remaining",paymentStatus:{unpaid:"Unpaid",paid:"Paid",na:"N/A",due:"Due",overdue:"Overdue",pending:"Pending",processing:"Processing",unknown:"Unknown"}}},K_={header:{doctor:"Doctor",cases:"Cases",dueAmount:"Due Amount",status:"Status",lastPayment:"Last Payment"},noDoctorsFound:"No doctors found.",unknownDoctor:"Unknown Doctor",totalCases:"total",unpaidCases:"unpaid",status:{due:"Due",current:"Current"},neverPaid:"Never",collectPaymentButton:"Collect Payment"},W_={title:"Submit New Case",newCase:"New Case",submitCase:"Submit Case",submitCaseButton:"Submit New Case",submitting:"Submitting...",unknownDoctor:"Unknown Doctor",unknownPatient:"Unknown Patient",upperJawScan:"Upper Jaw Scan",lowerJawScan:"Lower Jaw Scan",biteScan:"Bite Scan",compressedScans:"Compressed Scans Archive",additionalFile:"Additional File {{number}}",patientInfo:{firstNameLabel:"First Name (required)",firstNamePlaceholder:"Enter patient's first name",lastNameLabel:"Last Name (required)",lastNamePlaceholder:"Enter patient's last name",urgentCase:"Urgent Case",deliveryDateLabel:"Required Delivery Date",deliveryDateHelp:"Select the latest acceptable delivery date",urgentNoticeTitle:"Urgent Case Notice",urgentNoticeDescription:"Urgent cases may incur additional fees and are subject to availability. We'll contact you to confirm the delivery timeline and any extra charges."},treatmentOptions:{treatmentArch:"Treatment Arch",upperArch:"Upper arch",lowerArch:"Lower arch",bothArches:"Both arches",alignerMaterial:"Preferred Aligners System",materialDetails:"Aligners Systems & Pricing",materialDesc:"Compare our available aligner systems and features."},fileUpload:{requiredScans:"Required Scans",uploadMethod:"Choose Upload Method",individualFiles:"Individual Files (Upload each scan separately)",compressedArchive:"Compressed Archive (Upload all scans in one ZIP/RAR file)",individualTitle:"Individual Files",individualDescription:"Please upload each scan file separately. Ensure all scan files are in STL, OBJ, or PLY format.",upperJawLabel:"Upper Jaw Scan",lowerJawLabel:"Lower Jaw Scan",biteScanLabel:"Bite Scan",compressedTitle:"Compressed Archive Requirements",compressedDescription:"Upload a single ZIP or RAR file containing all three required scans: Upper Jaw, Lower Jaw, and Bite scans. Please name your files clearly (e.g., upper_jaw.stl, lower_jaw.stl, bite.stl) for easy identification.",compressedLabel:"Compressed Scan Archive",additionalFiles:"Additional Files (Optional)",filesSelected:"{{count}} file(s) selected"},diagnosis:{title:"Basic Diagnosis",chiefComplaint:"Chief Complaint",chiefComplaintPlaceholder:"Describe the patient's main concern or reason for seeking treatment...",chiefComplaintHelp:"Enter the patient's primary complaint or treatment goal",upperMidline:"Upper Midline",lowerMidline:"Lower Midline",centered:"Centered",shiftedRight:"Shifted right",shiftedLeft:"Shifted left",shiftAmount:"Shift Amount",shiftAmountHelp:"Enter shift in millimeters",shiftAmountPlaceholder:"e.g., 2.5",canineRelationship:"Canine Relationship",molarRelationship:"Molar Relationship",rightSide:"Right Side",leftSide:"Left Side",selectClass:"Select class",classI:"Class I",classII:"Class II",classIII:"Class III",additionalNotes:"Treatment Plan",additionalNotesPlaceholder:"Enter your suggested treatment plan, or any special instructions, patient history, or additional details about specific teeth...",additionalNotesHelp:"Add your treatment plane or any special instructions for this case"},errors:{authRequired:"User must be authenticated to submit a case",firstNameRequired:"First name is required",lastNameRequired:"Last name is required",deliveryDateRequired:"Delivery date is required for urgent cases",deliveryDateFuture:"Delivery date must be in the future",scanRequired:"{{scan}} is required",compressedRequired:"Compressed scan archive is required",maxFilesExceeded:"Maximum of 5 additional files allowed",fileTooLarge:"File is too large. Maximum file size is 100MB.",invalidFileType:"Invalid file type. Allowed types are: {{types}}",uploadFailed:"Upload failed",unexpected:"An unexpected error occurred"},success:{submitted:"Case submitted successfully!"}},J_={title:"Submit New Case (Admin)",selectDoctor:{label:"Select Doctor",helpText:"Search and select the doctor for this case",placeholder:"Search by doctor name or email...",noResults:"No doctors found"},alerts:{fileUploadOptional:"Admin Note: File uploads are optional. You can submit the case without files and add them later.",success:"Case submitted successfully for the selected doctor!"},errors:{doctorRequired:"Please select a doctor for this case"}},Z_={submitted:{title:"Waiting for admin acceptance",description:"Your case is submitted successfully, please wait for the admin acceptance"},awaitingUserApproval:{title:"Treatment Plan Ready for Approval",description:"Please review the aligners count and estimated duration, then approve or decline the plan."},approved:{title:"Treatment Plan Approved",description:"Your treatment plan has been approved. Production will start soon."},inProduction:{title:"Aligners Are In Production",description:"Your aligners are being manufactured. You will be notified when they are ready for delivery."},readyForDelivery:{title:"Aligners Ready for Delivery",description:"Your aligners are ready. Out team will contact you to arrange pickup or delivery."},delivered:{title:"Aligners Delivered",description:"You have received the aligners. Please advise your patient to follow the wear schedule and instructions."},completed:{title:"Treatment Completed",description:"The treatment is complete. Thank you for choosing us!"},rejected:{title:"Case has been declined",description:"This case was declined and is no longer active. You can undo this action if needed."},user_rejected:{title:"Treatment plan was declined",description:"This case's Treatment plan was declined and the case is no longer active."},default:{title:"Case Updates",description:"We will notify you here when there are updates to your treatment plan."}},X_={netIncome:"Net Income",duePayments:"Due Payments",totalExpenses:"Total Expenses",allTime:"all time",outstanding:"outstanding",receivePayment:"Receive Payment",recordExpense:"Record Expense"},Q_=JSON.parse(`{"treatmentOptionsTitle":"Treatment & Diagnosis Details","treatmentOptions":"Treatment Options","midlineAnalysis":"Midline Analysis","occlusalRelationship":"Occlusal Relationship","mm":"mm","caseDetails":"Case Details","downloadFiles":"Download Files","downloading":"Downloading...","openViewer":"Open Case Viewer","viewOriginalCase":"View Original Case","refinementCase":"Refinement","statusMessages":{"awaitingApproval":"Please review the treatment plan details and choose to approve, decline, or request edits.","approved":"Your plan is approved. Production will start soon.","inProduction":"Your aligners are currently being manufactured.","readyForDelivery":"Your aligners are ready for delivery.","delivered":"Your aligners have been delivered. Follow your treatment schedule.","completed":"Your treatment is completed.","userRejected":"You have declined the treatment plan."},"caseAcceptanceCard":{"title":"Case Review","description":"Review the submitted case and decide whether to accept or decline it. If accepted, you can proceed to create the treatment plan.","acceptCase":"Accept Case","declineCase":"Decline Case","caseStudyFee":"Case Study Fee","caseStudyFeeSet":"Case study fee has been set. You can now proceed to create the treatment plan.","caseAcceptedAlert":"This case has been accepted. The case study fee has been set and the case is ready for treatment planning.","caseAcceptedAlertTitle":"Case Accepted"},"deleteCase":"Delete Case","deleteCaseConfirm":"This action cannot be undone. Are you sure you want to permanently delete this case?","caseDeclined":"Case Declined","reason":"Reason","declinedOn":"Declined on","at":"at","undoDecline":"Undo Decline","undoing":"Undoing...","dentalChart":"Dental Chart","caseInformation":"Case Information","patientInformation":"Patient Information","firstName":"First Name","lastName":"Last Name","doctorName":"Doctor's Name","phone":"Phone","submissionDate":"Submission Date","caseId":"Case ID","clinic":"Clinic","alignerMaterial":"Aligners System","notSpecified":"Not specified","refinementReason":"Refinement Reason","printCaseInfo":"Print Case Info","exportPDF":"Export PDF","caseNotFound":"Case not found.","caseNumber":"Case-{{id}}","refinementBadge":"Refinement #{{number}}","treatmentPlanReview":"Treatment Plan Review","declineReason":"Decline Reason","rejectionReason":"Rejection Reason","declinePlan":"Decline Plan","requestEdit":"Request Edit","approvePlan":"Approve Plan","fileDownload":{"uploadedFiles":"Uploaded Files","fileName":"File Name","type":"Type","status":"Status","actions":"Actions","upperJawScan":"Upper Jaw Scan","lowerJawScan":"Lower Jaw Scan","biteScan":"Bite Scan","allInOne":"All-in-One","additionalFile":"Additional File {{number}}","upperJaw":"Upper Jaw","lowerJaw":"Lower Jaw","bite":"Bite","compressedFile":"Compressed File","additional":"Additional","available":"Available","notUploaded":"Not uploaded","noFiles":"No files uploaded for this case."},"caseNotes":{"doctorNotes":"Treatment Plan","caseNotes":"Treatment Plan","additionalNotes":"Additional Notes","adminPlaceholder":"Enter any special instructions, internal comments, etc...","userPlaceholder":"Enter any special instructions, patient history, or additional details...","adminHelp":"Add any additional information or internal notes about this case.","userHelp":"Add any additional information or special instructions for this case","saving":"Saving...","saveNote":"Save Note","noNotes":"No notes added yet"},"treatmentPlan":{"upperJawAligners":"Upper Jaw Aligners","lowerJawAligners":"Lower Jaw Aligners","aligners":"Aligners","estimatedDuration":"Estimated Duration","months":"Months","caseStudyFee":"Case Study Fee","alignersPrice":"Aligners Price","deliveryCharges":"Delivery Charges","totalCost":"Total Cost","viewIPRChart":"View IPR Chart","adminNotes":"Admin Notes"},"refinement":{"caseActions":"Case Actions","description":"Mark your case as completed or request a refinement if you need additional aligners or treatment adjustments.","markCompleted":"Mark as Completed","requestRefinement":"Request Refinement","dialog":{"title":"Request Refinement","description":"Request a refinement of your treatment plan with new scans and updated preferences.","warningTitle":" Important Information","warningMessage":"Your refinement request will be reviewed by our team. We will contact you with pricing and treatment details.","reasonLabel":"Reason for Refinement","treatmentOptionsUpdate":"Review and update treatment options if needed","dentalChartUpdate":"Update tooth status if there are any changes","diagnosisUpdate":"Review and update diagnosis information if needed","reasonHelp":"Please describe why you need refinement (e.g., treatment not progressing as expected, new concerns, etc.)","reasonPlaceholder":"Enter reason for refinement...","materialLabel":"Preferred Aligner System *","noMaterials":"No aligner systems available","uploadMethod":"Choose Upload Method","individualFiles":"Individual Files (Upload each scan separately)","compressedArchive":"Compressed Archive (Upload all scans in one ZIP/RAR file)","scansRequired":"New Scans Required *","individualHelp":"Please upload each scan file separately. Ensure all scan files are in STL, OBJ, or PLY format.","compressedHelp":"Upload a single ZIP or RAR file containing all three required scans: Upper Jaw, Lower Jaw, and Bite scans. Please name your files clearly for easy identification.","upperJawScan":"Upper Jaw Scan","lowerJawScan":"Lower Jaw Scan","biteScan":"Bite Scan","compressedLabel":"Compressed Scan Archive","additionalFiles":"Additional Files (Optional)","filesSelected":"{{count}} file(s) selected","submitting":"Submitting...","submitButton":"Submit Refinement Request"},"errors":{"loadServicesFailed":"Failed to load service options","reasonRequired":"Please provide a reason for the refinement request","materialRequired":"Please select an aligners system","allScansRequired":"Please upload all required scan files","compressedRequired":"Please upload the compressed scan archive","notAuthenticated":"User not authenticated","compressedUploadFailed":"Failed to upload compressed scan file","scanUploadFailed":"Failed to upload one or more scan files","submitFailed":"Failed to submit refinement case"},"success":{"submitted":"Refinement case submitted successfully!"}},"refinementHistory":{"title":"Refinement History","loading":"Loading refinement history...","caseTitle":"Refinement Case #{{id}}","caseDescription":"Refinement {{number}} - {{material}} aligners - {{reason}}","standardMaterial":"Standard","noReason":"No reason provided","viewCase":"View Case ","status":{"submitted":"Submitted","awaitingApproval":"Awaiting Approval","approved":"Approved","inProduction":"In Production","readyForDelivery":"Ready for Delivery","delivered":"Delivered","completed":"Completed"}},"satisfaction":{"display":{"title":"Case Satisfaction","rating":"Rating","feedback":"Feedback","completedOn":"Completed on"},"dialog":{"title":"Complete Your Case","description":"Please share your experience with us. Your feedback helps us improve our service.","ratingLabel":"How satisfied are you with the treatment?","commentsLabel":"Additional Comments (Optional)","commentsHelp":"Tell us about your experience with the treatment.","commentsPlaceholder":"Share your feedback...","submitting":"Submitting...","submitButton":"Complete Case"},"errors":{"ratingRequired":"Please provide a rating","completeFailed":"Failed to mark case as completed"},"success":{"completed":"Case marked as completed!"}},"dialogs":{"approval":{"title":"Confirm Treatment Plan Approval","message":"Are you sure you want to approve this treatment plan? Once approved, production will begin and the plan cannot be modified.","lockMessage":" Treatment plan will be locked","productionMessage":"Production of your aligners will begin shortly after approval.","approving":"Approving...","confirmButton":"Confirm Approval"},"decline":{"title":"Decline Case","message":"Please provide the reason of declining the treatment plan.","reasonLabel":"Decline Reason","reasonPlaceholder":"Enter the reason for declining this case...","reasonRequired":"Please provide a reason for declining this case.","infoText":"This information will be recorded and may be shared with relevant team members.","adminInfoText":"This information will be sent for the doctor for future reference.","declining":"Declining...","confirmButton":"Confirm Decline"},"requestEdit":{"title":"Request Treatment Plan Edit","subtitle":"Request changes to your patient's treatment plan by selecting a different aligners system and adding notes.","changeMaterial":"Change Aligners System","currentMaterial":"Current System:","materialDescription":"Select a different aligner system. Your case will be re-evaluated by our team.","selectMaterial":"Select New Aligners System","noMaterials":"No aligner systems available","notesLabel":"Additional Notes (Optional)","notesDescription":"Add any specific requests or concerns about your treatment plan.","notesPlaceholder":"Enter any additional notes or requests for our team...","notesHelp":"These notes will be visible to the team member reviewing your case.","warningTitle":" Important Information","warningMessage":"Changing the aligner system will send your case back to out team for re-evaluation. You will need to approve the updated treatment plan once it's ready.","submitting":"Submitting...","submitButton":"Submit Edit Request"}},"toast":{"planApproved":"Plan approved successfully","approveFailed":"Failed to approve plan","planDeclined":"Plan declined successfully","declineFailed":"Failed to decline plan","materialUpdatedReeval":"System updated. Case is sent for re-evaluation by our team.","materialUpdated":"System updated successfully.","updateMaterialFailed":"Failed to update the Aligners System"},"alerts":{"submitted":{"title":"Review the case and accept it","description":"Review the case information, then accept or decline the case."},"accepted":{"title":"Case accepted - Create treatment plan","description":"Set aligners count and duration, then send to doctor for approval."},"awaiting_user_approval":{"title":"Treatment plan is sent to doctor for approval","description":"Waiting for the doctor approval to proceed with the production process."},"approved":{"title":"Doctor approved the treatment plan","description":"Proceed with manufacturing. Update the case status as production progresses."},"in_production":{"title":"Aligners are in production","description":"Update to Ready for Delivery when manufacturing is complete."},"ready_for_delivery":{"title":"Aligners are ready for delivery","description":"Mark as Delivered once the clinic receives their aligners."},"delivered":{"title":"Aligners has been delivered to the clinic","description":"The doctor will mark the case as 'Completed' when treatment finishes."},"completed":{"title":"The case is complete","description":"The doctor had finished the case"},"rejected":{"title":"Case has been declined","description":"This case was declined and is no longer active. You can undo this action if needed."},"user_rejected":{"title":"Treatment plan was declined","description":"This case's Treatment plan was declined by the doctor and the case is no longer active."}}}`),eC={title:"Settings",adminSettings:"Admin Settings",subtitle:"Manage your account and preferences",adminSubtitle:"Manage your account security and service options",language:"Language",selectLanguage:"Select Language",english:"English",arabic:"Arabic",currentLanguage:"Current Language",updateEmail:"Update Email",newEmail:"New Email",emailDescription:"Change the email address you use to sign in",emailPlaceholder:"Enter new email",changePassword:"Change Password",currentPassword:"Current Password",newPassword:"New Password",confirmPassword:"Confirm Password",passwordDescription:"Set a new password for your account",passwordPlaceholder:"Enter new password",currentPasswordPlaceholder:"Enter current password",confirmPasswordPlaceholder:"Confirm new password",updatePassword:"Update Password",accountSecurity:"Account Security",contactInformation:"Contact Information",emailAddress:"Email Address",phoneNumber:"Phone Number",updateContactInfo:"Update Contact Info",serviceManagement:"Service Management",caseStudyFee:"Case Study Fee",caseStudyFeeDescription:"This fee is charged when a new case is accepted.",amountUSD:"Amount (USD)",saveFee:"Save Fee",alignerMaterials:"Aligners Systems",services:"Services",errors:{invalidEmail:"Please enter a valid email address.",passwordTooShort:"Password must be at least 6 characters.",passwordMismatch:"New password and confirmation do not match.",fillAllFields:"Please fill all password fields",incorrectPassword:"Current password is incorrect"},success:{emailUpdated:"Email updated successfully.",passwordUpdated:"Password updated successfully.",contactUpdated:"Contact info updated",phoneUpdated:"Phone updated",feeUpdated:"Case acceptance fee updated",preferencesSaved:"Preferences saved"}},tC={signIn:"Sign In",signUp:"Sign Up",signOut:"Sign Out",email:"Email",password:"Password",forgotPassword:"Forgot Password?",dontHaveAccount:"Don't have an account?",alreadyHaveAccount:"Already have an account?"},nC={title:"Profile Settings",subtitle:"Manage your personal information and contact details",profilePhoto:"Profile Photo",avatarDescription:"Upload a profile picture or avatar",personalInformation:"Personal Information",personalInfoDescription:"Update your personal details and contact information",fullName:"Full Name",fullNamePlaceholder:"Enter your full name",email:"Email",emailPlaceholder:"Your Email",phoneNumber:"Phone Number",phonePlaceholder:"Enter your phone number",clinicName:"Clinic Name",clinicPlaceholder:"Enter your clinic name",clinicAddress:"Clinic Address",addressPlaceholder:"Enter your clinic address",saveChanges:"Save Changes",errors:{fetchFailed:"Failed to load profile",updateFailed:"Failed to update profile",avatarFailed:"Failed to upload avatar"},success:{updated:"Profile updated successfully!",avatarUpdated:"Avatar updated successfully"}},aC={title:"Transaction Log",subtitle:"View all payment and expense transactions",exportCSV:"Export CSV",searchPlaceholder:"Search by name, email, clinic, or transaction ID...",noTransactions:"No transactions found matching your filters",showing:"Showing",of:"of",transactions:"transactions",processedBy:"Processed by",paymentReceived:"Payment",expense:"Expense",stats:{totalTransactions:"TOTAL TRANSACTIONS",totalRevenue:"TOTAL REVENUE",totalExpenses:"TOTAL EXPENSES",netIncome:"NET INCOME"},filters:{allTypes:"All Types",paymentsReceived:"Payments Received",expenses:"Expenses",allTime:"All Time",today:"Today",lastWeek:"Last 7 Days",lastMonth:"Last 30 Days"},table:{transactionId:"Transaction ID",id:"ID",date:"Date",type:"Type",from:"From",email:"Email",clinic:"Clinic",description:"Description",amount:"Amount",processedBy:"Processed By"}},rC={title:"Payment History",subtitle:"View your payment transaction history",searchPlaceholder:"Search by description, case name, or transaction ID...",noPayments:"No payment transactions found",cases:"Cases",case:"case",receivedBy:"Received By",notes:"Notes",generalPayment:"General payment",payments:"payments",stats:{totalPayments:"TOTAL PAYMENTS",totalPaid:"TOTAL PAID",amountDue:"AMOUNT DUE"}},sC={amountDue:"Amount Due",totalPaid:"Total Paid",pendingCases:"Pending Cases",cases:"cases",inProgress:"in progress",finished:"finished"},iC={submitted:"Submitted",accepted:"Accepted by Admin",underReview:"Under Review",rejected:"Rejected by Admin",awaitingApproval:"Awaiting Approval",patientRejected:"Rejected by Patient",userRejected:"Rejected by Doctor",approved:"Approved by Doctor",inProduction:"In Production",readyForDelivery:"Ready for Delivery",delivered:"Delivered",completed:"Completed"},lC={createUserButton:"Create User"},oC={title:"Dental Chart",statuses:{movable:"Can be moved orthodontically",unmovable:"Dental implant, bridge pontic, or ankylosed teeth",missing:"Missing or to be extracted",note:"A note about this tooth in the Treatment Plan field"},statusLabels:{movable:"Movable",unmovable:"Unmovable",missing:"Missing",note:"Note"}},cC={printButton:"Print",estimatedDurationLabel:"Estimated Duration (months)",actionButtons:"Action Buttons",addViewer:"Add Treatment Plan Viewer",addIPRChart:"Add IPR Chart",editIPRChart:"Edit IPR Chart",iprChart:"IPR Chart",available:"Available",viewChart:"View Chart",openViewer:"Open Case Viewer",copyLink:"Copy link",copied:"Copied!",declineCase:"Decline Case",sendForApproval:"Send for Doctor Approval",editPlan:"Edit plan details",printDialogTitle:"Print Treatment Plan",statusMessages:{editing:"Choose to decline the case or set plan details and send to the doctor for approval.",awaitingApproval:"Plan details are awaiting doctor approval.",approved:"Plan approved by doctor. Proceed with manufacturing.",rejected:"Case has been declined and is inactive.",inProduction:"Manufacturing in progress.",readyForDelivery:"Ready for delivery to the doctor.",delivered:"The aligners have been delivered to the doctor. The doctor can mark the case as completed when finished.",userRejected:"Case treatment plan has been declined by the doctor and is inactive."},print:{treatmentPlanDetails:"Treatment Plan Details",footer:"This document was generated on {{date}} | Lumina"}},dC={title:"Admin Notes",editNote:"Edit Note",addNote:"Add Note",additionalNotes:"Additional Notes",placeholder:"Enter any special instructions or comments for the doctor",helpText:"Add any additional information or notes about this case for the doctor.",saving:"Saving...",saveNote:"Save Note",noNotes:"No lab notes added yet.",toast:{saved:"Admin note saved",saveFailed:"Failed to save note"}},uC={title:"Internal Notes",editNote:"Edit Note",addNote:"Add Note",additionalNotes:"Additional Notes",placeholder:"Enter any special instructions, internal comments, etc...",helpText:"Add any additional information or internal notes about this case.",saving:"Saving...",saveNote:"Save Note",noNotes:"No lab notes added yet.",toast:{saved:"Internal note saved",saveFailed:"Failed to save note"}},fC={breadcrumbTitle:"Doctor Details",totalPatients:"Total Patients",activeCases:"Active Cases",paymentStatus:"Payment Status",paidAmount:"Paid Amount",remainingAmount:"Remaining",partialPayment:"{{percent}}% Paid"},hC={title:"Collect Payment",subtitle:"Enter payment details and select cases to allocate the payment.",doctorLabel:"Doctor",name:"Name",notes:"Notes",doctorPlaceholder:"Select a doctor...",paymentAmountLabel:"Payment Amount (USD)",paymentAmountPlaceholder:"0.00",totalPayment:"Total Payment:",paymentReceipt:"Payment Receipt",printInvoice:"Print Invoice",paymentInvoice:"Payment Invoice",paymentInvoiceDescription:"Your payment has been processed successfully. You can print this invoice for your records.",casesIncluded:"Cases Included",invoice:"Invoice",paymentSummary:"Payment Summary",notesLabel:"Notes (Optional)",notesPlaceholder:"Add any notes about this payment...",unpaidCasesTitle:"Unpaid Cases",selectedSummary:"{{selected}} of {{total}} selected",loadingCases:"Loading cases...",noUnpaidCases:"No unpaid cases found for this doctor.",statusLabel:"Status",createdLabel:"Created",remainingShort:"remaining",paidOfTotal:"{{paid}} paid of {{total}}",selectedCasesTotal:"Selected Cases Total:",paymentAmount:"Payment Amount:",remainingAmount:"Remaining Amount:",remainingSplitNote:"Remaining amount will be split among {{count}} unselected cases",cancel:"Cancel",processPayment:"Process Payment",processing:"Processing...",patient:"Patient"},mC={title:"Manufacturing Progress",buttons:{startProduction:"Start Production",markReady:"Mark Ready for Delivery",markDelivered:"Mark Delivered"},messages:{approved:"Treatment plan approved. Ready to begin production.",inProduction:"Aligners are currently being manufactured.",readyForDelivery:"Manufacturing complete. Aligners are ready to be shipped.",delivered:"The aligners have been delivered to the doctor. The doctor can mark the case as completed when finished.",completed:"Case completed successfully.",default:"Update the case status as you progress through manufacturing and delivery."}},pC={noCasesToShow:"No cases to show"},gC={upperJaw:"Upper Jaw (Maxilla)",lowerJaw:"Lower Jaw (Mandible)",description:"Interproximal reduction values in millimeters",legend:"Orange values indicate IPR (Interproximal Reduction) in millimeters",instructions:{title:"Instructions:",enterValues:"Enter mesial (M) and distal (D) IPR values in millimeters for each tooth",enterMillimeters:"Enter values in millimeters (e.g., 0.2, 0.5)",leaveEmpty:"Leave fields empty for surfaces with no IPR",combineValues:"The viewer will combine adjacent values (e.g., mesial of #8 + mesial of #9)",clickSave:"Click Save to store the IPR chart with the treatment plan"},saveButton:"Save IPR Chart"},xC={title:"Treatment Plan Images",subtitle:"Upload sequence images and before/after comparisons for this case.",tabs:{sequence:"Sequence Images",beforeAfter:"Before & After"},alerts:{sequence:{title:"Upload Sequence Images",description:"Upload multiple images for each view showing the treatment progression. Images will be numbered automatically as Step 1, Step 2, etc."},beforeAfter:{title:"Upload Before & After",description:"Upload a single combined image showing both before and after for each view."}},views:{front:"Front View",left:"Left View",right:"Right View",upper:"Upper Occlusal",lower:"Lower Occlusal"},labels:{existing:"Existing Steps",newUploads:"Pending Uploads",step:"Step",imageExists:"Image exists",currentImage:"Current Image",noImages:"No images uploaded yet"},buttons:{addImages:"Add Images",upload:"Upload Images",uploading:"Uploading...",replace:"Replace Image",select:"Select Image"},toast:{deleted:"Image deleted successfully",deleteFailed:"Failed to delete image",uploaded:"Images uploaded successfully",uploadFailed:"Failed to upload images"}},bC={welcomeBack:"Welcome back",subtitle:"Sign in to view and submit your Lumina cases",enterCredentials:"Enter your credentials to access your account",emailPlaceholder:"Enter your email",passwordPlaceholder:"Enter your password",signingIn:"Signing in...",requestAccess:"Request Account",forgotPasswordText:"Forgot your password?",resetPassword:"Reset Password",errors:{emptyFields:"Please enter both email and password",submitFailed:"Failed to submit request"},signUpDialog:{title:"Request Account Access",fullName:"Full Name",fullNamePlaceholder:"Dr. John Doe",email:"Email Address",emailPlaceholder:"john.doe@example.com",clinicName:"Clinic Name",clinicNamePlaceholder:"City Medical Center",phoneNumber:"Phone Number",phoneNumberPlaceholder:"+1 (555) 123-4567",clinicAddress:"Clinic Address",clinicAddressPlaceholder:"123 Main Street, Suite 100, City, State 12345",languagePreference:"Preferred Language",languageHelp:"Choose your preferred language for the application interface",submitting:"Submitting...",submitButton:"Submit Request",successTitle:"Request submitted successfully!",successMessage:"An administrator will review your request and create your account soon.",errors:{requiredFields:"Please fill in all required fields"}}},vC={title:"Reset your password",subtitle:"Enter your email address and we'll send you instructions to reset your password.",emailLabel:"Email address",emailPlaceholder:"you@example.com",sending:"Sending instructions...",sendButton:"Send reset instructions",backToSignIn:"Back to sign in",errors:{emailRequired:"Please enter your email address"},success:{instructionsSent:"Password reset instructions have been sent to your email"}},yC={title:"Sign Up Requests",subtitle:"Review and approve new user registrations",name:"Name",email:"Email",clinic:"Clinic",phone:"Phone",status:"Status",date:"Date",noRequests:"No sign-up requests found",reviewRequest:"Review Sign-Up Request",fullName:"Full Name",clinicName:"Clinic Name",phoneNumber:"Phone Number",clinicAddress:"Clinic Address",prefferedLanguage:"Preffered Language",prefferedLanguageSubtext:"Choose the preferred language for the application interface",setPassword:"Set Password",passwordRequired:"Password must be at least 6 characters",passwordPlaceholder:"Enter password for user",passwordHint:"Minimum 6 characters. Make sure to save this password.",approveAndCreate:"Approve & Create Account",creatingAccount:"Creating Account...",createUser:"Create User",userCreatedSuccess:"User account created successfully!",password:"Password",confirmReject:"Are you sure you want to reject this request?",statusPending:"Pending",statusApproved:"Approved",statusRejected:"Rejected"},wC={caseDeclined:"Case Declined",doctorDeclineReason:"Doctor Decline Reason",adminDeclineReason:"Admin Decline Reason",approvePlan:"Approve Plan",toast:{caseDeleted:"Case deleted successfully",deleteFailed:"Failed to delete case",iprSaved:"IPR data saved successfully",iprFailed:"Failed to save IPR data"}},jC={title:"Record Expense",subtitle:"Enter expense details for business costs and payments made.",expenseAmount:"Expense Amount *",description:"Description/Notes *",descriptionPlaceholder:"Describe the expense (e.g., Munqeth Wahood Lab Fees, office supplies, equipment)...",recordExpense:"Record Expense",recording:"Recording...",errors:{recordFailed:"Failed to record expense",validExpense:"Please enter a valid expense amount"},success:{expenseRecorded:"Expense recorded successfully!"}},SC={title:"Case Viewer",loadingViewer:"Loading case viewer...",caseNotFound:"Case not found",patientName:"Patient Name",caseNumber:"Case Number",sequenceAnimation:"Sequence Animation",beforeAfter:"Before & After",preloadingImages:"Preloading images...",step:"Step",of:"of",noSequenceImages:"No sequence images available for this view",noBeforeAfterImage:"No before/after image available for this view",jumpToStart:"Jump to Start",previousStep:"Previous Step",nextStep:"Next Step",jumpToEnd:"Jump to End",upperAligners:"Upper Aligners",lowerAligners:"Lower Aligners",disclaimer:{title:"Important Notice",points:["There may be differences between the computer-generated prediction and the actual clinical outcome","The number of aligners may increase depending on the case requirements","The treating doctor is solely responsible for the treatment plan"]}},tF={common:q_,navigation:H_,dashboard:V_,cases:G_,billing:Y_,billingTable:K_,caseSubmit:W_,adminCaseSubmit:J_,caseStatus:Z_,billingStats:X_,casePage:Q_,settings:eC,auth:tC,profile:nC,transactions:aC,doctorTransactions:rC,doctorBillingStats:sC,caseStatusBadge:iC,signUpRequestPage:lC,dentalChart:oC,adminTreatmentPlan:cC,adminNotes:dC,internalNotes:uC,adminDoctorDetails:fC,paymentCollectionDialog:hC,manufacturingProgress:mC,casesPage:pC,iprChart:gC,treatmentPlanImages:xC,login:bC,resetPassword:vC,signUpRequests:yC,adminCasePage:wC,expenseDialog:jC,viewer:SC},nF=Object.freeze(Object.defineProperty({__proto__:null,adminCasePage:wC,adminCaseSubmit:J_,adminDoctorDetails:fC,adminNotes:dC,adminTreatmentPlan:cC,auth:tC,billing:Y_,billingStats:X_,billingTable:K_,casePage:Q_,caseStatus:Z_,caseStatusBadge:iC,caseSubmit:W_,cases:G_,casesPage:pC,common:q_,dashboard:V_,default:tF,dentalChart:oC,doctorBillingStats:sC,doctorTransactions:rC,expenseDialog:jC,internalNotes:uC,iprChart:gC,login:bC,manufacturingProgress:mC,navigation:H_,paymentCollectionDialog:hC,profile:nC,resetPassword:vC,settings:eC,signUpRequestPage:lC,signUpRequests:yC,transactions:aC,treatmentPlanImages:xC,viewer:SC},Symbol.toStringTag,{value:"Module"})),{slice:aF,forEach:rF}=[];function sF(e){return rF.call(aF.call(arguments,1),t=>{if(t)for(const n in t)e[n]===void 0&&(e[n]=t[n])}),e}function iF(e){return typeof e!="string"?!1:[/<\s*script.*?>/i,/<\s*\/\s*script\s*>/i,/<\s*img.*?on\w+\s*=/i,/<\s*\w+\s*on\w+\s*=.*?>/i,/javascript\s*:/i,/vbscript\s*:/i,/expression\s*\(/i,/eval\s*\(/i,/alert\s*\(/i,/document\.cookie/i,/document\.write\s*\(/i,/window\.location/i,/innerHTML/i].some(n=>n.test(e))}const X1=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/,lF=function(e,t){const s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{path:"/"},l=encodeURIComponent(t);let o=`${e}=${l}`;if(s.maxAge>0){const d=s.maxAge-0;if(Number.isNaN(d))throw new Error("maxAge should be a Number");o+=`; Max-Age=${Math.floor(d)}`}if(s.domain){if(!X1.test(s.domain))throw new TypeError("option domain is invalid");o+=`; Domain=${s.domain}`}if(s.path){if(!X1.test(s.path))throw new TypeError("option path is invalid");o+=`; Path=${s.path}`}if(s.expires){if(typeof s.expires.toUTCString!="function")throw new TypeError("option expires is invalid");o+=`; Expires=${s.expires.toUTCString()}`}if(s.httpOnly&&(o+="; HttpOnly"),s.secure&&(o+="; Secure"),s.sameSite)switch(typeof s.sameSite=="string"?s.sameSite.toLowerCase():s.sameSite){case!0:o+="; SameSite=Strict";break;case"lax":o+="; SameSite=Lax";break;case"strict":o+="; SameSite=Strict";break;case"none":o+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}return s.partitioned&&(o+="; Partitioned"),o},Q1={create(e,t,n,s){let l=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{path:"/",sameSite:"strict"};n&&(l.expires=new Date,l.expires.setTime(l.expires.getTime()+n*60*1e3)),s&&(l.domain=s),document.cookie=lF(e,t,l)},read(e){const t=`${e}=`,n=document.cookie.split(";");for(let s=0;s<n.length;s++){let l=n[s];for(;l.charAt(0)===" ";)l=l.substring(1,l.length);if(l.indexOf(t)===0)return l.substring(t.length,l.length)}return null},remove(e,t){this.create(e,"",-1,t)}};var oF={name:"cookie",lookup(e){let{lookupCookie:t}=e;if(t&&typeof document<"u")return Q1.read(t)||void 0},cacheUserLanguage(e,t){let{lookupCookie:n,cookieMinutes:s,cookieDomain:l,cookieOptions:o}=t;n&&typeof document<"u"&&Q1.create(n,e,s,l,o)}},cF={name:"querystring",lookup(e){let{lookupQuerystring:t}=e,n;if(typeof window<"u"){let{search:s}=window.location;!window.location.search&&window.location.hash?.indexOf("?")>-1&&(s=window.location.hash.substring(window.location.hash.indexOf("?")));const o=s.substring(1).split("&");for(let d=0;d<o.length;d++){const f=o[d].indexOf("=");f>0&&o[d].substring(0,f)===t&&(n=o[d].substring(f+1))}}return n}},dF={name:"hash",lookup(e){let{lookupHash:t,lookupFromHashIndex:n}=e,s;if(typeof window<"u"){const{hash:l}=window.location;if(l&&l.length>2){const o=l.substring(1);if(t){const d=o.split("&");for(let f=0;f<d.length;f++){const m=d[f].indexOf("=");m>0&&d[f].substring(0,m)===t&&(s=d[f].substring(m+1))}}if(s)return s;if(!s&&n>-1){const d=l.match(/\/([a-zA-Z-]*)/g);return Array.isArray(d)?d[typeof n=="number"?n:0]?.replace("/",""):void 0}}}return s}};let hl=null;const e2=()=>{if(hl!==null)return hl;try{if(hl=typeof window<"u"&&window.localStorage!==null,!hl)return!1;const e="i18next.translate.boo";window.localStorage.setItem(e,"foo"),window.localStorage.removeItem(e)}catch{hl=!1}return hl};var uF={name:"localStorage",lookup(e){let{lookupLocalStorage:t}=e;if(t&&e2())return window.localStorage.getItem(t)||void 0},cacheUserLanguage(e,t){let{lookupLocalStorage:n}=t;n&&e2()&&window.localStorage.setItem(n,e)}};let ml=null;const t2=()=>{if(ml!==null)return ml;try{if(ml=typeof window<"u"&&window.sessionStorage!==null,!ml)return!1;const e="i18next.translate.boo";window.sessionStorage.setItem(e,"foo"),window.sessionStorage.removeItem(e)}catch{ml=!1}return ml};var fF={name:"sessionStorage",lookup(e){let{lookupSessionStorage:t}=e;if(t&&t2())return window.sessionStorage.getItem(t)||void 0},cacheUserLanguage(e,t){let{lookupSessionStorage:n}=t;n&&t2()&&window.sessionStorage.setItem(n,e)}},hF={name:"navigator",lookup(e){const t=[];if(typeof navigator<"u"){const{languages:n,userLanguage:s,language:l}=navigator;if(n)for(let o=0;o<n.length;o++)t.push(n[o]);s&&t.push(s),l&&t.push(l)}return t.length>0?t:void 0}},mF={name:"htmlTag",lookup(e){let{htmlTag:t}=e,n;const s=t||(typeof document<"u"?document.documentElement:null);return s&&typeof s.getAttribute=="function"&&(n=s.getAttribute("lang")),n}},pF={name:"path",lookup(e){let{lookupFromPathIndex:t}=e;if(typeof window>"u")return;const n=window.location.pathname.match(/\/([a-zA-Z-]*)/g);return Array.isArray(n)?n[typeof t=="number"?t:0]?.replace("/",""):void 0}},gF={name:"subdomain",lookup(e){let{lookupFromSubdomainIndex:t}=e;const n=typeof t=="number"?t+1:1,s=typeof window<"u"&&window.location?.hostname?.match(/^(\w{2,5})\.(([a-z0-9-]{1,63}\.[a-z]{2,6})|localhost)/i);if(s)return s[n]}};let NC=!1;try{document.cookie,NC=!0}catch{}const _C=["querystring","cookie","localStorage","sessionStorage","navigator","htmlTag"];NC||_C.splice(1,1);const xF=()=>({order:_C,lookupQuerystring:"lng",lookupCookie:"i18next",lookupLocalStorage:"i18nextLng",lookupSessionStorage:"i18nextLng",caches:["localStorage"],excludeCacheFor:["cimode"],convertDetectedLanguage:e=>e});class CC{constructor(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.type="languageDetector",this.detectors={},this.init(t,n)}init(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{languageUtils:{}},n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.services=t,this.options=sF(n,this.options||{},xF()),typeof this.options.convertDetectedLanguage=="string"&&this.options.convertDetectedLanguage.indexOf("15897")>-1&&(this.options.convertDetectedLanguage=l=>l.replace("-","_")),this.options.lookupFromUrlIndex&&(this.options.lookupFromPathIndex=this.options.lookupFromUrlIndex),this.i18nOptions=s,this.addDetector(oF),this.addDetector(cF),this.addDetector(uF),this.addDetector(fF),this.addDetector(hF),this.addDetector(mF),this.addDetector(pF),this.addDetector(gF),this.addDetector(dF)}addDetector(t){return this.detectors[t.name]=t,this}detect(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.options.order,n=[];return t.forEach(s=>{if(this.detectors[s]){let l=this.detectors[s].lookup(this.options);l&&typeof l=="string"&&(l=[l]),l&&(n=n.concat(l))}}),n=n.filter(s=>s!=null&&!iF(s)).map(s=>this.options.convertDetectedLanguage(s)),this.services&&this.services.languageUtils&&this.services.languageUtils.getBestMatchFromCodes?n:n.length>0?n[0]:null}cacheUserLanguage(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.options.caches;n&&(this.options.excludeCacheFor&&this.options.excludeCacheFor.indexOf(t)>-1||n.forEach(s=>{this.detectors[s]&&this.detectors[s].cacheUserLanguage(t,this.options)}))}}CC.type="languageDetector";const Dp=Object.assign({"./locales/ar.json":eF,"./locales/en.json":nF}),EC={};for(const e in Dp){const t=e.match(/\.\/locales\/(.+)\.json$/)[1];EC[t]={translation:Dp[e].default||Dp[e]}}const Nx=localStorage.getItem("language")||"en";document.dir=Nx==="ar"?"rtl":"ltr";document.documentElement.lang=Nx;Tn.use(CC).use(P7).init({resources:EC,fallbackLng:"en",lng:Nx,detection:{order:["localStorage","navigator"],caches:["localStorage"]},interpolation:{escapeValue:!1},react:{useSuspense:!1}});Tn.on("languageChanged",e=>{document.dir=e==="ar"?"rtl":"ltr",document.documentElement.lang=e,localStorage.setItem("language",e)});qE.createRoot(document.getElementById("root")).render(r.jsx(h.StrictMode,{children:r.jsx(X$,{})}));
